var Zw=t=>{throw TypeError(t)};var kp=(t,e,n)=>e.has(t)||Zw("Cannot "+n);var K=(t,e,n)=>(kp(t,e,"read from private field"),n?n.call(t):e.get(t)),je=(t,e,n)=>e.has(t)?Zw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ee=(t,e,n,r)=>(kp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Mt=(t,e,n)=>(kp(t,e,"access private method"),n);var Mu=(t,e,n,r)=>({set _(s){Ee(t,e,s,n)},get _(){return K(t,e,r)}});function E2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function aE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lE={exports:{}},tf={},cE={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kc=Symbol.for("react.element"),S2=Symbol.for("react.portal"),T2=Symbol.for("react.fragment"),C2=Symbol.for("react.strict_mode"),I2=Symbol.for("react.profiler"),N2=Symbol.for("react.provider"),A2=Symbol.for("react.context"),k2=Symbol.for("react.forward_ref"),R2=Symbol.for("react.suspense"),P2=Symbol.for("react.memo"),D2=Symbol.for("react.lazy"),ex=Symbol.iterator;function j2(t){return t===null||typeof t!="object"?null:(t=ex&&t[ex]||t["@@iterator"],typeof t=="function"?t:null)}var uE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dE=Object.assign,hE={};function Xa(t,e,n){this.props=t,this.context=e,this.refs=hE,this.updater=n||uE}Xa.prototype.isReactComponent={};Xa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fE(){}fE.prototype=Xa.prototype;function Cy(t,e,n){this.props=t,this.context=e,this.refs=hE,this.updater=n||uE}var Iy=Cy.prototype=new fE;Iy.constructor=Cy;dE(Iy,Xa.prototype);Iy.isPureReactComponent=!0;var tx=Array.isArray,pE=Object.prototype.hasOwnProperty,Ny={current:null},mE={key:!0,ref:!0,__self:!0,__source:!0};function gE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)pE.call(e,r)&&!mE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Kc,type:t,key:i,ref:o,props:s,_owner:Ny.current}}function O2(t,e){return{$$typeof:Kc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ay(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kc}function M2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nx=/\/+/g;function Rp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?M2(""+t.key):e.toString(36)}function wd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kc:case S2:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Rp(o,0):r,tx(s)?(n="",t!=null&&(n=t.replace(nx,"$&/")+"/"),wd(s,e,n,"",function(u){return u})):s!=null&&(Ay(s)&&(s=O2(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(nx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",tx(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Rp(i,a);o+=wd(i,e,n,l,s)}else if(l=j2(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Rp(i,a++),o+=wd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Lu(t,e,n){if(t==null)return t;var r=[],s=0;return wd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function L2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},xd={transition:null},V2={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:xd,ReactCurrentOwner:Ny};function yE(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Lu,forEach:function(t,e,n){Lu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lu(t,function(){e++}),e},toArray:function(t){return Lu(t,function(e){return e})||[]},only:function(t){if(!Ay(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Xa;Te.Fragment=T2;Te.Profiler=I2;Te.PureComponent=Cy;Te.StrictMode=C2;Te.Suspense=R2;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V2;Te.act=yE;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ny.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)pE.call(e,l)&&!mE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Kc,type:t.type,key:s,ref:i,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:A2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:N2,_context:t},t.Consumer=t};Te.createElement=gE;Te.createFactory=function(t){var e=gE.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:k2,render:t}};Te.isValidElement=Ay;Te.lazy=function(t){return{$$typeof:D2,_payload:{_status:-1,_result:t},_init:L2}};Te.memo=function(t,e){return{$$typeof:P2,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=xd.transition;xd.transition={};try{t()}finally{xd.transition=e}};Te.unstable_act=yE;Te.useCallback=function(t,e){return tn.current.useCallback(t,e)};Te.useContext=function(t){return tn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return tn.current.useEffect(t,e)};Te.useId=function(){return tn.current.useId()};Te.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return tn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};Te.useRef=function(t){return tn.current.useRef(t)};Te.useState=function(t){return tn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return tn.current.useTransition()};Te.version="18.3.1";cE.exports=Te;var p=cE.exports;const Se=aE(p),vE=E2({__proto__:null,default:Se},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2=p,U2=Symbol.for("react.element"),z2=Symbol.for("react.fragment"),$2=Object.prototype.hasOwnProperty,B2=F2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H2={key:!0,ref:!0,__self:!0,__source:!0};function wE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$2.call(e,r)&&!H2.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:U2,type:t,key:i,ref:o,props:s,_owner:B2.current}}tf.Fragment=z2;tf.jsx=wE;tf.jsxs=wE;lE.exports=tf;var c=lE.exports,xE={exports:{}},Rn={},_E={exports:{}},bE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,M){var $=L.length;L.push(M);e:for(;0<$;){var B=$-1>>>1,Q=L[B];if(0<s(Q,M))L[B]=M,L[$]=Q,$=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var M=L[0],$=L.pop();if($!==M){L[0]=$;e:for(var B=0,Q=L.length,X=Q>>>1;B<X;){var Z=2*(B+1)-1,de=L[Z],se=Z+1,W=L[se];if(0>s(de,$))se<Q&&0>s(W,de)?(L[B]=W,L[se]=$,B=se):(L[B]=de,L[Z]=$,B=Z);else if(se<Q&&0>s(W,$))L[B]=W,L[se]=$,B=se;else break e}}return M}function s(L,M){var $=L.sortIndex-M.sortIndex;return $!==0?$:L.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,m=3,v=!1,x=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=L)r(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function k(L){if(y=!1,S(L),!x)if(n(l)!==null)x=!0,U(D);else{var M=n(u);M!==null&&q(k,M.startTime-L)}}function D(L,M){x=!1,y&&(y=!1,b(C),C=-1),v=!0;var $=m;try{for(S(M),f=n(l);f!==null&&(!(f.expirationTime>M)||L&&!R());){var B=f.callback;if(typeof B=="function"){f.callback=null,m=f.priorityLevel;var Q=B(f.expirationTime<=M);M=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(l)&&r(l),S(M)}else r(l);f=n(l)}if(f!==null)var X=!0;else{var Z=n(u);Z!==null&&q(k,Z.startTime-M),X=!1}return X}finally{f=null,m=$,v=!1}}var O=!1,T=null,C=-1,I=5,A=-1;function R(){return!(t.unstable_now()-A<I)}function j(){if(T!==null){var L=t.unstable_now();A=L;var M=!0;try{M=T(!0,L)}finally{M?P():(O=!1,T=null)}}else O=!1}var P;if(typeof w=="function")P=function(){w(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,re=z.port2;z.port1.onmessage=j,P=function(){re.postMessage(null)}}else P=function(){_(j,0)};function U(L){T=L,O||(O=!0,P())}function q(L,M){C=_(function(){L(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,U(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var $=m;m=M;try{return L()}finally{m=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,M){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=m;m=L;try{return M()}finally{m=$}},t.unstable_scheduleCallback=function(L,M,$){var B=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?B+$:B):$=B,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=$+Q,L={id:h++,callback:M,priorityLevel:L,startTime:$,expirationTime:Q,sortIndex:-1},$>B?(L.sortIndex=$,e(u,L),n(l)===null&&L===n(u)&&(y?(b(C),C=-1):y=!0,q(k,$-B))):(L.sortIndex=Q,e(l,L),x||v||(x=!0,U(D))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var M=m;return function(){var $=m;m=M;try{return L.apply(this,arguments)}finally{m=$}}}})(bE);_E.exports=bE;var W2=_E.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q2=p,kn=W2;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EE=new Set,hc={};function _o(t,e){Ia(t,e),Ia(t+"Capture",e)}function Ia(t,e){for(hc[t]=e,t=0;t<e.length;t++)EE.add(e[t])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vm=Object.prototype.hasOwnProperty,G2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rx={},sx={};function K2(t){return Vm.call(sx,t)?!0:Vm.call(rx,t)?!1:G2.test(t)?sx[t]=!0:(rx[t]=!0,!1)}function Q2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function X2(t,e,n,r){if(e===null||typeof e>"u"||Q2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ky=/[\-:]([a-z])/g;function Ry(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ky,Ry);Dt[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ky,Ry);Dt[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ky,Ry);Dt[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Py(t,e,n,r){var s=Dt.hasOwnProperty(e)?Dt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(X2(e,n,s,r)&&(n=null),r||s===null?K2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ys=q2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vu=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),Dy=Symbol.for("react.strict_mode"),Fm=Symbol.for("react.profiler"),SE=Symbol.for("react.provider"),TE=Symbol.for("react.context"),jy=Symbol.for("react.forward_ref"),Um=Symbol.for("react.suspense"),zm=Symbol.for("react.suspense_list"),Oy=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),CE=Symbol.for("react.offscreen"),ix=Symbol.iterator;function Nl(t){return t===null||typeof t!="object"?null:(t=ix&&t[ix]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,Pp;function Vl(t){if(Pp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pp=e&&e[1]||""}return`
`+Pp+t}var Dp=!1;function jp(t,e){if(!t||Dp)return"";Dp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Dp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vl(t):""}function Y2(t){switch(t.tag){case 5:return Vl(t.type);case 16:return Vl("Lazy");case 13:return Vl("Suspense");case 19:return Vl("SuspenseList");case 0:case 2:case 15:return t=jp(t.type,!1),t;case 11:return t=jp(t.type.render,!1),t;case 1:return t=jp(t.type,!0),t;default:return""}}function $m(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ho:return"Fragment";case Bo:return"Portal";case Fm:return"Profiler";case Dy:return"StrictMode";case Um:return"Suspense";case zm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case TE:return(t.displayName||"Context")+".Consumer";case SE:return(t._context.displayName||"Context")+".Provider";case jy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Oy:return e=t.displayName||null,e!==null?e:$m(t.type)||"Memo";case js:e=t._payload,t=t._init;try{return $m(t(e))}catch{}}return null}function J2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $m(e);case 8:return e===Dy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function IE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Z2(t){var e=IE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fu(t){t._valueTracker||(t._valueTracker=Z2(t))}function NE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=IE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bm(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ox(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function AE(t,e){e=e.checked,e!=null&&Py(t,"checked",e,!1)}function Hm(t,e){AE(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wm(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ax(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wm(t,e,n){(e!=="number"||qd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fl=Array.isArray;function ra(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Fl(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function kE(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uu,PE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uu=Uu||document.createElement("div"),Uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ql={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eD=["Webkit","ms","Moz","O"];Object.keys(ql).forEach(function(t){eD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ql[e]=ql[t]})});function DE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ql.hasOwnProperty(t)&&ql[t]?(""+e).trim():e+"px"}function jE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=DE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var tD=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Km(t,e){if(e){if(tD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Qm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xm=null;function My(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ym=null,sa=null,ia=null;function ux(t){if(t=Yc(t)){if(typeof Ym!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=af(e),Ym(t.stateNode,t.type,e))}}function OE(t){sa?ia?ia.push(t):ia=[t]:sa=t}function ME(){if(sa){var t=sa,e=ia;if(ia=sa=null,ux(t),e)for(t=0;t<e.length;t++)ux(e[t])}}function LE(t,e){return t(e)}function VE(){}var Op=!1;function FE(t,e,n){if(Op)return t(e,n);Op=!0;try{return LE(t,e,n)}finally{Op=!1,(sa!==null||ia!==null)&&(VE(),ME())}}function pc(t,e){var n=t.stateNode;if(n===null)return null;var r=af(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var Jm=!1;if(os)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){Jm=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{Jm=!1}function nD(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Gl=!1,Gd=null,Kd=!1,Zm=null,rD={onError:function(t){Gl=!0,Gd=t}};function sD(t,e,n,r,s,i,o,a,l){Gl=!1,Gd=null,nD.apply(rD,arguments)}function iD(t,e,n,r,s,i,o,a,l){if(sD.apply(this,arguments),Gl){if(Gl){var u=Gd;Gl=!1,Gd=null}else throw Error(Y(198));Kd||(Kd=!0,Zm=u)}}function bo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dx(t){if(bo(t)!==t)throw Error(Y(188))}function oD(t){var e=t.alternate;if(!e){if(e=bo(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return dx(s),t;if(i===r)return dx(s),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function zE(t){return t=oD(t),t!==null?$E(t):null}function $E(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$E(t);if(e!==null)return e;t=t.sibling}return null}var BE=kn.unstable_scheduleCallback,hx=kn.unstable_cancelCallback,aD=kn.unstable_shouldYield,lD=kn.unstable_requestPaint,ot=kn.unstable_now,cD=kn.unstable_getCurrentPriorityLevel,Ly=kn.unstable_ImmediatePriority,HE=kn.unstable_UserBlockingPriority,Qd=kn.unstable_NormalPriority,uD=kn.unstable_LowPriority,WE=kn.unstable_IdlePriority,nf=null,Pr=null;function dD(t){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(nf,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:pD,hD=Math.log,fD=Math.LN2;function pD(t){return t>>>=0,t===0?32:31-(hD(t)/fD|0)|0}var zu=64,$u=4194304;function Ul(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ul(a):(i&=o,i!==0&&(r=Ul(i)))}else o=n&~s,o!==0?r=Ul(o):i!==0&&(r=Ul(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-or(e),s=1<<n,r|=t[n],e&=~s;return r}function mD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-or(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=mD(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function eg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qE(){var t=zu;return zu<<=1,!(zu&4194240)&&(zu=64),t}function Mp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=n}function yD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-or(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Vy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-or(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function GE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KE,Fy,QE,XE,YE,tg=!1,Bu=[],Xs=null,Ys=null,Js=null,mc=new Map,gc=new Map,Ls=[],vD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fx(t,e){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":mc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(e.pointerId)}}function kl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Yc(e),e!==null&&Fy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function wD(t,e,n,r,s){switch(e){case"focusin":return Xs=kl(Xs,t,e,n,r,s),!0;case"dragenter":return Ys=kl(Ys,t,e,n,r,s),!0;case"mouseover":return Js=kl(Js,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return mc.set(i,kl(mc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gc.set(i,kl(gc.get(i)||null,t,e,n,r,s)),!0}return!1}function JE(t){var e=$i(t.target);if(e!==null){var n=bo(e);if(n!==null){if(e=n.tag,e===13){if(e=UE(n),e!==null){t.blockedOn=e,YE(t.priority,function(){QE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _d(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ng(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xm=r,n.target.dispatchEvent(r),Xm=null}else return e=Yc(n),e!==null&&Fy(e),t.blockedOn=n,!1;e.shift()}return!0}function px(t,e,n){_d(t)&&n.delete(e)}function xD(){tg=!1,Xs!==null&&_d(Xs)&&(Xs=null),Ys!==null&&_d(Ys)&&(Ys=null),Js!==null&&_d(Js)&&(Js=null),mc.forEach(px),gc.forEach(px)}function Rl(t,e){t.blockedOn===e&&(t.blockedOn=null,tg||(tg=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,xD)))}function yc(t){function e(s){return Rl(s,t)}if(0<Bu.length){Rl(Bu[0],t);for(var n=1;n<Bu.length;n++){var r=Bu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xs!==null&&Rl(Xs,t),Ys!==null&&Rl(Ys,t),Js!==null&&Rl(Js,t),mc.forEach(e),gc.forEach(e),n=0;n<Ls.length;n++)r=Ls[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ls.length&&(n=Ls[0],n.blockedOn===null);)JE(n),n.blockedOn===null&&Ls.shift()}var oa=ys.ReactCurrentBatchConfig,Yd=!0;function _D(t,e,n,r){var s=Me,i=oa.transition;oa.transition=null;try{Me=1,Uy(t,e,n,r)}finally{Me=s,oa.transition=i}}function bD(t,e,n,r){var s=Me,i=oa.transition;oa.transition=null;try{Me=4,Uy(t,e,n,r)}finally{Me=s,oa.transition=i}}function Uy(t,e,n,r){if(Yd){var s=ng(t,e,n,r);if(s===null)qp(t,e,r,Jd,n),fx(t,r);else if(wD(s,t,e,n,r))r.stopPropagation();else if(fx(t,r),e&4&&-1<vD.indexOf(t)){for(;s!==null;){var i=Yc(s);if(i!==null&&KE(i),i=ng(t,e,n,r),i===null&&qp(t,e,r,Jd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else qp(t,e,r,null,n)}}var Jd=null;function ng(t,e,n,r){if(Jd=null,t=My(r),t=$i(t),t!==null)if(e=bo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jd=t,null}function ZE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cD()){case Ly:return 1;case HE:return 4;case Qd:case uD:return 16;case WE:return 536870912;default:return 16}default:return 16}}var Gs=null,zy=null,bd=null;function eS(){if(bd)return bd;var t,e=zy,n=e.length,r,s="value"in Gs?Gs.value:Gs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return bd=s.slice(t,1<r?1-r:void 0)}function Ed(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hu(){return!0}function mx(){return!1}function Pn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hu:mx,this.isPropagationStopped=mx,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hu)},persist:function(){},isPersistent:Hu}),e}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$y=Pn(Ya),Xc=Je({},Ya,{view:0,detail:0}),ED=Pn(Xc),Lp,Vp,Pl,rf=Je({},Xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:By,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pl&&(Pl&&t.type==="mousemove"?(Lp=t.screenX-Pl.screenX,Vp=t.screenY-Pl.screenY):Vp=Lp=0,Pl=t),Lp)},movementY:function(t){return"movementY"in t?t.movementY:Vp}}),gx=Pn(rf),SD=Je({},rf,{dataTransfer:0}),TD=Pn(SD),CD=Je({},Xc,{relatedTarget:0}),Fp=Pn(CD),ID=Je({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),ND=Pn(ID),AD=Je({},Ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kD=Pn(AD),RD=Je({},Ya,{data:0}),yx=Pn(RD),PD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jD[t])?!!e[t]:!1}function By(){return OD}var MD=Je({},Xc,{key:function(t){if(t.key){var e=PD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ed(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:By,charCode:function(t){return t.type==="keypress"?Ed(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ed(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LD=Pn(MD),VD=Je({},rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vx=Pn(VD),FD=Je({},Xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:By}),UD=Pn(FD),zD=Je({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),$D=Pn(zD),BD=Je({},rf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HD=Pn(BD),WD=[9,13,27,32],Hy=os&&"CompositionEvent"in window,Kl=null;os&&"documentMode"in document&&(Kl=document.documentMode);var qD=os&&"TextEvent"in window&&!Kl,tS=os&&(!Hy||Kl&&8<Kl&&11>=Kl),wx=" ",xx=!1;function nS(t,e){switch(t){case"keyup":return WD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wo=!1;function GD(t,e){switch(t){case"compositionend":return rS(e);case"keypress":return e.which!==32?null:(xx=!0,wx);case"textInput":return t=e.data,t===wx&&xx?null:t;default:return null}}function KD(t,e){if(Wo)return t==="compositionend"||!Hy&&nS(t,e)?(t=eS(),bd=zy=Gs=null,Wo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tS&&e.locale!=="ko"?null:e.data;default:return null}}var QD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _x(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QD[t.type]:e==="textarea"}function sS(t,e,n,r){OE(r),e=Zd(e,"onChange"),0<e.length&&(n=new $y("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ql=null,vc=null;function XD(t){mS(t,0)}function sf(t){var e=Ko(t);if(NE(e))return t}function YD(t,e){if(t==="change")return e}var iS=!1;if(os){var Up;if(os){var zp="oninput"in document;if(!zp){var bx=document.createElement("div");bx.setAttribute("oninput","return;"),zp=typeof bx.oninput=="function"}Up=zp}else Up=!1;iS=Up&&(!document.documentMode||9<document.documentMode)}function Ex(){Ql&&(Ql.detachEvent("onpropertychange",oS),vc=Ql=null)}function oS(t){if(t.propertyName==="value"&&sf(vc)){var e=[];sS(e,vc,t,My(t)),FE(XD,e)}}function JD(t,e,n){t==="focusin"?(Ex(),Ql=e,vc=n,Ql.attachEvent("onpropertychange",oS)):t==="focusout"&&Ex()}function ZD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sf(vc)}function ej(t,e){if(t==="click")return sf(e)}function tj(t,e){if(t==="input"||t==="change")return sf(e)}function nj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:nj;function wc(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vm.call(e,s)||!dr(t[s],e[s]))return!1}return!0}function Sx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tx(t,e){var n=Sx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sx(n)}}function aS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lS(){for(var t=window,e=qd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qd(t.document)}return e}function Wy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rj(t){var e=lS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aS(n.ownerDocument.documentElement,n)){if(r!==null&&Wy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Tx(n,i);var o=Tx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sj=os&&"documentMode"in document&&11>=document.documentMode,qo=null,rg=null,Xl=null,sg=!1;function Cx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sg||qo==null||qo!==qd(r)||(r=qo,"selectionStart"in r&&Wy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xl&&wc(Xl,r)||(Xl=r,r=Zd(rg,"onSelect"),0<r.length&&(e=new $y("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qo)))}function Wu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Go={animationend:Wu("Animation","AnimationEnd"),animationiteration:Wu("Animation","AnimationIteration"),animationstart:Wu("Animation","AnimationStart"),transitionend:Wu("Transition","TransitionEnd")},$p={},cS={};os&&(cS=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function of(t){if($p[t])return $p[t];if(!Go[t])return t;var e=Go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cS)return $p[t]=e[n];return t}var uS=of("animationend"),dS=of("animationiteration"),hS=of("animationstart"),fS=of("transitionend"),pS=new Map,Ix="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(t,e){pS.set(t,e),_o(e,[t])}for(var Bp=0;Bp<Ix.length;Bp++){var Hp=Ix[Bp],ij=Hp.toLowerCase(),oj=Hp[0].toUpperCase()+Hp.slice(1);Ei(ij,"on"+oj)}Ei(uS,"onAnimationEnd");Ei(dS,"onAnimationIteration");Ei(hS,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(fS,"onTransitionEnd");Ia("onMouseEnter",["mouseout","mouseover"]);Ia("onMouseLeave",["mouseout","mouseover"]);Ia("onPointerEnter",["pointerout","pointerover"]);Ia("onPointerLeave",["pointerout","pointerover"]);_o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_o("onBeforeInput",["compositionend","keypress","textInput","paste"]);_o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aj=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function Nx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,iD(r,e,void 0,t),t.currentTarget=null}function mS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Nx(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Nx(s,a,u),i=l}}}if(Kd)throw t=Zm,Kd=!1,Zm=null,t}function qe(t,e){var n=e[cg];n===void 0&&(n=e[cg]=new Set);var r=t+"__bubble";n.has(r)||(gS(e,t,2,!1),n.add(r))}function Wp(t,e,n){var r=0;e&&(r|=4),gS(n,t,r,e)}var qu="_reactListening"+Math.random().toString(36).slice(2);function xc(t){if(!t[qu]){t[qu]=!0,EE.forEach(function(n){n!=="selectionchange"&&(aj.has(n)||Wp(n,!1,t),Wp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qu]||(e[qu]=!0,Wp("selectionchange",!1,e))}}function gS(t,e,n,r){switch(ZE(e)){case 1:var s=_D;break;case 4:s=bD;break;default:s=Uy}n=s.bind(null,e,n,t),s=void 0,!Jm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function qp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=$i(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}FE(function(){var u=i,h=My(n),f=[];e:{var m=pS.get(t);if(m!==void 0){var v=$y,x=t;switch(t){case"keypress":if(Ed(n)===0)break e;case"keydown":case"keyup":v=LD;break;case"focusin":x="focus",v=Fp;break;case"focusout":x="blur",v=Fp;break;case"beforeblur":case"afterblur":v=Fp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=gx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=TD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=UD;break;case uS:case dS:case hS:v=ND;break;case fS:v=$D;break;case"scroll":v=ED;break;case"wheel":v=HD;break;case"copy":case"cut":case"paste":v=kD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=vx}var y=(e&4)!==0,_=!y&&t==="scroll",b=y?m!==null?m+"Capture":null:m;y=[];for(var w=u,S;w!==null;){S=w;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,b!==null&&(k=pc(w,b),k!=null&&y.push(_c(w,k,S)))),_)break;w=w.return}0<y.length&&(m=new v(m,x,null,n,h),f.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Xm&&(x=n.relatedTarget||n.fromElement)&&($i(x)||x[as]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?$i(x):null,x!==null&&(_=bo(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(y=gx,k="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=vx,k="onPointerLeave",b="onPointerEnter",w="pointer"),_=v==null?m:Ko(v),S=x==null?m:Ko(x),m=new y(k,w+"leave",v,n,h),m.target=_,m.relatedTarget=S,k=null,$i(h)===u&&(y=new y(b,w+"enter",x,n,h),y.target=S,y.relatedTarget=_,k=y),_=k,v&&x)t:{for(y=v,b=x,w=0,S=y;S;S=jo(S))w++;for(S=0,k=b;k;k=jo(k))S++;for(;0<w-S;)y=jo(y),w--;for(;0<S-w;)b=jo(b),S--;for(;w--;){if(y===b||b!==null&&y===b.alternate)break t;y=jo(y),b=jo(b)}y=null}else y=null;v!==null&&Ax(f,m,v,y,!1),x!==null&&_!==null&&Ax(f,_,x,y,!0)}}e:{if(m=u?Ko(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var D=YD;else if(_x(m))if(iS)D=tj;else{D=ZD;var O=JD}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=ej);if(D&&(D=D(t,u))){sS(f,D,n,h);break e}O&&O(t,m,u),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Wm(m,"number",m.value)}switch(O=u?Ko(u):window,t){case"focusin":(_x(O)||O.contentEditable==="true")&&(qo=O,rg=u,Xl=null);break;case"focusout":Xl=rg=qo=null;break;case"mousedown":sg=!0;break;case"contextmenu":case"mouseup":case"dragend":sg=!1,Cx(f,n,h);break;case"selectionchange":if(sj)break;case"keydown":case"keyup":Cx(f,n,h)}var T;if(Hy)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Wo?nS(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(tS&&n.locale!=="ko"&&(Wo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Wo&&(T=eS()):(Gs=h,zy="value"in Gs?Gs.value:Gs.textContent,Wo=!0)),O=Zd(u,C),0<O.length&&(C=new yx(C,t,null,n,h),f.push({event:C,listeners:O}),T?C.data=T:(T=rS(n),T!==null&&(C.data=T)))),(T=qD?GD(t,n):KD(t,n))&&(u=Zd(u,"onBeforeInput"),0<u.length&&(h=new yx("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=T))}mS(f,e)})}function _c(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pc(t,n),i!=null&&r.unshift(_c(t,i,s)),i=pc(t,e),i!=null&&r.push(_c(t,i,s))),t=t.return}return r}function jo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ax(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=pc(n,i),l!=null&&o.unshift(_c(n,l,a))):s||(l=pc(n,i),l!=null&&o.push(_c(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lj=/\r\n?/g,cj=/\u0000|\uFFFD/g;function kx(t){return(typeof t=="string"?t:""+t).replace(lj,`
`).replace(cj,"")}function Gu(t,e,n){if(e=kx(e),kx(t)!==e&&n)throw Error(Y(425))}function eh(){}var ig=null,og=null;function ag(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lg=typeof setTimeout=="function"?setTimeout:void 0,uj=typeof clearTimeout=="function"?clearTimeout:void 0,Rx=typeof Promise=="function"?Promise:void 0,dj=typeof queueMicrotask=="function"?queueMicrotask:typeof Rx<"u"?function(t){return Rx.resolve(null).then(t).catch(hj)}:lg;function hj(t){setTimeout(function(){throw t})}function Gp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),yc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);yc(e)}function Zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Px(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),kr="__reactFiber$"+Ja,bc="__reactProps$"+Ja,as="__reactContainer$"+Ja,cg="__reactEvents$"+Ja,fj="__reactListeners$"+Ja,pj="__reactHandles$"+Ja;function $i(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[as]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Px(t);t!==null;){if(n=t[kr])return n;t=Px(t)}return e}t=n,n=t.parentNode}return null}function Yc(t){return t=t[kr]||t[as],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function af(t){return t[bc]||null}var ug=[],Qo=-1;function Si(t){return{current:t}}function Ge(t){0>Qo||(t.current=ug[Qo],ug[Qo]=null,Qo--)}function $e(t,e){Qo++,ug[Qo]=t.current,t.current=e}var di={},Ht=Si(di),mn=Si(!1),io=di;function Na(t,e){var n=t.type.contextTypes;if(!n)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function gn(t){return t=t.childContextTypes,t!=null}function th(){Ge(mn),Ge(Ht)}function Dx(t,e,n){if(Ht.current!==di)throw Error(Y(168));$e(Ht,e),$e(mn,n)}function yS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Y(108,J2(t)||"Unknown",s));return Je({},n,r)}function nh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,io=Ht.current,$e(Ht,t),$e(mn,mn.current),!0}function jx(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=yS(t,e,io),r.__reactInternalMemoizedMergedChildContext=t,Ge(mn),Ge(Ht),$e(Ht,t)):Ge(mn),$e(mn,n)}var Xr=null,lf=!1,Kp=!1;function vS(t){Xr===null?Xr=[t]:Xr.push(t)}function mj(t){lf=!0,vS(t)}function Ti(){if(!Kp&&Xr!==null){Kp=!0;var t=0,e=Me;try{var n=Xr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xr=null,lf=!1}catch(s){throw Xr!==null&&(Xr=Xr.slice(t+1)),BE(Ly,Ti),s}finally{Me=e,Kp=!1}}return null}var Xo=[],Yo=0,rh=null,sh=0,Ln=[],Vn=0,oo=null,Yr=1,Jr="";function Fi(t,e){Xo[Yo++]=sh,Xo[Yo++]=rh,rh=t,sh=e}function wS(t,e,n){Ln[Vn++]=Yr,Ln[Vn++]=Jr,Ln[Vn++]=oo,oo=t;var r=Yr;t=Jr;var s=32-or(r)-1;r&=~(1<<s),n+=1;var i=32-or(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Yr=1<<32-or(e)+s|n<<s|r,Jr=i+t}else Yr=1<<i|n<<s|r,Jr=t}function qy(t){t.return!==null&&(Fi(t,1),wS(t,1,0))}function Gy(t){for(;t===rh;)rh=Xo[--Yo],Xo[Yo]=null,sh=Xo[--Yo],Xo[Yo]=null;for(;t===oo;)oo=Ln[--Vn],Ln[Vn]=null,Jr=Ln[--Vn],Ln[Vn]=null,Yr=Ln[--Vn],Ln[Vn]=null}var In=null,Cn=null,Qe=!1,tr=null;function xS(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ox(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,Cn=Zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oo!==null?{id:Yr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,Cn=null,!0):!1;default:return!1}}function dg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hg(t){if(Qe){var e=Cn;if(e){var n=e;if(!Ox(t,e)){if(dg(t))throw Error(Y(418));e=Zs(n.nextSibling);var r=In;e&&Ox(t,e)?xS(r,n):(t.flags=t.flags&-4097|2,Qe=!1,In=t)}}else{if(dg(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Qe=!1,In=t}}}function Mx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function Ku(t){if(t!==In)return!1;if(!Qe)return Mx(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ag(t.type,t.memoizedProps)),e&&(e=Cn)){if(dg(t))throw _S(),Error(Y(418));for(;e;)xS(t,e),e=Zs(e.nextSibling)}if(Mx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=Zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=In?Zs(t.stateNode.nextSibling):null;return!0}function _S(){for(var t=Cn;t;)t=Zs(t.nextSibling)}function Aa(){Cn=In=null,Qe=!1}function Ky(t){tr===null?tr=[t]:tr.push(t)}var gj=ys.ReactCurrentBatchConfig;function Dl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Qu(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lx(t){var e=t._init;return e(t._payload)}function bS(t){function e(b,w){if(t){var S=b.deletions;S===null?(b.deletions=[w],b.flags|=16):S.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function s(b,w){return b=ri(b,w),b.index=0,b.sibling=null,b}function i(b,w,S){return b.index=S,t?(S=b.alternate,S!==null?(S=S.index,S<w?(b.flags|=2,w):S):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,S,k){return w===null||w.tag!==6?(w=tm(S,b.mode,k),w.return=b,w):(w=s(w,S),w.return=b,w)}function l(b,w,S,k){var D=S.type;return D===Ho?h(b,w,S.props.children,k,S.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===js&&Lx(D)===w.type)?(k=s(w,S.props),k.ref=Dl(b,w,S),k.return=b,k):(k=kd(S.type,S.key,S.props,null,b.mode,k),k.ref=Dl(b,w,S),k.return=b,k)}function u(b,w,S,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=nm(S,b.mode,k),w.return=b,w):(w=s(w,S.children||[]),w.return=b,w)}function h(b,w,S,k,D){return w===null||w.tag!==7?(w=to(S,b.mode,k,D),w.return=b,w):(w=s(w,S),w.return=b,w)}function f(b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=tm(""+w,b.mode,S),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vu:return S=kd(w.type,w.key,w.props,null,b.mode,S),S.ref=Dl(b,null,w),S.return=b,S;case Bo:return w=nm(w,b.mode,S),w.return=b,w;case js:var k=w._init;return f(b,k(w._payload),S)}if(Fl(w)||Nl(w))return w=to(w,b.mode,S,null),w.return=b,w;Qu(b,w)}return null}function m(b,w,S,k){var D=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(b,w,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vu:return S.key===D?l(b,w,S,k):null;case Bo:return S.key===D?u(b,w,S,k):null;case js:return D=S._init,m(b,w,D(S._payload),k)}if(Fl(S)||Nl(S))return D!==null?null:h(b,w,S,k,null);Qu(b,S)}return null}function v(b,w,S,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return b=b.get(S)||null,a(w,b,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Vu:return b=b.get(k.key===null?S:k.key)||null,l(w,b,k,D);case Bo:return b=b.get(k.key===null?S:k.key)||null,u(w,b,k,D);case js:var O=k._init;return v(b,w,S,O(k._payload),D)}if(Fl(k)||Nl(k))return b=b.get(S)||null,h(w,b,k,D,null);Qu(w,k)}return null}function x(b,w,S,k){for(var D=null,O=null,T=w,C=w=0,I=null;T!==null&&C<S.length;C++){T.index>C?(I=T,T=null):I=T.sibling;var A=m(b,T,S[C],k);if(A===null){T===null&&(T=I);break}t&&T&&A.alternate===null&&e(b,T),w=i(A,w,C),O===null?D=A:O.sibling=A,O=A,T=I}if(C===S.length)return n(b,T),Qe&&Fi(b,C),D;if(T===null){for(;C<S.length;C++)T=f(b,S[C],k),T!==null&&(w=i(T,w,C),O===null?D=T:O.sibling=T,O=T);return Qe&&Fi(b,C),D}for(T=r(b,T);C<S.length;C++)I=v(T,b,C,S[C],k),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?C:I.key),w=i(I,w,C),O===null?D=I:O.sibling=I,O=I);return t&&T.forEach(function(R){return e(b,R)}),Qe&&Fi(b,C),D}function y(b,w,S,k){var D=Nl(S);if(typeof D!="function")throw Error(Y(150));if(S=D.call(S),S==null)throw Error(Y(151));for(var O=D=null,T=w,C=w=0,I=null,A=S.next();T!==null&&!A.done;C++,A=S.next()){T.index>C?(I=T,T=null):I=T.sibling;var R=m(b,T,A.value,k);if(R===null){T===null&&(T=I);break}t&&T&&R.alternate===null&&e(b,T),w=i(R,w,C),O===null?D=R:O.sibling=R,O=R,T=I}if(A.done)return n(b,T),Qe&&Fi(b,C),D;if(T===null){for(;!A.done;C++,A=S.next())A=f(b,A.value,k),A!==null&&(w=i(A,w,C),O===null?D=A:O.sibling=A,O=A);return Qe&&Fi(b,C),D}for(T=r(b,T);!A.done;C++,A=S.next())A=v(T,b,C,A.value,k),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?C:A.key),w=i(A,w,C),O===null?D=A:O.sibling=A,O=A);return t&&T.forEach(function(j){return e(b,j)}),Qe&&Fi(b,C),D}function _(b,w,S,k){if(typeof S=="object"&&S!==null&&S.type===Ho&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Vu:e:{for(var D=S.key,O=w;O!==null;){if(O.key===D){if(D=S.type,D===Ho){if(O.tag===7){n(b,O.sibling),w=s(O,S.props.children),w.return=b,b=w;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===js&&Lx(D)===O.type){n(b,O.sibling),w=s(O,S.props),w.ref=Dl(b,O,S),w.return=b,b=w;break e}n(b,O);break}else e(b,O);O=O.sibling}S.type===Ho?(w=to(S.props.children,b.mode,k,S.key),w.return=b,b=w):(k=kd(S.type,S.key,S.props,null,b.mode,k),k.ref=Dl(b,w,S),k.return=b,b=k)}return o(b);case Bo:e:{for(O=S.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(b,w.sibling),w=s(w,S.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=nm(S,b.mode,k),w.return=b,b=w}return o(b);case js:return O=S._init,_(b,w,O(S._payload),k)}if(Fl(S))return x(b,w,S,k);if(Nl(S))return y(b,w,S,k);Qu(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(b,w.sibling),w=s(w,S),w.return=b,b=w):(n(b,w),w=tm(S,b.mode,k),w.return=b,b=w),o(b)):n(b,w)}return _}var ka=bS(!0),ES=bS(!1),ih=Si(null),oh=null,Jo=null,Qy=null;function Xy(){Qy=Jo=oh=null}function Yy(t){var e=ih.current;Ge(ih),t._currentValue=e}function fg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function aa(t,e){oh=t,Qy=Jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(Qy!==t)if(t={context:t,memoizedValue:e,next:null},Jo===null){if(oh===null)throw Error(Y(308));Jo=t,oh.dependencies={lanes:0,firstContext:t}}else Jo=Jo.next=t;return e}var Bi=null;function Jy(t){Bi===null?Bi=[t]:Bi.push(t)}function SS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Jy(e)):(n.next=s.next,s.next=n),e.interleaved=n,ls(t,r)}function ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Os=!1;function Zy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ts(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ls(t,n)}return s=r.interleaved,s===null?(e.next=e,Jy(r)):(e.next=s.next,s.next=e),r.interleaved=e,ls(t,n)}function Sd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vy(t,n)}}function Vx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ah(t,e,n,r){var s=t.updateQueue;Os=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=u=l=null,a=i;do{var m=a.lane,v=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,y=a;switch(m=e,v=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){f=x.call(v,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(v,f,m):x,m==null)break e;f=Je({},f,m);break e;case 2:Os=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=v,l=f):h=h.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);lo|=o,t.lanes=o,t.memoizedState=f}}function Fx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var Jc={},Dr=Si(Jc),Ec=Si(Jc),Sc=Si(Jc);function Hi(t){if(t===Jc)throw Error(Y(174));return t}function ev(t,e){switch($e(Sc,e),$e(Ec,t),$e(Dr,Jc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gm(e,t)}Ge(Dr),$e(Dr,e)}function Ra(){Ge(Dr),Ge(Ec),Ge(Sc)}function CS(t){Hi(Sc.current);var e=Hi(Dr.current),n=Gm(e,t.type);e!==n&&($e(Ec,t),$e(Dr,n))}function tv(t){Ec.current===t&&(Ge(Dr),Ge(Ec))}var Xe=Si(0);function lh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qp=[];function nv(){for(var t=0;t<Qp.length;t++)Qp[t]._workInProgressVersionPrimary=null;Qp.length=0}var Td=ys.ReactCurrentDispatcher,Xp=ys.ReactCurrentBatchConfig,ao=0,Ye=null,mt=null,St=null,ch=!1,Yl=!1,Tc=0,yj=0;function Lt(){throw Error(Y(321))}function rv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dr(t[n],e[n]))return!1;return!0}function sv(t,e,n,r,s,i){if(ao=i,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Td.current=t===null||t.memoizedState===null?_j:bj,t=n(r,s),Yl){i=0;do{if(Yl=!1,Tc=0,25<=i)throw Error(Y(301));i+=1,St=mt=null,e.updateQueue=null,Td.current=Ej,t=n(r,s)}while(Yl)}if(Td.current=uh,e=mt!==null&&mt.next!==null,ao=0,St=mt=Ye=null,ch=!1,e)throw Error(Y(300));return t}function iv(){var t=Tc!==0;return Tc=0,t}function Sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ye.memoizedState=St=t:St=St.next=t,St}function Wn(){if(mt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=St===null?Ye.memoizedState:St.next;if(e!==null)St=e,mt=t;else{if(t===null)throw Error(Y(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},St===null?Ye.memoizedState=St=t:St=St.next=t}return St}function Cc(t,e){return typeof e=="function"?e(t):e}function Yp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=mt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var h=u.lane;if((ao&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ye.lanes|=h,lo|=h}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,dr(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ye.lanes|=i,lo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);dr(i,e.memoizedState)||(pn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function IS(){}function NS(t,e){var n=Ye,r=Wn(),s=e(),i=!dr(r.memoizedState,s);if(i&&(r.memoizedState=s,pn=!0),r=r.queue,ov(RS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Ic(9,kS.bind(null,n,r,s,e),void 0,null),It===null)throw Error(Y(349));ao&30||AS(n,e,s)}return s}function AS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kS(t,e,n,r){e.value=n,e.getSnapshot=r,PS(e)&&DS(t)}function RS(t,e,n){return n(function(){PS(e)&&DS(t)})}function PS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dr(t,n)}catch{return!0}}function DS(t){var e=ls(t,1);e!==null&&ar(e,t,1,-1)}function Ux(t){var e=Sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:t},e.queue=t,t=t.dispatch=xj.bind(null,Ye,t),[e.memoizedState,t]}function Ic(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jS(){return Wn().memoizedState}function Cd(t,e,n,r){var s=Sr();Ye.flags|=t,s.memoizedState=Ic(1|e,n,void 0,r===void 0?null:r)}function cf(t,e,n,r){var s=Wn();r=r===void 0?null:r;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,r!==null&&rv(r,o.deps)){s.memoizedState=Ic(e,n,i,r);return}}Ye.flags|=t,s.memoizedState=Ic(1|e,n,i,r)}function zx(t,e){return Cd(8390656,8,t,e)}function ov(t,e){return cf(2048,8,t,e)}function OS(t,e){return cf(4,2,t,e)}function MS(t,e){return cf(4,4,t,e)}function LS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VS(t,e,n){return n=n!=null?n.concat([t]):null,cf(4,4,LS.bind(null,e,t),n)}function av(){}function FS(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function US(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zS(t,e,n){return ao&21?(dr(n,e)||(n=qE(),Ye.lanes|=n,lo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function vj(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Xp.transition;Xp.transition={};try{t(!1),e()}finally{Me=n,Xp.transition=r}}function $S(){return Wn().memoizedState}function wj(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BS(t))HS(e,n);else if(n=SS(t,e,n,r),n!==null){var s=Jt();ar(n,t,r,s),WS(n,e,r)}}function xj(t,e,n){var r=ni(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BS(t))HS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,dr(a,o)){var l=e.interleaved;l===null?(s.next=s,Jy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=SS(t,e,s,r),n!==null&&(s=Jt(),ar(n,t,r,s),WS(n,e,r))}}function BS(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function HS(t,e){Yl=ch=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vy(t,n)}}var uh={readContext:Hn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},_j={readContext:Hn,useCallback:function(t,e){return Sr().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:zx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cd(4194308,4,LS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cd(4,2,t,e)},useMemo:function(t,e){var n=Sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wj.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=Sr();return t={current:t},e.memoizedState=t},useState:Ux,useDebugValue:av,useDeferredValue:function(t){return Sr().memoizedState=t},useTransition:function(){var t=Ux(!1),e=t[0];return t=vj.bind(null,t[1]),Sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,s=Sr();if(Qe){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),It===null)throw Error(Y(349));ao&30||AS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,zx(RS.bind(null,r,i,t),[t]),r.flags|=2048,Ic(9,kS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Sr(),e=It.identifierPrefix;if(Qe){var n=Jr,r=Yr;n=(r&~(1<<32-or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bj={readContext:Hn,useCallback:FS,useContext:Hn,useEffect:ov,useImperativeHandle:VS,useInsertionEffect:OS,useLayoutEffect:MS,useMemo:US,useReducer:Yp,useRef:jS,useState:function(){return Yp(Cc)},useDebugValue:av,useDeferredValue:function(t){var e=Wn();return zS(e,mt.memoizedState,t)},useTransition:function(){var t=Yp(Cc)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:IS,useSyncExternalStore:NS,useId:$S,unstable_isNewReconciler:!1},Ej={readContext:Hn,useCallback:FS,useContext:Hn,useEffect:ov,useImperativeHandle:VS,useInsertionEffect:OS,useLayoutEffect:MS,useMemo:US,useReducer:Jp,useRef:jS,useState:function(){return Jp(Cc)},useDebugValue:av,useDeferredValue:function(t){var e=Wn();return mt===null?e.memoizedState=t:zS(e,mt.memoizedState,t)},useTransition:function(){var t=Jp(Cc)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:IS,useSyncExternalStore:NS,useId:$S,unstable_isNewReconciler:!1};function Yn(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uf={isMounted:function(t){return(t=t._reactInternals)?bo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=ni(t),i=ts(r,s);i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(ar(e,t,s,r),Sd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=ni(t),i=ts(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(ar(e,t,s,r),Sd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=ni(t),s=ts(n,r);s.tag=2,e!=null&&(s.callback=e),e=ei(t,s,r),e!==null&&(ar(e,t,r,n),Sd(e,t,r))}};function $x(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!wc(n,r)||!wc(s,i):!0}function qS(t,e,n){var r=!1,s=di,i=e.contextType;return typeof i=="object"&&i!==null?i=Hn(i):(s=gn(e)?io:Ht.current,r=e.contextTypes,i=(r=r!=null)?Na(t,s):di),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Bx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uf.enqueueReplaceState(e,e.state,null)}function mg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Zy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Hn(i):(i=gn(e)?io:Ht.current,s.context=Na(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(pg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&uf.enqueueReplaceState(s,s.state,null),ah(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Pa(t,e){try{var n="",r=e;do n+=Y2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Zp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sj=typeof WeakMap=="function"?WeakMap:Map;function GS(t,e,n){n=ts(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hh||(hh=!0,Cg=r),gg(t,e)},n}function KS(t,e,n){n=ts(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){gg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gg(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Hx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Sj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Vj.bind(null,t,e,n),e.then(t,t))}function Wx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ts(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var Tj=ys.ReactCurrentOwner,pn=!1;function Kt(t,e,n,r){e.child=t===null?ES(e,null,n,r):ka(e,t.child,n,r)}function Gx(t,e,n,r,s){n=n.render;var i=e.ref;return aa(e,s),r=sv(t,e,n,r,i,s),n=iv(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cs(t,e,s)):(Qe&&n&&qy(e),e.flags|=1,Kt(t,e,r,s),e.child)}function Kx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!mv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,QS(t,e,i,r,s)):(t=kd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:wc,n(o,r)&&t.ref===e.ref)return cs(t,e,s)}return e.flags|=1,t=ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function QS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(wc(i,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,cs(t,e,s)}return yg(t,e,n,r,s)}function XS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(ea,En),En|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(ea,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$e(ea,En),En|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,$e(ea,En),En|=r;return Kt(t,e,s,n),e.child}function YS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yg(t,e,n,r,s){var i=gn(n)?io:Ht.current;return i=Na(e,i),aa(e,s),n=sv(t,e,n,r,i,s),r=iv(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cs(t,e,s)):(Qe&&r&&qy(e),e.flags|=1,Kt(t,e,n,s),e.child)}function Qx(t,e,n,r,s){if(gn(n)){var i=!0;nh(e)}else i=!1;if(aa(e,s),e.stateNode===null)Id(t,e),qS(e,n,r),mg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Hn(u):(u=gn(n)?io:Ht.current,u=Na(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Bx(e,o,r,u),Os=!1;var m=e.memoizedState;o.state=m,ah(e,r,o,s),l=e.memoizedState,a!==r||m!==l||mn.current||Os?(typeof h=="function"&&(pg(e,n,h,r),l=e.memoizedState),(a=Os||$x(e,n,a,r,m,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,TS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Yn(e.type,a),o.props=u,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hn(l):(l=gn(n)?io:Ht.current,l=Na(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&Bx(e,o,r,l),Os=!1,m=e.memoizedState,o.state=m,ah(e,r,o,s);var x=e.memoizedState;a!==f||m!==x||mn.current||Os?(typeof v=="function"&&(pg(e,n,v,r),x=e.memoizedState),(u=Os||$x(e,n,u,r,m,x,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return vg(t,e,n,r,i,s)}function vg(t,e,n,r,s,i){YS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&jx(e,n,!1),cs(t,e,i);r=e.stateNode,Tj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ka(e,t.child,null,i),e.child=ka(e,null,a,i)):Kt(t,e,a,i),e.memoizedState=r.state,s&&jx(e,n,!0),e.child}function JS(t){var e=t.stateNode;e.pendingContext?Dx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dx(t,e.context,!1),ev(t,e.containerInfo)}function Xx(t,e,n,r,s){return Aa(),Ky(s),e.flags|=256,Kt(t,e,n,r),e.child}var wg={dehydrated:null,treeContext:null,retryLane:0};function xg(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZS(t,e,n){var r=e.pendingProps,s=Xe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),$e(Xe,s&1),t===null)return hg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ff(o,r,0,null),t=to(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=xg(n),e.memoizedState=wg,t):lv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Cj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ri(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ri(a,i):(i=to(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?xg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=wg,r}return i=t.child,t=i.sibling,r=ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lv(t,e){return e=ff({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xu(t,e,n,r){return r!==null&&Ky(r),ka(e,t.child,null,n),t=lv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Cj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Zp(Error(Y(422))),Xu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ff({mode:"visible",children:r.children},s,0,null),i=to(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ka(e,t.child,null,o),e.child.memoizedState=xg(o),e.memoizedState=wg,i);if(!(e.mode&1))return Xu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Y(419)),r=Zp(i,r,void 0),Xu(t,e,o,r)}if(a=(o&t.childLanes)!==0,pn||a){if(r=It,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ls(t,s),ar(r,t,s,-1))}return pv(),r=Zp(Error(Y(421))),Xu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Fj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Cn=Zs(s.nextSibling),In=e,Qe=!0,tr=null,t!==null&&(Ln[Vn++]=Yr,Ln[Vn++]=Jr,Ln[Vn++]=oo,Yr=t.id,Jr=t.overflow,oo=e),e=lv(e,r.children),e.flags|=4096,e)}function Yx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fg(t.return,e,n)}function em(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function eT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Kt(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yx(t,n,e);else if(t.tag===19)Yx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&lh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),em(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&lh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}em(e,!0,n,null,i);break;case"together":em(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Id(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),lo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ij(t,e,n){switch(e.tag){case 3:JS(e),Aa();break;case 5:CS(e);break;case 1:gn(e.type)&&nh(e);break;case 4:ev(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;$e(ih,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?ZS(t,e,n):($e(Xe,Xe.current&1),t=cs(t,e,n),t!==null?t.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,XS(t,e,n)}return cs(t,e,n)}var tT,_g,nT,rT;tT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_g=function(){};nT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Hi(Dr.current);var i=null;switch(n){case"input":s=Bm(t,s),r=Bm(t,r),i=[];break;case"select":s=Je({},s,{value:void 0}),r=Je({},r,{value:void 0}),i=[];break;case"textarea":s=qm(t,s),r=qm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=eh)}Km(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};rT=function(t,e,n,r){n!==r&&(e.flags|=4)};function jl(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Nj(t,e,n){var r=e.pendingProps;switch(Gy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return gn(e.type)&&th(),Vt(e),null;case 3:return r=e.stateNode,Ra(),Ge(mn),Ge(Ht),nv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ku(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tr!==null&&(Ag(tr),tr=null))),_g(t,e),Vt(e),null;case 5:tv(e);var s=Hi(Sc.current);if(n=e.type,t!==null&&e.stateNode!=null)nT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Vt(e),null}if(t=Hi(Dr.current),Ku(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[kr]=e,r[bc]=i,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(s=0;s<zl.length;s++)qe(zl[s],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":ox(r,i),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},qe("invalid",r);break;case"textarea":lx(r,i),qe("invalid",r)}Km(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Gu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Gu(r.textContent,a,t),s=["children",""+a]):hc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":Fu(r),ax(r,i,!0);break;case"textarea":Fu(r),cx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=eh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kr]=e,t[bc]=r,tT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qm(n,r),n){case"dialog":qe("cancel",t),qe("close",t),s=r;break;case"iframe":case"object":case"embed":qe("load",t),s=r;break;case"video":case"audio":for(s=0;s<zl.length;s++)qe(zl[s],t);s=r;break;case"source":qe("error",t),s=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),s=r;break;case"details":qe("toggle",t),s=r;break;case"input":ox(t,r),s=Bm(t,r),qe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Je({},r,{value:void 0}),qe("invalid",t);break;case"textarea":lx(t,r),s=qm(t,r),qe("invalid",t);break;default:s=r}Km(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?jE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fc(t,l):typeof l=="number"&&fc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&qe("scroll",t):l!=null&&Py(t,i,l,o))}switch(n){case"input":Fu(t),ax(t,r,!1);break;case"textarea":Fu(t),cx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ra(t,!!r.multiple,i,!1):r.defaultValue!=null&&ra(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=eh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)rT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Hi(Sc.current),Hi(Dr.current),Ku(e)){if(r=e.stateNode,n=e.memoizedProps,r[kr]=e,(i=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:Gu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kr]=e,e.stateNode=r}return Vt(e),null;case 13:if(Ge(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&Cn!==null&&e.mode&1&&!(e.flags&128))_S(),Aa(),e.flags|=98560,i=!1;else if(i=Ku(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[kr]=e}else Aa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),i=!1}else tr!==null&&(Ag(tr),tr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?wt===0&&(wt=3):pv())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return Ra(),_g(t,e),t===null&&xc(e.stateNode.containerInfo),Vt(e),null;case 10:return Yy(e.type._context),Vt(e),null;case 17:return gn(e.type)&&th(),Vt(e),null;case 19:if(Ge(Xe),i=e.memoizedState,i===null)return Vt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)jl(i,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lh(t),o!==null){for(e.flags|=128,jl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(Xe,Xe.current&1|2),e.child}t=t.sibling}i.tail!==null&&ot()>Da&&(e.flags|=128,r=!0,jl(i,!1),e.lanes=4194304)}else{if(!r)if(t=lh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Vt(e),null}else 2*ot()-i.renderingStartTime>Da&&n!==1073741824&&(e.flags|=128,r=!0,jl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ot(),e.sibling=null,n=Xe.current,$e(Xe,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return fv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function Aj(t,e){switch(Gy(e),e.tag){case 1:return gn(e.type)&&th(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ra(),Ge(mn),Ge(Ht),nv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tv(e),null;case 13:if(Ge(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Aa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Xe),null;case 4:return Ra(),null;case 10:return Yy(e.type._context),null;case 22:case 23:return fv(),null;case 24:return null;default:return null}}var Yu=!1,$t=!1,kj=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Zo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function bg(t,e,n){try{n()}catch(r){nt(t,e,r)}}var Jx=!1;function Rj(t,e){if(ig=Yd,t=lS(),Wy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++h===r&&(l=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(og={focusedElem:t,selectionRange:n},Yd=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,_=x.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:Yn(e.type,y),_);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(k){nt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return x=Jx,Jx=!1,x}function Jl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&bg(e,n,i)}s=s.next}while(s!==r)}}function df(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Eg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sT(t){var e=t.alternate;e!==null&&(t.alternate=null,sT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[bc],delete e[cg],delete e[fj],delete e[pj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iT(t){return t.tag===5||t.tag===3||t.tag===4}function Zx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=eh));else if(r!==4&&(t=t.child,t!==null))for(Sg(t,e,n),t=t.sibling;t!==null;)Sg(t,e,n),t=t.sibling}function Tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tg(t,e,n),t=t.sibling;t!==null;)Tg(t,e,n),t=t.sibling}var kt=null,er=!1;function Ns(t,e,n){for(n=n.child;n!==null;)oT(t,e,n),n=n.sibling}function oT(t,e,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(nf,n)}catch{}switch(n.tag){case 5:$t||Zo(n,e);case 6:var r=kt,s=er;kt=null,Ns(t,e,n),kt=r,er=s,kt!==null&&(er?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(er?(t=kt,n=n.stateNode,t.nodeType===8?Gp(t.parentNode,n):t.nodeType===1&&Gp(t,n),yc(t)):Gp(kt,n.stateNode));break;case 4:r=kt,s=er,kt=n.stateNode.containerInfo,er=!0,Ns(t,e,n),kt=r,er=s;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&bg(n,e,o),s=s.next}while(s!==r)}Ns(t,e,n);break;case 1:if(!$t&&(Zo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,e,a)}Ns(t,e,n);break;case 21:Ns(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,Ns(t,e,n),$t=r):Ns(t,e,n);break;default:Ns(t,e,n)}}function e1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kj),e.forEach(function(r){var s=Uj.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,er=!1;break e;case 3:kt=a.stateNode.containerInfo,er=!0;break e;case 4:kt=a.stateNode.containerInfo,er=!0;break e}a=a.return}if(kt===null)throw Error(Y(160));oT(i,o,s),kt=null,er=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){nt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aT(e,t),e=e.sibling}function aT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),Er(t),r&4){try{Jl(3,t,t.return),df(3,t)}catch(y){nt(t,t.return,y)}try{Jl(5,t,t.return)}catch(y){nt(t,t.return,y)}}break;case 1:Qn(e,t),Er(t),r&512&&n!==null&&Zo(n,n.return);break;case 5:if(Qn(e,t),Er(t),r&512&&n!==null&&Zo(n,n.return),t.flags&32){var s=t.stateNode;try{fc(s,"")}catch(y){nt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&AE(s,i),Qm(a,o);var u=Qm(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?jE(s,f):h==="dangerouslySetInnerHTML"?PE(s,f):h==="children"?fc(s,f):Py(s,h,f,u)}switch(a){case"input":Hm(s,i);break;case"textarea":kE(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?ra(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?ra(s,!!i.multiple,i.defaultValue,!0):ra(s,!!i.multiple,i.multiple?[]:"",!1))}s[bc]=i}catch(y){nt(t,t.return,y)}}break;case 6:if(Qn(e,t),Er(t),r&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){nt(t,t.return,y)}}break;case 3:if(Qn(e,t),Er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yc(e.containerInfo)}catch(y){nt(t,t.return,y)}break;case 4:Qn(e,t),Er(t);break;case 13:Qn(e,t),Er(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dv=ot())),r&4&&e1(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?($t=(u=$t)||h,Qn(e,t),$t=u):Qn(e,t),Er(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ae=t,h=t.child;h!==null;){for(f=ae=h;ae!==null;){switch(m=ae,v=m.child,m.tag){case 0:case 11:case 14:case 15:Jl(4,m,m.return);break;case 1:Zo(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){nt(r,n,y)}}break;case 5:Zo(m,m.return);break;case 22:if(m.memoizedState!==null){n1(f);continue}}v!==null?(v.return=m,ae=v):n1(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=DE("display",o))}catch(y){nt(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){nt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qn(e,t),Er(t),r&4&&e1(t);break;case 21:break;default:Qn(e,t),Er(t)}}function Er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iT(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fc(s,""),r.flags&=-33);var i=Zx(t);Tg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Zx(t);Sg(t,a,o);break;default:throw Error(Y(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Pj(t,e,n){ae=t,lT(t)}function lT(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Yu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||$t;a=Yu;var u=$t;if(Yu=o,($t=l)&&!u)for(ae=s;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?r1(s):l!==null?(l.return=o,ae=l):r1(s);for(;i!==null;)ae=i,lT(i),i=i.sibling;ae=s,Yu=a,$t=u}t1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):t1(t)}}function t1(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||df(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Fx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&yc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}$t||e.flags&512&&Eg(e)}catch(m){nt(e,e.return,m)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function n1(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function r1(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{df(4,e)}catch(l){nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){nt(e,s,l)}}var i=e.return;try{Eg(e)}catch(l){nt(e,i,l)}break;case 5:var o=e.return;try{Eg(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var Dj=Math.ceil,dh=ys.ReactCurrentDispatcher,cv=ys.ReactCurrentOwner,$n=ys.ReactCurrentBatchConfig,Re=0,It=null,lt=null,Pt=0,En=0,ea=Si(0),wt=0,Nc=null,lo=0,hf=0,uv=0,Zl=null,dn=null,dv=0,Da=1/0,Kr=null,hh=!1,Cg=null,ti=null,Ju=!1,Ks=null,fh=0,ec=0,Ig=null,Nd=-1,Ad=0;function Jt(){return Re&6?ot():Nd!==-1?Nd:Nd=ot()}function ni(t){return t.mode&1?Re&2&&Pt!==0?Pt&-Pt:gj.transition!==null?(Ad===0&&(Ad=qE()),Ad):(t=Me,t!==0||(t=window.event,t=t===void 0?16:ZE(t.type)),t):1}function ar(t,e,n,r){if(50<ec)throw ec=0,Ig=null,Error(Y(185));Qc(t,n,r),(!(Re&2)||t!==It)&&(t===It&&(!(Re&2)&&(hf|=n),wt===4&&Vs(t,Pt)),yn(t,r),n===1&&Re===0&&!(e.mode&1)&&(Da=ot()+500,lf&&Ti()))}function yn(t,e){var n=t.callbackNode;gD(t,e);var r=Xd(t,t===It?Pt:0);if(r===0)n!==null&&hx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hx(n),e===1)t.tag===0?mj(s1.bind(null,t)):vS(s1.bind(null,t)),dj(function(){!(Re&6)&&Ti()}),n=null;else{switch(GE(r)){case 1:n=Ly;break;case 4:n=HE;break;case 16:n=Qd;break;case 536870912:n=WE;break;default:n=Qd}n=gT(n,cT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cT(t,e){if(Nd=-1,Ad=0,Re&6)throw Error(Y(327));var n=t.callbackNode;if(la()&&t.callbackNode!==n)return null;var r=Xd(t,t===It?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ph(t,r);else{e=r;var s=Re;Re|=2;var i=dT();(It!==t||Pt!==e)&&(Kr=null,Da=ot()+500,eo(t,e));do try{Mj();break}catch(a){uT(t,a)}while(!0);Xy(),dh.current=i,Re=s,lt!==null?e=0:(It=null,Pt=0,e=wt)}if(e!==0){if(e===2&&(s=eg(t),s!==0&&(r=s,e=Ng(t,s))),e===1)throw n=Nc,eo(t,0),Vs(t,r),yn(t,ot()),n;if(e===6)Vs(t,r);else{if(s=t.current.alternate,!(r&30)&&!jj(s)&&(e=ph(t,r),e===2&&(i=eg(t),i!==0&&(r=i,e=Ng(t,i))),e===1))throw n=Nc,eo(t,0),Vs(t,r),yn(t,ot()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:Ui(t,dn,Kr);break;case 3:if(Vs(t,r),(r&130023424)===r&&(e=dv+500-ot(),10<e)){if(Xd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=lg(Ui.bind(null,t,dn,Kr),e);break}Ui(t,dn,Kr);break;case 4:if(Vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-or(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dj(r/1960))-r,10<r){t.timeoutHandle=lg(Ui.bind(null,t,dn,Kr),r);break}Ui(t,dn,Kr);break;case 5:Ui(t,dn,Kr);break;default:throw Error(Y(329))}}}return yn(t,ot()),t.callbackNode===n?cT.bind(null,t):null}function Ng(t,e){var n=Zl;return t.current.memoizedState.isDehydrated&&(eo(t,e).flags|=256),t=ph(t,e),t!==2&&(e=dn,dn=n,e!==null&&Ag(e)),t}function Ag(t){dn===null?dn=t:dn.push.apply(dn,t)}function jj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!dr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vs(t,e){for(e&=~uv,e&=~hf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-or(e),r=1<<n;t[n]=-1,e&=~r}}function s1(t){if(Re&6)throw Error(Y(327));la();var e=Xd(t,0);if(!(e&1))return yn(t,ot()),null;var n=ph(t,e);if(t.tag!==0&&n===2){var r=eg(t);r!==0&&(e=r,n=Ng(t,r))}if(n===1)throw n=Nc,eo(t,0),Vs(t,e),yn(t,ot()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ui(t,dn,Kr),yn(t,ot()),null}function hv(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(Da=ot()+500,lf&&Ti())}}function co(t){Ks!==null&&Ks.tag===0&&!(Re&6)&&la();var e=Re;Re|=1;var n=$n.transition,r=Me;try{if($n.transition=null,Me=1,t)return t()}finally{Me=r,$n.transition=n,Re=e,!(Re&6)&&Ti()}}function fv(){En=ea.current,Ge(ea)}function eo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uj(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(Gy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&th();break;case 3:Ra(),Ge(mn),Ge(Ht),nv();break;case 5:tv(r);break;case 4:Ra();break;case 13:Ge(Xe);break;case 19:Ge(Xe);break;case 10:Yy(r.type._context);break;case 22:case 23:fv()}n=n.return}if(It=t,lt=t=ri(t.current,null),Pt=En=e,wt=0,Nc=null,uv=hf=lo=0,dn=Zl=null,Bi!==null){for(e=0;e<Bi.length;e++)if(n=Bi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Bi=null}return t}function uT(t,e){do{var n=lt;try{if(Xy(),Td.current=uh,ch){for(var r=Ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ch=!1}if(ao=0,St=mt=Ye=null,Yl=!1,Tc=0,cv.current=null,n===null||n.return===null){wt=1,Nc=e,lt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Wx(o);if(v!==null){v.flags&=-257,qx(v,o,a,i,e),v.mode&1&&Hx(i,u,e),e=v,l=u;var x=e.updateQueue;if(x===null){var y=new Set;y.add(l),e.updateQueue=y}else x.add(l);break e}else{if(!(e&1)){Hx(i,u,e),pv();break e}l=Error(Y(426))}}else if(Qe&&a.mode&1){var _=Wx(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),qx(_,o,a,i,e),Ky(Pa(l,a));break e}}i=l=Pa(l,a),wt!==4&&(wt=2),Zl===null?Zl=[i]:Zl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=GS(i,l,e);Vx(i,b);break e;case 1:a=l;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ti===null||!ti.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=KS(i,a,e);Vx(i,k);break e}}i=i.return}while(i!==null)}fT(n)}catch(D){e=D,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function dT(){var t=dh.current;return dh.current=uh,t===null?uh:t}function pv(){(wt===0||wt===3||wt===2)&&(wt=4),It===null||!(lo&268435455)&&!(hf&268435455)||Vs(It,Pt)}function ph(t,e){var n=Re;Re|=2;var r=dT();(It!==t||Pt!==e)&&(Kr=null,eo(t,e));do try{Oj();break}catch(s){uT(t,s)}while(!0);if(Xy(),Re=n,dh.current=r,lt!==null)throw Error(Y(261));return It=null,Pt=0,wt}function Oj(){for(;lt!==null;)hT(lt)}function Mj(){for(;lt!==null&&!aD();)hT(lt)}function hT(t){var e=mT(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?fT(t):lt=e,cv.current=null}function fT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Aj(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,lt=null;return}}else if(n=Nj(n,e,En),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);wt===0&&(wt=5)}function Ui(t,e,n){var r=Me,s=$n.transition;try{$n.transition=null,Me=1,Lj(t,e,n,r)}finally{$n.transition=s,Me=r}return null}function Lj(t,e,n,r){do la();while(Ks!==null);if(Re&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(yD(t,i),t===It&&(lt=It=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ju||(Ju=!0,gT(Qd,function(){return la(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$n.transition,$n.transition=null;var o=Me;Me=1;var a=Re;Re|=4,cv.current=null,Rj(t,n),aT(n,t),rj(og),Yd=!!ig,og=ig=null,t.current=n,Pj(n),lD(),Re=a,Me=o,$n.transition=i}else t.current=n;if(Ju&&(Ju=!1,Ks=t,fh=s),i=t.pendingLanes,i===0&&(ti=null),dD(n.stateNode),yn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hh)throw hh=!1,t=Cg,Cg=null,t;return fh&1&&t.tag!==0&&la(),i=t.pendingLanes,i&1?t===Ig?ec++:(ec=0,Ig=t):ec=0,Ti(),null}function la(){if(Ks!==null){var t=GE(fh),e=$n.transition,n=Me;try{if($n.transition=null,Me=16>t?16:t,Ks===null)var r=!1;else{if(t=Ks,Ks=null,fh=0,Re&6)throw Error(Y(331));var s=Re;for(Re|=4,ae=t.current;ae!==null;){var i=ae,o=i.child;if(ae.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ae=u;ae!==null;){var h=ae;switch(h.tag){case 0:case 11:case 15:Jl(8,h,i)}var f=h.child;if(f!==null)f.return=h,ae=f;else for(;ae!==null;){h=ae;var m=h.sibling,v=h.return;if(sT(h),h===u){ae=null;break}if(m!==null){m.return=v,ae=m;break}ae=v}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ae=o;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jl(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ae=b;break e}ae=i.return}}var w=t.current;for(ae=w;ae!==null;){o=ae;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ae=S;else e:for(o=w;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:df(9,a)}}catch(D){nt(a,a.return,D)}if(a===o){ae=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ae=k;break e}ae=a.return}}if(Re=s,Ti(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(nf,t)}catch{}r=!0}return r}finally{Me=n,$n.transition=e}}return!1}function i1(t,e,n){e=Pa(n,e),e=GS(t,e,1),t=ei(t,e,1),e=Jt(),t!==null&&(Qc(t,1,e),yn(t,e))}function nt(t,e,n){if(t.tag===3)i1(t,t,n);else for(;e!==null;){if(e.tag===3){i1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=Pa(n,t),t=KS(e,t,1),e=ei(e,t,1),t=Jt(),e!==null&&(Qc(e,1,t),yn(e,t));break}}e=e.return}}function Vj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Pt&n)===n&&(wt===4||wt===3&&(Pt&130023424)===Pt&&500>ot()-dv?eo(t,0):uv|=n),yn(t,e)}function pT(t,e){e===0&&(t.mode&1?(e=$u,$u<<=1,!($u&130023424)&&($u=4194304)):e=1);var n=Jt();t=ls(t,e),t!==null&&(Qc(t,e,n),yn(t,n))}function Fj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pT(t,n)}function Uj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),pT(t,n)}var mT;mT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,Ij(t,e,n);pn=!!(t.flags&131072)}else pn=!1,Qe&&e.flags&1048576&&wS(e,sh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Id(t,e),t=e.pendingProps;var s=Na(e,Ht.current);aa(e,n),s=sv(null,e,r,t,s,n);var i=iv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(i=!0,nh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zy(e),s.updater=uf,e.stateNode=s,s._reactInternals=e,mg(e,r,t,n),e=vg(null,e,r,!0,i,n)):(e.tag=0,Qe&&i&&qy(e),Kt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Id(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=$j(r),t=Yn(r,t),s){case 0:e=yg(null,e,r,t,n);break e;case 1:e=Qx(null,e,r,t,n);break e;case 11:e=Gx(null,e,r,t,n);break e;case 14:e=Kx(null,e,r,Yn(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),yg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),Qx(t,e,r,s,n);case 3:e:{if(JS(e),t===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,s=i.element,TS(t,e),ah(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Pa(Error(Y(423)),e),e=Xx(t,e,r,n,s);break e}else if(r!==s){s=Pa(Error(Y(424)),e),e=Xx(t,e,r,n,s);break e}else for(Cn=Zs(e.stateNode.containerInfo.firstChild),In=e,Qe=!0,tr=null,n=ES(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Aa(),r===s){e=cs(t,e,n);break e}Kt(t,e,r,n)}e=e.child}return e;case 5:return CS(e),t===null&&hg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ag(r,s)?o=null:i!==null&&ag(r,i)&&(e.flags|=32),YS(t,e),Kt(t,e,o,n),e.child;case 6:return t===null&&hg(e),null;case 13:return ZS(t,e,n);case 4:return ev(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ka(e,null,r,n):Kt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),Gx(t,e,r,s,n);case 7:return Kt(t,e,e.pendingProps,n),e.child;case 8:return Kt(t,e,e.pendingProps.children,n),e.child;case 12:return Kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,$e(ih,r._currentValue),r._currentValue=o,i!==null)if(dr(i.value,o)){if(i.children===s.children&&!mn.current){e=cs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ts(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),fg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Y(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),fg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Kt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,aa(e,n),s=Hn(s),r=r(s),e.flags|=1,Kt(t,e,r,n),e.child;case 14:return r=e.type,s=Yn(r,e.pendingProps),s=Yn(r.type,s),Kx(t,e,r,s,n);case 15:return QS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),Id(t,e),e.tag=1,gn(r)?(t=!0,nh(e)):t=!1,aa(e,n),qS(e,r,s),mg(e,r,s,n),vg(null,e,r,!0,t,n);case 19:return eT(t,e,n);case 22:return XS(t,e,n)}throw Error(Y(156,e.tag))};function gT(t,e){return BE(t,e)}function zj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new zj(t,e,n,r)}function mv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $j(t){if(typeof t=="function")return mv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jy)return 11;if(t===Oy)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")mv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ho:return to(n.children,s,i,e);case Dy:o=8,s|=8;break;case Fm:return t=Un(12,n,e,s|2),t.elementType=Fm,t.lanes=i,t;case Um:return t=Un(13,n,e,s),t.elementType=Um,t.lanes=i,t;case zm:return t=Un(19,n,e,s),t.elementType=zm,t.lanes=i,t;case CE:return ff(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SE:o=10;break e;case TE:o=9;break e;case jy:o=11;break e;case Oy:o=14;break e;case js:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Un(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function to(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function ff(t,e,n,r){return t=Un(22,t,r,e),t.elementType=CE,t.lanes=n,t.stateNode={isHidden:!1},t}function tm(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function nm(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bj(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mp(0),this.expirationTimes=Mp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gv(t,e,n,r,s,i,o,a,l){return t=new Bj(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Un(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zy(i),t}function Hj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yT(t){if(!t)return di;t=t._reactInternals;e:{if(bo(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(gn(n))return yS(t,n,e)}return e}function vT(t,e,n,r,s,i,o,a,l){return t=gv(n,r,!0,t,s,i,o,a,l),t.context=yT(null),n=t.current,r=Jt(),s=ni(n),i=ts(r,s),i.callback=e??null,ei(n,i,s),t.current.lanes=s,Qc(t,s,r),yn(t,r),t}function pf(t,e,n,r){var s=e.current,i=Jt(),o=ni(s);return n=yT(n),e.context===null?e.context=n:e.pendingContext=n,e=ts(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(s,e,o),t!==null&&(ar(t,s,o,i),Sd(t,s,o)),o}function mh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yv(t,e){o1(t,e),(t=t.alternate)&&o1(t,e)}function Wj(){return null}var wT=typeof reportError=="function"?reportError:function(t){console.error(t)};function vv(t){this._internalRoot=t}mf.prototype.render=vv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));pf(t,e,null,null)};mf.prototype.unmount=vv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;co(function(){pf(null,t,null,null)}),e[as]=null}};function mf(t){this._internalRoot=t}mf.prototype.unstable_scheduleHydration=function(t){if(t){var e=XE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ls.length&&e!==0&&e<Ls[n].priority;n++);Ls.splice(n,0,t),n===0&&JE(t)}};function wv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a1(){}function qj(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=mh(o);i.call(u)}}var o=vT(e,r,t,0,null,!1,!1,"",a1);return t._reactRootContainer=o,t[as]=o.current,xc(t.nodeType===8?t.parentNode:t),co(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=mh(l);a.call(u)}}var l=gv(t,0,!1,null,null,!1,!1,"",a1);return t._reactRootContainer=l,t[as]=l.current,xc(t.nodeType===8?t.parentNode:t),co(function(){pf(e,l,n,r)}),l}function yf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=mh(o);a.call(l)}}pf(e,o,t,s)}else o=qj(n,e,t,s,r);return mh(o)}KE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ul(e.pendingLanes);n!==0&&(Vy(e,n|1),yn(e,ot()),!(Re&6)&&(Da=ot()+500,Ti()))}break;case 13:co(function(){var r=ls(t,1);if(r!==null){var s=Jt();ar(r,t,1,s)}}),yv(t,1)}};Fy=function(t){if(t.tag===13){var e=ls(t,134217728);if(e!==null){var n=Jt();ar(e,t,134217728,n)}yv(t,134217728)}};QE=function(t){if(t.tag===13){var e=ni(t),n=ls(t,e);if(n!==null){var r=Jt();ar(n,t,e,r)}yv(t,e)}};XE=function(){return Me};YE=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};Ym=function(t,e,n){switch(e){case"input":if(Hm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=af(r);if(!s)throw Error(Y(90));NE(r),Hm(r,s)}}}break;case"textarea":kE(t,n);break;case"select":e=n.value,e!=null&&ra(t,!!n.multiple,e,!1)}};LE=hv;VE=co;var Gj={usingClientEntryPoint:!1,Events:[Yc,Ko,af,OE,ME,hv]},Ol={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kj={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||Wj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{nf=Zu.inject(Kj),Pr=Zu}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gj;Rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wv(e))throw Error(Y(200));return Hj(t,e,null,n)};Rn.createRoot=function(t,e){if(!wv(t))throw Error(Y(299));var n=!1,r="",s=wT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gv(t,1,!1,null,null,n,!1,r,s),t[as]=e.current,xc(t.nodeType===8?t.parentNode:t),new vv(e)};Rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=zE(e),t=t===null?null:t.stateNode,t};Rn.flushSync=function(t){return co(t)};Rn.hydrate=function(t,e,n){if(!gf(e))throw Error(Y(200));return yf(null,t,e,!0,n)};Rn.hydrateRoot=function(t,e,n){if(!wv(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=wT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vT(e,null,t,1,n??null,s,!1,i,o),t[as]=e.current,xc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new mf(e)};Rn.render=function(t,e,n){if(!gf(e))throw Error(Y(200));return yf(null,t,e,!1,n)};Rn.unmountComponentAtNode=function(t){if(!gf(t))throw Error(Y(40));return t._reactRootContainer?(co(function(){yf(null,null,t,!1,function(){t._reactRootContainer=null,t[as]=null})}),!0):!1};Rn.unstable_batchedUpdates=hv;Rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gf(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return yf(t,e,n,!1,r)};Rn.version="18.3.1-next-f1338f8080-20240426";function xT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xT)}catch(t){console.error(t)}}xT(),xE.exports=Rn;var zn=xE.exports;const Qj=aE(zn);var _T,l1=zn;_T=l1.createRoot,l1.hydrateRoot;function Xj(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var bT={exports:{}},ET={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ja=p;function Yj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jj=typeof Object.is=="function"?Object.is:Yj,Zj=ja.useState,eO=ja.useEffect,tO=ja.useLayoutEffect,nO=ja.useDebugValue;function rO(t,e){var n=e(),r=Zj({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return tO(function(){s.value=n,s.getSnapshot=e,rm(s)&&i({inst:s})},[t,n,e]),eO(function(){return rm(s)&&i({inst:s}),t(function(){rm(s)&&i({inst:s})})},[t]),nO(n),n}function rm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jj(t,n)}catch{return!0}}function sO(t,e){return e()}var iO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sO:rO;ET.useSyncExternalStore=ja.useSyncExternalStore!==void 0?ja.useSyncExternalStore:iO;bT.exports=ET;var oO=bT.exports;const aO=vE.useInsertionEffect,lO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cO=lO?p.useLayoutEffect:p.useEffect,uO=aO||cO,ST=t=>{const e=p.useRef([t,(...n)=>e[0](...n)]).current;return uO(()=>{e[0]=t}),e[1]},dO="popstate",xv="pushState",_v="replaceState",hO="hashchange",c1=[dO,xv,_v,hO],fO=t=>{for(const e of c1)addEventListener(e,t);return()=>{for(const e of c1)removeEventListener(e,t)}},TT=(t,e)=>oO.useSyncExternalStore(fO,t,e),pO=()=>location.search,mO=({ssrSearch:t=""}={})=>TT(pO,()=>t),u1=()=>location.pathname,gO=({ssrPath:t}={})=>TT(u1,t?()=>t:u1),yO=(t,{replace:e=!1,state:n=null}={})=>history[e?_v:xv](n,"",t),vO=(t={})=>[gO(t),yO],d1=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[d1]>"u"){for(const t of[xv,_v]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,d1,{value:!0})}const wO=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",CT=(t="")=>t==="/"?"":t,xO=(t,e)=>t[0]==="~"?t.slice(1):CT(e)+t,_O=(t="",e)=>wO(h1(CT(t)),h1(e)),h1=t=>{try{return decodeURI(t)}catch{return t}},IT={hook:vO,searchHook:mO,parser:Xj,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},NT=p.createContext(IT),Zc=()=>p.useContext(NT),AT={},kT=p.createContext(AT),bO=()=>p.useContext(kT),vf=t=>{const[e,n]=t.hook(t);return[_O(t.base,e),ST((r,s)=>n(xO(r,t.base),s))]},bv=()=>vf(Zc()),RT=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,m)=>[f,l[m]])):o.groups;let h={...l};return u&&Object.assign(h,u),h})(),...r?[a]:[]]:[!1,null]},PT=({children:t,...e})=>{var h,f;const n=Zc(),r=e.hook?IT:n;let s=r;const[i,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=p.useRef({}),l=a.current,u=l;for(let m in r){const v=m==="base"?r[m]+(e[m]||""):e[m]||r[m];l===u&&v!==u[m]&&(a.current=u={...u}),u[m]=v,v!==r[m]&&(s=u)}return p.createElement(NT.Provider,{value:s,children:t})},f1=({children:t,component:e},n)=>e?p.createElement(e,{params:n}):typeof t=="function"?t(n):t,EO=t=>{let e=p.useRef(AT),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Wr=({path:t,nest:e,match:n,...r})=>{const s=Zc(),[i]=vf(s),[o,a,l]=n??RT(s.parser,t,i,e),u=EO({...bO(),...a});if(!o)return null;const h=l?p.createElement(PT,{base:l},f1(r,u)):f1(r,u);return p.createElement(kT.Provider,{value:u,children:h})},uo=p.forwardRef((t,e)=>{const n=Zc(),[r,s]=vf(n),{to:i="",href:o=i,onClick:a,asChild:l,children:u,className:h,replace:f,state:m,...v}=t,x=ST(_=>{_.ctrlKey||_.metaKey||_.altKey||_.shiftKey||_.button!==0||(a==null||a(_),_.defaultPrevented||(_.preventDefault(),s(o,t)))}),y=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&p.isValidElement(u)?p.cloneElement(u,{onClick:x,href:y}):p.createElement("a",{...v,onClick:x,href:y,className:h!=null&&h.call?h(r===o):h,children:u,ref:e})}),DT=t=>Array.isArray(t)?t.flatMap(e=>DT(e&&e.type===p.Fragment?e.props.children:e)):[t],SO=({children:t,location:e})=>{const n=Zc(),[r]=vf(n);for(const s of DT(t)){let i=0;if(p.isValidElement(s)&&(i=RT(n.parser,s.props.path,e||r,s.props.nest))[0])return p.cloneElement(s,{match:i})}return null};var wf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xf=typeof window>"u"||"Deno"in globalThis;function Jn(){}function TO(t,e){return typeof t=="function"?t(e):t}function CO(t){return typeof t=="number"&&t>=0&&t!==1/0}function IO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function p1(t,e){return typeof t=="function"?t(e):t}function NO(t,e){return typeof t=="function"?t(e):t}function m1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ev(o,e.options))return!1}else if(!kc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function g1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ac(e.options.mutationKey)!==Ac(i))return!1}else if(!kc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ev(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ac)(t)}function Ac(t){return JSON.stringify(t,(e,n)=>kg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function kc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!kc(t[n],e[n])):!1}function jT(t,e){if(t===e)return t;const n=y1(t)&&y1(e);if(n||kg(t)&&kg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const h=n?u:i[u];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=jT(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function y1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kg(t){if(!v1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!v1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function v1(t){return Object.prototype.toString.call(t)==="[object Object]"}function AO(t){return new Promise(e=>{setTimeout(e,t)})}function kO(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?jT(t,e):e}function RO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function PO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Sv=Symbol();function OT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Sv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Xi,$s,va,Zb,DO=(Zb=class extends wf{constructor(){super();je(this,Xi);je(this,$s);je(this,va);Ee(this,va,e=>{if(!xf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){K(this,$s)||this.setEventListener(K(this,va))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,$s))==null||e.call(this),Ee(this,$s,void 0))}setEventListener(e){var n;Ee(this,va,e),(n=K(this,$s))==null||n.call(this),Ee(this,$s,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){K(this,Xi)!==e&&(Ee(this,Xi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof K(this,Xi)=="boolean"?K(this,Xi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xi=new WeakMap,$s=new WeakMap,va=new WeakMap,Zb),MT=new DO,wa,Bs,xa,eE,jO=(eE=class extends wf{constructor(){super();je(this,wa,!0);je(this,Bs);je(this,xa);Ee(this,xa,e=>{if(!xf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){K(this,Bs)||this.setEventListener(K(this,xa))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,Bs))==null||e.call(this),Ee(this,Bs,void 0))}setEventListener(e){var n;Ee(this,xa,e),(n=K(this,Bs))==null||n.call(this),Ee(this,Bs,e(this.setOnline.bind(this)))}setOnline(e){K(this,wa)!==e&&(Ee(this,wa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return K(this,wa)}},wa=new WeakMap,Bs=new WeakMap,xa=new WeakMap,eE),gh=new jO;function OO(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function MO(t){return Math.min(1e3*2**t,3e4)}function LT(t){return(t??"online")==="online"?gh.isOnline():!0}var VT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function sm(t){return t instanceof VT}function FT(t){let e=!1,n=0,r=!1,s;const i=OO(),o=y=>{var _;r||(m(new VT(y)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>MT.isFocused()&&(t.networkMode==="always"||gh.isOnline())&&t.canRun(),h=()=>LT(t.networkMode)&&t.canRun(),f=y=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,y),s==null||s(),i.resolve(y))},m=y=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,y),s==null||s(),i.reject(y))},v=()=>new Promise(y=>{var _;s=b=>{(r||u())&&y(b)},(_=t.onPause)==null||_.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),x=()=>{if(r)return;let y;const _=n===0?t.initialPromise:void 0;try{y=_??t.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(f).catch(b=>{var O;if(r)return;const w=t.retry??(xf?0:3),S=t.retryDelay??MO,k=typeof S=="function"?S(n,b):S,D=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(e||!D){m(b);return}n++,(O=t.onFail)==null||O.call(t,n,b),AO(k).then(()=>u()?void 0:v()).then(()=>{e?m(b):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?x():v().then(x),i)}}function LO(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Qt=LO(),Yi,tE,UT=(tE=class{constructor(){je(this,Yi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CO(this.gcTime)&&Ee(this,Yi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(xf?1/0:5*60*1e3))}clearGcTimeout(){K(this,Yi)&&(clearTimeout(K(this,Yi)),Ee(this,Yi,void 0))}},Yi=new WeakMap,tE),_a,ba,On,Ut,qc,Ji,Zn,Gr,nE,VO=(nE=class extends UT{constructor(n){super();je(this,Zn);je(this,_a);je(this,ba);je(this,On);je(this,Ut);je(this,qc);je(this,Ji);Ee(this,Ji,!1),Ee(this,qc,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ee(this,On,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ee(this,_a,UO(this.options)),this.state=n.state??K(this,_a),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=K(this,Ut))==null?void 0:n.promise}setOptions(n){this.options={...K(this,qc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,On).remove(this)}setData(n,r){const s=kO(this.state.data,n,this.options);return Mt(this,Zn,Gr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Mt(this,Zn,Gr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=K(this,Ut))==null?void 0:s.promise;return(i=K(this,Ut))==null||i.cancel(n),r?r.then(Jn).catch(Jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,_a))}isActive(){return this.observers.some(n=>NO(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!IO(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=K(this,Ut))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=K(this,Ut))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),K(this,On).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(K(this,Ut)&&(K(this,Ji)?K(this,Ut).cancel({revert:!0}):K(this,Ut).cancelRetry()),this.scheduleGc()),K(this,On).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Mt(this,Zn,Gr).call(this,{type:"invalidate"})}fetch(n,r){var u,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(K(this,Ut))return K(this,Ut).continueRetry(),K(this,Ut).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(v=>v.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ee(this,Ji,!0),s.signal)})},o=()=>{const m=OT(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return i(v),Ee(this,Ji,!1),this.options.persister?this.options.persister(m,v,this):m(v)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),Ee(this,ba,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Mt(this,Zn,Gr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=m=>{var v,x,y,_;sm(m)&&m.silent||Mt(this,Zn,Gr).call(this,{type:"error",error:m}),sm(m)||((x=(v=K(this,On).config).onError)==null||x.call(v,m,this),(_=(y=K(this,On).config).onSettled)==null||_.call(y,this.state.data,m,this)),this.scheduleGc()};return Ee(this,Ut,FT({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var v,x,y,_;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(b){l(b);return}(x=(v=K(this,On).config).onSuccess)==null||x.call(v,m,this),(_=(y=K(this,On).config).onSettled)==null||_.call(y,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,v)=>{Mt(this,Zn,Gr).call(this,{type:"failed",failureCount:m,error:v})},onPause:()=>{Mt(this,Zn,Gr).call(this,{type:"pause"})},onContinue:()=>{Mt(this,Zn,Gr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),K(this,Ut).start()}},_a=new WeakMap,ba=new WeakMap,On=new WeakMap,Ut=new WeakMap,qc=new WeakMap,Ji=new WeakMap,Zn=new WeakSet,Gr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...FO(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return sm(i)&&i.revert&&K(this,ba)?{...K(this,ba),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Qt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),K(this,On).notify({query:this,type:"updated",action:n})})},nE);function FO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function UO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Cr,rE,zO=(rE=class extends wf{constructor(e={}){super();je(this,Cr);this.config=e,Ee(this,Cr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ev(s,n);let o=this.get(i);return o||(o=new VO({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){K(this,Cr).has(e.queryHash)||(K(this,Cr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=K(this,Cr).get(e.queryHash);n&&(e.destroy(),n===e&&K(this,Cr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return K(this,Cr).get(e)}getAll(){return[...K(this,Cr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>m1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>m1(e,r)):n}notify(e){Qt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Qt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Cr=new WeakMap,rE),Ir,Gt,Zi,Nr,Ps,sE,$O=(sE=class extends UT{constructor(n){super();je(this,Nr);je(this,Ir);je(this,Gt);je(this,Zi);this.mutationId=n.mutationId,Ee(this,Gt,n.mutationCache),Ee(this,Ir,[]),this.state=n.state||BO(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){K(this,Ir).includes(n)||(K(this,Ir).push(n),this.clearGcTimeout(),K(this,Gt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ee(this,Ir,K(this,Ir).filter(r=>r!==n)),this.scheduleGc(),K(this,Gt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){K(this,Ir).length||(this.state.status==="pending"?this.scheduleGc():K(this,Gt).remove(this))}continue(){var n;return((n=K(this,Zi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,h,f,m,v,x,y,_,b,w,S,k,D,O,T,C;Ee(this,Zi,FT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,A)=>{Mt(this,Nr,Ps).call(this,{type:"failed",failureCount:I,error:A})},onPause:()=>{Mt(this,Nr,Ps).call(this,{type:"pause"})},onContinue:()=>{Mt(this,Nr,Ps).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,Gt).canRun(this)}));const r=this.state.status==="pending",s=!K(this,Zi).canStart();try{if(!r){Mt(this,Nr,Ps).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=K(this,Gt).config).onMutate)==null?void 0:o.call(i,n,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));A!==this.state.context&&Mt(this,Nr,Ps).call(this,{type:"pending",context:A,variables:n,isPaused:s})}const I=await K(this,Zi).start();return await((h=(u=K(this,Gt).config).onSuccess)==null?void 0:h.call(u,I,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,I,n,this.state.context)),await((x=(v=K(this,Gt).config).onSettled)==null?void 0:x.call(v,I,null,this.state.variables,this.state.context,this)),await((_=(y=this.options).onSettled)==null?void 0:_.call(y,I,null,n,this.state.context)),Mt(this,Nr,Ps).call(this,{type:"success",data:I}),I}catch(I){try{throw await((w=(b=K(this,Gt).config).onError)==null?void 0:w.call(b,I,n,this.state.context,this)),await((k=(S=this.options).onError)==null?void 0:k.call(S,I,n,this.state.context)),await((O=(D=K(this,Gt).config).onSettled)==null?void 0:O.call(D,void 0,I,this.state.variables,this.state.context,this)),await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,I,n,this.state.context)),I}finally{Mt(this,Nr,Ps).call(this,{type:"error",error:I})}}finally{K(this,Gt).runNext(this)}}},Ir=new WeakMap,Gt=new WeakMap,Zi=new WeakMap,Nr=new WeakSet,Ps=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Qt.batch(()=>{K(this,Ir).forEach(s=>{s.onMutationUpdate(n)}),K(this,Gt).notify({mutation:this,type:"updated",action:n})})},sE);function BO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bn,Gc,iE,HO=(iE=class extends wf{constructor(e={}){super();je(this,bn);je(this,Gc);this.config=e,Ee(this,bn,new Map),Ee(this,Gc,Date.now())}build(e,n,r){const s=new $O({mutationCache:this,mutationId:++Mu(this,Gc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=ed(e),r=K(this,bn).get(n)??[];r.push(e),K(this,bn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=ed(e);if(K(this,bn).has(n)){const s=(r=K(this,bn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?K(this,bn).delete(n):K(this,bn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=K(this,bn).get(ed(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=K(this,bn).get(ed(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...K(this,bn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>g1(n,r))}findAll(e={}){return this.getAll().filter(n=>g1(e,n))}notify(e){Qt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Qt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Jn))))}},bn=new WeakMap,Gc=new WeakMap,iE);function ed(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function w1(t){return{onFetch:(e,n)=>{var h,f,m,v,x;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const _=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},b=OT(e.options,e.fetchOptions),w=async(S,k,D)=>{if(y)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const O={queryKey:e.queryKey,pageParam:k,direction:D?"backward":"forward",meta:e.options.meta};_(O);const T=await b(O),{maxPages:C}=e.options,I=D?PO:RO;return{pages:I(S.pages,T,C),pageParams:I(S.pageParams,k,C)}};if(s&&i.length){const S=s==="backward",k=S?WO:x1,D={pages:i,pageParams:o},O=k(r,D);a=await w(D,O,S)}else{const S=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:x1(r,a);if(l>0&&k==null)break;a=await w(a,k),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var y,_;return(_=(y=e.options).persister)==null?void 0:_.call(y,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function x1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function WO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var tt,Hs,Ws,Ea,Sa,qs,Ta,Ca,oE,qO=(oE=class{constructor(t={}){je(this,tt);je(this,Hs);je(this,Ws);je(this,Ea);je(this,Sa);je(this,qs);je(this,Ta);je(this,Ca);Ee(this,tt,t.queryCache||new zO),Ee(this,Hs,t.mutationCache||new HO),Ee(this,Ws,t.defaultOptions||{}),Ee(this,Ea,new Map),Ee(this,Sa,new Map),Ee(this,qs,0)}mount(){Mu(this,qs)._++,K(this,qs)===1&&(Ee(this,Ta,MT.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,tt).onFocus())})),Ee(this,Ca,gh.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,tt).onOnline())})))}unmount(){var t,e;Mu(this,qs)._--,K(this,qs)===0&&((t=K(this,Ta))==null||t.call(this),Ee(this,Ta,void 0),(e=K(this,Ca))==null||e.call(this),Ee(this,Ca,void 0))}isFetching(t){return K(this,tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return K(this,Hs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=K(this,tt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=K(this,tt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(p1(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return K(this,tt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=K(this,tt).get(r.queryHash),i=s==null?void 0:s.state.data,o=TO(e,i);if(o!==void 0)return K(this,tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Qt.batch(()=>K(this,tt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=K(this,tt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=K(this,tt);Qt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=K(this,tt),r={type:"active",...t};return Qt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Qt.batch(()=>K(this,tt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Jn).catch(Jn)}invalidateQueries(t={},e={}){return Qt.batch(()=>{if(K(this,tt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Qt.batch(()=>K(this,tt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Jn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Jn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=K(this,tt).build(this,e);return n.isStaleByTime(p1(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Jn).catch(Jn)}fetchInfiniteQuery(t){return t.behavior=w1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Jn).catch(Jn)}ensureInfiniteQueryData(t){return t.behavior=w1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gh.isOnline()?K(this,Hs).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,tt)}getMutationCache(){return K(this,Hs)}getDefaultOptions(){return K(this,Ws)}setDefaultOptions(t){Ee(this,Ws,t)}setQueryDefaults(t,e){K(this,Ea).set(Ac(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...K(this,Ea).values()];let n={};return e.forEach(r=>{kc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){K(this,Sa).set(Ac(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...K(this,Sa).values()];let n={};return e.forEach(r=>{kc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...K(this,Ws).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ev(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Sv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...K(this,Ws).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){K(this,tt).clear(),K(this,Hs).clear()}},tt=new WeakMap,Hs=new WeakMap,Ws=new WeakMap,Ea=new WeakMap,Sa=new WeakMap,qs=new WeakMap,Ta=new WeakMap,Ca=new WeakMap,oE),GO=p.createContext(void 0),KO=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(GO.Provider,{value:t,children:e}));async function QO(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const XO=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await QO(n),await n.json())},YO=new qO({defaultOptions:{queries:{queryFn:XO({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),JO=1,ZO=1e6;let im=0;function eM(){return im=(im+1)%Number.MAX_SAFE_INTEGER,im.toString()}const om=new Map,_1=t=>{if(om.has(t))return;const e=setTimeout(()=>{om.delete(t),tc({type:"REMOVE_TOAST",toastId:t})},ZO);om.set(t,e)},tM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,JO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?_1(n):t.toasts.forEach(r=>{_1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Rd=[];let Pd={toasts:[]};function tc(t){Pd=tM(Pd,t),Rd.forEach(e=>{e(Pd)})}function nM({...t}){const e=eM(),n=s=>tc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>tc({type:"DISMISS_TOAST",toastId:e});return tc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function eu(){const[t,e]=p.useState(Pd);return p.useEffect(()=>(Rd.push(e),()=>{const n=Rd.indexOf(e);n>-1&&Rd.splice(n,1)}),[t]),{...t,toast:nM,dismiss:n=>tc({type:"DISMISS_TOAST",toastId:n})}}function he(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function b1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zT(...t){return e=>{let n=!1;const r=t.map(s=>{const i=b1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():b1(t[s],null)}}}}function Le(...t){return p.useCallback(zT(...t),t)}function rM(t,e){const n=p.createContext(e),r=i=>{const{children:o,...a}=i,l=p.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function qn(t,e=[]){let n=[];function r(i,o){const a=p.createContext(o),l=n.length;n=[...n,o];const u=f=>{var b;const{scope:m,children:v,...x}=f,y=((b=m==null?void 0:m[t])==null?void 0:b[l])||a,_=p.useMemo(()=>x,Object.values(x));return c.jsx(y.Provider,{value:_,children:v})};u.displayName=i+"Provider";function h(f,m){var y;const v=((y=m==null?void 0:m[t])==null?void 0:y[l])||a,x=p.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,sM(s,...e)]}function sM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Oa(t){const e=oM(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,a=p.Children.toArray(i),l=a.find(aM);if(l){const u=l.props.children,h=a.map(f=>f===l?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var iM=Oa("Slot");function oM(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=cM(s),a=lM(i,s.props);return s.type!==p.Fragment&&(a.ref=r?zT(r,o):o),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $T=Symbol("radix.slottable");function BT(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=$T,e}function aM(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$T}function lM(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function cM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Tv(t){const e=t+"CollectionProvider",[n,r]=qn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:b}=y,w=Se.useRef(null),S=Se.useRef(new Map).current;return c.jsx(s,{scope:_,itemMap:S,collectionRef:w,children:b})};o.displayName=e;const a=t+"CollectionSlot",l=Oa(a),u=Se.forwardRef((y,_)=>{const{scope:b,children:w}=y,S=i(a,b),k=Le(_,S.collectionRef);return c.jsx(l,{ref:k,children:w})});u.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=Oa(h),v=Se.forwardRef((y,_)=>{const{scope:b,children:w,...S}=y,k=Se.useRef(null),D=Le(_,k),O=i(h,b);return Se.useEffect(()=>(O.itemMap.set(k,{ref:k,...S}),()=>void O.itemMap.delete(k))),c.jsx(m,{[f]:"",ref:D,children:w})});v.displayName=h;function x(y){const _=i(t+"CollectionConsumer",y);return Se.useCallback(()=>{const w=_.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((O,T)=>S.indexOf(O.ref.current)-S.indexOf(T.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},x,r]}var uM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ve=uM.reduce((t,e)=>{const n=Oa(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function HT(t,e){t&&zn.flushSync(()=>t.dispatchEvent(e))}function Zt(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function dM(t,e=globalThis==null?void 0:globalThis.document){const n=Zt(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var hM="DismissableLayer",Rg="dismissableLayer.update",fM="dismissableLayer.pointerDownOutside",pM="dismissableLayer.focusOutside",E1,WT=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tu=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=p.useContext(WT),[h,f]=p.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=p.useState({}),x=Le(e,T=>f(T)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(_),w=h?y.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,k=w>=b,D=gM(T=>{const C=T.target,I=[...u.branches].some(A=>A.contains(C));!k||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},m),O=yM(T=>{const C=T.target;[...u.branches].some(A=>A.contains(C))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},m);return dM(T=>{w===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},m),p.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(E1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),S1(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=E1)}},[h,m,n,u]),p.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),S1())},[h,u]),p.useEffect(()=>{const T=()=>v({});return document.addEventListener(Rg,T),()=>document.removeEventListener(Rg,T)},[]),c.jsx(ve.div,{...l,ref:x,style:{pointerEvents:S?k?"auto":"none":void 0,...t.style},onFocusCapture:he(t.onFocusCapture,O.onFocusCapture),onBlurCapture:he(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:he(t.onPointerDownCapture,D.onPointerDownCapture)})});tu.displayName=hM;var mM="DismissableLayerBranch",qT=p.forwardRef((t,e)=>{const n=p.useContext(WT),r=p.useRef(null),s=Le(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(ve.div,{...t,ref:s})});qT.displayName=mM;function gM(t,e=globalThis==null?void 0:globalThis.document){const n=Zt(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){GT(fM,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function yM(t,e=globalThis==null?void 0:globalThis.document){const n=Zt(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&GT(pM,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function S1(){const t=new CustomEvent(Rg);document.dispatchEvent(t)}function GT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?HT(s,i):s.dispatchEvent(i)}var vM=tu,wM=qT,_t=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},xM="Portal",_f=p.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=p.useState(!1);_t(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Qj.createPortal(c.jsx(ve.div,{...r,ref:e}),o):null});_f.displayName=xM;function _M(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Eo=t=>{const{present:e,children:n}=t,r=bM(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Le(r.ref,EM(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Eo.displayName="Presence";function bM(t){const[e,n]=p.useState(),r=p.useRef({}),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[a,l]=_M(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=td(r.current);i.current=a==="mounted"?u:"none"},[a]),_t(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,v=td(u);t?l("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&m!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),_t(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=v=>{const y=td(r.current).includes(v.animationName);if(v.target===e&&y&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},m=v=>{v.target===e&&(i.current=td(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function td(t){return(t==null?void 0:t.animationName)||"none"}function EM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function hi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=SM({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Zt(n),l=p.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else s(u)},[i,t,s,a]);return[o,l]}function SM({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,s=p.useRef(r),i=Zt(e);return p.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var TM="VisuallyHidden",nu=p.forwardRef((t,e)=>c.jsx(ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));nu.displayName=TM;var CM=nu,Cv="ToastProvider",[Iv,IM,NM]=Tv("Toast"),[KT,YH]=qn("Toast",[NM]),[AM,bf]=KT(Cv),QT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=p.useState(null),[u,h]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cv}\`. Expected non-empty \`string\`.`),c.jsx(Iv.Provider,{scope:e,children:c.jsx(AM,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>h(v=>v+1),[]),onToastRemove:p.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};QT.displayName=Cv;var XT="ToastViewport",kM=["F8"],Pg="toast.viewportPause",Dg="toast.viewportResume",YT=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=kM,label:s="Notifications ({hotkey})",...i}=t,o=bf(XT,n),a=IM(n),l=p.useRef(null),u=p.useRef(null),h=p.useRef(null),f=p.useRef(null),m=Le(e,f,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;p.useEffect(()=>{const _=b=>{var S;r.length!==0&&r.every(k=>b[k]||b.code===k)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),p.useEffect(()=>{const _=l.current,b=f.current;if(x&&_&&b){const w=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(Pg);b.dispatchEvent(O),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(Dg);b.dispatchEvent(O),o.isClosePausedRef.current=!1}},k=O=>{!_.contains(O.relatedTarget)&&S()},D=()=>{_.contains(document.activeElement)||S()};return _.addEventListener("focusin",w),_.addEventListener("focusout",k),_.addEventListener("pointermove",w),_.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{_.removeEventListener("focusin",w),_.removeEventListener("focusout",k),_.removeEventListener("pointermove",w),_.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[x,o.isClosePausedRef]);const y=p.useCallback(({tabbingDirection:_})=>{const w=a().map(S=>{const k=S.ref.current,D=[k,...BM(k)];return _==="forwards"?D:D.reverse()});return(_==="forwards"?w.reverse():w).flat()},[a]);return p.useEffect(()=>{const _=f.current;if(_){const b=w=>{var D,O,T;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const C=document.activeElement,I=w.shiftKey;if(w.target===_&&I){(D=u.current)==null||D.focus();return}const j=y({tabbingDirection:I?"backwards":"forwards"}),P=j.findIndex(z=>z===C);am(j.slice(P+1))?w.preventDefault():I?(O=u.current)==null||O.focus():(T=h.current)==null||T.focus()}};return _.addEventListener("keydown",b),()=>_.removeEventListener("keydown",b)}},[a,y]),c.jsxs(wM,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&c.jsx(jg,{ref:u,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"forwards"});am(_)}}),c.jsx(Iv.Slot,{scope:n,children:c.jsx(ve.ol,{tabIndex:-1,...i,ref:m})}),x&&c.jsx(jg,{ref:h,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"backwards"});am(_)}})]})});YT.displayName=XT;var JT="ToastFocusProxy",jg=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=bf(JT,n);return c.jsx(nu,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});jg.displayName=JT;var Ef="Toast",RM="toast.swipeStart",PM="toast.swipeMove",DM="toast.swipeCancel",jM="toast.swipeEnd",ZT=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=hi({prop:r,defaultProp:s,onChange:i});return c.jsx(Eo,{present:n||a,children:c.jsx(LM,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Zt(t.onPause),onResume:Zt(t.onResume),onSwipeStart:he(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:he(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});ZT.displayName=Ef;var[OM,MM]=KT(Ef,{onClose(){}}),LM=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:v,...x}=t,y=bf(Ef,n),[_,b]=p.useState(null),w=Le(e,z=>b(z)),S=p.useRef(null),k=p.useRef(null),D=s||y.duration,O=p.useRef(0),T=p.useRef(D),C=p.useRef(0),{onToastAdd:I,onToastRemove:A}=y,R=Zt(()=>{var re;(_==null?void 0:_.contains(document.activeElement))&&((re=y.viewport)==null||re.focus()),o()}),j=p.useCallback(z=>{!z||z===1/0||(window.clearTimeout(C.current),O.current=new Date().getTime(),C.current=window.setTimeout(R,z))},[R]);p.useEffect(()=>{const z=y.viewport;if(z){const re=()=>{j(T.current),u==null||u()},U=()=>{const q=new Date().getTime()-O.current;T.current=T.current-q,window.clearTimeout(C.current),l==null||l()};return z.addEventListener(Pg,U),z.addEventListener(Dg,re),()=>{z.removeEventListener(Pg,U),z.removeEventListener(Dg,re)}}},[y.viewport,D,l,u,j]),p.useEffect(()=>{i&&!y.isClosePausedRef.current&&j(D)},[i,D,y.isClosePausedRef,j]),p.useEffect(()=>(I(),()=>A()),[I,A]);const P=p.useMemo(()=>_?oC(_):null,[_]);return y.viewport?c.jsxs(c.Fragment,{children:[P&&c.jsx(VM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),c.jsx(OM,{scope:n,onClose:R,children:zn.createPortal(c.jsx(Iv.ItemSlot,{scope:n,children:c.jsx(vM,{asChild:!0,onEscapeKeyDown:he(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||R(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:he(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:he(t.onPointerDown,z=>{z.button===0&&(S.current={x:z.clientX,y:z.clientY})}),onPointerMove:he(t.onPointerMove,z=>{if(!S.current)return;const re=z.clientX-S.current.x,U=z.clientY-S.current.y,q=!!k.current,L=["left","right"].includes(y.swipeDirection),M=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,$=L?M(0,re):0,B=L?0:M(0,U),Q=z.pointerType==="touch"?10:2,X={x:$,y:B},Z={originalEvent:z,delta:X};q?(k.current=X,nd(PM,f,Z,{discrete:!1})):T1(X,y.swipeDirection,Q)?(k.current=X,nd(RM,h,Z,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(re)>Q||Math.abs(U)>Q)&&(S.current=null)}),onPointerUp:he(t.onPointerUp,z=>{const re=k.current,U=z.target;if(U.hasPointerCapture(z.pointerId)&&U.releasePointerCapture(z.pointerId),k.current=null,S.current=null,re){const q=z.currentTarget,L={originalEvent:z,delta:re};T1(re,y.swipeDirection,y.swipeThreshold)?nd(jM,v,L,{discrete:!0}):nd(DM,m,L,{discrete:!0}),q.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),VM=t=>{const{__scopeToast:e,children:n,...r}=t,s=bf(Ef,e),[i,o]=p.useState(!1),[a,l]=p.useState(!1);return zM(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(_f,{asChild:!0,children:c.jsx(nu,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},FM="ToastTitle",eC=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(ve.div,{...r,ref:e})});eC.displayName=FM;var UM="ToastDescription",tC=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(ve.div,{...r,ref:e})});tC.displayName=UM;var nC="ToastAction",rC=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(iC,{altText:n,asChild:!0,children:c.jsx(Nv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nC}\`. Expected non-empty \`string\`.`),null)});rC.displayName=nC;var sC="ToastClose",Nv=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=MM(sC,n);return c.jsx(iC,{asChild:!0,children:c.jsx(ve.button,{type:"button",...r,ref:e,onClick:he(t.onClick,s.onClose)})})});Nv.displayName=sC;var iC=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function oC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),$M(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...oC(r))}}),e}function nd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?HT(s,i):s.dispatchEvent(i)}var T1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function zM(t=()=>{}){const e=Zt(t);_t(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function $M(t){return t.nodeType===t.ELEMENT_NODE}function BM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function am(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var HM=QT,aC=YT,lC=ZT,cC=eC,uC=tC,dC=rC,hC=Nv;function fC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=fC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=fC(t))&&(r&&(r+=" "),r+=e);return r}const C1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,I1=pC,ru=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return I1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const m=C1(h)||C1(f);return s[u][m]}),a=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...v}=h;return Object.entries(v).every(x=>{let[y,_]=x;return Array.isArray(_)?_.includes({...i,...a}[y]):{...i,...a}[y]===_})?[...u,f,m]:u},[]);return I1(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mC=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>p.createElement("svg",{ref:l,...qM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:mC("lucide",s),...a},[...o.map(([u,h])=>p.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(GM,{ref:i,iconNode:e,className:mC(`lucide-${WM(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=me("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=me("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=me("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=me("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=me("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=me("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=me("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=me("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=me("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=me("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=me("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=me("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=me("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=me("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=me("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=me("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=me("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kv="-",w4=t=>{const e=_4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(kv);return a[0]===""&&a.length!==1&&a.shift(),TC(a,e)||x4(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},TC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?TC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(kv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},P1=/^\[(.+)\]$/,x4=t=>{if(P1.test(t)){const e=P1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return E4(Object.entries(t.classGroups),n).forEach(([i,o])=>{Lg(o,r,i,e)}),r},Lg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:D1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(b4(s)){Lg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Lg(o,D1(e,i),n,r)})})},D1=(t,e)=>{let n=t;return e.split(kv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},b4=t=>t.isThemeGetter,E4=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,S4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},CC="!",T4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,h=0,f;for(let _=0;_<a.length;_++){let b=a[_];if(u===0){if(b===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(h,_)),h=_+i;continue}if(b==="/"){f=_;continue}}b==="["?u++:b==="]"&&u--}const m=l.length===0?a:a.substring(h),v=m.startsWith(CC),x=v?m.substring(1):m,y=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},C4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},I4=t=>({cache:S4(t.cacheSize),parseClassName:T4(t),...w4(t)}),N4=/\s+/,A4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(N4);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:v}=n(u);let x=!!v,y=r(x?m.substring(0,v):m);if(!y){if(!x){a=u+(a.length>0?" "+a:a);continue}if(y=r(m),!y){a=u+(a.length>0?" "+a:a);continue}x=!1}const _=C4(h).join(":"),b=f?_+CC:_,w=b+y;if(i.includes(w))continue;i.push(w);const S=s(y,x);for(let k=0;k<S.length;++k){const D=S[k];i.push(b+D)}a=u+(a.length>0?" "+a:a)}return a};function k4(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=IC(e))&&(r&&(r+=" "),r+=n);return r}const IC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=IC(t[r]))&&(n&&(n+=" "),n+=e);return n};function R4(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((h,f)=>f(h),t());return n=I4(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const h=A4(l,n);return s(l,h),h}return function(){return i(k4.apply(null,arguments))}}const We=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},NC=/^\[(?:([a-z-]+):)?(.+)\]$/i,P4=/^\d+\/\d+$/,D4=new Set(["px","full","screen"]),j4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,L4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,V4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qr=t=>ca(t)||D4.has(t)||P4.test(t),As=t=>Za(t,"length",q4),ca=t=>!!t&&!Number.isNaN(Number(t)),lm=t=>Za(t,"number",ca),Ml=t=>!!t&&Number.isInteger(Number(t)),F4=t=>t.endsWith("%")&&ca(t.slice(0,-1)),_e=t=>NC.test(t),ks=t=>j4.test(t),U4=new Set(["length","size","percentage"]),z4=t=>Za(t,U4,AC),$4=t=>Za(t,"position",AC),B4=new Set(["image","url"]),H4=t=>Za(t,B4,K4),W4=t=>Za(t,"",G4),Ll=()=>!0,Za=(t,e,n)=>{const r=NC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},q4=t=>O4.test(t)&&!M4.test(t),AC=()=>!1,G4=t=>L4.test(t),K4=t=>V4.test(t),Q4=()=>{const t=We("colors"),e=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),u=We("grayscale"),h=We("hueRotate"),f=We("invert"),m=We("gap"),v=We("gradientColorStops"),x=We("gradientColorStopPositions"),y=We("inset"),_=We("margin"),b=We("opacity"),w=We("padding"),S=We("saturate"),k=We("scale"),D=We("sepia"),O=We("skew"),T=We("space"),C=We("translate"),I=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",_e,e],j=()=>[_e,e],P=()=>["",qr,As],z=()=>["auto",ca,_e],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",_e],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[ca,_e];return{cacheSize:500,separator:":",theme:{colors:[Ll],spacing:[qr,As],blur:["none","",ks,_e],brightness:B(),borderColor:[t],borderRadius:["none","","full",ks,_e],borderSpacing:j(),borderWidth:P(),contrast:B(),grayscale:M(),hueRotate:B(),invert:M(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[F4,As],inset:R(),margin:R(),opacity:B(),padding:j(),saturate:B(),scale:B(),sepia:M(),skew:B(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[ks]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),_e]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ml,_e]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Ml,_e]}],"grid-cols":[{"grid-cols":[Ll]}],"col-start-end":[{col:["auto",{span:["full",Ml,_e]},_e]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Ll]}],"row-start-end":[{row:["auto",{span:[Ml,_e]},_e]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[ks]},ks]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ks,As]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lm]}],"font-family":[{font:[Ll]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",ca,lm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qr,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qr,As]}],"underline-offset":[{"underline-offset":["auto",qr,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),$4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",z4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},H4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[qr,_e]}],"outline-w":[{outline:[qr,As]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[qr,As]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ks,W4]}],"shadow-color":[{shadow:[Ll]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ks,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Ml,_e]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[qr,As,lm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},X4=R4(Q4);function J(...t){return X4(pC(t))}const Y4=HM,kC=p.forwardRef(({className:t,...e},n)=>c.jsx(aC,{ref:n,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));kC.displayName=aC.displayName;const J4=ru("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),RC=p.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(lC,{ref:r,className:J(J4({variant:e}),t),...n}));RC.displayName=lC.displayName;const Z4=p.forwardRef(({className:t,...e},n)=>c.jsx(dC,{ref:n,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Z4.displayName=dC.displayName;const PC=p.forwardRef(({className:t,...e},n)=>c.jsx(hC,{ref:n,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(su,{className:"h-4 w-4"})}));PC.displayName=hC.displayName;const DC=p.forwardRef(({className:t,...e},n)=>c.jsx(cC,{ref:n,className:J("text-sm font-semibold",t),...e}));DC.displayName=cC.displayName;const jC=p.forwardRef(({className:t,...e},n)=>c.jsx(uC,{ref:n,className:J("text-sm opacity-90",t),...e}));jC.displayName=uC.displayName;function eL(){const{toasts:t}=eu();return c.jsxs(Y4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(RC,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(DC,{children:n}),r&&c.jsx(jC,{children:r})]}),s,c.jsx(PC,{})]},e)}),c.jsx(kC,{})]})}var tL=vE[" useId ".trim().toString()]||(()=>{}),nL=0;function ns(t){const[e,n]=p.useState(tL());return _t(()=>{n(r=>r??String(nL++))},[t]),e?`radix-${e}`:""}const rL=["top","right","bottom","left"],fi=Math.min,Sn=Math.max,vh=Math.round,rd=Math.floor,jr=t=>({x:t,y:t}),sL={left:"right",right:"left",bottom:"top",top:"bottom"},iL={start:"end",end:"start"};function Vg(t,e,n){return Sn(t,fi(e,n))}function us(t,e){return typeof t=="function"?t(e):t}function ds(t){return t.split("-")[0]}function el(t){return t.split("-")[1]}function Rv(t){return t==="x"?"y":"x"}function Pv(t){return t==="y"?"height":"width"}function pi(t){return["top","bottom"].includes(ds(t))?"y":"x"}function Dv(t){return Rv(pi(t))}function oL(t,e,n){n===void 0&&(n=!1);const r=el(t),s=Dv(t),i=Pv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=wh(o)),[o,wh(o)]}function aL(t){const e=wh(t);return[Fg(t),e,Fg(e)]}function Fg(t){return t.replace(/start|end/g,e=>iL[e])}function lL(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function cL(t,e,n,r){const s=el(t);let i=lL(ds(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Fg)))),i}function wh(t){return t.replace(/left|right|bottom|top/g,e=>sL[e])}function uL(t){return{top:0,right:0,bottom:0,left:0,...t}}function OC(t){return typeof t!="number"?uL(t):{top:t,right:t,bottom:t,left:t}}function xh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function j1(t,e,n){let{reference:r,floating:s}=t;const i=pi(e),o=Dv(e),a=Pv(o),l=ds(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(el(e)){case"start":v[o]-=m*(n&&u?-1:1);break;case"end":v[o]+=m*(n&&u?-1:1);break}return v}const dL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=j1(u,r,l),m=r,v={},x=0;for(let y=0;y<a.length;y++){const{name:_,fn:b}=a[y],{x:w,y:S,data:k,reset:D}=await b({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});h=w??h,f=S??f,v={...v,[_]:{...v[_],...k}},D&&x<=50&&(x++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=j1(u,m,l)),y=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:v}};async function Rc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:v=0}=us(e,t),x=OC(v),_=a[m?f==="floating"?"reference":"floating":f],b=xh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},D=xh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(b.top-D.top+x.top)/k.y,bottom:(D.bottom-b.bottom+x.bottom)/k.y,left:(b.left-D.left+x.left)/k.x,right:(D.right-b.right+x.right)/k.x}}const hL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:h=0}=us(t,e)||{};if(u==null)return{};const f=OC(h),m={x:n,y:r},v=Dv(s),x=Pv(v),y=await o.getDimensions(u),_=v==="y",b=_?"top":"left",w=_?"bottom":"right",S=_?"clientHeight":"clientWidth",k=i.reference[x]+i.reference[v]-m[v]-i.floating[x],D=m[v]-i.reference[v],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=O?O[S]:0;(!T||!await(o.isElement==null?void 0:o.isElement(O)))&&(T=a.floating[S]||i.floating[x]);const C=k/2-D/2,I=T/2-y[x]/2-1,A=fi(f[b],I),R=fi(f[w],I),j=A,P=T-y[x]-R,z=T/2-y[x]/2+C,re=Vg(j,z,P),U=!l.arrow&&el(s)!=null&&z!==re&&i.reference[x]/2-(z<j?A:R)-y[x]/2<0,q=U?z<j?z-j:z-P:0;return{[v]:m[v]+q,data:{[v]:re,centerOffset:z-re-q,...U&&{alignmentOffset:q}},reset:U}}}),fL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,..._}=us(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=ds(s),w=pi(a),S=ds(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=m||(S||!y?[wh(a)]:aL(a)),O=x!=="none";!m&&O&&D.push(...cL(a,y,x,k));const T=[a,...D],C=await Rc(e,_),I=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(C[b]),f){const z=oL(s,o,k);I.push(C[z[0]],C[z[1]])}if(A=[...A,{placement:s,overflows:I}],!I.every(z=>z<=0)){var R,j;const z=(((R=i.flip)==null?void 0:R.index)||0)+1,re=T[z];if(re)return{data:{index:z,overflows:A},reset:{placement:re}};let U=(j=A.filter(q=>q.overflows[0]<=0).sort((q,L)=>q.overflows[1]-L.overflows[1])[0])==null?void 0:j.placement;if(!U)switch(v){case"bestFit":{var P;const q=(P=A.filter(L=>{if(O){const M=pi(L.placement);return M===w||M==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(M=>M>0).reduce((M,$)=>M+$,0)]).sort((L,M)=>L[1]-M[1])[0])==null?void 0:P[0];q&&(U=q);break}case"initialPlacement":U=a;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function O1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function M1(t){return rL.some(e=>t[e]>=0)}const pL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=us(t,e);switch(r){case"referenceHidden":{const i=await Rc(e,{...s,elementContext:"reference"}),o=O1(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:M1(o)}}}case"escaped":{const i=await Rc(e,{...s,altBoundary:!0}),o=O1(i,n.floating);return{data:{escapedOffsets:o,escaped:M1(o)}}}default:return{}}}}};async function mL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ds(n),a=el(n),l=pi(n)==="y",u=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,f=us(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(v=a==="end"?x*-1:x),l?{x:v*h,y:m*u}:{x:m*u,y:v*h}}const gL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await mL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},yL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:b,y:w}=_;return{x:b,y:w}}},...l}=us(t,e),u={x:n,y:r},h=await Rc(e,l),f=pi(ds(s)),m=Rv(f);let v=u[m],x=u[f];if(i){const _=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=v+h[_],S=v-h[b];v=Vg(w,v,S)}if(o){const _=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=x+h[_],S=x-h[b];x=Vg(w,x,S)}const y=a.fn({...e,[m]:v,[f]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:i,[f]:o}}}}}},vL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=us(t,e),h={x:n,y:r},f=pi(s),m=Rv(f);let v=h[m],x=h[f];const y=us(a,e),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const S=m==="y"?"height":"width",k=i.reference[m]-i.floating[S]+_.mainAxis,D=i.reference[m]+i.reference[S]-_.mainAxis;v<k?v=k:v>D&&(v=D)}if(u){var b,w;const S=m==="y"?"width":"height",k=["top","left"].includes(ds(s)),D=i.reference[f]-i.floating[S]+(k&&((b=o.offset)==null?void 0:b[f])||0)+(k?0:_.crossAxis),O=i.reference[f]+i.reference[S]+(k?0:((w=o.offset)==null?void 0:w[f])||0)-(k?_.crossAxis:0);x<D?x=D:x>O&&(x=O)}return{[m]:v,[f]:x}}}},wL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=us(t,e),h=await Rc(e,u),f=ds(s),m=el(s),v=pi(s)==="y",{width:x,height:y}=i.floating;let _,b;f==="top"||f==="bottom"?(_=f,b=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,_=m==="end"?"top":"bottom");const w=y-h.top-h.bottom,S=x-h.left-h.right,k=fi(y-h[_],w),D=fi(x-h[b],S),O=!e.middlewareData.shift;let T=k,C=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=w),O&&!m){const A=Sn(h.left,0),R=Sn(h.right,0),j=Sn(h.top,0),P=Sn(h.bottom,0);v?C=x-2*(A!==0||R!==0?A+R:Sn(h.left,h.right)):T=y-2*(j!==0||P!==0?j+P:Sn(h.top,h.bottom))}await l({...e,availableWidth:C,availableHeight:T});const I=await o.getDimensions(a.floating);return x!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function Tf(){return typeof window<"u"}function tl(t){return MC(t)?(t.nodeName||"").toLowerCase():"#document"}function An(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zr(t){var e;return(e=(MC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function MC(t){return Tf()?t instanceof Node||t instanceof An(t).Node:!1}function hr(t){return Tf()?t instanceof Element||t instanceof An(t).Element:!1}function Vr(t){return Tf()?t instanceof HTMLElement||t instanceof An(t).HTMLElement:!1}function L1(t){return!Tf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof An(t).ShadowRoot}function iu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=fr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function xL(t){return["table","td","th"].includes(tl(t))}function Cf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function jv(t){const e=Ov(),n=hr(t)?fr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _L(t){let e=mi(t);for(;Vr(e)&&!Va(e);){if(jv(e))return e;if(Cf(e))return null;e=mi(e)}return null}function Ov(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Va(t){return["html","body","#document"].includes(tl(t))}function fr(t){return An(t).getComputedStyle(t)}function If(t){return hr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function mi(t){if(tl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||L1(t)&&t.host||zr(t);return L1(e)?e.host:e}function LC(t){const e=mi(t);return Va(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vr(e)&&iu(e)?e:LC(e)}function Pc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=LC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=An(s);if(i){const a=Ug(o);return e.concat(o,o.visualViewport||[],iu(s)?s:[],a&&n?Pc(a):[])}return e.concat(s,Pc(s,[],n))}function Ug(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function VC(t){const e=fr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Vr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=vh(n)!==i||vh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Mv(t){return hr(t)?t:t.contextElement}function ua(t){const e=Mv(t);if(!Vr(e))return jr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=VC(e);let o=(i?vh(n.width):n.width)/r,a=(i?vh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const bL=jr(0);function FC(t){const e=An(t);return!Ov()||!e.visualViewport?bL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==An(t)?!1:e}function ho(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Mv(t);let o=jr(1);e&&(r?hr(r)&&(o=ua(r)):o=ua(t));const a=EL(i,n,r)?FC(i):jr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=An(i),v=r&&hr(r)?An(r):r;let x=m,y=Ug(x);for(;y&&r&&v!==x;){const _=ua(y),b=y.getBoundingClientRect(),w=fr(y),S=b.left+(y.clientLeft+parseFloat(w.paddingLeft))*_.x,k=b.top+(y.clientTop+parseFloat(w.paddingTop))*_.y;l*=_.x,u*=_.y,h*=_.x,f*=_.y,l+=S,u+=k,x=An(y),y=Ug(x)}}return xh({width:h,height:f,x:l,y:u})}function Lv(t,e){const n=If(t).scrollLeft;return e?e.left+n:ho(zr(t)).left+n}function UC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Lv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function SL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=zr(r),a=e?Cf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=jr(1);const h=jr(0),f=Vr(r);if((f||!f&&!i)&&((tl(r)!=="body"||iu(o))&&(l=If(r)),Vr(r))){const v=ho(r);u=ua(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const m=o&&!f&&!i?UC(o,l,!0):jr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-l.scrollTop*u.y+h.y+m.y}}function TL(t){return Array.from(t.getClientRects())}function CL(t){const e=zr(t),n=If(t),r=t.ownerDocument.body,s=Sn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Sn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Lv(t);const a=-n.scrollTop;return fr(r).direction==="rtl"&&(o+=Sn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function IL(t,e){const n=An(t),r=zr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Ov();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function NL(t,e){const n=ho(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Vr(t)?ua(t):jr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function V1(t,e,n){let r;if(e==="viewport")r=IL(t,n);else if(e==="document")r=CL(zr(t));else if(hr(e))r=NL(e,n);else{const s=FC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return xh(r)}function zC(t,e){const n=mi(t);return n===e||!hr(n)||Va(n)?!1:fr(n).position==="fixed"||zC(n,e)}function AL(t,e){const n=e.get(t);if(n)return n;let r=Pc(t,[],!1).filter(a=>hr(a)&&tl(a)!=="body"),s=null;const i=fr(t).position==="fixed";let o=i?mi(t):t;for(;hr(o)&&!Va(o);){const a=fr(o),l=jv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||iu(o)&&!l&&zC(t,o))?r=r.filter(h=>h!==o):s=a,o=mi(o)}return e.set(t,r),r}function kL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Cf(e)?[]:AL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,h)=>{const f=V1(e,h,s);return u.top=Sn(f.top,u.top),u.right=fi(f.right,u.right),u.bottom=fi(f.bottom,u.bottom),u.left=Sn(f.left,u.left),u},V1(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function RL(t){const{width:e,height:n}=VC(t);return{width:e,height:n}}function PL(t,e,n){const r=Vr(e),s=zr(e),i=n==="fixed",o=ho(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=jr(0);if(r||!r&&!i)if((tl(e)!=="body"||iu(s))&&(a=If(e)),r){const m=ho(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=Lv(s));const u=s&&!r&&!i?UC(s,a):jr(0),h=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function cm(t){return fr(t).position==="static"}function F1(t,e){if(!Vr(t)||fr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return zr(t)===n&&(n=n.ownerDocument.body),n}function $C(t,e){const n=An(t);if(Cf(t))return n;if(!Vr(t)){let s=mi(t);for(;s&&!Va(s);){if(hr(s)&&!cm(s))return s;s=mi(s)}return n}let r=F1(t,e);for(;r&&xL(r)&&cm(r);)r=F1(r,e);return r&&Va(r)&&cm(r)&&!jv(r)?n:r||_L(t)||n}const DL=async function(t){const e=this.getOffsetParent||$C,n=this.getDimensions,r=await n(t.floating);return{reference:PL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jL(t){return fr(t).direction==="rtl"}const OL={convertOffsetParentRelativeRectToViewportRelativeRect:SL,getDocumentElement:zr,getClippingRect:kL,getOffsetParent:$C,getElementRects:DL,getClientRects:TL,getDimensions:RL,getScale:ua,isElement:hr,isRTL:jL};function BC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ML(t,e){let n=null,r;const s=zr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:h,top:f,width:m,height:v}=u;if(a||e(),!m||!v)return;const x=rd(f),y=rd(s.clientWidth-(h+m)),_=rd(s.clientHeight-(f+v)),b=rd(h),S={rootMargin:-x+"px "+-y+"px "+-_+"px "+-b+"px",threshold:Sn(0,fi(1,l))||1};let k=!0;function D(O){const T=O[0].intersectionRatio;if(T!==l){if(!k)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!BC(u,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(D,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,S)}n.observe(t)}return o(!0),i}function LL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Mv(t),h=s||i?[...u?Pc(u):[],...Pc(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=u&&a?ML(u,n):null;let m=-1,v=null;o&&(v=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=v)==null||S.observe(e)})),n()}),u&&!l&&v.observe(u),v.observe(e));let x,y=l?ho(t):null;l&&_();function _(){const b=ho(t);y&&!BC(y,b)&&n(),y=b,x=requestAnimationFrame(_)}return n(),()=>{var b;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(b=v)==null||b.disconnect(),v=null,l&&cancelAnimationFrame(x)}}const VL=gL,FL=yL,UL=fL,zL=wL,$L=pL,U1=hL,BL=vL,HL=(t,e,n)=>{const r=new Map,s={platform:OL,...n},i={...s.platform,_c:r};return dL(t,e,{...s,platform:i})};var Dd=typeof document<"u"?p.useLayoutEffect:p.useEffect;function _h(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_h(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!_h(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function HC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function z1(t,e){const n=HC(t);return Math.round(e*n)/n}function um(t){const e=p.useRef(t);return Dd(()=>{e.current=t}),e}function WL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[h,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=p.useState(r);_h(m,r)||v(r);const[x,y]=p.useState(null),[_,b]=p.useState(null),w=p.useCallback(L=>{L!==O.current&&(O.current=L,y(L))},[]),S=p.useCallback(L=>{L!==T.current&&(T.current=L,b(L))},[]),k=i||x,D=o||_,O=p.useRef(null),T=p.useRef(null),C=p.useRef(h),I=l!=null,A=um(l),R=um(s),j=um(u),P=p.useCallback(()=>{if(!O.current||!T.current)return;const L={placement:e,strategy:n,middleware:m};R.current&&(L.platform=R.current),HL(O.current,T.current,L).then(M=>{const $={...M,isPositioned:j.current!==!1};z.current&&!_h(C.current,$)&&(C.current=$,zn.flushSync(()=>{f($)}))})},[m,e,n,R,j]);Dd(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const z=p.useRef(!1);Dd(()=>(z.current=!0,()=>{z.current=!1}),[]),Dd(()=>{if(k&&(O.current=k),D&&(T.current=D),k&&D){if(A.current)return A.current(k,D,P);P()}},[k,D,P,A,I]);const re=p.useMemo(()=>({reference:O,floating:T,setReference:w,setFloating:S}),[w,S]),U=p.useMemo(()=>({reference:k,floating:D}),[k,D]),q=p.useMemo(()=>{const L={position:n,left:0,top:0};if(!U.floating)return L;const M=z1(U.floating,h.x),$=z1(U.floating,h.y);return a?{...L,transform:"translate("+M+"px, "+$+"px)",...HC(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:$}},[n,a,U.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:P,refs:re,elements:U,floatingStyles:q}),[h,P,re,U,q])}const qL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?U1({element:r.current,padding:s}).fn(n):{}:r?U1({element:r,padding:s}).fn(n):{}}}},GL=(t,e)=>({...VL(t),options:[t,e]}),KL=(t,e)=>({...FL(t),options:[t,e]}),QL=(t,e)=>({...BL(t),options:[t,e]}),XL=(t,e)=>({...UL(t),options:[t,e]}),YL=(t,e)=>({...zL(t),options:[t,e]}),JL=(t,e)=>({...$L(t),options:[t,e]}),ZL=(t,e)=>({...qL(t),options:[t,e]});var e3="Arrow",WC=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});WC.displayName=e3;var t3=WC;function qC(t){const[e,n]=p.useState(void 0);return _t(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Vv="Popper",[GC,Nf]=qn(Vv),[n3,KC]=GC(Vv),QC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return c.jsx(n3,{scope:e,anchor:r,onAnchorChange:s,children:n})};QC.displayName=Vv;var XC="PopperAnchor",YC=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=KC(XC,n),o=p.useRef(null),a=Le(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(ve.div,{...s,ref:a})});YC.displayName=XC;var Fv="PopperContent",[r3,s3]=GC(Fv),JC=p.forwardRef((t,e)=>{var W,ee,fe,ne,ce,le;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:x,...y}=t,_=KC(Fv,n),[b,w]=p.useState(null),S=Le(e,Ae=>w(Ae)),[k,D]=p.useState(null),O=qC(k),T=(O==null?void 0:O.width)??0,C=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(u)?u:[u],j=R.length>0,P={padding:A,boundary:R.filter(o3),altBoundary:j},{refs:z,floatingStyles:re,placement:U,isPositioned:q,middlewareData:L}=WL({strategy:"fixed",placement:I,whileElementsMounted:(...Ae)=>LL(...Ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[GL({mainAxis:s+C,alignmentAxis:o}),l&&KL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?QL():void 0,...P}),l&&XL({...P}),YL({...P,apply:({elements:Ae,rects:Ve,availableWidth:on,availableHeight:jt})=>{const{width:Dn,height:Ni}=Ve.reference,Be=Ae.floating.style;Be.setProperty("--radix-popper-available-width",`${on}px`),Be.setProperty("--radix-popper-available-height",`${jt}px`),Be.setProperty("--radix-popper-anchor-width",`${Dn}px`),Be.setProperty("--radix-popper-anchor-height",`${Ni}px`)}}),k&&ZL({element:k,padding:a}),a3({arrowWidth:T,arrowHeight:C}),m&&JL({strategy:"referenceHidden",...P})]}),[M,$]=tI(U),B=Zt(x);_t(()=>{q&&(B==null||B())},[q,B]);const Q=(W=L.arrow)==null?void 0:W.x,X=(ee=L.arrow)==null?void 0:ee.y,Z=((fe=L.arrow)==null?void 0:fe.centerOffset)!==0,[de,se]=p.useState();return _t(()=>{b&&se(window.getComputedStyle(b).zIndex)},[b]),c.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:q?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(ne=L.transformOrigin)==null?void 0:ne.x,(ce=L.transformOrigin)==null?void 0:ce.y].join(" "),...((le=L.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(r3,{scope:n,placedSide:M,onArrowChange:D,arrowX:Q,arrowY:X,shouldHideArrow:Z,children:c.jsx(ve.div,{"data-side":M,"data-align":$,...y,ref:S,style:{...y.style,animation:q?void 0:"none"}})})})});JC.displayName=Fv;var ZC="PopperArrow",i3={top:"bottom",right:"left",bottom:"top",left:"right"},eI=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=s3(ZC,r),o=i3[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(t3,{...s,ref:n,style:{...s.style,display:"block"}})})});eI.displayName=ZC;function o3(t){return t!==null}var a3=t=>({name:"transformOrigin",options:t,fn(e){var _,b,w;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,h]=tI(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,v=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let x="",y="";return u==="bottom"?(x=o?f:`${m}px`,y=`${-l}px`):u==="top"?(x=o?f:`${m}px`,y=`${r.floating.height+l}px`):u==="right"?(x=`${-l}px`,y=o?f:`${v}px`):u==="left"&&(x=`${r.floating.width+l}px`,y=o?f:`${v}px`),{data:{x,y}}}});function tI(t){const[e,n="center"]=t.split("-");return[e,n]}var nI=QC,rI=YC,sI=JC,iI=eI,[Af,JH]=qn("Tooltip",[Nf]),kf=Nf(),oI="TooltipProvider",l3=700,zg="tooltip.open",[c3,Uv]=Af(oI),aI=t=>{const{__scopeTooltip:e,delayDuration:n=l3,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=p.useRef(!0),a=p.useRef(!1),l=p.useRef(0);return p.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(c3,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:p.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};aI.displayName=oI;var Rf="Tooltip",[u3,Pf]=Af(Rf),lI=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=Uv(Rf,t.__scopeTooltip),u=kf(e),[h,f]=p.useState(null),m=ns(),v=p.useRef(0),x=o??l.disableHoverableContent,y=a??l.delayDuration,_=p.useRef(!1),[b=!1,w]=hi({prop:r,defaultProp:s,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(zg))):l.onClose(),i==null||i(T)}}),S=p.useMemo(()=>b?_.current?"delayed-open":"instant-open":"closed",[b]),k=p.useCallback(()=>{window.clearTimeout(v.current),v.current=0,_.current=!1,w(!0)},[w]),D=p.useCallback(()=>{window.clearTimeout(v.current),v.current=0,w(!1)},[w]),O=p.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{_.current=!0,w(!0),v.current=0},y)},[y,w]);return p.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),c.jsx(nI,{...u,children:c.jsx(u3,{scope:e,contentId:m,open:b,stateAttribute:S,trigger:h,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{l.isOpenDelayedRef.current?O():k()},[l.isOpenDelayedRef,O,k]),onTriggerLeave:p.useCallback(()=>{x?D():(window.clearTimeout(v.current),v.current=0)},[D,x]),onOpen:k,onClose:D,disableHoverableContent:x,children:n})})};lI.displayName=Rf;var $g="TooltipTrigger",cI=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Pf($g,n),i=Uv($g,n),o=kf(n),a=p.useRef(null),l=Le(e,a,s.onTriggerChange),u=p.useRef(!1),h=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(rI,{asChild:!0,...o,children:c.jsx(ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:he(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:he(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:he(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:he(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:he(t.onBlur,s.onClose),onClick:he(t.onClick,s.onClose)})})});cI.displayName=$g;var d3="TooltipPortal",[ZH,h3]=Af(d3,{forceMount:void 0}),Fa="TooltipContent",uI=p.forwardRef((t,e)=>{const n=h3(Fa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Pf(Fa,t.__scopeTooltip);return c.jsx(Eo,{present:r||o.open,children:o.disableHoverableContent?c.jsx(dI,{side:s,...i,ref:e}):c.jsx(f3,{side:s,...i,ref:e})})}),f3=p.forwardRef((t,e)=>{const n=Pf(Fa,t.__scopeTooltip),r=Uv(Fa,t.__scopeTooltip),s=p.useRef(null),i=Le(e,s),[o,a]=p.useState(null),{trigger:l,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,m=p.useCallback(()=>{a(null),f(!1)},[f]),v=p.useCallback((x,y)=>{const _=x.currentTarget,b={x:x.clientX,y:x.clientY},w=v3(b,_.getBoundingClientRect()),S=w3(b,w),k=x3(y.getBoundingClientRect()),D=b3([...S,...k]);a(D),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(l&&h){const x=_=>v(_,h),y=_=>v(_,l);return l.addEventListener("pointerleave",x),h.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",y)}}},[l,h,v,m]),p.useEffect(()=>{if(o){const x=y=>{const _=y.target,b={x:y.clientX,y:y.clientY},w=(l==null?void 0:l.contains(_))||(h==null?void 0:h.contains(_)),S=!_3(b,o);w?m():S&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,h,o,u,m]),c.jsx(dI,{...t,ref:i})}),[p3,m3]=Af(Rf,{isInside:!1}),g3=BT("TooltipContent"),dI=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Pf(Fa,n),u=kf(n),{onClose:h}=l;return p.useEffect(()=>(document.addEventListener(zg,h),()=>document.removeEventListener(zg,h)),[h]),p.useEffect(()=>{if(l.trigger){const f=m=>{const v=m.target;v!=null&&v.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),c.jsx(tu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:c.jsxs(sI,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(g3,{children:r}),c.jsx(p3,{scope:n,isInside:!0,children:c.jsx(CM,{id:l.contentId,role:"tooltip",children:s||r})})]})})});uI.displayName=Fa;var hI="TooltipArrow",y3=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=kf(n);return m3(hI,n).isInside?null:c.jsx(iI,{...s,...r,ref:e})});y3.displayName=hI;function v3(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function w3(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function x3(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function _3(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,h=e[o].y;l>r!=h>r&&n<(u-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function b3(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),E3(e)}function E3(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var S3=aI,T3=lI,C3=cI,fI=uI;const pI=S3,I3=T3,N3=C3,mI=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(fI,{ref:r,sideOffset:e,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));mI.displayName=fI.displayName;const A3="modulepreload",k3=function(t){return"/"+t},$1={},sd=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=k3(l),l in $1)return;$1[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":A3,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((m,v)=>{f.addEventListener("load",m),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},R3=()=>{};var B1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},P3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},yI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(m=64)),r.push(n[h],n[f],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):P3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new D3;const m=i<<2|a>>4;if(r.push(m),u!==64){const v=a<<4&240|u>>2;if(r.push(v),f!==64){const x=u<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class D3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j3=function(t){const e=gI(t);return yI.encodeByteArray(e,!0)},bh=function(t){return j3(t).replace(/\./g,"")},vI=function(t){try{return yI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=()=>O3().__FIREBASE_DEFAULTS__,L3=()=>{if(typeof process>"u"||typeof B1>"u")return;const t=B1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},V3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vI(t[1]);return e&&JSON.parse(e)},Df=()=>{try{return R3()||M3()||L3()||V3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wI=t=>{var e,n;return(n=(e=Df())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},F3=t=>{const e=wI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xI=()=>{var t;return(t=Df())==null?void 0:t.config},_I=t=>{var e;return(e=Df())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[bh(JSON.stringify(n)),bh(JSON.stringify(o)),""].join(".")}const nc={};function $3(){const t={prod:[],emulator:[]};for(const e of Object.keys(nc))nc[e]?t.emulator.push(e):t.prod.push(e);return t}function B3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let H1=!1;function EI(t,e){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||nc[t]===e||nc[t]||H1)return;nc[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=$3().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{H1=!0,o()},m}function h(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=B3(r),v=n("text"),x=document.getElementById(v)||document.createElement("span"),y=n("learnmore"),_=document.getElementById(y)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;a(S),h(_,y);const k=u();l(w,b),S.append(w,x,_,k),document.body.appendChild(S)}i?(x.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function W3(){var e;const t=(e=Df())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function G3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function K3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q3(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function X3(){return!W3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y3(){try{return typeof indexedDB=="object"}catch{return!1}}function J3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="FirebaseError";class vs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Z3,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?eV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new vs(s,a,r)}}function eV(t,e){return t.replace(tV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const tV=/\{\$([^}]+)}/g;function nV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(W1(i)&&W1(o)){if(!fo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function W1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rV(t,e){const n=new sV(t,e);return n.subscribe.bind(n)}class sV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=dm),s.error===void 0&&(s.error=dm),s.complete===void 0&&(s.complete=dm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){return t&&t._delegate?t._delegate:t}class po{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new U3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lV(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aV(t){return t===zi?void 0:t}function lV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const uV={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},dV=Ce.INFO,hV={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},fV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=hV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zv{constructor(e){this.name=e,this._logLevel=dV,this._logHandler=fV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const pV=(t,e)=>e.some(n=>t instanceof n);let q1,G1;function mV(){return q1||(q1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gV(){return G1||(G1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SI=new WeakMap,Bg=new WeakMap,TI=new WeakMap,hm=new WeakMap,$v=new WeakMap;function yV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(si(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SI.set(n,t)}).catch(()=>{}),$v.set(e,t),e}function vV(t){if(Bg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Bg.set(t,e)}let Hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wV(t){Hg=t(Hg)}function xV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fm(this),e,...n);return TI.set(r,e.sort?e.sort():[e]),si(r)}:gV().includes(t)?function(...e){return t.apply(fm(this),e),si(SI.get(this))}:function(...e){return si(t.apply(fm(this),e))}}function _V(t){return typeof t=="function"?xV(t):(t instanceof IDBTransaction&&vV(t),pV(t,mV())?new Proxy(t,Hg):t)}function si(t){if(t instanceof IDBRequest)return yV(t);if(hm.has(t))return hm.get(t);const e=_V(t);return e!==t&&(hm.set(t,e),$v.set(e,t)),e}const fm=t=>$v.get(t);function bV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=si(o);return r&&o.addEventListener("upgradeneeded",l=>{r(si(o.result),l.oldVersion,l.newVersion,si(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const EV=["get","getKey","getAll","getAllKeys","count"],SV=["put","add","delete","clear"],pm=new Map;function K1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=SV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||EV.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return pm.set(e,i),i}wV(t=>({...t,get:(e,n,r)=>K1(e,n)||t.get(e,n,r),has:(e,n)=>!!K1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wg="@firebase/app",Q1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new zv("@firebase/app"),IV="@firebase/app-compat",NV="@firebase/analytics-compat",AV="@firebase/analytics",kV="@firebase/app-check-compat",RV="@firebase/app-check",PV="@firebase/auth",DV="@firebase/auth-compat",jV="@firebase/database",OV="@firebase/data-connect",MV="@firebase/database-compat",LV="@firebase/functions",VV="@firebase/functions-compat",FV="@firebase/installations",UV="@firebase/installations-compat",zV="@firebase/messaging",$V="@firebase/messaging-compat",BV="@firebase/performance",HV="@firebase/performance-compat",WV="@firebase/remote-config",qV="@firebase/remote-config-compat",GV="@firebase/storage",KV="@firebase/storage-compat",QV="@firebase/firestore",XV="@firebase/ai",YV="@firebase/firestore-compat",JV="firebase",ZV="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="[DEFAULT]",e5={[Wg]:"fire-core",[IV]:"fire-core-compat",[AV]:"fire-analytics",[NV]:"fire-analytics-compat",[RV]:"fire-app-check",[kV]:"fire-app-check-compat",[PV]:"fire-auth",[DV]:"fire-auth-compat",[jV]:"fire-rtdb",[OV]:"fire-data-connect",[MV]:"fire-rtdb-compat",[LV]:"fire-fn",[VV]:"fire-fn-compat",[FV]:"fire-iid",[UV]:"fire-iid-compat",[zV]:"fire-fcm",[$V]:"fire-fcm-compat",[BV]:"fire-perf",[HV]:"fire-perf-compat",[WV]:"fire-rc",[qV]:"fire-rc-compat",[GV]:"fire-gcs",[KV]:"fire-gcs-compat",[QV]:"fire-fst",[YV]:"fire-fst-compat",[XV]:"fire-vertex","fire-js":"fire-js",[JV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,t5=new Map,Gg=new Map;function X1(t,e){try{t.container.addComponent(e)}catch(n){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ua(t){const e=t.name;if(Gg.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;Gg.set(e,t);for(const n of Eh.values())X1(n,t);for(const n of t5.values())X1(n,t);return!0}function Bv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new ou("app","Firebase",n5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=ZV;function CI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:qg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ii.create("bad-app-name",{appName:String(s)});if(n||(n=xI()),!n)throw ii.create("no-options");const i=Eh.get(s);if(i){if(fo(n,i.options)&&fo(r,i.config))return i;throw ii.create("duplicate-app",{appName:s})}const o=new cV(s);for(const l of Gg.values())o.addComponent(l);const a=new r5(n,r,o);return Eh.set(s,a),a}function II(t=qg){const e=Eh.get(t);if(!e&&t===qg&&xI())return CI();if(!e)throw ii.create("no-app",{appName:t});return e}function oi(t,e,n){let r=e5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(o.join(" "));return}Ua(new po(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="firebase-heartbeat-database",i5=1,Dc="firebase-heartbeat-store";let mm=null;function NI(){return mm||(mm=bV(s5,i5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),mm}async function o5(t){try{const n=(await NI()).transaction(Dc),r=await n.objectStore(Dc).get(AI(t));return await n.done,r}catch(e){if(e instanceof vs)hs.warn(e.message);else{const n=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hs.warn(n.message)}}}async function Y1(t,e){try{const r=(await NI()).transaction(Dc,"readwrite");await r.objectStore(Dc).put(e,AI(t)),await r.done}catch(n){if(n instanceof vs)hs.warn(n.message);else{const r=ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hs.warn(r.message)}}}function AI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=1024,l5=30;class c5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=J1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>l5){const o=h5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=J1(),{heartbeatsToSend:r,unsentEntries:s}=u5(this._heartbeatsCache.heartbeats),i=bh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return hs.warn(n),""}}}function J1(){return new Date().toISOString().substring(0,10)}function u5(t,e=a5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Z1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Z1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class d5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y3()?J3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Y1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Y1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Z1(t){return bh(JSON.stringify({version:2,heartbeats:t})).length}function h5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){Ua(new po("platform-logger",e=>new TV(e),"PRIVATE")),Ua(new po("heartbeat",e=>new c5(e),"PRIVATE")),oi(Wg,Q1,t),oi(Wg,Q1,"esm2020"),oi("fire-js","")}f5("");function kI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p5=kI,RI=new ou("auth","Firebase",kI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new zv("@firebase/auth");function m5(t,...e){Sh.logLevel<=Ce.WARN&&Sh.warn(`Auth (${rl}): ${t}`,...e)}function jd(t,...e){Sh.logLevel<=Ce.ERROR&&Sh.error(`Auth (${rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,...e){throw Wv(t,...e)}function lr(t,...e){return Wv(t,...e)}function Hv(t,e,n){const r={...p5(),[e]:n};return new ou("auth","Firebase",r).create(e,{appName:t.name})}function no(t){return Hv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Fr(t,"argument-error"),Hv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RI.create(t,...e)}function ge(t,e,...n){if(!t)throw Wv(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jd(e),new Error(e)}function fs(t,e){t||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function y5(){return e_()==="http:"||e_()==="https:"}function e_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y5()||G3()||"connection"in navigator)?navigator.onLine:!0}function w5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,fs(n>e,"Short delay should be less than long delay!"),this.isMobile=H3()||K3()}get(){return v5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t,e){fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b5=new lu(3e4,6e4);function Gv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function sl(t,e,n,r,s={}){return DI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=au({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return q3()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&nl(t.emulatorConfig.host)&&(u.credentials="include"),PI.fetch()(await jI(t,t.config.apiHost,n,a),u)})}async function DI(t,e,n){t._canInitEmulator=!1;const r={...x5,...e};try{const s=new S5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw id(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw id(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw id(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Hv(t,h,u);Fr(t,h)}}catch(s){if(s instanceof vs)throw s;Fr(t,"network-request-failed",{message:String(s)})}}async function E5(t,e,n,r,s={}){const i=await sl(t,e,n,r,s);return"mfaPendingCredential"in i&&Fr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function jI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?qv(t.config,s):`${t.config.apiScheme}://${s}`;return _5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class S5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),b5.get())})}}function id(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=lr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T5(t,e){return sl(t,"POST","/v1/accounts:delete",e)}async function Th(t,e){return sl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C5(t,e=!1){const n=en(t),r=await n.getIdToken(e),s=Kv(r);ge(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:rc(gm(s.auth_time)),issuedAtTime:rc(gm(s.iat)),expirationTime:rc(gm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function gm(t){return Number(t)*1e3}function Kv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jd("JWT malformed, contained fewer than 3 sections"),null;try{const s=vI(n);return s?JSON.parse(s):(jd("Failed to decode base64 JWT payload"),null)}catch(s){return jd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function t_(t){const e=Kv(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vs&&I5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function I5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t){var f;const e=t.auth,n=await t.getIdToken(),r=await jc(t,Th(e,{idToken:n}));ge(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?OI(s.providerUserInfo):[],o=k5(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Qg(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function A5(t){const e=en(t);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function OI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(t,e){const n=await DI(t,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await jI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&nl(t.emulatorConfig.host)&&(l.credentials="include"),PI.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function P5(t,e){return sl(t,"POST","/v2/accounts:revokeToken",Gv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=t_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await R5(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new da;return r&&(ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ge(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ge(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new da,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new N5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await jc(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C5(this,e)}reload(){return A5(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nr(this.auth.app))return Promise.reject(no(this.auth));const e=await this.getIdToken();return await jc(this,T5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:v,providerData:x,stsTokenManager:y}=n;ge(f&&y,e,"internal-error");const _=da.fromJSON(this.name,y);ge(typeof f=="string",e,"internal-error"),Rs(r,e.name),Rs(s,e.name),ge(typeof m=="boolean",e,"internal-error"),ge(typeof v=="boolean",e,"internal-error"),Rs(i,e.name),Rs(o,e.name),Rs(a,e.name),Rs(l,e.name),Rs(u,e.name),Rs(h,e.name);const b=new rr({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:_,createdAt:u,lastLoginAt:h});return x&&Array.isArray(x)&&(b.providerData=x.map(w=>({...w}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new da;s.updateFromServerResponse(n);const i=new rr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ch(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ge(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?OI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new da;a.updateFromIdToken(r);const l=new rr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Qg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new Map;function es(t){fs(t instanceof Function,"Expected a class definition");let e=n_.get(t);return e?(fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,n_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MI.type="NONE";const r_=MI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t,e,n){return`firebase:${t}:${e}:${n}`}class ha{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Od(this.userKey,s.apiKey,i),this.fullPersistenceKey=Od("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Th(this.auth,{idToken:e}).catch(()=>{});return n?rr._fromGetAccountInfoResponse(this.auth,n,e):null}return rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ha(es(r_),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||es(r_);const o=Od(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const m=await Th(e,{idToken:h}).catch(()=>{});if(!m)break;f=await rr._fromGetAccountInfoResponse(e,m,h)}else f=rr._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ha(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ha(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($I(e))return"Blackberry";if(BI(e))return"Webos";if(VI(e))return"Safari";if((e.includes("chrome/")||FI(e))&&!e.includes("edge/"))return"Chrome";if(zI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LI(t=Wt()){return/firefox\//i.test(t)}function VI(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FI(t=Wt()){return/crios\//i.test(t)}function UI(t=Wt()){return/iemobile/i.test(t)}function zI(t=Wt()){return/android/i.test(t)}function $I(t=Wt()){return/blackberry/i.test(t)}function BI(t=Wt()){return/webos/i.test(t)}function Qv(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function D5(t=Wt()){var e;return Qv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function j5(){return Q3()&&document.documentMode===10}function HI(t=Wt()){return Qv(t)||zI(t)||BI(t)||$I(t)||/windows phone/i.test(t)||UI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t,e=[]){let n;switch(t){case"Browser":n=s_(Wt());break;case"Worker":n=`${s_(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M5(t,e={}){return sl(t,"GET","/v2/passwordPolicy",Gv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=6;class V5{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??L5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i_(this),this.idTokenSubscription=new i_(this),this.beforeStateQueue=new O5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ha.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Th(this,{idToken:e}),r=await rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(nr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nr(this.app))return Promise.reject(no(this));const n=e?en(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nr(this.app)?Promise.reject(no(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nr(this.app)?Promise.reject(no(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M5(this),n=new V5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ou("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await P5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await ha.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&m5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function jf(t){return en(t)}class i_{constructor(e){this.auth=e,this.observer=null,this.addObserver=rV(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U5(t){Xv=t}function z5(t){return Xv.loadJS(t)}function $5(){return Xv.gapiScript}function B5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t,e){const n=Bv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(fo(i,e??{}))return s;Fr(s,"already-initialized")}return n.initialize({options:e})}function W5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function q5(t,e,n){const r=jf(t);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=qI(e),{host:o,port:a}=G5(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(fo(u,r.config.emulator)&&fo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,nl(o)?(bI(`${i}//${o}${l}`),EI("Auth",!0)):K5()}function qI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function G5(t){const e=qI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:o_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:o_(o)}}}function o_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function K5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(t,e){return E5(t,"POST","/v1/accounts:signInWithIdp",Gv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="http://localhost";class mo extends GI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new mo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fa(e,n)}buildRequest(){const e={requestUri:Q5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Yv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends cu{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mo._fromParams({providerId:fn.PROVIDER_ID,signInMethod:fn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fn.credentialFromTaggedObject(e)}static credentialFromError(e){return fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fn.credential(n,r)}catch{return null}}}fn.GOOGLE_SIGN_IN_METHOD="google.com";fn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends cu{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.GITHUB_SIGN_IN_METHOD="github.com";Us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends cu{constructor(){super("twitter.com")}static credential(e,n){return mo._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zs.credential(n,r)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await rr._fromIdTokenResponse(e,r,s),o=a_(r);return new za({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=a_(r);return new za({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function a_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends vs{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ih(e,n,r,s)}}function KI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(t,i,e,r):i})}async function X5(t,e,n=!1){const r=await jc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return za._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(t,e,n=!1){const{auth:r}=t;if(nr(r.app))return Promise.reject(no(r));const s="reauthenticate";try{const i=await jc(t,KI(r,s,e,t),n);ge(i.idToken,r,"internal-error");const o=Kv(i.idToken);ge(o,r,"internal-error");const{sub:a}=o;return ge(t.uid===a,r,"user-mismatch"),za._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Fr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e,n=!1){if(nr(t.app))return Promise.reject(no(t));const r="signIn",s=await KI(t,r,e),i=await za._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function Z5(t,e,n,r){return en(t).onIdTokenChanged(e,n,r)}function e6(t,e,n){return en(t).beforeAuthStateChanged(e,n)}function t6(t,e,n,r){return en(t).onAuthStateChanged(e,n,r)}function n6(t){return en(t).signOut()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=1e3,s6=10;class XI extends QI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);j5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,s6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},r6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XI.type="LOCAL";const i6=XI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI extends QI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YI.type="SESSION";const JI=YI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Of(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await o6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Jv("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function l6(t){Or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function c6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function d6(){return ZI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="firebaseLocalStorageDb",h6=1,Ah="firebaseLocalStorage",tN="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mf(t,e){return t.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function f6(){const t=indexedDB.deleteDatabase(eN);return new uu(t).toPromise()}function Xg(){const t=indexedDB.open(eN,h6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ah,{keyPath:tN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await f6(),e(await Xg()))})})}async function l_(t,e,n){const r=Mf(t,!0).put({[tN]:e,value:n});return new uu(r).toPromise()}async function p6(t,e){const n=Mf(t,!1).get(e),r=await new uu(n).toPromise();return r===void 0?null:r.value}function c_(t,e){const n=Mf(t,!0).delete(e);return new uu(n).toPromise()}const m6=800,g6=3;class nN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>g6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Of._getInstance(d6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await c6(),!this.activeServiceWorker)return;this.sender=new a6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xg();return await l_(e,Nh,"1"),await c_(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>l_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>p6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>c_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Mf(s,!1).getAll();return new uu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),m6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nN.type="LOCAL";const y6=nN;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t,e){return e?es(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv extends GI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function v6(t){return J5(t.auth,new Zv(t),t.bypassAuthState)}function w6(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),Y5(n,new Zv(t),t.bypassAuthState)}async function x6(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),X5(n,new Zv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v6;case"linkViaPopup":case"linkViaRedirect":return x6;case"reauthViaPopup":case"reauthViaRedirect":return w6;default:Fr(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=new lu(2e3,1e4);async function ym(t,e,n){if(nr(t.app))return Promise.reject(lr(t,"operation-not-supported-in-this-environment"));const r=jf(t);g5(t,e,Yv);const s=rN(r,n);return new Wi(r,"signInViaPopup",e,s).executeNotNull()}class Wi extends sN{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Wi.currentPopupAction&&Wi.currentPopupAction.cancel(),Wi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=Jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_6.get())};e()}}Wi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="pendingRedirect",Md=new Map;class E6 extends sN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Md.get(this.auth._key());if(!e){try{const r=await S6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Md.set(this.auth._key(),e)}return this.bypassAuthState||Md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S6(t,e){const n=I6(e),r=C6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function T6(t,e){Md.set(t._key(),e)}function C6(t){return es(t._redirectPersistence)}function I6(t){return Od(b6,t.config.apiKey,t.name)}async function N6(t,e,n=!1){if(nr(t.app))return Promise.reject(no(t));const r=jf(t),s=rN(r,e),o=await new E6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=10*60*1e3;class k6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iN(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A6&&this.cachedEventUids.clear(),this.cachedEventUids.has(u_(e))}saveEventToCache(e){this.cachedEventUids.add(u_(e)),this.lastProcessedEventTime=Date.now()}}function u_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function R6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e={}){return sl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j6=/^https?/;async function O6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await P6(t);for(const n of e)try{if(M6(n))return}catch{}Fr(t,"unauthorized-domain")}function M6(t){const e=Kg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!j6.test(n))return!1;if(D6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=new lu(3e4,6e4);function d_(){const t=Or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function V6(t){return new Promise((e,n)=>{var s,i,o;function r(){d_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d_(),n(lr(t,"network-request-failed"))},timeout:L6.get()})}if((i=(s=Or().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Or().gapi)!=null&&o.load)r();else{const a=B5("iframefcb");return Or()[a]=()=>{gapi.load?r():n(lr(t,"network-request-failed"))},z5(`${$5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ld=null,e})}let Ld=null;function F6(t){return Ld=Ld||V6(t),Ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=new lu(5e3,15e3),z6="__/auth/iframe",$6="emulator/auth/iframe",B6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W6(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qv(e,$6):`https://${t.config.authDomain}/${z6}`,r={apiKey:e.apiKey,appName:t.name,v:rl},s=H6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${au(r).slice(1)}`}async function q6(t){const e=await F6(t),n=Or().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:W6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=lr(t,"network-request-failed"),a=Or().setTimeout(()=>{i(o)},U6.get());function l(){Or().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K6=500,Q6=600,X6="_blank",Y6="http://localhost";class h_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function J6(t,e,n,r=K6,s=Q6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...G6,width:r.toString(),height:s.toString(),top:i,left:o},u=Wt().toLowerCase();n&&(a=FI(u)?X6:n),LI(u)&&(e=e||Y6,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[v,x])=>`${m}${v}=${x},`,"");if(D5(u)&&a!=="_self")return Z6(e||"",a),new h_(null);const f=window.open(e||"",a,h);ge(f,t,"popup-blocked");try{f.focus()}catch{}return new h_(f)}function Z6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="__/auth/handler",tF="emulator/auth/handler",nF=encodeURIComponent("fac");async function f_(t,e,n,r,s,i){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rl,eventId:s};if(e instanceof Yv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof cu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${nF}=${encodeURIComponent(l)}`:"";return`${rF(t)}?${au(a).slice(1)}${u}`}function rF({config:t}){return t.emulator?qv(t,tF):`https://${t.authDomain}/${eF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="webStorageSupport";class sF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JI,this._completeRedirectFn=N6,this._overrideRedirectResult=T6}async _openPopup(e,n,r,s){var o;fs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await f_(e,n,r,Kg(),s);return J6(e,i,Jv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await f_(e,n,r,Kg(),s);return l6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(fs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await q6(e),r=new k6(e);return n.register("authEvent",s=>(ge(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vm,{type:vm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[vm];i!==void 0&&n(!!i),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HI()||VI()||Qv()}}const iF=sF;var p_="@firebase/auth",m_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lF(t){Ua(new po("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WI(t)},u=new F5(r,s,i,l);return W5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ua(new po("auth-internal",e=>{const n=jf(e.getProvider("auth").getImmediate());return(r=>new oF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(p_,m_,aF(t)),oi(p_,m_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=5*60,uF=_I("authIdTokenMaxAge")||cF;let g_=null;const dF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uF)return;const s=n==null?void 0:n.token;g_!==s&&(g_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function hF(t=II()){const e=Bv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=H5(t,{popupRedirectResolver:iF,persistence:[y6,i6,JI]}),r=_I("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=dF(i.toString());e6(n,o,()=>o(n.currentUser)),Z5(n,a=>o(a))}}const s=wI("auth");return s&&q5(n,`http://${s}`),n}function fF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}U5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=lr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",fF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lF("Browser");var pF="firebase",mF="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(pF,mF,"app");var y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ai,oN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,C){function I(){}I.prototype=C.prototype,T.F=C.prototype,T.prototype=new I,T.prototype.constructor=T,T.D=function(A,R,j){for(var P=Array(arguments.length-2),z=2;z<arguments.length;z++)P[z-2]=arguments[z];return C.prototype[R].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,C,I){I||(I=0);const A=Array(16);if(typeof C=="string")for(var R=0;R<16;++R)A[R]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(R=0;R<16;++R)A[R]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=T.g[0],I=T.g[1],R=T.g[2];let j=T.g[3],P;P=C+(j^I&(R^j))+A[0]+3614090360&4294967295,C=I+(P<<7&4294967295|P>>>25),P=j+(R^C&(I^R))+A[1]+3905402710&4294967295,j=C+(P<<12&4294967295|P>>>20),P=R+(I^j&(C^I))+A[2]+606105819&4294967295,R=j+(P<<17&4294967295|P>>>15),P=I+(C^R&(j^C))+A[3]+3250441966&4294967295,I=R+(P<<22&4294967295|P>>>10),P=C+(j^I&(R^j))+A[4]+4118548399&4294967295,C=I+(P<<7&4294967295|P>>>25),P=j+(R^C&(I^R))+A[5]+1200080426&4294967295,j=C+(P<<12&4294967295|P>>>20),P=R+(I^j&(C^I))+A[6]+2821735955&4294967295,R=j+(P<<17&4294967295|P>>>15),P=I+(C^R&(j^C))+A[7]+4249261313&4294967295,I=R+(P<<22&4294967295|P>>>10),P=C+(j^I&(R^j))+A[8]+1770035416&4294967295,C=I+(P<<7&4294967295|P>>>25),P=j+(R^C&(I^R))+A[9]+2336552879&4294967295,j=C+(P<<12&4294967295|P>>>20),P=R+(I^j&(C^I))+A[10]+4294925233&4294967295,R=j+(P<<17&4294967295|P>>>15),P=I+(C^R&(j^C))+A[11]+2304563134&4294967295,I=R+(P<<22&4294967295|P>>>10),P=C+(j^I&(R^j))+A[12]+1804603682&4294967295,C=I+(P<<7&4294967295|P>>>25),P=j+(R^C&(I^R))+A[13]+4254626195&4294967295,j=C+(P<<12&4294967295|P>>>20),P=R+(I^j&(C^I))+A[14]+2792965006&4294967295,R=j+(P<<17&4294967295|P>>>15),P=I+(C^R&(j^C))+A[15]+1236535329&4294967295,I=R+(P<<22&4294967295|P>>>10),P=C+(R^j&(I^R))+A[1]+4129170786&4294967295,C=I+(P<<5&4294967295|P>>>27),P=j+(I^R&(C^I))+A[6]+3225465664&4294967295,j=C+(P<<9&4294967295|P>>>23),P=R+(C^I&(j^C))+A[11]+643717713&4294967295,R=j+(P<<14&4294967295|P>>>18),P=I+(j^C&(R^j))+A[0]+3921069994&4294967295,I=R+(P<<20&4294967295|P>>>12),P=C+(R^j&(I^R))+A[5]+3593408605&4294967295,C=I+(P<<5&4294967295|P>>>27),P=j+(I^R&(C^I))+A[10]+38016083&4294967295,j=C+(P<<9&4294967295|P>>>23),P=R+(C^I&(j^C))+A[15]+3634488961&4294967295,R=j+(P<<14&4294967295|P>>>18),P=I+(j^C&(R^j))+A[4]+3889429448&4294967295,I=R+(P<<20&4294967295|P>>>12),P=C+(R^j&(I^R))+A[9]+568446438&4294967295,C=I+(P<<5&4294967295|P>>>27),P=j+(I^R&(C^I))+A[14]+3275163606&4294967295,j=C+(P<<9&4294967295|P>>>23),P=R+(C^I&(j^C))+A[3]+4107603335&4294967295,R=j+(P<<14&4294967295|P>>>18),P=I+(j^C&(R^j))+A[8]+1163531501&4294967295,I=R+(P<<20&4294967295|P>>>12),P=C+(R^j&(I^R))+A[13]+2850285829&4294967295,C=I+(P<<5&4294967295|P>>>27),P=j+(I^R&(C^I))+A[2]+4243563512&4294967295,j=C+(P<<9&4294967295|P>>>23),P=R+(C^I&(j^C))+A[7]+1735328473&4294967295,R=j+(P<<14&4294967295|P>>>18),P=I+(j^C&(R^j))+A[12]+2368359562&4294967295,I=R+(P<<20&4294967295|P>>>12),P=C+(I^R^j)+A[5]+4294588738&4294967295,C=I+(P<<4&4294967295|P>>>28),P=j+(C^I^R)+A[8]+2272392833&4294967295,j=C+(P<<11&4294967295|P>>>21),P=R+(j^C^I)+A[11]+1839030562&4294967295,R=j+(P<<16&4294967295|P>>>16),P=I+(R^j^C)+A[14]+4259657740&4294967295,I=R+(P<<23&4294967295|P>>>9),P=C+(I^R^j)+A[1]+2763975236&4294967295,C=I+(P<<4&4294967295|P>>>28),P=j+(C^I^R)+A[4]+1272893353&4294967295,j=C+(P<<11&4294967295|P>>>21),P=R+(j^C^I)+A[7]+4139469664&4294967295,R=j+(P<<16&4294967295|P>>>16),P=I+(R^j^C)+A[10]+3200236656&4294967295,I=R+(P<<23&4294967295|P>>>9),P=C+(I^R^j)+A[13]+681279174&4294967295,C=I+(P<<4&4294967295|P>>>28),P=j+(C^I^R)+A[0]+3936430074&4294967295,j=C+(P<<11&4294967295|P>>>21),P=R+(j^C^I)+A[3]+3572445317&4294967295,R=j+(P<<16&4294967295|P>>>16),P=I+(R^j^C)+A[6]+76029189&4294967295,I=R+(P<<23&4294967295|P>>>9),P=C+(I^R^j)+A[9]+3654602809&4294967295,C=I+(P<<4&4294967295|P>>>28),P=j+(C^I^R)+A[12]+3873151461&4294967295,j=C+(P<<11&4294967295|P>>>21),P=R+(j^C^I)+A[15]+530742520&4294967295,R=j+(P<<16&4294967295|P>>>16),P=I+(R^j^C)+A[2]+3299628645&4294967295,I=R+(P<<23&4294967295|P>>>9),P=C+(R^(I|~j))+A[0]+4096336452&4294967295,C=I+(P<<6&4294967295|P>>>26),P=j+(I^(C|~R))+A[7]+1126891415&4294967295,j=C+(P<<10&4294967295|P>>>22),P=R+(C^(j|~I))+A[14]+2878612391&4294967295,R=j+(P<<15&4294967295|P>>>17),P=I+(j^(R|~C))+A[5]+4237533241&4294967295,I=R+(P<<21&4294967295|P>>>11),P=C+(R^(I|~j))+A[12]+1700485571&4294967295,C=I+(P<<6&4294967295|P>>>26),P=j+(I^(C|~R))+A[3]+2399980690&4294967295,j=C+(P<<10&4294967295|P>>>22),P=R+(C^(j|~I))+A[10]+4293915773&4294967295,R=j+(P<<15&4294967295|P>>>17),P=I+(j^(R|~C))+A[1]+2240044497&4294967295,I=R+(P<<21&4294967295|P>>>11),P=C+(R^(I|~j))+A[8]+1873313359&4294967295,C=I+(P<<6&4294967295|P>>>26),P=j+(I^(C|~R))+A[15]+4264355552&4294967295,j=C+(P<<10&4294967295|P>>>22),P=R+(C^(j|~I))+A[6]+2734768916&4294967295,R=j+(P<<15&4294967295|P>>>17),P=I+(j^(R|~C))+A[13]+1309151649&4294967295,I=R+(P<<21&4294967295|P>>>11),P=C+(R^(I|~j))+A[4]+4149444226&4294967295,C=I+(P<<6&4294967295|P>>>26),P=j+(I^(C|~R))+A[11]+3174756917&4294967295,j=C+(P<<10&4294967295|P>>>22),P=R+(C^(j|~I))+A[2]+718787259&4294967295,R=j+(P<<15&4294967295|P>>>17),P=I+(j^(R|~C))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+C&4294967295,T.g[1]=T.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+j&4294967295}r.prototype.v=function(T,C){C===void 0&&(C=T.length);const I=C-this.blockSize,A=this.C;let R=this.h,j=0;for(;j<C;){if(R==0)for(;j<=I;)s(this,T,j),j+=this.blockSize;if(typeof T=="string"){for(;j<C;)if(A[R++]=T.charCodeAt(j++),R==this.blockSize){s(this,A),R=0;break}}else for(;j<C;)if(A[R++]=T[j++],R==this.blockSize){s(this,A),R=0;break}}this.h=R,this.o+=C},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var C=1;C<T.length-8;++C)T[C]=0;C=this.o*8;for(var I=T.length-8;I<T.length;++I)T[I]=C&255,C/=256;for(this.v(T),T=Array(16),C=0,I=0;I<4;++I)for(let A=0;A<32;A+=8)T[C++]=this.g[I]>>>A&255;return T};function i(T,C){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=C(T)}function o(T,C){this.h=C;const I=[];let A=!0;for(let R=T.length-1;R>=0;R--){const j=T[R]|0;A&&j==C||(I[R]=j,A=!1)}this.g=I}var a={};function l(T){return-128<=T&&T<128?i(T,function(C){return new o([C|0],C<0?-1:0)}):new o([T|0],T<0?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(T<0)return _(u(-T));const C=[];let I=1;for(let A=0;T>=I;A++)C[A]=T/I|0,I*=4294967296;return new o(C,0)}function h(T,C){if(T.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(T.charAt(0)=="-")return _(h(T.substring(1),C));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=u(Math.pow(C,8));let A=f;for(let j=0;j<T.length;j+=8){var R=Math.min(8,T.length-j);const P=parseInt(T.substring(j,j+R),C);R<8?(R=u(Math.pow(C,R)),A=A.j(R).add(u(P))):(A=A.j(I),A=A.add(u(P)))}return A}var f=l(0),m=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-_(this).m();let T=0,C=1;for(let I=0;I<this.g.length;I++){const A=this.i(I);T+=(A>=0?A:4294967296+A)*C,C*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(x(this))return"0";if(y(this))return"-"+_(this).toString(T);const C=u(Math.pow(T,6));var I=this;let A="";for(;;){const R=k(I,C).g;I=b(I,R.j(C));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(T);if(I=R,x(I))return j+A;for(;j.length<6;)j="0"+j;A=j+A}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function x(T){if(T.h!=0)return!1;for(let C=0;C<T.g.length;C++)if(T.g[C]!=0)return!1;return!0}function y(T){return T.h==-1}t.l=function(T){return T=b(this,T),y(T)?-1:x(T)?0:1};function _(T){const C=T.g.length,I=[];for(let A=0;A<C;A++)I[A]=~T.g[A];return new o(I,~T.h).add(m)}t.abs=function(){return y(this)?_(this):this},t.add=function(T){const C=Math.max(this.g.length,T.g.length),I=[];let A=0;for(let R=0;R<=C;R++){let j=A+(this.i(R)&65535)+(T.i(R)&65535),P=(j>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);A=P>>>16,j&=65535,P&=65535,I[R]=P<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function b(T,C){return T.add(_(C))}t.j=function(T){if(x(this)||x(T))return f;if(y(this))return y(T)?_(this).j(_(T)):_(_(this).j(T));if(y(T))return _(this.j(_(T)));if(this.l(v)<0&&T.l(v)<0)return u(this.m()*T.m());const C=this.g.length+T.g.length,I=[];for(var A=0;A<2*C;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(let R=0;R<T.g.length;R++){const j=this.i(A)>>>16,P=this.i(A)&65535,z=T.i(R)>>>16,re=T.i(R)&65535;I[2*A+2*R]+=P*re,w(I,2*A+2*R),I[2*A+2*R+1]+=j*re,w(I,2*A+2*R+1),I[2*A+2*R+1]+=P*z,w(I,2*A+2*R+1),I[2*A+2*R+2]+=j*z,w(I,2*A+2*R+2)}for(T=0;T<C;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=C;T<2*C;T++)I[T]=0;return new o(I,0)};function w(T,C){for(;(T[C]&65535)!=T[C];)T[C+1]+=T[C]>>>16,T[C]&=65535,C++}function S(T,C){this.g=T,this.h=C}function k(T,C){if(x(C))throw Error("division by zero");if(x(T))return new S(f,f);if(y(T))return C=k(_(T),C),new S(_(C.g),_(C.h));if(y(C))return C=k(T,_(C)),new S(_(C.g),C.h);if(T.g.length>30){if(y(T)||y(C))throw Error("slowDivide_ only works with positive integers.");for(var I=m,A=C;A.l(T)<=0;)I=D(I),A=D(A);var R=O(I,1),j=O(A,1);for(A=O(A,2),I=O(I,2);!x(A);){var P=j.add(A);P.l(T)<=0&&(R=R.add(I),j=P),A=O(A,1),I=O(I,1)}return C=b(T,R.j(C)),new S(R,C)}for(R=f;T.l(C)>=0;){for(I=Math.max(1,Math.floor(T.m()/C.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),j=u(I),P=j.j(C);y(P)||P.l(T)>0;)I-=A,j=u(I),P=j.j(C);x(j)&&(j=m),R=R.add(j),T=b(T,P)}return new S(R,T)}t.B=function(T){return k(this,T).h},t.and=function(T){const C=Math.max(this.g.length,T.g.length),I=[];for(let A=0;A<C;A++)I[A]=this.i(A)&T.i(A);return new o(I,this.h&T.h)},t.or=function(T){const C=Math.max(this.g.length,T.g.length),I=[];for(let A=0;A<C;A++)I[A]=this.i(A)|T.i(A);return new o(I,this.h|T.h)},t.xor=function(T){const C=Math.max(this.g.length,T.g.length),I=[];for(let A=0;A<C;A++)I[A]=this.i(A)^T.i(A);return new o(I,this.h^T.h)};function D(T){const C=T.g.length+1,I=[];for(let A=0;A<C;A++)I[A]=T.i(A)<<1|T.i(A-1)>>>31;return new o(I,T.h)}function O(T,C){const I=C>>5;C%=32;const A=T.g.length-I,R=[];for(let j=0;j<A;j++)R[j]=C>0?T.i(j+I)>>>C|T.i(j+I+1)<<32-C:T.i(j+I);return new o(R,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,ai=o}).apply(typeof y_<"u"?y_:typeof self<"u"?self:typeof window<"u"?window:{});var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aN,$l,lN,Vd,Yg,cN,uN,dN;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof od=="object"&&od];for(var g=0;g<d.length;++g){var E=d[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(d,g){if(g)e:{var E=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var V=d[N];if(!(V in E))break e;E=E[V]}d=d[d.length-1],N=E[d],g=g(N),g!=N&&g!=null&&e(E,d,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(g){var E=[],N;for(N in g)Object.prototype.hasOwnProperty.call(g,N)&&E.push([N,g[N]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function l(d,g,E){return d.call.apply(d.bind,arguments)}function u(d,g,E){return u=l,u.apply(null,arguments)}function h(d,g){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function f(d,g){function E(){}E.prototype=g.prototype,d.Z=g.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(N,V,F){for(var te=Array(arguments.length-2),be=2;be<arguments.length;be++)te[be-2]=arguments[be];return g.prototype[V].apply(N,te)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function v(d){const g=d.length;if(g>0){const E=Array(g);for(let N=0;N<g;N++)E[N]=d[N];return E}return[]}function x(d,g){for(let N=1;N<arguments.length;N++){const V=arguments[N];var E=typeof V;if(E=E!="object"?E:V?Array.isArray(V)?"array":E:"null",E=="array"||E=="object"&&typeof V.length=="number"){E=d.length||0;const F=V.length||0;d.length=E+F;for(let te=0;te<F;te++)d[E+te]=V[te]}else d.push(V)}}class y{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function _(d){o.setTimeout(()=>{throw d},0)}function b(){var d=T;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class w{constructor(){this.h=this.g=null}add(g,E){const N=S.get();N.set(g,E),this.h?this.h.next=N:this.g=N,this.h=N}}var S=new y(()=>new k,d=>d.reset());class k{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let D,O=!1,T=new w,C=()=>{const d=Promise.resolve(void 0);D=()=>{d.then(I)}};function I(){for(var d;d=b();){try{d.h.call(d.g)}catch(E){_(E)}var g=S;g.j(d),g.h<100&&(g.h++,d.next=g.g,g.g=d)}O=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};o.addEventListener("test",E,g),o.removeEventListener("test",E,g)}catch{}return d}();function P(d){return/^[\s\xa0]*$/.test(d)}function z(d,g){R.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,g)}f(z,R),z.prototype.init=function(d,g){const E=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget,g||(E=="mouseover"?g=d.fromElement:E=="mouseout"&&(g=d.toElement)),this.relatedTarget=g,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),U=0;function q(d,g,E,N,V){this.listener=d,this.proxy=null,this.src=g,this.type=E,this.capture=!!N,this.ha=V,this.key=++U,this.da=this.fa=!1}function L(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function M(d,g,E){for(const N in d)g.call(E,d[N],N,d)}function $(d,g){for(const E in d)g.call(void 0,d[E],E,d)}function B(d){const g={};for(const E in d)g[E]=d[E];return g}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(d,g){let E,N;for(let V=1;V<arguments.length;V++){N=arguments[V];for(E in N)d[E]=N[E];for(let F=0;F<Q.length;F++)E=Q[F],Object.prototype.hasOwnProperty.call(N,E)&&(d[E]=N[E])}}function Z(d){this.src=d,this.g={},this.h=0}Z.prototype.add=function(d,g,E,N,V){const F=d.toString();d=this.g[F],d||(d=this.g[F]=[],this.h++);const te=se(d,g,N,V);return te>-1?(g=d[te],E||(g.fa=!1)):(g=new q(g,this.src,F,!!N,V),g.fa=E,d.push(g)),g};function de(d,g){const E=g.type;if(E in d.g){var N=d.g[E],V=Array.prototype.indexOf.call(N,g,void 0),F;(F=V>=0)&&Array.prototype.splice.call(N,V,1),F&&(L(g),d.g[E].length==0&&(delete d.g[E],d.h--))}}function se(d,g,E,N){for(let V=0;V<d.length;++V){const F=d[V];if(!F.da&&F.listener==g&&F.capture==!!E&&F.ha==N)return V}return-1}var W="closure_lm_"+(Math.random()*1e6|0),ee={};function fe(d,g,E,N,V){if(Array.isArray(g)){for(let F=0;F<g.length;F++)fe(d,g[F],E,N,V);return null}return E=Ni(E),d&&d[re]?d.J(g,E,a(N)?!!N.capture:!!N,V):ne(d,g,E,!1,N,V)}function ne(d,g,E,N,V,F){if(!g)throw Error("Invalid event type");const te=a(V)?!!V.capture:!!V;let be=jt(d);if(be||(d[W]=be=new Z(d)),E=be.add(g,E,N,te,F),E.proxy)return E;if(N=ce(),E.proxy=N,N.src=d,N.listener=E,d.addEventListener)j||(V=te),V===void 0&&(V=!1),d.addEventListener(g.toString(),N,V);else if(d.attachEvent)d.attachEvent(Ve(g.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ce(){function d(E){return g.call(d.src,d.listener,E)}const g=on;return d}function le(d,g,E,N,V){if(Array.isArray(g))for(var F=0;F<g.length;F++)le(d,g[F],E,N,V);else N=a(N)?!!N.capture:!!N,E=Ni(E),d&&d[re]?(d=d.i,F=String(g).toString(),F in d.g&&(g=d.g[F],E=se(g,E,N,V),E>-1&&(L(g[E]),Array.prototype.splice.call(g,E,1),g.length==0&&(delete d.g[F],d.h--)))):d&&(d=jt(d))&&(g=d.g[g.toString()],d=-1,g&&(d=se(g,E,N,V)),(E=d>-1?g[d]:null)&&Ae(E))}function Ae(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[re])de(g.i,d);else{var E=d.type,N=d.proxy;g.removeEventListener?g.removeEventListener(E,N,d.capture):g.detachEvent?g.detachEvent(Ve(E),N):g.addListener&&g.removeListener&&g.removeListener(N),(E=jt(g))?(de(E,d),E.h==0&&(E.src=null,g[W]=null)):L(d)}}}function Ve(d){return d in ee?ee[d]:ee[d]="on"+d}function on(d,g){if(d.da)d=!0;else{g=new z(g,this);const E=d.listener,N=d.ha||d.src;d.fa&&Ae(d),d=E.call(N,g)}return d}function jt(d){return d=d[W],d instanceof Z?d:null}var Dn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ni(d){return typeof d=="function"?d:(d[Dn]||(d[Dn]=function(g){return d.handleEvent(g)}),d[Dn])}function Be(){A.call(this),this.i=new Z(this),this.M=this,this.G=null}f(Be,A),Be.prototype[re]=!0,Be.prototype.removeEventListener=function(d,g,E,N){le(this,d,g,E,N)};function Ke(d,g){var E,N=d.G;if(N)for(E=[];N;N=N.G)E.push(N);if(d=d.M,N=g.type||g,typeof g=="string")g=new R(g,d);else if(g instanceof R)g.target=g.target||d;else{var V=g;g=new R(N,d),X(g,V)}V=!0;let F,te;if(E)for(te=E.length-1;te>=0;te--)F=g.g=E[te],V=$r(F,N,!0,g)&&V;if(F=g.g=d,V=$r(F,N,!0,g)&&V,V=$r(F,N,!1,g)&&V,E)for(te=0;te<E.length;te++)F=g.g=E[te],V=$r(F,N,!1,g)&&V}Be.prototype.N=function(){if(Be.Z.N.call(this),this.i){var d=this.i;for(const g in d.g){const E=d.g[g];for(let N=0;N<E.length;N++)L(E[N]);delete d.g[g],d.h--}}this.G=null},Be.prototype.J=function(d,g,E,N){return this.i.add(String(d),g,!1,E,N)},Be.prototype.K=function(d,g,E,N){return this.i.add(String(d),g,!0,E,N)};function $r(d,g,E,N){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();let V=!0;for(let F=0;F<g.length;++F){const te=g[F];if(te&&!te.da&&te.capture==E){const be=te.listener,pt=te.ha||te.src;te.fa&&de(d.i,te),V=be.call(pt,N)!==!1&&V}}return V&&!N.defaultPrevented}function ko(d,g){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=u(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(d,g||0)}function ml(d){d.g=ko(()=>{d.g=null,d.i&&(d.i=!1,ml(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class _u extends A{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ml(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(d){A.call(this),this.h=d,this.g={}}f(Ai,A);var bu=[];function Br(d){M(d.g,function(g,E){this.g.hasOwnProperty(E)&&Ae(g)},d),d.g={}}Ai.prototype.N=function(){Ai.Z.N.call(this),Br(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=o.JSON.stringify,ki=o.JSON.parse,Eu=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function Gn(){}function gl(){}var Ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yl(){R.call(this,"d")}f(yl,R);function Pi(){R.call(this,"c")}f(Pi,R);var wr={},Su=null;function Di(){return Su=Su||new Be}wr.Ia="serverreachability";function Tu(d){R.call(this,wr.Ia,d)}f(Tu,R);function ji(d){const g=Di();Ke(g,new Tu(g))}wr.STAT_EVENT="statevent";function Cu(d,g){R.call(this,wr.STAT_EVENT,d),this.stat=g}f(Cu,R);function Pe(d){const g=Di();Ke(g,new Cu(g,d))}wr.Ja="timingevent";function Ot(d,g){R.call(this,wr.Ja,d),this.size=g}f(Ot,R);function ht(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},g)}function an(){this.g=!0}an.prototype.ua=function(){this.g=!1};function ln(d,g,E,N,V,F){d.info(function(){if(d.g)if(F){var te="",be=F.split("&");for(let Fe=0;Fe<be.length;Fe++){var pt=be[Fe].split("=");if(pt.length>1){const bt=pt[0];pt=pt[1];const br=bt.split("_");te=br.length>=2&&br[1]=="type"?te+(bt+"="+pt+"&"):te+(bt+"=redacted&")}}}else te=null;else te=F;return"XMLHTTP REQ ("+N+") [attempt "+V+"]: "+g+`
`+E+`
`+te})}function qt(d,g,E,N,V,F,te){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+V+"]: "+g+`
`+E+`
`+F+" "+te})}function At(d,g,E,N){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+ft(d,E)+(N?" "+N:"")})}function bs(d,g){d.info(function(){return"TIMEOUT: "+g})}an.prototype.info=function(){};function ft(d,g){if(!d.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(d=0;d<F.length;d++)if(Array.isArray(F[d])){var E=F[d];if(!(E.length<2)){var N=E[1];if(Array.isArray(N)&&!(N.length<1)){var V=N[0];if(V!="noop"&&V!="stop"&&V!="close")for(let te=1;te<N.length;te++)N[te]=""}}}}return vr(F)}catch{return g}}var wn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jn;function Hr(){}f(Hr,Gn),Hr.prototype.g=function(){return new XMLHttpRequest},jn=new Hr;function Kn(d){return encodeURIComponent(String(d))}function xr(d){var g=1;d=d.split(":");const E=[];for(;g>0&&d.length;)E.push(d.shift()),g--;return d.length&&E.push(d.join(":")),E}function cn(d,g,E,N){this.j=d,this.i=g,this.l=E,this.S=N||1,this.V=new Ai(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ro}function Ro(){this.i=null,this.g="",this.h=!1}var yw={},yp={};function vp(d,g,E){d.M=1,d.A=Nu(_r(g)),d.u=E,d.R=!0,vw(d,null)}function vw(d,g){d.F=Date.now(),Iu(d),d.B=_r(d.A);var E=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),Rw(E.i,"t",N),d.C=0,E=d.j.L,d.h=new Ro,d.g=Qw(d.j,E?g:null,!d.u),d.P>0&&(d.O=new _u(u(d.Y,d,d.g),d.P)),g=d.V,E=d.g,N=d.ba;var V="readystatechange";Array.isArray(V)||(V&&(bu[0]=V.toString()),V=bu);for(let F=0;F<V.length;F++){const te=fe(E,V[F],N||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=d.J?B(d.J):{},d.u?(d.v||(d.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,g)):(d.v="GET",d.g.ea(d.B,d.v,null,g)),ji(),ln(d.i,d.v,d.B,d.l,d.S,d.u)}cn.prototype.ba=function(d){d=d.target;const g=this.O;g&&Ts(d)==3?g.j():this.Y(d)},cn.prototype.Y=function(d){try{if(d==this.g)e:{const be=Ts(this.g),pt=this.g.ya(),Fe=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||Vw(this.g)))){this.K||be!=4||pt==7||(pt==8||Fe<=0?ji(3):ji(2)),wp(this);var g=this.g.ca();this.X=g;var E=o2(this);if(this.o=g==200,qt(this.i,this.v,this.B,this.l,this.S,be,g),this.o){if(this.U&&!this.L){t:{if(this.g){var N,V=this.g;if((N=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(N)){var F=N;break t}}F=null}if(d=F)At(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xp(this,d);else{this.o=!1,this.m=3,Pe(12),Oi(this),vl(this);break e}}if(this.R){d=!0;let bt;for(;!this.K&&this.C<E.length;)if(bt=a2(this,E),bt==yp){be==4&&(this.m=4,Pe(14),d=!1),At(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==yw){this.m=4,Pe(15),At(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else At(this.i,this.l,bt,null),xp(this,bt);if(ww(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||E.length!=0||this.h.h||(this.m=1,Pe(16),d=!1),this.o=this.o&&d,!d)At(this.i,this.l,E,"[Invalid Chunked Response]"),Oi(this),vl(this);else if(E.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Np(te),te.P=!0,Pe(11))}}else At(this.i,this.l,E,null),xp(this,E);be==4&&Oi(this),this.o&&!this.K&&(be==4?Ww(this.j,this):(this.o=!1,Iu(this)))}else _2(this.g),g==400&&E.indexOf("Unknown SID")>0?(this.m=3,Pe(12)):(this.m=0,Pe(13)),Oi(this),vl(this)}}}catch{}finally{}};function o2(d){if(!ww(d))return d.g.la();const g=Vw(d.g);if(g==="")return"";let E="";const N=g.length,V=Ts(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Oi(d),vl(d),"";d.h.i=new o.TextDecoder}for(let F=0;F<N;F++)d.h.h=!0,E+=d.h.i.decode(g[F],{stream:!(V&&F==N-1)});return g.length=0,d.h.g+=E,d.C=0,d.h.g}function ww(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function a2(d,g){var E=d.C,N=g.indexOf(`
`,E);return N==-1?yp:(E=Number(g.substring(E,N)),isNaN(E)?yw:(N+=1,N+E>g.length?yp:(g=g.slice(N,N+E),d.C=N+E,g)))}cn.prototype.cancel=function(){this.K=!0,Oi(this)};function Iu(d){d.T=Date.now()+d.H,xw(d,d.H)}function xw(d,g){if(d.D!=null)throw Error("WatchDog timer not null");d.D=ht(u(d.aa,d),g)}function wp(d){d.D&&(o.clearTimeout(d.D),d.D=null)}cn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(bs(this.i,this.B),this.M!=2&&(ji(),Pe(17)),Oi(this),this.m=2,vl(this)):xw(this,this.T-d)};function vl(d){d.j.I==0||d.K||Ww(d.j,d)}function Oi(d){wp(d);var g=d.O;g&&typeof g.dispose=="function"&&g.dispose(),d.O=null,Br(d.V),d.g&&(g=d.g,d.g=null,g.abort(),g.dispose())}function xp(d,g){try{var E=d.j;if(E.I!=0&&(E.g==d||_p(E.h,d))){if(!d.L&&_p(E.h,d)&&E.I==3){try{var N=E.Ba.g.parse(g)}catch{N=null}if(Array.isArray(N)&&N.length==3){var V=N;if(V[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)Du(E),Ru(E);else break e;Ip(E),Pe(18)}}else E.xa=V[1],0<E.xa-E.K&&V[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ht(u(E.Va,E),6e3));Ew(E.h)<=1&&E.ta&&(E.ta=void 0)}else Li(E,11)}else if((d.L||E.g==d)&&Du(E),!P(g))for(V=E.Ba.g.parse(g),g=0;g<V.length;g++){let Fe=V[g];const bt=Fe[0];if(!(bt<=E.K))if(E.K=bt,Fe=Fe[1],E.I==2)if(Fe[0]=="c"){E.M=Fe[1],E.ba=Fe[2];const br=Fe[3];br!=null&&(E.ka=br,E.j.info("VER="+E.ka));const Vi=Fe[4];Vi!=null&&(E.za=Vi,E.j.info("SVER="+E.za));const Cs=Fe[5];Cs!=null&&typeof Cs=="number"&&Cs>0&&(N=1.5*Cs,E.O=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const Is=d.g;if(Is){const Ou=Is.g?Is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ou){var F=N.h;F.g||Ou.indexOf("spdy")==-1&&Ou.indexOf("quic")==-1&&Ou.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(bp(F,F.h),F.h=null))}if(N.G){const Ap=Is.g?Is.g.getResponseHeader("X-HTTP-Session-Id"):null;Ap&&(N.wa=Ap,He(N.J,N.G,Ap))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),N=E;var te=d;if(N.na=Kw(N,N.L?N.ba:null,N.W),te.L){Sw(N.h,te);var be=te,pt=N.O;pt&&(be.H=pt),be.D&&(wp(be),Iu(be)),N.g=te}else Bw(N);E.i.length>0&&Pu(E)}else Fe[0]!="stop"&&Fe[0]!="close"||Li(E,7);else E.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Li(E,7):Cp(E):Fe[0]!="noop"&&E.l&&E.l.qa(Fe),E.A=0)}}ji(4)}catch{}}var l2=class{constructor(d,g){this.g=d,this.map=g}};function _w(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bw(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ew(d){return d.h?1:d.g?d.g.size:0}function _p(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function bp(d,g){d.g?d.g.add(g):d.h=g}function Sw(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}_w.prototype.cancel=function(){if(this.i=Tw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Tw(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const E of d.g.values())g=g.concat(E.G);return g}return v(d.i)}var Cw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function c2(d,g){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const N=d[E].indexOf("=");let V,F=null;N>=0?(V=d[E].substring(0,N),F=d[E].substring(N+1)):V=d[E],g(V,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Es(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;d instanceof Es?(this.l=d.l,wl(this,d.j),this.o=d.o,this.g=d.g,xl(this,d.u),this.h=d.h,Ep(this,Pw(d.i)),this.m=d.m):d&&(g=String(d).match(Cw))?(this.l=!1,wl(this,g[1]||"",!0),this.o=_l(g[2]||""),this.g=_l(g[3]||"",!0),xl(this,g[4]),this.h=_l(g[5]||"",!0),Ep(this,g[6]||"",!0),this.m=_l(g[7]||"")):(this.l=!1,this.i=new El(null,this.l))}Es.prototype.toString=function(){const d=[];var g=this.j;g&&d.push(bl(g,Iw,!0),":");var E=this.g;return(E||g=="file")&&(d.push("//"),(g=this.o)&&d.push(bl(g,Iw,!0),"@"),d.push(Kn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(bl(E,E.charAt(0)=="/"?h2:d2,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",bl(E,p2)),d.join("")},Es.prototype.resolve=function(d){const g=_r(this);let E=!!d.j;E?wl(g,d.j):E=!!d.o,E?g.o=d.o:E=!!d.g,E?g.g=d.g:E=d.u!=null;var N=d.h;if(E)xl(g,d.u);else if(E=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var V=g.h.lastIndexOf("/");V!=-1&&(N=g.h.slice(0,V+1)+N)}if(V=N,V==".."||V==".")N="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){N=V.lastIndexOf("/",0)==0,V=V.split("/");const F=[];for(let te=0;te<V.length;){const be=V[te++];be=="."?N&&te==V.length&&F.push(""):be==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),N&&te==V.length&&F.push("")):(F.push(be),N=!0)}N=F.join("/")}else N=V}return E?g.h=N:E=d.i.toString()!=="",E?Ep(g,Pw(d.i)):E=!!d.m,E&&(g.m=d.m),g};function _r(d){return new Es(d)}function wl(d,g,E){d.j=E?_l(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function xl(d,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);d.u=g}else d.u=null}function Ep(d,g,E){g instanceof El?(d.i=g,m2(d.i,d.l)):(E||(g=bl(g,f2)),d.i=new El(g,d.l))}function He(d,g,E){d.i.set(g,E)}function Nu(d){return He(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function _l(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function bl(d,g,E){return typeof d=="string"?(d=encodeURI(d).replace(g,u2),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function u2(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Iw=/[#\/\?@]/g,d2=/[#\?:]/g,h2=/[#\?]/g,f2=/[#\?@]/g,p2=/#/g;function El(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function Mi(d){d.g||(d.g=new Map,d.h=0,d.i&&c2(d.i,function(g,E){d.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}t=El.prototype,t.add=function(d,g){Mi(this),this.i=null,d=Po(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(g),this.h+=1,this};function Nw(d,g){Mi(d),g=Po(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function Aw(d,g){return Mi(d),g=Po(d,g),d.g.has(g)}t.forEach=function(d,g){Mi(this),this.g.forEach(function(E,N){E.forEach(function(V){d.call(g,V,N,this)},this)},this)};function kw(d,g){Mi(d);let E=[];if(typeof g=="string")Aw(d,g)&&(E=E.concat(d.g.get(Po(d,g))));else for(d=Array.from(d.g.values()),g=0;g<d.length;g++)E=E.concat(d[g]);return E}t.set=function(d,g){return Mi(this),this.i=null,d=Po(this,d),Aw(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=kw(this,d),d.length>0?String(d[0]):g):g};function Rw(d,g,E){Nw(d,g),E.length>0&&(d.i=null,d.g.set(Po(d,g),v(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(let N=0;N<g.length;N++){var E=g[N];const V=Kn(E);E=kw(this,E);for(let F=0;F<E.length;F++){let te=V;E[F]!==""&&(te+="="+Kn(E[F])),d.push(te)}}return this.i=d.join("&")};function Pw(d){const g=new El;return g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),g}function Po(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function m2(d,g){g&&!d.j&&(Mi(d),d.i=null,d.g.forEach(function(E,N){const V=N.toLowerCase();N!=V&&(Nw(this,N),Rw(this,V,E))},d)),d.j=g}function g2(d,g){const E=new an;if(o.Image){const N=new Image;N.onload=h(Ss,E,"TestLoadImage: loaded",!0,g,N),N.onerror=h(Ss,E,"TestLoadImage: error",!1,g,N),N.onabort=h(Ss,E,"TestLoadImage: abort",!1,g,N),N.ontimeout=h(Ss,E,"TestLoadImage: timeout",!1,g,N),o.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else g(!1)}function y2(d,g){const E=new an,N=new AbortController,V=setTimeout(()=>{N.abort(),Ss(E,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:N.signal}).then(F=>{clearTimeout(V),F.ok?Ss(E,"TestPingServer: ok",!0,g):Ss(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),Ss(E,"TestPingServer: error",!1,g)})}function Ss(d,g,E,N,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),N(E)}catch{}}function v2(){this.g=new Eu}function Sp(d){this.i=d.Sb||null,this.h=d.ab||!1}f(Sp,Gn),Sp.prototype.g=function(){return new Au(this.i,this.h)};function Au(d,g){Be.call(this),this.H=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Au,Be),t=Au.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=g,this.readyState=1,Tl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(g.body=d),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sl(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Tl(this)),this.g&&(this.readyState=3,Tl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Dw(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Dw(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Sl(this):Tl(this),this.readyState==3&&Dw(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,Sl(this))},t.Na=function(d){this.g&&(this.response=d,Sl(this))},t.ga=function(){this.g&&Sl(this)};function Sl(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Tl(d)}t.setRequestHeader=function(d,g){this.A.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=g.next();return d.join(`\r
`)};function Tl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function jw(d){let g="";return M(d,function(E,N){g+=N,g+=":",g+=E,g+=`\r
`}),g}function Tp(d,g,E){e:{for(N in E){var N=!1;break e}N=!0}N||(E=jw(E),typeof d=="string"?E!=null&&Kn(E):He(d,g,E))}function et(d){Be.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(et,Be);var w2=/^https?$/i,x2=["POST","PUT"];t=et.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,g,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jn.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(F){Ow(this,F);return}if(d=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var V in N)E.set(V,N[V]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const F of N.keys())E.set(F,N.get(F));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),V=o.FormData&&d instanceof o.FormData,!(Array.prototype.indexOf.call(x2,g,void 0)>=0)||N||V||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,te]of E)this.g.setRequestHeader(F,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(F){Ow(this,F)}};function Ow(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.o=5,Mw(d),ku(d)}function Mw(d){d.A||(d.A=!0,Ke(d,"complete"),Ke(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ke(this,"complete"),Ke(this,"abort"),ku(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ku(this,!0)),et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Lw(this):this.Xa())},t.Xa=function(){Lw(this)};function Lw(d){if(d.h&&typeof i<"u"){if(d.v&&Ts(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ke(d,"readystatechange"),Ts(d)==4){d.h=!1;try{const F=d.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var N;if(N=F===0){let te=String(d.D).match(Cw)[1]||null;!te&&o.self&&o.self.location&&(te=o.self.location.protocol.slice(0,-1)),N=!w2.test(te?te.toLowerCase():"")}E=N}if(E)Ke(d,"complete"),Ke(d,"success");else{d.o=6;try{var V=Ts(d)>2?d.g.statusText:""}catch{V=""}d.l=V+" ["+d.ca()+"]",Mw(d)}}finally{ku(d)}}}}function ku(d,g){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,g||Ke(d,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ts(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Ts(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),ki(g)}};function Vw(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function _2(d){const g={};d=(d.g&&Ts(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(P(d[N]))continue;var E=xr(d[N]);const V=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=g[V]||[];g[V]=F,F.push(E)}$(g,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cl(d,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||g}function Fw(d){this.za=0,this.i=[],this.j=new an,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cl("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cl("baseRetryDelayMs",5e3,d),this.Za=Cl("retryDelaySeedMs",1e4,d),this.Ta=Cl("forwardChannelMaxRetries",2,d),this.va=Cl("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new _w(d&&d.concurrentRequestLimit),this.Ba=new v2,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Fw.prototype,t.ka=8,t.I=1,t.connect=function(d,g,E,N){Pe(0),this.W=d,this.H=g||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.J=Kw(this,null,this.W),Pu(this)};function Cp(d){if(Uw(d),d.I==3){var g=d.V++,E=_r(d.J);if(He(E,"SID",d.M),He(E,"RID",g),He(E,"TYPE","terminate"),Il(d,E),g=new cn(d,d.j,g),g.M=2,g.A=Nu(_r(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!E&&o.Image&&(new Image().src=g.A,E=!0),E||(g.g=Qw(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Iu(g)}Gw(d)}function Ru(d){d.g&&(Np(d),d.g.cancel(),d.g=null)}function Uw(d){Ru(d),d.v&&(o.clearTimeout(d.v),d.v=null),Du(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&o.clearTimeout(d.m),d.m=null)}function Pu(d){if(!bw(d.h)&&!d.m){d.m=!0;var g=d.Ea;D||C(),O||(D(),O=!0),T.add(g,d),d.D=0}}function b2(d,g){return Ew(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=g.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=ht(u(d.Ea,d,g),qw(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const V=new cn(this,this.j,d);let F=this.o;if(this.U&&(F?(F=B(F),X(F,this.U)):F=this.U),this.u!==null||this.R||(V.J=F,F=null),this.S)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(g+=N,g>4096){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=$w(this,V,g),E=_r(this.J),He(E,"RID",d),He(E,"CVER",22),this.G&&He(E,"X-HTTP-Session-Id",this.G),Il(this,E),F&&(this.R?g="headers="+Kn(jw(F))+"&"+g:this.u&&Tp(E,this.u,F)),bp(this.h,V),this.Ra&&He(E,"TYPE","init"),this.S?(He(E,"$req",g),He(E,"SID","null"),V.U=!0,vp(V,E,null)):vp(V,E,g),this.I=2}}else this.I==3&&(d?zw(this,d):this.i.length==0||bw(this.h)||zw(this))};function zw(d,g){var E;g?E=g.l:E=d.V++;const N=_r(d.J);He(N,"SID",d.M),He(N,"RID",E),He(N,"AID",d.K),Il(d,N),d.u&&d.o&&Tp(N,d.u,d.o),E=new cn(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),g&&(d.i=g.G.concat(d.i)),g=$w(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),bp(d.h,E),vp(E,N,g)}function Il(d,g){d.H&&M(d.H,function(E,N){He(g,N,E)}),d.l&&M({},function(E,N){He(g,N,E)})}function $w(d,g,E){E=Math.min(d.i.length,E);const N=d.l?u(d.l.Ka,d.l,d):null;e:{var V=d.i;let be=-1;for(;;){const pt=["count="+E];be==-1?E>0?(be=V[0].g,pt.push("ofs="+be)):be=0:pt.push("ofs="+be);let Fe=!0;for(let bt=0;bt<E;bt++){var F=V[bt].g;const br=V[bt].map;if(F-=be,F<0)be=Math.max(0,V[bt].g-100),Fe=!1;else try{F="req"+F+"_"||"";try{var te=br instanceof Map?br:Object.entries(br);for(const[Vi,Cs]of te){let Is=Cs;a(Cs)&&(Is=vr(Cs)),pt.push(F+Vi+"="+encodeURIComponent(Is))}}catch(Vi){throw pt.push(F+"type="+encodeURIComponent("_badmap")),Vi}}catch{N&&N(br)}}if(Fe){te=pt.join("&");break e}}te=void 0}return d=d.i.splice(0,E),g.G=d,te}function Bw(d){if(!d.g&&!d.v){d.Y=1;var g=d.Da;D||C(),O||(D(),O=!0),T.add(g,d),d.A=0}}function Ip(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=ht(u(d.Da,d),qw(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,Hw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=ht(u(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pe(10),Ru(this),Hw(this))};function Np(d){d.B!=null&&(o.clearTimeout(d.B),d.B=null)}function Hw(d){d.g=new cn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var g=_r(d.na);He(g,"RID","rpc"),He(g,"SID",d.M),He(g,"AID",d.K),He(g,"CI",d.F?"0":"1"),!d.F&&d.ia&&He(g,"TO",d.ia),He(g,"TYPE","xmlhttp"),Il(d,g),d.u&&d.o&&Tp(g,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=Nu(_r(g)),E.u=null,E.R=!0,vw(E,d)}t.Va=function(){this.C!=null&&(this.C=null,Ru(this),Ip(this),Pe(19))};function Du(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function Ww(d,g){var E=null;if(d.g==g){Du(d),Np(d),d.g=null;var N=2}else if(_p(d.h,g))E=g.G,Sw(d.h,g),N=1;else return;if(d.I!=0){if(g.o)if(N==1){E=g.u?g.u.length:0,g=Date.now()-g.F;var V=d.D;N=Di(),Ke(N,new Ot(N,E)),Pu(d)}else Bw(d);else if(V=g.m,V==3||V==0&&g.X>0||!(N==1&&b2(d,g)||N==2&&Ip(d)))switch(E&&E.length>0&&(g=d.h,g.i=g.i.concat(E)),V){case 1:Li(d,5);break;case 4:Li(d,10);break;case 3:Li(d,6);break;default:Li(d,2)}}}function qw(d,g){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*g}function Li(d,g){if(d.j.info("Error code "+g),g==2){var E=u(d.bb,d),N=d.Ua;const V=!N;N=new Es(N||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||wl(N,"https"),Nu(N),V?g2(N.toString(),E):y2(N.toString(),E)}else Pe(2);d.I=0,d.l&&d.l.pa(g),Gw(d),Uw(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function Gw(d){if(d.I=0,d.ja=[],d.l){const g=Tw(d.h);(g.length!=0||d.i.length!=0)&&(x(d.ja,g),x(d.ja,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.oa()}}function Kw(d,g,E){var N=E instanceof Es?_r(E):new Es(E);if(N.g!="")g&&(N.g=g+"."+N.g),xl(N,N.u);else{var V=o.location;N=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;const F=new Es(null);N&&wl(F,N),g&&(F.g=g),V&&xl(F,V),E&&(F.h=E),N=F}return E=d.G,g=d.wa,E&&g&&He(N,E,g),He(N,"VER",d.ka),Il(d,N),N}function Qw(d,g,E){if(g&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Aa&&!d.ma?new et(new Sp({ab:E})):new et(d.ma),g.Fa(d.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xw(){}t=Xw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ju(){}ju.prototype.g=function(d,g){return new _n(d,g)};function _n(d,g){Be.call(this),this.g=new Fw(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(d?d["X-WebChannel-Client-Profile"]=g.sa:d={"X-WebChannel-Client-Profile":g.sa}),this.g.U=d,(d=g&&g.Qb)&&!P(d)&&(this.g.u=d),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!P(g)&&(this.g.G=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new Do(this)}f(_n,Be),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Cp(this.g)},_n.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=vr(d),d=E);g.i.push(new l2(g.Ya++,d)),g.I==3&&Pu(g)},_n.prototype.N=function(){this.g.l=null,delete this.j,Cp(this.g),delete this.g,_n.Z.N.call(this)};function Yw(d){yl.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const E in g){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}f(Yw,yl);function Jw(){Pi.call(this),this.status=1}f(Jw,Pi);function Do(d){this.g=d}f(Do,Xw),Do.prototype.ra=function(){Ke(this.g,"a")},Do.prototype.qa=function(d){Ke(this.g,new Yw(d))},Do.prototype.pa=function(d){Ke(this.g,new Jw)},Do.prototype.oa=function(){Ke(this.g,"b")},ju.prototype.createWebChannel=ju.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,dN=function(){return new ju},uN=function(){return Di()},cN=wr,Yg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wn.NO_ERROR=0,wn.TIMEOUT=8,wn.HTTP_ERROR=6,Vd=wn,xn.COMPLETE="complete",lN=xn,gl.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",Be.prototype.listen=Be.prototype.J,$l=gl,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,aN=et}).apply(typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{});const v_="@firebase/firestore",w_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new zv("@firebase/firestore");function Vo(){return go.logLevel}function oe(t,...e){if(go.logLevel<=Ce.DEBUG){const n=e.map(e0);go.debug(`Firestore (${il}): ${t}`,...n)}}function ps(t,...e){if(go.logLevel<=Ce.ERROR){const n=e.map(e0);go.error(`Firestore (${il}): ${t}`,...n)}}function yo(t,...e){if(go.logLevel<=Ce.WARN){const n=e.map(e0);go.warn(`Firestore (${il}): ${t}`,...n)}}function e0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hN(t,r,n)}function hN(t,e,n){let r=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ps(r),new Error(r)}function Oe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||hN(e,s,r)}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class gF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yF{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new li;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new li,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new li)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new fN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class vF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const r=i=>{i.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new x_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new x_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=_F(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function Jg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return wm(s)===wm(i)?Ie(s,i):wm(s)?1:-1}return Ie(t.length,e.length)}const bF=55296,EF=57343;function wm(t){const e=t.charCodeAt(0);return e>=bF&&e<=EF}function $a(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="__name__";class Tr{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Tr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=Tr.isNumericId(e),s=Tr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Tr.extractNumericId(e).compare(Tr.extractNumericId(n)):Jg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ai.fromString(e.substring(4,e.length-2))}}class Ue extends Tr{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const SF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Tr{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return SF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===__}static keyField(){return new Ct([__])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ie(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ie(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ie(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Ue.fromString(e))}static fromName(e){return new ue(Ue.fromString(e).popFirst(5))}static empty(){return new ue(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t,e,n){if(!n)throw new ie(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gN(t,e,n,r){if(e===!0&&r===!0)throw new ie(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function b_(t){if(!ue.isDocumentKey(t))throw new ie(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function E_(t){if(ue.isDocumentKey(t))throw new ie(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Vf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe(12329,{type:typeof t})}function rs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vf(t);throw new ie(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function du(t,e){if(!yN(t))throw new ie(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ie(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=-62135596800,T_=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*T_);return new ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<S_)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T_}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,ze._jsonSchema))return new ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-S_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:ut("string",ze._jsonSchemaVersion),seconds:ut("number"),nanoseconds:ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ze(0,0))}static max(){return new we(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=-1;function TF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=we.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new gi(s,ue.empty(),e)}function CF(t){return new gi(t.readTime,t.key,Oc)}class gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gi(we.min(),ue.empty(),Oc)}static max(){return new gi(we.max(),ue.empty(),Oc)}}function IF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==NF)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(s=>s?G.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new G((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new G((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function kF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ff.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=-1;function Uf(t){return t==null}function kh(t){return t===0&&1/t==-1/0}function RF(t){return typeof t=="number"&&Number.isInteger(t)&&!kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="";function PF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=C_(e)),e=DF(t.get(n),e);return C_(e)}function DF(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case vN:n+="";break;default:n+=i}}return n}function C_(t){return t+vN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ad(this.root,e,this.comparator,!0)}}class ad{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=s??Rt.EMPTY,this.right=i??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(e){return new N_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class N_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new sr([])}unionWith(e){let n=new xt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new xN("Invalid base64 string: "+i):i}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const jF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=jF.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vi(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="server_timestamp",bN="__type__",EN="__previous_value__",SN="__local_write_time__";function n0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bN])==null?void 0:r.stringValue)===_N}function zf(t){const e=t.mapValue.fields[EN];return n0(e)?zf(e):e}function Mc(t){const e=yi(t.mapValue.fields[SN].timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n,r,s,i,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const Rh="(default)";class Ba{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new Ba("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="__type__",CN="__max__",ld={mapValue:{fields:{__type__:{stringValue:CN}}}},IN="__vector__",Ph="value";function wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?n0(t)?4:LF(t)?9007199254740991:MF(t)?10:11:pe(28295,{value:t})}function Ur(t,e){if(t===e)return!0;const n=wi(t);if(n!==wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mc(t).isEqual(Mc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=yi(s.timestampValue),a=yi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return vi(s.bytesValue).isEqual(vi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return it(s.geoPointValue.latitude)===it(i.geoPointValue.latitude)&&it(s.geoPointValue.longitude)===it(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return it(s.integerValue)===it(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=it(s.doubleValue),a=it(i.doubleValue);return o===a?kh(o)===kh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $a(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(I_(o)!==I_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ur(o[l],a[l])))return!1;return!0}(t,e);default:return pe(52216,{left:t})}}function Lc(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function Ha(t,e){if(t===e)return 0;const n=wi(t),r=wi(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=it(i.integerValue||i.doubleValue),l=it(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return A_(t.timestampValue,e.timestampValue);case 4:return A_(Mc(t),Mc(e));case 5:return Jg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=vi(i),l=vi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ie(a[u],l[u]);if(h!==0)return h}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ie(it(i.latitude),it(o.latitude));return a!==0?a:Ie(it(i.longitude),it(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return k_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,v,x,y;const a=i.fields||{},l=o.fields||{},u=(m=a[Ph])==null?void 0:m.arrayValue,h=(v=l[Ph])==null?void 0:v.arrayValue,f=Ie(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((y=h==null?void 0:h.values)==null?void 0:y.length)||0);return f!==0?f:k_(u,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ld.mapValue&&o===ld.mapValue)return 0;if(i===ld.mapValue)return 1;if(o===ld.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=Jg(l[f],h[f]);if(m!==0)return m;const v=Ha(a[l[f]],u[h[f]]);if(v!==0)return v}return Ie(l.length,h.length)}(t.mapValue,e.mapValue);default:throw pe(23264,{he:n})}}function A_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=yi(t),r=yi(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function k_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ha(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function Wa(t){return Zg(t)}function Zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=yi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Zg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Zg(n.fields[o])}`;return s+"}"}(t.mapValue):pe(61005,{value:t})}function Fd(t){switch(wi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zf(t);return e?16+Fd(e):16;case 5:return 2*t.stringValue.length;case 6:return vi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Fd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return To(r.fields,(i,o)=>{s+=i.length+Fd(o)}),s}(t.mapValue);default:throw pe(13486,{value:t})}}function R_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ey(t){return!!t&&"integerValue"in t}function r0(t){return!!t&&"arrayValue"in t}function P_(t){return!!t&&"nullValue"in t}function D_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ud(t){return!!t&&"mapValue"in t}function MF(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[TN])==null?void 0:r.stringValue)===IN}function sc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sc(t.arrayValue.values[n]);return e}return{...t}}function LF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sc(n)}setAll(e){let n=Ct.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=sc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ud(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){To(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Fn(sc(this.value))}}function NN(t){const e=[];return To(t.fields,(n,r)=>{const s=new Ct([n]);if(Ud(r)){const i=NN(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,we.min(),we.min(),we.min(),Fn.empty(),0)}static newFoundDocument(e,n,r,s){return new Bt(e,1,n,we.min(),r,s,0)}static newNoDocument(e,n){return new Bt(e,2,n,we.min(),we.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,we.min(),we.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function j_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=Ha(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function O_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n="asc"){this.field=e,this.dir=n}}function VF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{}class ct extends AN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UF(e,n,r):n==="array-contains"?new BF(e,r):n==="in"?new HF(e,r):n==="not-in"?new WF(e,r):n==="array-contains-any"?new qF(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zF(e,r):new $F(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ha(n,this.value)):n!==null&&wi(this.value)===wi(n)&&this.matchesComparison(Ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends AN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new pr(e,n)}matches(e){return kN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kN(t){return t.op==="and"}function RN(t){return FF(t)&&kN(t)}function FF(t){for(const e of t.filters)if(e instanceof pr)return!1;return!0}function ty(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Wa(t.value);if(RN(t))return t.filters.map(e=>ty(e)).join(",");{const e=t.filters.map(n=>ty(n)).join(",");return`${t.op}(${e})`}}function PN(t,e){return t instanceof ct?function(r,s){return s instanceof ct&&r.op===s.op&&r.field.isEqual(s.field)&&Ur(r.value,s.value)}(t,e):t instanceof pr?function(r,s){return s instanceof pr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&PN(o,s.filters[a]),!0):!1}(t,e):void pe(19439)}function DN(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`}(t):t instanceof pr?function(n){return n.op.toString()+" {"+n.getFilters().map(DN).join(" ,")+"}"}(t):"Filter"}class UF extends ct{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class zF extends ct{constructor(e,n){super(e,"in",n),this.keys=jN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $F extends ct{constructor(e,n){super(e,"not-in",n),this.keys=jN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class BF extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return r0(n)&&Lc(n.arrayValue,this.value)}}class HF extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lc(this.value.arrayValue,n)}}class WF extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lc(this.value.arrayValue,n)}}class qF extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!r0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function M_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new GF(t,e,n,r,s,i,o)}function s0(t){const e=xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ty(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wa(r)).join(",")),e.Te=n}return e.Te}function i0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!O_(t.startAt,e.startAt)&&O_(t.endAt,e.endAt)}function ny(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KF(t,e,n,r,s,i,o,a){return new ll(t,e,n,r,s,i,o,a)}function $f(t){return new ll(t)}function L_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ON(t){return t.collectionGroup!==null}function ic(t){const e=xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xt(Ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Vc(i,r))}),n.has(Ct.keyField().canonicalString())||e.Ie.push(new Vc(Ct.keyField(),r))}return e.Ie}function Mr(t){const e=xe(t);return e.Ee||(e.Ee=QF(e,ic(t))),e.Ee}function QF(t,e){if(t.limitType==="F")return M_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Vc(s.field,i)});const n=t.endAt?new Dh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dh(t.startAt.position,t.startAt.inclusive):null;return M_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ry(t,e){const n=t.filters.concat([e]);return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jh(t,e,n){return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bf(t,e){return i0(Mr(t),Mr(e))&&t.limitType===e.limitType}function MN(t){return`${s0(Mr(t))}|lt:${t.limitType}`}function Fo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>DN(s)).join(", ")}]`),Uf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Wa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Wa(s)).join(",")),`Target(${r})`}(Mr(t))}; limitType=${t.limitType})`}function Hf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ue.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ic(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=j_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ic(r),s)||r.endAt&&!function(o,a,l){const u=j_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ic(r),s))}(t,e)}function XF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LN(t){return(e,n)=>{let r=!1;for(const s of ic(t)){const i=YF(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function YF(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Ha(l,u):pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return wN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=new Ze(ue.comparator);function ms(){return JF}const VN=new Ze(ue.comparator);function Bl(...t){let e=VN;for(const n of t)e=e.insert(n.key,n);return e}function FN(t){let e=VN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qi(){return oc()}function UN(){return oc()}function oc(){return new Co(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZF=new Ze(ue.comparator),e9=new xt(ue.comparator);function Ne(...t){let e=e9;for(const n of t)e=e.add(n);return e}const t9=new xt(Ie);function n9(){return t9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function zN(t){return{integerValue:""+t}}function r9(t,e){return RF(e)?zN(e):o0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this._=void 0}}function s9(t,e,n){return t instanceof Fc?function(s,i){const o={fields:{[bN]:{stringValue:_N},[SN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&n0(i)&&(i=zf(i)),i&&(o.fields[EN]=i),{mapValue:o}}(n,e):t instanceof Uc?BN(t,e):t instanceof zc?HN(t,e):function(s,i){const o=$N(s,i),a=V_(o)+V_(s.Ae);return ey(o)&&ey(s.Ae)?zN(a):o0(s.serializer,a)}(t,e)}function i9(t,e,n){return t instanceof Uc?BN(t,e):t instanceof zc?HN(t,e):n}function $N(t,e){return t instanceof Oh?function(r){return ey(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Fc extends Wf{}class Uc extends Wf{constructor(e){super(),this.elements=e}}function BN(t,e){const n=WN(e);for(const r of t.elements)n.some(s=>Ur(s,r))||n.push(r);return{arrayValue:{values:n}}}class zc extends Wf{constructor(e){super(),this.elements=e}}function HN(t,e){let n=WN(e);for(const r of t.elements)n=n.filter(s=>!Ur(s,r));return{arrayValue:{values:n}}}class Oh extends Wf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function V_(t){return it(t.integerValue||t.doubleValue)}function WN(t){return r0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n){this.field=e,this.transform=n}}function a9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Uc&&s instanceof Uc||r instanceof zc&&s instanceof zc?$a(r.elements,s.elements,Ur):r instanceof Oh&&s instanceof Oh?Ur(r.Ae,s.Ae):r instanceof Fc&&s instanceof Fc}(t.transform,e.transform)}class l9{constructor(e,n){this.version=e,this.transformResults=n}}class ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ss}static exists(e){return new ss(void 0,e)}static updateTime(e){return new ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qf{}function qN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new KN(t.key,ss.none()):new hu(t.key,t.data,ss.none());{const n=t.data,r=Fn.empty();let s=new xt(Ct.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Io(t.key,r,new sr(s.toArray()),ss.none())}}function c9(t,e,n){t instanceof hu?function(s,i,o){const a=s.value.clone(),l=U_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Io?function(s,i,o){if(!zd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=U_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(GN(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ac(t,e,n,r){return t instanceof hu?function(i,o,a,l){if(!zd(i.precondition,o))return a;const u=i.value.clone(),h=z_(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Io?function(i,o,a,l){if(!zd(i.precondition,o))return a;const u=z_(i.fieldTransforms,l,o),h=o.data;return h.setAll(GN(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return zd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function u9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=$N(r.transform,s||null);i!=null&&(n===null&&(n=Fn.empty()),n.set(r.field,i))}return n||null}function F_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&$a(r,s,(i,o)=>a9(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hu extends qf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Io extends qf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function GN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function U_(t,e,n){const r=new Map;Oe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,i9(o,a,n[s]))}return r}function z_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,s9(i,o,e))}return r}class KN extends qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d9 extends qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&c9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UN();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=qN(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(n,r)=>F_(n,r))&&$a(this.baseMutations,e.baseMutations,(n,r)=>F_(n,r))}}class a0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return ZF}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new a0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f9=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,ke;function m9(t){switch(t){case H.OK:return pe(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return pe(15467,{code:t})}}function QN(t){if(t===void 0)return ps("GRPC error has no .code"),H.UNKNOWN;switch(t){case at.OK:return H.OK;case at.CANCELLED:return H.CANCELLED;case at.UNKNOWN:return H.UNKNOWN;case at.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case at.INTERNAL:return H.INTERNAL;case at.UNAVAILABLE:return H.UNAVAILABLE;case at.UNAUTHENTICATED:return H.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case at.NOT_FOUND:return H.NOT_FOUND;case at.ALREADY_EXISTS:return H.ALREADY_EXISTS;case at.PERMISSION_DENIED:return H.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case at.ABORTED:return H.ABORTED;case at.OUT_OF_RANGE:return H.OUT_OF_RANGE;case at.UNIMPLEMENTED:return H.UNIMPLEMENTED;case at.DATA_LOSS:return H.DATA_LOSS;default:return pe(39323,{code:t})}}(ke=at||(at={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=new ai([4294967295,4294967295],0);function $_(t){const e=g9().encode(t),n=new oN;return n.update(e),new Uint8Array(n.digest())}function B_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ai([n,r],0),new ai([s,i],0)]}class l0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(r<0)throw new Hl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ai.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ai.fromNumber(r)));return s.compare(y9)===1&&(s=new ai([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$_(e),[r,s]=B_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new l0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=$_(e),[r,s]=B_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gf(we.min(),s,new Ze(Ie),ms(),Ne())}}class fu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fu(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class XN{constructor(e,n){this.targetId=e,this.Ce=n}}class YN{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class H_{constructor(){this.ve=0,this.Fe=W_(),this.Me=Nt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),n=Ne(),r=Ne();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:pe(38017,{changeType:i})}}),new fu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=W_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class v9{constructor(e){this.Ge=e,this.ze=new Map,this.je=ms(),this.Je=cd(),this.He=cd(),this.Ye=new Ze(Ie)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(ny(i))if(r===0){const o=new ue(i.path);this.et(n,o,Bt.newNoDocument(o,we.min()))}else Oe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=vi(r).toUint8Array()}catch(l){if(l instanceof xN)return yo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new l0(o,s,i)}catch(l){return yo(l instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&ny(a.target)){const l=new ue(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Bt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ne();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Gf(e,n,this.Ye,this.je,r);return this.je=ms(),this.Je=cd(),this.He=cd(),this.Ye=new Ze(Ie),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new H_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xt(Ie),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xt(Ie),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new H_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cd(){return new Ze(ue.comparator)}function W_(){return new Ze(ue.comparator)}const w9={asc:"ASCENDING",desc:"DESCENDING"},x9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_9={and:"AND",or:"OR"};class b9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sy(t,e){return t.useProto3Json||Uf(e)?e:{value:e}}function Mh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E9(t,e){return Mh(t,e.toTimestamp())}function Lr(t){return Oe(!!t,49232),we.fromTimestamp(function(n){const r=yi(n);return new ze(r.seconds,r.nanos)}(t))}function c0(t,e){return iy(t,e).canonicalString()}function iy(t,e){const n=function(s){return new Ue(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZN(t){const e=Ue.fromString(t);return Oe(sA(e),10190,{key:e.toString()}),e}function oy(t,e){return c0(t.databaseId,e.path)}function xm(t,e){const n=ZN(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(tA(n))}function eA(t,e){return c0(t.databaseId,e)}function S9(t){const e=ZN(t);return e.length===4?Ue.emptyPath():tA(e)}function ay(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tA(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function q_(t,e,n){return{name:oy(t,e),fields:n.value.mapValue.fields}}function T9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:pe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Oe(h===void 0||typeof h=="string",58123),Nt.fromBase64String(h||"")):(Oe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Nt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?H.UNKNOWN:QN(u.code);return new ie(h,u.message||"")}(o);n=new YN(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xm(t,r.document.name),i=Lr(r.document.updateTime),o=r.document.createTime?Lr(r.document.createTime):we.min(),a=new Fn({mapValue:{fields:r.document.fields}}),l=Bt.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new $d(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xm(t,r.document),i=r.readTime?Lr(r.readTime):we.min(),o=Bt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new $d([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xm(t,r.document),i=r.removedTargetIds||[];n=new $d([],i,s,null)}else{if(!("filter"in e))return pe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new p9(s,i),a=r.targetId;n=new XN(a,o)}}return n}function C9(t,e){let n;if(e instanceof hu)n={update:q_(t,e.key,e.value)};else if(e instanceof KN)n={delete:oy(t,e.key)};else if(e instanceof Io)n={update:q_(t,e.key,e.data),updateMask:O9(e.fieldMask)};else{if(!(e instanceof d9))return pe(16599,{Vt:e.type});n={verify:oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Fc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Oh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw pe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:E9(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:pe(27497)}(t,e.precondition)),n}function I9(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Lr(s.updateTime):Lr(i);return o.isEqual(we.min())&&(o=Lr(i)),new l9(o,s.transformResults||[])}(n,e))):[]}function N9(t,e){return{documents:[eA(t,e.path)]}}function A9(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eA(t,s);const i=function(u){if(u.length!==0)return rA(pr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:Uo(m.field),direction:P9(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function k9(t){let e=S9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Oe(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=nA(f);return m instanceof pr&&RN(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(x){return new Vc(zo(x.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Uf(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,v=f.values||[];return new Dh(v,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,v=f.values||[];return new Dh(v,m)}(n.endAt)),KF(e,s,o,i,a,"F",l,u)}function R9(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zo(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=zo(n.unaryFilter.field);return ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zo(n.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zo(n.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return ct.create(zo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pr.create(n.compositeFilter.filters.map(r=>nA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return pe(1026)}}(n.compositeFilter.op))}(t):pe(30097,{filter:t})}function P9(t){return w9[t]}function D9(t){return x9[t]}function j9(t){return _9[t]}function Uo(t){return{fieldPath:t.canonicalString()}}function zo(t){return Ct.fromServerFormat(t.fieldPath)}function rA(t){return t instanceof ct?function(n){if(n.op==="=="){if(D_(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NAN"}};if(P_(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(D_(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NAN"}};if(P_(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(n.field),op:D9(n.op),value:n.value}}}(t):t instanceof pr?function(n){const r=n.getFilters().map(s=>rA(s));return r.length===1?r[0]:{compositeFilter:{op:j9(n.op),filters:r}}}(t):pe(54877,{filter:t})}function O9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,r,s,i=we.min(),o=we.min(),a=Nt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.yt=e}}function L9(t){const e=k9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(){this.Cn=new F9}addToCollectionParentIndex(e,n){return this.Cn.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(gi.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(gi.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class F9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new xt(Ue.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new xt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iA=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(iA,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qa(0)}static cr(){return new qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="LruGarbageCollector",U9=1048576;function Q_([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class z9{constructor(e){this.Ir=e,this.buffer=new xt(Q_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Q_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(K_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){al(n)?oe(K_,"Ignoring IndexedDB error during garbage collection: ",n):await ol(n)}await this.Vr(3e5)})}}class B9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return G.resolve(Ff.ce);const r=new z9(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(G_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Vo()<=Ce.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function H9(t,e){return new B9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this.changes=new Co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ac(r.mutation,s,sr.empty(),ze.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const s=qi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Bl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ms();const o=oc(),a=function(){return oc()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Io)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),ac(h.mutation,u,h.mutation.getFieldMask(),ze.now())):o.set(u.key,sr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new q9(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=oc();let s=new Ze((o,a)=>o-a),i=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||sr.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(s.get(a.batchId)||Ne()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=UN();h.forEach(m=>{if(!i.has(m)){const v=qN(n.get(m),r.get(m));v!==null&&f.set(m,v),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return G.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ON(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):G.resolve(qi());let a=Oc,l=i;return o.next(u=>G.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?G.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ne())).next(h=>({batchId:a,changes:FN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let s=Bl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Bl();return this.indexManager.getCollectionParents(e,i).next(a=>G.forEach(a,l=>{const u=function(f,m){return new ll(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Bt.newInvalidDocument(h)))});let a=Bl();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&ac(h.mutation,u,sr.empty(),ze.now()),Hf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return G.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Lr(s.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:L9(s.bundledQuery),readTime:Lr(s.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(){this.overlays=new Ze(ue.comparator),this.qr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qi();return G.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const s=qi(),i=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return G.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ze((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=qi(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=qi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return G.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new f9(n,r));let i=this.qr.get(n);i===void 0&&(i=Ne(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.Qr=new xt(Et.$r),this.Ur=new xt(Et.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Et(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Et(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ue(new Ue([])),r=new Et(n,e),s=new Et(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ue(new Ue([])),r=new Et(n,e),s=new Et(n,e+1);let i=Ne();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Et(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ue.comparator(e.key,n.key)||Ie(e.Yr,n.Yr)}static Kr(e,n){return Ie(e.Yr,n.Yr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xt(Et.$r)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new h9(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Et(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,n){return G.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return G.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?t0:this.tr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),s=new Et(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),G.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(Ie);return n.forEach(s=>{const i=new Et(s,0),o=new Et(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),G.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ue.isDocumentKey(i)||(i=i.child(""));const o=new Et(new ue(i),0);let a=new xt(Ie);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),G.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Oe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return G.forEach(n.mutations,s=>{const i=new Et(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Et(n,0),s=this.Zr.firstAfterOrEqual(r);return G.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e){this.ri=e,this.docs=function(){return new Ze(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Bt.newInvalidDocument(s))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ms();const o=n.path,a=new ue(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||IF(CF(h),r)<=0||(s.has(h.key)||Hf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return G.resolve(i)}getAllFromCollectionGroup(e,n,r,s){pe(9500)}ii(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Z9(this)}getSize(e){return G.resolve(this.size)}}class Z9 extends W9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.persistence=e,this.si=new Co(n=>s0(n),i0),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new u0,this.targetCount=0,this.ai=qa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),G.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Pr(n),G.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),G.waitFor(i).next(()=>s)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),G.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ff(0),this.li=!1,this.li=!0,this.hi=new X9,this.referenceDelegate=e(this),this.Pi=new eU(this),this.indexManager=new V9,this.remoteDocumentCache=function(s){return new J9(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new M9(n),this.Ii=new K9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Y9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const s=new tU(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return G.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class tU extends AF{constructor(e){super(),this.currentSequenceNumber=e}}class d0{constructor(e){this.persistence=e,this.Ri=new u0,this.Vi=null}static mi(e){return new d0(e)}get fi(){if(this.Vi)return this.Vi;throw pe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),G.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.fi,r=>{const s=ue.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,we.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return G.or([()=>G.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.pi=new Co(r=>PF(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=H9(this,n)}static mi(e,n){return new Lh(e,n)}Ei(){}di(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return G.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?G.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,we.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),G.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fd(e.data.value)),n}br(e,n,r){return G.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return G.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ne(),s=Ne();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new h0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return X3()?8:kF(Wt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new nU;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Vo()<=Ce.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),G.resolve()):(Vo()<=Ce.DEBUG&&oe("QueryEngine","Query:",Fo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Vo()<=Ce.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):G.resolve())}ys(e,n){if(L_(n))return G.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=jh(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ne(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,jh(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return L_(n)||s.isEqual(we.min())?G.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?G.resolve(null):(Vo()<=Ce.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fo(n)),this.vs(e,o,n,TF(s,Oc)).next(a=>a))})}Ds(e,n){let r=new xt(LN(e));return n.forEach((s,i)=>{Hf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Vo()<=Ce.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Fo(n)),this.ps.getDocumentsMatchingQuery(e,n,gi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="LocalStore",sU=3e8;class iU{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ze(Ie),this.xs=new Co(i=>s0(i),i0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function oU(t,e,n,r){return new iU(t,e,n,r)}async function aA(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ne();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function aU(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,m=f.keys();let v=G.resolve();return m.forEach(x=>{v=v.next(()=>h.getEntry(l,x)).next(y=>{const _=u.docVersions.get(x);Oe(_!==null,48541),y.version.compareTo(_)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function lA(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function lU(t,e){const n=xe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let v=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Nt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(y,_,b){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=sU?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,v,h)&&a.push(n.Pi.updateTargetData(i,v))});let l=ms(),u=Ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(cU(i,o,e.documentUpdates).next(h=>{l=h.ks,u=h.qs})),!r.isEqual(we.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return G.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function cU(t,e,n){let r=Ne(),s=Ne();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ms();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):oe(f0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function uU(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=t0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dU(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,G.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Qs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ly(t,e,n){const r=xe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!al(o))throw o;oe(f0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function X_(t,e,n){const r=xe(t);let s=we.min(),i=Ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=xe(l),m=f.xs.get(h);return m!==void 0?G.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,h)}(r,o,Mr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:we.min(),n?i:Ne())).next(a=>(hU(r,XF(e),a),{documents:a,Qs:i})))}function hU(t,e,n){let r=t.Os.get(e)||we.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Y_{constructor(){this.activeTargetIds=n9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fU{constructor(){this.Mo=new Y_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Y_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="ConnectivityMonitor";class Z_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(J_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(J_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud=null;function cy(){return ud===null?ud=function(){return 268435456+Math.round(2147483648*Math.random())}():ud++,"0x"+ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="RestConnection",mU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Rh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=cy(),a=this.zo(e,n.toUriEncodedString());oe(_m,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),h=nl(u);return this.Jo(e,a,l,r,h).then(f=>(oe(_m,`Received RPC '${e}' ${o}: `,f),f),f=>{throw yo(_m,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=mU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class vU extends gU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=cy();return new Promise((a,l)=>{const u=new aN;u.setWithCredentials(!0),u.listenOnce(lN.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vd.NO_ERROR:const f=u.getResponseJson();oe(Ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Vd.TIMEOUT:oe(Ft,`RPC '${e}' ${o} timed out`),l(new ie(H.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const m=u.getStatus();if(oe(Ft,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const y=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(w)>=0?w:H.UNKNOWN}(x.status);l(new ie(y,x.message))}else l(new ie(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ie(H.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{oe(Ft,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);oe(Ft,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}T_(e,n,r){const s=cy(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dN(),a=uN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");oe(Ft,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let m=!1,v=!1;const x=new yU({Yo:_=>{v?oe(Ft,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(m||(oe(Ft,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),oe(Ft,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},Zo:()=>f.close()}),y=(_,b,w)=>{_.listen(b,S=>{try{w(S)}catch(k){setTimeout(()=>{throw k},0)}})};return y(f,$l.EventType.OPEN,()=>{v||(oe(Ft,`RPC '${e}' stream ${s} transport opened.`),x.o_())}),y(f,$l.EventType.CLOSE,()=>{v||(v=!0,oe(Ft,`RPC '${e}' stream ${s} transport closed`),x.a_(),this.E_(f))}),y(f,$l.EventType.ERROR,_=>{v||(v=!0,yo(Ft,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),x.a_(new ie(H.UNAVAILABLE,"The operation could not be completed")))}),y(f,$l.EventType.MESSAGE,_=>{var b;if(!v){const w=_.data[0];Oe(!!w,16349);const S=w,k=(S==null?void 0:S.error)||((b=S[0])==null?void 0:b.error);if(k){oe(Ft,`RPC '${e}' stream ${s} received error:`,k);const D=k.status;let O=function(I){const A=at[I];if(A!==void 0)return QN(A)}(D),T=k.message;O===void 0&&(O=H.INTERNAL,T="Unknown error status: "+D+" with message "+k.message),v=!0,x.a_(new ie(O,T)),f.close()}else oe(Ft,`RPC '${e}' stream ${s} received:`,w),x.u_(w)}}),y(a,cN.STAT_EVENT,_=>{_.stat===Yg.PROXY?oe(Ft,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Yg.NOPROXY&&oe(Ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){return new b9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&oe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="PersistentStream";class uA{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ie(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return oe(eb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(oe(eb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wU extends uA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=T9(this.serializer,e),r=function(i){if(!("targetChange"in i))return we.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?Lr(o.readTime):we.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ay(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=ny(l)?{documents:N9(i,l)}:{query:A9(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=JN(i,o.resumeToken);const u=sy(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(we.min())>0){a.readTime=Mh(i,o.snapshotVersion.toTimestamp());const u=sy(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=R9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ay(this.serializer),n.removeTarget=e,this.q_(n)}}class xU extends uA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=I9(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ay(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>C9(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{}class bU extends _U{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,iy(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(H.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,iy(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(H.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class EU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="RemoteStore";class SU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{No(this)&&(oe(vo,"Restarting streams for network reachability change."),await async function(l){const u=xe(l);u.Ea.add(4),await pu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Qf(u)}(this))})}),this.Ra=new EU(r,s)}}async function Qf(t){if(No(t))for(const e of t.da)await e(!0)}async function pu(t){for(const e of t.da)await e(!1)}function dA(t,e){const n=xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),y0(n)?g0(n):cl(n).O_()&&m0(n,e))}function p0(t,e){const n=xe(t),r=cl(n);n.Ia.delete(e),r.O_()&&hA(n,e),n.Ia.size===0&&(r.O_()?r.L_():No(n)&&n.Ra.set("Unknown"))}function m0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cl(t).Y_(e)}function hA(t,e){t.Va.Ue(e),cl(t).Z_(e)}function g0(t){t.Va=new v9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),cl(t).start(),t.Ra.ua()}function y0(t){return No(t)&&!cl(t).x_()&&t.Ia.size>0}function No(t){return xe(t).Ea.size===0}function fA(t){t.Va=void 0}async function TU(t){t.Ra.set("Online")}async function CU(t){t.Ia.forEach((e,n)=>{m0(t,e)})}async function IU(t,e){fA(t),y0(t)?(t.Ra.ha(e),g0(t)):t.Ra.set("Unknown")}async function NU(t,e,n){if(t.Ra.set("Online"),e instanceof YN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){oe(vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vh(t,r)}else if(e instanceof $d?t.Va.Ze(e):e instanceof XN?t.Va.st(e):t.Va.tt(e),!n.isEqual(we.min()))try{const r=await lA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(Nt.EMPTY_BYTE_STRING,h.snapshotVersion)),hA(i,l);const f=new Qs(h.target,l,u,h.sequenceNumber);m0(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){oe(vo,"Failed to raise snapshot:",r),await Vh(t,r)}}async function Vh(t,e,n){if(!al(e))throw e;t.Ea.add(1),await pu(t),t.Ra.set("Offline"),n||(n=()=>lA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe(vo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Qf(t)})}function pA(t,e){return e().catch(n=>Vh(t,n,e))}async function Xf(t){const e=xe(t),n=xi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:t0;for(;AU(e);)try{const s=await uU(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,kU(e,s)}catch(s){await Vh(e,s)}mA(e)&&gA(e)}function AU(t){return No(t)&&t.Ta.length<10}function kU(t,e){t.Ta.push(e);const n=xi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mA(t){return No(t)&&!xi(t).x_()&&t.Ta.length>0}function gA(t){xi(t).start()}async function RU(t){xi(t).ra()}async function PU(t){const e=xi(t);for(const n of t.Ta)e.ea(n.mutations)}async function DU(t,e,n){const r=t.Ta.shift(),s=a0.from(r,e,n);await pA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Xf(t)}async function jU(t,e){e&&xi(t).X_&&await async function(r,s){if(function(o){return m9(o)&&o!==H.ABORTED}(s.code)){const i=r.Ta.shift();xi(r).B_(),await pA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Xf(r)}}(t,e),mA(t)&&gA(t)}async function tb(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),oe(vo,"RemoteStore received new credentials");const r=No(n);n.Ea.add(3),await pu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qf(n)}async function OU(t,e){const n=xe(t);e?(n.Ea.delete(2),await Qf(n)):e||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function cl(t){return t.ma||(t.ma=function(n,r,s){const i=xe(n);return i.sa(),new wU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:TU.bind(null,t),t_:CU.bind(null,t),r_:IU.bind(null,t),H_:NU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),y0(t)?g0(t):t.Ra.set("Unknown")):(await t.ma.stop(),fA(t))})),t.ma}function xi(t){return t.fa||(t.fa=function(n,r,s){const i=xe(n);return i.sa(),new xU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:RU.bind(null,t),r_:jU.bind(null,t),ta:PU.bind(null,t),na:DU.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Xf(t)):(await t.fa.stop(),t.Ta.length>0&&(oe(vo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new v0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w0(t,e){if(ps("AsyncQueue",`${e}: ${t}`),al(t))return new ie(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{static emptySet(e){return new pa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Bl(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.ga=new Ze(ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):pe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ga{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ga(e,n,pa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class LU{constructor(){this.queries=rb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=xe(n),i=s.queries;s.queries=rb(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ie(H.ABORTED,"Firestore shutting down"))}}function rb(){return new Co(t=>MN(t),Bf)}async function yA(t,e){const n=xe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new MU,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=w0(o,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&x0(n)}async function vA(t,e){const n=xe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VU(t,e){const n=xe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&x0(n)}function FU(t,e,n){const r=xe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function x0(t){t.Ca.forEach(e=>{e.next()})}var uy,sb;(sb=uy||(uy={})).Ma="default",sb.Cache="cache";class wA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==uy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.key=e}}class _A{constructor(e){this.key=e}}class UU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=LN(e),this.tu=new pa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new nb,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),v=Hf(this.query,f)?f:null,x=!!m&&this.mutatedKeys.has(m.key),y=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let _=!1;m&&v?m.data.isEqual(v.data)?x!==y&&(r.track({type:3,doc:v}),_=!0):this.su(m,v)||(r.track({type:2,doc:v}),_=!0,(l&&this.eu(v,l)>0||u&&this.eu(v,u)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),_=!0):m&&!v&&(r.track({type:1,doc:m}),_=!0,(l||u)&&(a=!0)),_&&(v?(o=o.add(v),i=y?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(v,x){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Rt:_})}};return y(v)-y(x)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Ga(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new _A(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new xA(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ga.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _0="SyncEngine";class zU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $U{constructor(e){this.key=e,this.hu=!1}}class BU{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Co(a=>MN(a),Bf),this.Iu=new Map,this.Eu=new Set,this.du=new Ze(ue.comparator),this.Au=new Map,this.Ru=new u0,this.Vu={},this.mu=new Map,this.fu=qa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HU(t,e,n=!0){const r=IA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await bA(r,e,n,!0),s}async function WU(t,e){const n=IA(t);await bA(n,e,!0,!1)}async function bA(t,e,n,r){const s=await dU(t.localStore,Mr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await qU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&dA(t.remoteStore,s),a}async function qU(t,e,n,r,s){t.pu=(f,m,v)=>async function(y,_,b,w){let S=_.view.ru(b);S.Cs&&(S=await X_(y.localStore,_.query,!1).then(({documents:T})=>_.view.ru(T,S)));const k=w&&w.targetChanges.get(_.targetId),D=w&&w.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(S,y.isPrimaryClient,k,D);return ob(y,_.targetId,O.au),O.snapshot}(t,f,m,v);const i=await X_(t.localStore,e,!0),o=new UU(e,i.Qs),a=o.ru(i.documents),l=fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);ob(t,n,u.au);const h=new zU(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function GU(t,e,n){const r=xe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Bf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ly(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&p0(r.remoteStore,s.targetId),dy(r,s.targetId)}).catch(ol)):(dy(r,s.targetId),await ly(r.localStore,s.targetId,!0))}async function KU(t,e){const n=xe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),p0(n.remoteStore,r.targetId))}async function QU(t,e,n){const r=nz(t);try{const s=await function(o,a){const l=xe(o),u=ze.now(),h=a.reduce((v,x)=>v.add(x.key),Ne());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=ms(),y=Ne();return l.Ns.getEntries(v,h).next(_=>{x=_,x.forEach((b,w)=>{w.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,x)).next(_=>{f=_;const b=[];for(const w of a){const S=u9(w,f.get(w.key).overlayedDocument);S!=null&&b.push(new Io(w.key,S,NN(S.value.mapValue),ss.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,b,a)}).next(_=>{m=_;const b=_.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(v,_.batchId,b)})}).then(()=>({batchId:m.batchId,changes:FN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ze(Ie)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await mu(r,s.changes),await Xf(r.remoteStore)}catch(s){const i=w0(s,"Failed to persist write");n.reject(i)}}async function EA(t,e){const n=xe(t);try{const r=await lU(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Oe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Oe(o.hu,14607):s.removedDocuments.size>0&&(Oe(o.hu,42227),o.hu=!1))}),await mu(n,r,e)}catch(r){await ol(r)}}function ib(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=xe(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(u=!0)}),u&&x0(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XU(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ze(ue.comparator);o=o.insert(i,Bt.newNoDocument(i,we.min()));const a=Ne().add(i),l=new Gf(we.min(),new Map,new Ze(Ie),o,a);await EA(r,l),r.du=r.du.remove(i),r.Au.delete(e),b0(r)}else await ly(r.localStore,e,!1).then(()=>dy(r,e,n)).catch(ol)}async function YU(t,e){const n=xe(t),r=e.batch.batchId;try{const s=await aU(n.localStore,e);TA(n,r,null),SA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mu(n,s)}catch(s){await ol(s)}}async function JU(t,e,n){const r=xe(t);try{const s=await function(o,a){const l=xe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Oe(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);TA(r,e,n),SA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mu(r,s)}catch(s){await ol(s)}}function SA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function TA(t,e,n){const r=xe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function dy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||CA(t,r)})}function CA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(p0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),b0(t))}function ob(t,e,n){for(const r of n)r instanceof xA?(t.Ru.addReference(r.key,e),ZU(t,r)):r instanceof _A?(oe(_0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||CA(t,r.key)):pe(19791,{wu:r})}function ZU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(oe(_0,"New document in limbo: "+n),t.Eu.add(r),b0(t))}function b0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ue(Ue.fromString(e)),r=t.fu.next();t.Au.set(r,new $U(n)),t.du=t.du.insert(n,r),dA(t.remoteStore,new Qs(Mr($f(n.path)),r,"TargetPurposeLimboResolution",Ff.ce))}}async function mu(t,e,n){const r=xe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=h0.As(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const h=xe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>G.forEach(u,m=>G.forEach(m.Es,v=>h.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>G.forEach(m.ds,v=>h.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!al(f))throw f;oe(f0,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const v=h.Ms.get(m),x=v.snapshotVersion,y=v.withLastLimboFreeSnapshotVersion(x);h.Ms=h.Ms.insert(m,y)}}}(r.localStore,i))}async function ez(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){oe(_0,"User change. New user:",e.toKey());const r=await aA(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new ie(H.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mu(n,r.Ls)}}function tz(t,e){const n=xe(t),r=n.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let s=Ne();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function IA(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=EA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XU.bind(null,e),e.Pu.H_=VU.bind(null,e.eventManager),e.Pu.yu=FU.bind(null,e.eventManager),e}function nz(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JU.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oU(this.persistence,new rU,e.initialUser,this.serializer)}Cu(e){return new oA(d0.mi,this.serializer)}Du(e){return new fU}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class rz extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof Lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new oA(r=>Lh.mi(r,n),this.serializer)}}class hy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ib(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ez.bind(null,this.syncEngine),await OU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LU}()}createDatastore(e){const n=Kf(e.databaseInfo.databaseId),r=function(i){return new vU(i)}(e.databaseInfo);return function(i,o,a,l){return new bU(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new SU(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ib(this.syncEngine,n,0),function(){return Z_.v()?new Z_:new pU}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const f=new BU(s,i,o,a,l,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=xe(s);oe(vo,"RemoteStore shutting down."),i.Ea.add(5),await pu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}hy.provider={build:()=>new hy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="FirestoreClient";class sz{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=Lf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{oe(_i,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(oe(_i,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=w0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Em(t,e){t.asyncQueue.verifyOperationInProgress(),oe(_i,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await aA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ab(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iz(t);oe(_i,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>tb(e.remoteStore,s)),t._onlineComponents=e}async function iz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe(_i,"Using user provided OfflineComponentProvider");try{await Em(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await Em(t,new Fh)}}else oe(_i,"Using default OfflineComponentProvider"),await Em(t,new rz(void 0));return t._offlineComponents}async function AA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe(_i,"Using user provided OnlineComponentProvider"),await ab(t,t._uninitializedComponentsProvider._online)):(oe(_i,"Using default OnlineComponentProvider"),await ab(t,new hy))),t._onlineComponents}function oz(t){return AA(t).then(e=>e.syncEngine)}async function fy(t){const e=await AA(t),n=e.eventManager;return n.onListen=HU.bind(null,e.syncEngine),n.onUnlisten=GU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KU.bind(null,e.syncEngine),n}function az(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new NA({next:m=>{h.Nu(),o.enqueueAndForget(()=>vA(i,f));const v=m.docs.has(a);!v&&m.fromCache?u.reject(new ie(H.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&l.source==="server"?u.reject(new ie(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new wA($f(a.path),h,{includeMetadataChanges:!0,qa:!0});return yA(i,f)}(await fy(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="firestore.googleapis.com",cb=!0;class ub{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RA,this.ssl=cb}else this.host=e.host,this.ssl=e.ssl??cb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U9)throw new ie(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ub({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ub(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pN;switch(r.type){case"firstParty":return new wF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lb.get(n);r&&(oe("ComponentProvider","Removing Datastore"),lb.delete(n),r.terminate())}(this),Promise.resolve()}}function PA(t,e,n,r={}){var u;t=rs(t,Yf);const s=nl(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(bI(`https://${a}`),EI("Firestore",!0)),i.host!==RA&&i.host!==a&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!fo(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=zt.MOCK_USER;else{h=z3(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ie(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zt(m)}t._authCredentials=new gF(new fN(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rt(this.firestore,e,this._key)}toJSON(){return{type:rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(du(n,rt._jsonSchema))return new rt(e,r||null,new ue(Ue.fromString(n.referencePath)))}}rt._jsonSchemaVersion="firestore/documentReference/1.0",rt._jsonSchema={type:ut("string",rt._jsonSchemaVersion),referencePath:ut("string")};class is extends ws{constructor(e,n,r){super(e,n,$f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rt(this.firestore,null,new ue(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function E0(t,e,...n){if(t=en(t),mN("collection","path",e),t instanceof Yf){const r=Ue.fromString(e,...n);return E_(r),new is(t,null,r)}{if(!(t instanceof rt||t instanceof is))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return E_(r),new is(t.firestore,null,r)}}function dt(t,e,...n){if(t=en(t),arguments.length===1&&(e=Lf.newId()),mN("doc","path",e),t instanceof Yf){const r=Ue.fromString(e,...n);return b_(r),new rt(t,null,new ue(r))}{if(!(t instanceof rt||t instanceof is))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return b_(r),new rt(t.firestore,t instanceof is?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="AsyncQueue";class hb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cA(this,"async_queue_retry"),this._c=()=>{const r=bm();r&&oe(db,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new li;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!al(e))throw e;oe(db,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",fb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=v0.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&pe(47125,{Pc:fb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ka extends Yf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new hb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hb(e),this._firestoreClient=void 0,await e}}}function DA(t,e){const n=typeof t=="object"?t:II(),r=typeof t=="string"?t:Rh,s=Bv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=F3("firestore");i&&PA(s,...i)}return s}function Jf(t){if(t._terminated)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lz(t),t._firestoreClient}function lz(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,h){return new OF(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new sz(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tn(Nt.fromBase64String(e))}catch(n){throw new ie(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tn(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,Tn._jsonSchema))return Tn.fromBase64String(e.bytes)}}Tn._jsonSchemaVersion="firestore/bytes/1.0",Tn._jsonSchema={type:ut("string",Tn._jsonSchemaVersion),bytes:ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(du(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:ut("string",cr._jsonSchemaVersion),latitude:ut("number"),longitude:ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ur(e.vectorValues);throw new ie(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:ut("string",ur._jsonSchemaVersion),vectorValues:ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=/^__.*__$/;class uz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Io(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}function jA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{Ac:t})}}class S0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new S0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jA(this.Ac)&&cz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kf(e)}Cc(e,n,r,s=!1){return new S0({Ac:e,methodName:n,Dc:r,path:Ct.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OA(t){const e=t._freezeSettings(),n=Kf(t._databaseId);return new dz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hz(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);VA("Data must be an object, but it was:",o,r);const a=MA(r,o);let l,u;if(i.merge)l=new sr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=pz(e,f,n);if(!o.contains(m))throw new ie(H.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);gz(h,m)||h.push(m)}l=new sr(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new uz(new Fn(a),l,u)}class T0 extends ep{_toFieldTransform(e){return new o9(e.path,new Fc)}isEqual(e){return e instanceof T0}}function fz(t,e,n,r=!1){return C0(n,t.Cc(r?4:3,e))}function C0(t,e){if(LA(t=en(t)))return VA("Unsupported field value:",e,t),MA(t,e);if(t instanceof ep)return function(r,s){if(!jA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=C0(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ze.fromDate(r);return{timestampValue:Mh(s.serializer,i)}}if(r instanceof ze){const i=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mh(s.serializer,i)}}if(r instanceof cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tn)return{bytesValue:JN(s.serializer,r._byteString)};if(r instanceof rt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:c0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ur)return function(o,a){return{mapValue:{fields:{[TN]:{stringValue:IN},[Ph]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return o0(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Vf(r)}`)}(t,e)}function MA(t,e){const n={};return wN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,(r,s)=>{const i=C0(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function LA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof cr||t instanceof Tn||t instanceof rt||t instanceof ep||t instanceof ur)}function VA(t,e,n){if(!LA(n)||!yN(n)){const r=Vf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function pz(t,e,n){if((e=en(e))instanceof Zf)return e._internalPath;if(typeof e=="string")return FA(t,e);throw Uh("Field path arguments must be of type string or ",t,!1,void 0,n)}const mz=new RegExp("[~\\*/\\[\\]]");function FA(t,e,n){if(e.search(mz)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zf(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ie(H.INVALID_ARGUMENT,a+t+l)}function gz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(I0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yz extends UA{data(){return super.data()}}function I0(t,e){return typeof e=="string"?FA(t,e):e instanceof Zf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N0{}class tp extends N0{}function A0(t,e,...n){let r=[];e instanceof N0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof rp).length,a=i.filter(l=>l instanceof np).length;if(o>1||o>0&&a>0)throw new ie(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class np extends tp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new np(e,n,r)}_apply(e){const n=this._parse(e);return $A(e._query,n),new ws(e.firestore,e.converter,ry(e._query,n))}_parse(e){const n=OA(e.firestore);return function(i,o,a,l,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ie(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){gb(f,h);const x=[];for(const y of f)x.push(mb(l,i,y));m={arrayValue:{values:x}}}else m=mb(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||gb(f,h),m=fz(a,o,f,h==="in"||h==="not-in");return ct.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class rp extends N0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)$A(o,l),o=ry(o,l)}(e._query,n),new ws(e.firestore,e.converter,ry(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sp extends tp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sp(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ie(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ie(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vc(i,o)}(e._query,this._field,this._direction);return new ws(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ll(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function k0(t,e="asc"){const n=e,r=I0("orderBy",t);return sp._create(r,n)}class ip extends tp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ip(e,n,r)}_apply(e){return new ws(e.firestore,e.converter,jh(e._query,this._limit,this._limitType))}}function zA(t){return ip._create("limit",t,"F")}function mb(t,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new ie(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ON(e)&&n.indexOf("/")!==-1)throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!ue.isDocumentKey(r))throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return R_(t,new ue(r))}if(n instanceof rt)return R_(t,n._key);throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(n)}.`)}function gb(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $A(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class BA{convertValue(e,n="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Ph].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>it(o.doubleValue));return new ur(n)}convertGeoPoint(e){return new cr(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}convertTimestamp(e){const n=yi(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Oe(sA(r),9688,{name:e});const s=new Ba(r.get(1),r.get(3)),i=new ue(r.popFirst(5));return s.isEqual(n)||ps(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class na{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ci extends UA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(I0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ci._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ci._jsonSchemaVersion="firestore/documentSnapshot/1.0",ci._jsonSchema={type:ut("string",ci._jsonSchemaVersion),bundleSource:ut("string","DocumentSnapshot"),bundleName:ut("string"),bundle:ut("string")};class lc extends ci{data(e={}){return super.data(e)}}class ro{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new na(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lc(this._firestore,this._userDataWriter,r.key,r,new na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new lc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new na(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new lc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new na(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:xz(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){t=rs(t,rt);const e=rs(t.firestore,Ka);return az(Jf(e),t._key).then(n=>qA(e,t,n))}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:ut("string",ro._jsonSchemaVersion),bundleSource:ut("string","QuerySnapshot"),bundleName:ut("string"),bundle:ut("string")};class HA extends BA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,n)}}function vn(t,e,n){t=rs(t,rt);const r=rs(t.firestore,Ka),s=wz(t.converter,e,n);return WA(r,[hz(OA(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ss.none())])}function ul(t,...e){var l,u,h;t=en(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||pb(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(pb(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,a;if(t instanceof rt)o=rs(t.firestore,Ka),a=$f(t._key.path),i={next:f=>{e[r]&&e[r](qA(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=rs(t,ws);o=rs(f.firestore,Ka),a=f._query;const m=new HA(o);i={next:v=>{e[r]&&e[r](new ro(o,m,f,v))},error:e[r+1],complete:e[r+2]},vz(t._query)}return function(m,v,x,y){const _=new NA(y),b=new wA(v,_,x);return m.asyncQueue.enqueueAndForget(async()=>yA(await fy(m),b)),()=>{_.Nu(),m.asyncQueue.enqueueAndForget(async()=>vA(await fy(m),b))}}(Jf(o),a,s,i)}function WA(t,e){return function(r,s){const i=new li;return r.asyncQueue.enqueueAndForget(async()=>QU(await oz(r),s,i)),i.promise}(Jf(t),e)}function qA(t,e,n){const r=n.docs.get(e._key),s=new HA(t);return new ci(t,s,e._key,r,new na(n.hasPendingWrites,n.fromCache),e.converter)}function op(){return new T0("serverTimestamp")}(function(e,n=!0){(function(s){il=s})(rl),Ua(new po("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ka(new yF(r.getProvider("auth-internal")),new xF(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(u.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),oi(v_,w_,e),oi(v_,w_,"esm2020")})();const yb=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:BA,Bytes:Tn,CollectionReference:is,DocumentReference:rt,DocumentSnapshot:ci,FieldPath:Zf,FieldValue:ep,Firestore:Ka,FirestoreError:ie,GeoPoint:cr,Query:ws,QueryCompositeFilterConstraint:rp,QueryConstraint:tp,QueryDocumentSnapshot:lc,QueryFieldFilterConstraint:np,QueryLimitConstraint:ip,QueryOrderByConstraint:sp,QuerySnapshot:ro,SnapshotMetadata:na,Timestamp:ze,VectorValue:ur,_AutoId:Lf,_ByteString:Nt,_DatabaseId:Ba,_DocumentKey:ue,_EmptyAuthCredentialsProvider:pN,_FieldPath:Ct,_cast:rs,_logWarn:yo,_validateIsNotUsedTogether:gN,collection:E0,connectFirestoreEmulator:PA,doc:dt,ensureFirestoreConfigured:Jf,executeWrite:WA,getDoc:Qa,getFirestore:DA,limit:zA,onSnapshot:ul,orderBy:k0,query:A0,serverTimestamp:op,setDoc:vn},Symbol.toStringTag,{value:"Module"})),_z={apiKey:"AIzaSyD4y-0QZLN6Q5wFDoTxIaxR-_hcPWyDcto",authDomain:"trace-6f541.firebaseapp.com",projectId:"trace-6f541",storageBucket:"trace-6f541.firebasestorage.app",appId:"1:30992363510:web:5b61c6861fbcad776121d7"},R0=CI(_z),$o=hF(R0),st=DA(R0),gs=new fn;gs.addScope("https://www.googleapis.com/auth/classroom.courses.readonly");gs.addScope("https://www.googleapis.com/auth/classroom.coursework.me.readonly");gs.addScope("https://www.googleapis.com/auth/classroom.student-submissions.me.readonly");gs.addScope("https://www.googleapis.com/auth/classroom.courseworkmaterials.readonly");gs.addScope("https://www.googleapis.com/auth/calendar");gs.addScope("https://www.googleapis.com/auth/gmail.send");const vb=Object.freeze(Object.defineProperty({__proto__:null,app:R0,auth:$o,db:st,googleProvider:gs},Symbol.toStringTag,{value:"Module"})),GA=p.createContext(void 0);function bz({children:t}){const[e,n]=p.useState(null),[r,s]=p.useState(!0),[i,o]=p.useState(()=>sessionStorage.getItem("google_access_token")),[a,l]=p.useState(null);p.useEffect(()=>t6($o,x=>{n(x),s(!1)}),[]);const u=async()=>{try{l(null),gs.setCustomParameters({prompt:"consent",access_type:"offline"});const v=await ym($o,gs),x=fn.credentialFromResult(v);x!=null&&x.accessToken&&(o(x.accessToken),sessionStorage.setItem("google_access_token",x.accessToken))}catch(v){const x=v instanceof Error?v.message:"Failed to sign in";l(x),console.error("Sign in error:",v)}},h=async()=>{try{l(null);const v=new fn;v.addScope("https://www.googleapis.com/auth/gmail.send"),v.addScope("https://www.googleapis.com/auth/classroom.courses.readonly"),v.setCustomParameters({access_type:"offline",prompt:"consent"});const x=await ym($o,v),y=fn.credentialFromResult(x),_=x._tokenResponse;if(y!=null&&y.accessToken&&(o(y.accessToken),sessionStorage.setItem("google_access_token",y.accessToken)),_!=null&&_.oauthRefreshToken){const{doc:b,setDoc:w,serverTimestamp:S}=await sd(async()=>{const{doc:D,setDoc:O,serverTimestamp:T}=await Promise.resolve().then(()=>yb);return{doc:D,setDoc:O,serverTimestamp:T}},void 0),{db:k}=await sd(async()=>{const{db:D}=await Promise.resolve().then(()=>vb);return{db:D}},void 0);if(e&&_.oauthRefreshToken)return await w(b(k,"users",e.uid,"private_tokens","google"),{refreshToken:_.oauthRefreshToken,updatedAt:S()}),!0}return!!(y!=null&&y.accessToken)}catch(v){const x=v instanceof Error?v.message:"Failed to get Gmail permissions";return l(x),console.error("Permission error:",v),!1}},f=async()=>{try{l(null);const v=new fn;v.addScope("https://www.googleapis.com/auth/calendar.events"),v.setCustomParameters({access_type:"offline",prompt:"consent"});const x=await ym($o,v),y=fn.credentialFromResult(x),_=x._tokenResponse;if(y!=null&&y.accessToken&&(o(y.accessToken),sessionStorage.setItem("google_access_token",y.accessToken)),e&&(_!=null&&_.oauthRefreshToken)){const{doc:b,setDoc:w,serverTimestamp:S}=await sd(async()=>{const{doc:D,setDoc:O,serverTimestamp:T}=await Promise.resolve().then(()=>yb);return{doc:D,setDoc:O,serverTimestamp:T}},void 0),{db:k}=await sd(async()=>{const{db:D}=await Promise.resolve().then(()=>vb);return{db:D}},void 0);return await w(b(k,"users",e.uid,"private_tokens","calendar"),{refreshToken:_.oauthRefreshToken,updatedAt:S(),scopes:["https://www.googleapis.com/auth/calendar.events"]},{merge:!0}),!0}return!0}catch(v){const x=v instanceof Error?v.message:"Failed to get Calendar permissions";return l(x),console.error("Permission error:",v),!1}},m=async()=>{try{await n6($o),o(null),sessionStorage.removeItem("google_access_token")}catch(v){const x=v instanceof Error?v.message:"Failed to sign out";l(x)}};return c.jsx(GA.Provider,{value:{user:e,loading:r,accessToken:i,signInWithGoogle:u,requestGmailPermissions:h,requestCalendarPermissions:f,signOut:m,error:a},children:t})}function rn(){const t=p.useContext(GA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const KA=p.createContext(void 0);function Ez({children:t}){const[e,n]=p.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");return i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});p.useEffect(()=>{const i=document.documentElement;e==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")},s=i=>{n(i)};return c.jsx(KA.Provider,{value:{theme:e,toggleTheme:r,setTheme:s},children:t})}function QA(){const t=p.useContext(KA);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}async function Sz(t,e,n,r){const i=[`To: ${t}`,"Subject: "+e,"Content-Type: text/html; charset=utf-8","MIME-Version: 1.0","",n].join(`\r
`),o=btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");await fetch("https://gmail.googleapis.com/gmail/v1/users/me/messages/send",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({raw:o})})}async function Tz(t,e,n,r){const s=dt(st,"users",n,"settings","calendar"),i=await Qa(s);if(!i.exists()||!i.data().enabled){console.log("Calendar sync disabled or not configured.");return}if(!i.data().syncAssignments)return;console.log("Starting client-side calendar sync...");let a=!1;for(const l of t){if(!l.dueDate)continue;const u=new Date(l.dueDate),h=u.toISOString().split("T")[0],f={summary:` ${l.title}`,description:`Course: ${l.courseName}
${l.description||""}

Synced via Student Sphere`,start:{date:h},end:{date:h}},m=new Date(u);m.setDate(m.getDate()+1),f.end.date=m.toISOString().split("T")[0];const v=dt(st,"users",n,"calendarEvents",l.id),x=await Qa(v),y="https://www.googleapis.com/calendar/v3/calendars/primary/events";try{let _;if(x.exists()){const{calendarEventId:b}=x.data();_=await fetch(`${y}/${b}`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(f)})}else if(_=await fetch(y,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(f)}),_.ok){const b=await _.json();await vn(v,{calendarEventId:b.id,assignmentId:l.id,updatedAt:op()})}if(!_.ok&&_.status===403&&!a){a=!0,console.error("Calendar Sync 403: Permission Denied"),r({variant:"destructive",title:"Calendar Permission Needed",description:"We can't update your Google Calendar because we don't have permission. Please Sign Out and Sign In again to grant access."});break}}catch(_){console.warn(`Failed to sync assignment ${l.id} to calendar`,_)}}}const XA=p.createContext(void 0);function Cz(){return Math.random().toString(36).substring(2,15)}async function zh(t,e,n,r){var o;const s=[];let i;do{const a=e.includes("?")?"&":"?",l=i?`${e}${a}pageToken=${i}`:e;console.log(`Fetching: ${l.substring(0,100)}...`);const u=await fetch(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!u.ok){let m=u.statusText,v={};try{const x=await u.json();v=x,m=((o=x.error)==null?void 0:o.message)||x.message||m,console.error("API Error Response:",x)}catch{const y=await u.text().catch(()=>"");console.error("API Error (non-JSON):",y)}throw new Error(`${m} (Status: ${u.status})`)}const h=await u.json(),f=n(h);s.push(...f),i=r(h)}while(i);return s}const wb=["#FFADAD","#FFD6A5","#FDFFB6","#CAFFBF","#9BF6FF","#A0C4FF","#BDB2FF","#FFC6FF","#E0F7FA","#F3E5F5","#E8F5E9","#FFF3E0"];function Iz(t){let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e);const n=Math.abs(e)%wb.length;return wb[n]}async function Nz(t,e){const r=await zh(t,"https://classroom.googleapis.com/v1/courses?studentId=me&courseStates=ACTIVE",i=>i.courses||[],i=>i.nextPageToken),s=new Date().toISOString();return r.map(i=>({id:`course-${i.id}`,userId:e,classroomId:i.id,name:i.name,section:i.section||null,descriptionHeading:i.descriptionHeading||null,room:i.room||null,ownerId:i.ownerId||null,enrollmentCode:i.enrollmentCode||null,courseState:i.courseState||null,alternateLink:i.alternateLink||null,lastSyncedAt:s,color:Iz(i.id)}))}async function Az(t,e,n,r){var a,l;const s=`https://classroom.googleapis.com/v1/courses/${e}/courseWork?courseWorkStates=PUBLISHED`,i=await zh(t,s,u=>u.courseWork||[],u=>u.nextPageToken),o=[];for(const u of i){if(u.workType&&u.workType!=="ASSIGNMENT"&&u.workType!=="MULTIPLE_CHOICE_QUESTION")continue;let h=null;try{const _=`https://classroom.googleapis.com/v1/courses/${e}/courseWork/${u.id}/studentSubmissions?userId=me`;h=(await zh(t,_,w=>w.studentSubmissions||[],w=>w.nextPageToken))[0]||null}catch(_){console.warn(`Failed to fetch submissions for coursework ${u.id}:`,_)}let f=null,m=null;u.dueDate&&(f=new Date(u.dueDate.year,u.dueDate.month-1,u.dueDate.day,((a=u.dueTime)==null?void 0:a.hours)||23,((l=u.dueTime)==null?void 0:l.minutes)||59).toISOString(),u.dueTime&&(m=`${String(u.dueTime.hours).padStart(2,"0")}:${String(u.dueTime.minutes).padStart(2,"0")}`));const v=new Date;let x="backlog";h?h.state==="RETURNED"||h.returnedGrade!==void 0?x="graded":h.state==="TURNED_IN"||h.turnInTime?x="submitted":h.state==="CREATED"&&(x=f&&new Date(f)<v?"overdue":"backlog"):f&&new Date(f)<v?x="overdue":x="backlog";const y={id:`assign-${u.id}`,uniqueId:`${e}-${u.id}`,userId:r,courseId:`course-${e}`,courseName:n,classroomId:u.id,title:u.title,description:u.description||null,dueDate:f,dueTime:m,maxPoints:u.maxPoints||null,systemStatus:x,userStatus:null,submissionId:(h==null?void 0:h.id)||null,submittedAt:(h==null?void 0:h.turnInTime)||null,gradedAt:h!=null&&h.updateTime&&h.state==="RETURNED"?h.updateTime:null,grade:(h==null?void 0:h.returnedGrade)??(h==null?void 0:h.assignedGrade)??(h==null?void 0:h.draftGrade)??null,alternateLink:u.alternateLink||null,createdAt:u.creationTime||v.toISOString(),lastSyncedAt:v.toISOString()};o.push(y)}return o}async function kz(t,e,n,r){const s=`https://classroom.googleapis.com/v1/courses/${e}/courseWorkMaterials?courseWorkMaterialStates=PUBLISHED`;try{const i=await zh(t,s,a=>a.courseWorkMaterial||[],a=>a.nextPageToken),o=new Date().toISOString();return i.map(a=>({id:`mat-${a.id}`,uniqueId:`${e}-${a.id}`,userId:r,courseId:`course-${e}`,courseName:n,title:a.title,description:a.description||null,alternateLink:a.alternateLink||null,materials:a.materials||null,createdAt:a.updateTime||o,lastSyncedAt:o}))}catch(i){return console.warn(`Failed to fetch materials for course ${e}:`,i),[]}}function Rz({children:t}){const{user:e,accessToken:n}=rn(),[r,s]=p.useState(()=>{const U=sessionStorage.getItem("classroom_courses");return U?JSON.parse(U):[]}),[i,o]=p.useState(()=>{const U=sessionStorage.getItem("classroom_assignments");return U?JSON.parse(U):[]}),[a,l]=p.useState(()=>{const U=sessionStorage.getItem("classroom_materials");return U?JSON.parse(U):[]}),[u,h]=p.useState(()=>{const U=sessionStorage.getItem("classroom_notes");return U?new Map(JSON.parse(U)):new Map}),[f,m]=p.useState(()=>!sessionStorage.getItem("classroom_courses")),[v,x]=p.useState(!1),[y,_]=p.useState(()=>{const U=sessionStorage.getItem("classroom_lastSyncedAt");return U?new Date(U):null}),[b,w]=p.useState(null),[S,k]=p.useState(!1),{toast:D}=eu(),O=p.useCallback(async(U=!1)=>{var L;if(!e){w("Please sign in with Google to sync your Classroom data"),m(!1);return}let q=n;if(!q)try{const M=await e.getIdToken();console.log("Got ID token, but need OAuth access token for Classroom API"),w("Access token expired. Please sign out and sign in again to refresh your token."),m(!1);return}catch{w("Unable to authenticate. Please sign in again."),m(!1);return}x(!0),i.length===0&&m(!0),w(null);try{console.log("Starting sync...",{userId:e.uid,hasToken:!!q});const M=await Nz(q,e.uid);if(console.log(`Fetched ${M.length} courses`),M.length===0){w("No active courses found. Make sure you're enrolled in at least one Google Classroom course."),s([]),o([]),_(new Date),x(!1),m(!1);return}const $=[],B=[];for(const Q of M)try{console.log(`Fetching data for course: ${Q.name}`);const[X,Z]=await Promise.all([Az(q,Q.classroomId,Q.name,e.uid),kz(q,Q.classroomId,Q.name,e.uid)]);console.log(`Found ${X.length} assignments and ${Z.length} materials for ${Q.name}`),$.push(...X),B.push(...Z)}catch(X){console.warn(`Failed to fetch data for course ${Q.name}:`,X)}console.log(`Sync complete: ${M.length} courses, ${$.length} assignments, ${B.length} materials`),s(M),o($),l(B),_(new Date),m(!1);try{await Tz($,q,e.uid,D)}catch(Q){console.error("Calendar sync failed:",Q)}try{const Q=dt(st,"users",e.uid,"settings","notifications"),X=await Qa(Q);if(X.exists()&&X.data().enabled&&X.data().notifyDueSoon){const de=dt(st,"users",e.uid,"notifications","digest"),se=await Qa(de),W=se.exists()?(L=se.data().lastSent)==null?void 0:L.toDate():null,ee=new Date;if(!(W&&W.getDate()===ee.getDate()&&W.getMonth()===ee.getMonth()&&W.getFullYear()===ee.getFullYear())){const ne=new Date(ee);ne.setDate(ne.getDate()+1),ne.setHours(23,59,59,999);const ce=$.filter(le=>{if(!le.dueDate||le.systemStatus==="submitted"||le.systemStatus==="graded")return!1;const Ae=new Date(le.dueDate);return Ae>=ee&&Ae<=ne});if(ce.length>0&&e.email){const le=ce.map(Ve=>`<li><strong>${Ve.title}</strong> <span style="color:#666">(${Ve.courseName})</span><br>Due: ${new Date(Ve.dueDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}</li>`).join(""),Ae=`
                         <div style="font-family: sans-serif; max-width: 600px; margin: 0 auto;">
                           <h2 style="color: #2563eb;"> Daily Digest</h2>
                           <p>You have <strong>${ce.length} assignments</strong> coming up in the next 24 hours:</p>
                           <ul style="line-height: 1.6;">${le}</ul>
                           <a href="http://localhost:3000" style="display: inline-block; background: #2563eb; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; margin-top: 20px;">Open Student Sphere</a>
                         </div>
                       `;await Sz(e.email,`Student Sphere: ${ce.length} Tasks Due Soon`,Ae,q),await vn(de,{lastSent:op()}),console.log("Daily digest email delivered.")}}}}catch(Q){console.warn("Notification sync failed (non-critical):",Q)}U||D({title:"Sync Complete",description:`Successfully synced ${M.length} courses, ${$.length} assignments, and updated Google Calendar.`})}catch(M){console.error("Sync error details:",M);let $="Failed to sync";if(M!=null&&M.message){const B=M.message.toLowerCase();B.includes("401")||B.includes("unauthorized")||B.includes("invalid_token")||B.includes("token expired")?$="Authentication failed. Your access token may have expired. Please sign out and sign in again.":B.includes("403")||B.includes("forbidden")||B.includes("permission denied")?$="Permission denied. Please make sure you granted Classroom access permissions when signing in. Sign out and sign in again, then grant all requested permissions.":B.includes("quota")||B.includes("rate")||B.includes("429")?$="API quota exceeded. Please try again later.":B.includes("cors")||B.includes("network")?$="Network error. Please check your internet connection and try again.":$=`Sync failed: ${M.message}`}else M instanceof TypeError&&M.message.includes("fetch")&&($="Network error. Please check your internet connection.");w($),console.error("Sync error:",M),U||D({variant:"destructive",title:"Sync Failed",description:$})}finally{x(!1),m(!1)}},[e,n]);p.useEffect(()=>{if(!e){k(!1),m(!1);return}if(!n){m(!1);return}!S&&!v&&(k(!0),O(!0))},[e,n,S,r.length,i.length,v]),p.useEffect(()=>{sessionStorage.setItem("classroom_courses",JSON.stringify(r))},[r]),p.useEffect(()=>{sessionStorage.setItem("classroom_materials",JSON.stringify(a))},[a]),p.useEffect(()=>{sessionStorage.setItem("classroom_notes",JSON.stringify(Array.from(u.entries())))},[u]),p.useEffect(()=>{sessionStorage.setItem("classroom_assignments",JSON.stringify(i))},[i]),p.useEffect(()=>{y?sessionStorage.setItem("classroom_lastSyncedAt",y.toISOString()):sessionStorage.removeItem("classroom_lastSyncedAt")},[y]);const T=p.useCallback((U,q)=>{o(L=>L.map(M=>M.id===U?{...M,userStatus:q}:M))},[]),C=p.useCallback((U,q,L=!1)=>{const M={id:Cz(),userId:(e==null?void 0:e.uid)||"",assignmentId:U,content:q,isImportant:L,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};h($=>{const B=new Map($),Q=B.get(U)||[];return B.set(U,[...Q,M]),B})},[e]),I=p.useCallback((U,q,L)=>{h(M=>{const $=new Map(M);for(const[B,Q]of Array.from($.entries())){const X=Q.findIndex(Z=>Z.id===U);if(X!==-1){const Z=[...Q];Z[X]={...Z[X],content:q,isImportant:L??Z[X].isImportant,updatedAt:new Date().toISOString()},$.set(B,Z);break}}return $})},[]),A=p.useCallback((U,q)=>{h(L=>{const M=new Map(L),$=M.get(q)||[];return M.set(q,$.filter(B=>B.id!==U)),M})},[]),R=p.useCallback(()=>{const U=[{id:"backlog",title:"Backlog",assignments:[]},{id:"in_progress",title:"In Progress",assignments:[]},{id:"submitted",title:"Submitted",assignments:[]},{id:"graded",title:"Graded",assignments:[]},{id:"overdue",title:"Overdue",assignments:[]}];return i.forEach(q=>{const L=q.userStatus==="in_progress"?"in_progress":q.systemStatus,M=U.find($=>$.id===L);M&&M.assignments.push(q)}),U.forEach(q=>{q.assignments.sort((L,M)=>L.dueDate?M.dueDate?new Date(L.dueDate).getTime()-new Date(M.dueDate).getTime():-1:1)}),U},[i]),j=p.useCallback(()=>{const U=new Date,q=new Date(U);q.setDate(q.getDate()+3);const L=new Date(U);L.setDate(L.getDate()+7);const M=i.filter(W=>W.systemStatus!=="graded"&&W.systemStatus!=="submitted"),$=i.filter(W=>{if(!W.dueDate||W.systemStatus==="graded"||W.systemStatus==="submitted")return!1;const ee=new Date(W.dueDate);return ee>=U&&ee<=q}),B=i.filter(W=>{if(!W.dueDate||W.systemStatus==="graded"||W.systemStatus==="submitted")return!1;const ee=new Date(W.dueDate);return ee>=U&&ee<=L}),Q=i.filter(W=>W.systemStatus==="overdue"),X=[],Z=new Date,de=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let W=0;W<7;W++){const ee=new Date(Z);ee.setDate(ee.getDate()+W);const fe=ee.toISOString().split("T")[0],ne=i.filter(ce=>ce.dueDate?ce.dueDate.split("T")[0]===fe:!1).length;X.push({day:de[ee.getDay()],count:ne,isToday:W===0})}const se=[...M].filter(W=>W.dueDate).sort((W,ee)=>new Date(W.dueDate).getTime()-new Date(ee.dueDate).getTime()).slice(0,5);return{totalActive:M.length,upcoming3Days:$.length,upcoming7Days:B.length,overdue:Q.length,weeklyWorkload:X,nextActions:se}},[i]),P=p.useCallback(U=>{let q=[...i];U!=null&&U.courseId&&(q=q.filter(B=>B.courseId===U.courseId)),U!=null&&U.status&&(q=q.filter(B=>B.systemStatus===U.status)),q.sort((B,Q)=>B.dueDate?Q.dueDate?new Date(B.dueDate).getTime()-new Date(Q.dueDate).getTime():-1:1);const L=new Map,M=new Date,$=new Date(M);return $.setDate($.getDate()+1),q.forEach(B=>{if(!B.dueDate)return;const Q=B.dueDate.split("T")[0],X=new Date(B.dueDate);let Z;Q===M.toISOString().split("T")[0]?Z="Today":Q===$.toISOString().split("T")[0]?Z="Tomorrow":Z=X.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),L.has(Q)||L.set(Q,{date:Q,dateLabel:Z,assignments:[]}),L.get(Q).assignments.push(B)}),Array.from(L.values())},[i]),z=p.useCallback(U=>i.find(q=>q.id===U),[i]),re=p.useCallback(U=>u.get(U)||[],[u]);return c.jsx(XA.Provider,{value:{courses:r,assignments:i,notes:u,isLoading:f,isSyncing:v,lastSyncedAt:y,error:b,syncClassroom:O,updateAssignmentStatus:T,addNote:C,updateNote:I,deleteNote:A,getPipelineColumns:R,getDashboardMetrics:j,getTimelineGroups:P,getAssignmentById:z,getNotesForAssignment:re,materials:a},children:t})}function xs(){const t=p.useContext(XA);if(t===void 0)throw new Error("useClassroom must be used within a ClassroomProvider");return t}var Sm="focusScope.autoFocusOnMount",Tm="focusScope.autoFocusOnUnmount",xb={bubbles:!1,cancelable:!0},Pz="FocusScope",P0=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=p.useState(null),u=Zt(s),h=Zt(i),f=p.useRef(null),m=Le(e,y=>l(y)),v=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let y=function(S){if(v.paused||!a)return;const k=S.target;a.contains(k)?f.current=k:Ds(f.current,{select:!0})},_=function(S){if(v.paused||!a)return;const k=S.relatedTarget;k!==null&&(a.contains(k)||Ds(f.current,{select:!0}))},b=function(S){if(document.activeElement===document.body)for(const D of S)D.removedNodes.length>0&&Ds(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const w=new MutationObserver(b);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),w.disconnect()}}},[r,a,v.paused]),p.useEffect(()=>{if(a){bb.add(v);const y=document.activeElement;if(!a.contains(y)){const b=new CustomEvent(Sm,xb);a.addEventListener(Sm,u),a.dispatchEvent(b),b.defaultPrevented||(Dz(Vz(YA(a)),{select:!0}),document.activeElement===y&&Ds(a))}return()=>{a.removeEventListener(Sm,u),setTimeout(()=>{const b=new CustomEvent(Tm,xb);a.addEventListener(Tm,h),a.dispatchEvent(b),b.defaultPrevented||Ds(y??document.body,{select:!0}),a.removeEventListener(Tm,h),bb.remove(v)},0)}}},[a,u,h,v]);const x=p.useCallback(y=>{if(!n&&!r||v.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(_&&b){const w=y.currentTarget,[S,k]=jz(w);S&&k?!y.shiftKey&&b===k?(y.preventDefault(),n&&Ds(S,{select:!0})):y.shiftKey&&b===S&&(y.preventDefault(),n&&Ds(k,{select:!0})):b===w&&y.preventDefault()}},[n,r,v.paused]);return c.jsx(ve.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});P0.displayName=Pz;function Dz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ds(r,{select:e}),document.activeElement!==n)return}function jz(t){const e=YA(t),n=_b(e,t),r=_b(e.reverse(),t);return[n,r]}function YA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _b(t,e){for(const n of t)if(!Oz(n,{upTo:e}))return n}function Oz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Mz(t){return t instanceof HTMLInputElement&&"select"in t}function Ds(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Mz(t)&&e&&t.select()}}var bb=Lz();function Lz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Eb(t,e),t.unshift(e)},remove(e){var n;t=Eb(t,e),(n=t[0])==null||n.resume()}}}function Eb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Vz(t){return t.filter(e=>e.tagName!=="A")}var Cm=0;function JA(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Sb()),document.body.insertAdjacentElement("beforeend",t[1]??Sb()),Cm++,()=>{Cm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Cm--}},[])}function Sb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Rr=function(){return Rr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rr.apply(this,arguments)};function ZA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Fz(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Bd="right-scroll-bar-position",Hd="width-before-scroll-bar",Uz="with-scroll-bars-hidden",zz="--removed-body-scroll-bar-size";function Im(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $z(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Bz=typeof window<"u"?p.useLayoutEffect:p.useEffect,Tb=new WeakMap;function Hz(t,e){var n=$z(null,function(r){return t.forEach(function(s){return Im(s,r)})});return Bz(function(){var r=Tb.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Im(a,null)}),i.forEach(function(a){s.has(a)||Im(a,o)})}Tb.set(n,t)},[t]),n}function Wz(t){return t}function qz(t,e){e===void 0&&(e=Wz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function Gz(t){t===void 0&&(t={});var e=qz(null);return e.options=Rr({async:!0,ssr:!1},t),e}var ek=function(t){var e=t.sideCar,n=ZA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Rr({},n))};ek.isSideCarExport=!0;function Kz(t,e){return t.useMedium(e),ek}var tk=Gz(),Nm=function(){},ap=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Nm,onWheelCapture:Nm,onTouchMoveCapture:Nm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,v=t.noIsolation,x=t.inert,y=t.allowPinchZoom,_=t.as,b=_===void 0?"div":_,w=t.gapMode,S=ZA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,D=Hz([n,e]),O=Rr(Rr({},S),s);return p.createElement(p.Fragment,null,h&&p.createElement(k,{sideCar:tk,removeScrollBar:u,shards:f,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?p.cloneElement(p.Children.only(a),Rr(Rr({},O),{ref:D})):p.createElement(b,Rr({},O,{className:l,ref:D}),a))});ap.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ap.classNames={fullWidth:Hd,zeroRight:Bd};var Qz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Xz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Qz();return e&&t.setAttribute("nonce",e),t}function Yz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Jz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Zz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Xz())&&(Yz(e,n),Jz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},e8=function(){var t=Zz();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},nk=function(){var t=e8(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},t8={left:0,top:0,right:0,gap:0},Am=function(t){return parseInt(t||"",10)||0},n8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Am(n),Am(r),Am(s)]},r8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return t8;var e=n8(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},s8=nk(),ma="data-scroll-locked",i8=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Uz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ma,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Hd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bd," .").concat(Bd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hd," .").concat(Hd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ma,`] {
    `).concat(zz,": ").concat(a,`px;
  }
`)},Cb=function(){var t=parseInt(document.body.getAttribute(ma)||"0",10);return isFinite(t)?t:0},o8=function(){p.useEffect(function(){return document.body.setAttribute(ma,(Cb()+1).toString()),function(){var t=Cb()-1;t<=0?document.body.removeAttribute(ma):document.body.setAttribute(ma,t.toString())}},[])},a8=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;o8();var i=p.useMemo(function(){return r8(s)},[s]);return p.createElement(s8,{styles:i8(i,!e,s,n?"":"!important")})},py=!1;if(typeof window<"u")try{var dd=Object.defineProperty({},"passive",{get:function(){return py=!0,!0}});window.addEventListener("test",dd,dd),window.removeEventListener("test",dd,dd)}catch{py=!1}var Oo=py?{passive:!1}:!1,l8=function(t){return t.tagName==="TEXTAREA"},rk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!l8(t)&&n[e]==="visible")},c8=function(t){return rk(t,"overflowY")},u8=function(t){return rk(t,"overflowX")},Ib=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=sk(t,r);if(s){var i=ik(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},d8=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},h8=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},sk=function(t,e){return t==="v"?c8(e):u8(e)},ik=function(t,e){return t==="v"?d8(e):h8(e)},f8=function(t,e){return t==="h"&&e==="rtl"?-1:1},p8=function(t,e,n,r,s){var i=f8(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,h=o>0,f=0,m=0;do{var v=ik(t,a),x=v[0],y=v[1],_=v[2],b=y-_-i*x;(x||b)&&sk(t,a)&&(f+=b,m+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(u=!0),u},hd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Nb=function(t){return[t.deltaX,t.deltaY]},Ab=function(t){return t&&"current"in t?t.current:t},m8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},g8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},y8=0,Mo=[];function v8(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(y8++)[0],i=p.useState(nk)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=Fz([t.lockRef.current],(t.shards||[]).map(Ab),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var b=hd(y),w=n.current,S="deltaX"in y?y.deltaX:w[0]-b[0],k="deltaY"in y?y.deltaY:w[1]-b[1],D,O=y.target,T=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in y&&T==="h"&&O.type==="range")return!1;var C=Ib(T,O);if(!C)return!0;if(C?D=T:(D=T==="v"?"h":"v",C=Ib(T,O)),!C)return!1;if(!r.current&&"changedTouches"in y&&(S||k)&&(r.current=D),!D)return!0;var I=r.current||D;return p8(I,_,y,I==="h"?S:k,!0)},[]),l=p.useCallback(function(y){var _=y;if(!(!Mo.length||Mo[Mo.length-1]!==i)){var b="deltaY"in _?Nb(_):hd(_),w=e.current.filter(function(D){return D.name===_.type&&(D.target===_.target||_.target===D.shadowParent)&&m8(D.delta,b)})[0];if(w&&w.should){_.cancelable&&_.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(Ab).filter(Boolean).filter(function(D){return D.contains(_.target)}),k=S.length>0?a(_,S[0]):!o.current.noIsolation;k&&_.cancelable&&_.preventDefault()}}},[]),u=p.useCallback(function(y,_,b,w){var S={name:y,delta:_,target:b,should:w,shadowParent:w8(b)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(k){return k!==S})},1)},[]),h=p.useCallback(function(y){n.current=hd(y),r.current=void 0},[]),f=p.useCallback(function(y){u(y.type,Nb(y),y.target,a(y,t.lockRef.current))},[]),m=p.useCallback(function(y){u(y.type,hd(y),y.target,a(y,t.lockRef.current))},[]);p.useEffect(function(){return Mo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Oo),document.addEventListener("touchmove",l,Oo),document.addEventListener("touchstart",h,Oo),function(){Mo=Mo.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Oo),document.removeEventListener("touchmove",l,Oo),document.removeEventListener("touchstart",h,Oo)}},[]);var v=t.removeScrollBar,x=t.inert;return p.createElement(p.Fragment,null,x?p.createElement(i,{styles:g8(s)}):null,v?p.createElement(a8,{gapMode:t.gapMode}):null)}function w8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const x8=Kz(tk,v8);var D0=p.forwardRef(function(t,e){return p.createElement(ap,Rr({},t,{ref:e,sideCar:x8}))});D0.classNames=ap.classNames;var _8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Lo=new WeakMap,fd=new WeakMap,pd={},km=0,ok=function(t){return t&&(t.host||ok(t.parentNode))},b8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ok(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},E8=function(t,e,n,r){var s=b8(e,Array.isArray(t)?t:[t]);pd[n]||(pd[n]=new WeakMap);var i=pd[n],o=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var v=m.getAttribute(r),x=v!==null&&v!=="false",y=(Lo.get(m)||0)+1,_=(i.get(m)||0)+1;Lo.set(m,y),i.set(m,_),o.push(m),y===1&&x&&fd.set(m,!0),_===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return h(e),a.clear(),km++,function(){o.forEach(function(f){var m=Lo.get(f)-1,v=i.get(f)-1;Lo.set(f,m),i.set(f,v),m||(fd.has(f)||f.removeAttribute(r),fd.delete(f)),v||f.removeAttribute(n)}),km--,km||(Lo=new WeakMap,Lo=new WeakMap,fd=new WeakMap,pd={})}},ak=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=_8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),E8(r,s,n,"aria-hidden")):function(){return null}},j0="Dialog",[lk,ck]=qn(j0),[S8,yr]=lk(j0),uk=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=p.useRef(null),l=p.useRef(null),[u=!1,h]=hi({prop:r,defaultProp:s,onChange:i});return c.jsx(S8,{scope:e,triggerRef:a,contentRef:l,contentId:ns(),titleId:ns(),descriptionId:ns(),open:u,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};uk.displayName=j0;var dk="DialogTrigger",hk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yr(dk,n),i=Le(e,s.triggerRef);return c.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":L0(s.open),...r,ref:i,onClick:he(t.onClick,s.onOpenToggle)})});hk.displayName=dk;var O0="DialogPortal",[T8,fk]=lk(O0,{forceMount:void 0}),pk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=yr(O0,e);return c.jsx(T8,{scope:e,forceMount:n,children:p.Children.map(r,o=>c.jsx(Eo,{present:n||i.open,children:c.jsx(_f,{asChild:!0,container:s,children:o})}))})};pk.displayName=O0;var $h="DialogOverlay",mk=p.forwardRef((t,e)=>{const n=fk($h,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=yr($h,t.__scopeDialog);return i.modal?c.jsx(Eo,{present:r||i.open,children:c.jsx(I8,{...s,ref:e})}):null});mk.displayName=$h;var C8=Oa("DialogOverlay.RemoveScroll"),I8=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yr($h,n);return c.jsx(D0,{as:C8,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ve.div,{"data-state":L0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),wo="DialogContent",gk=p.forwardRef((t,e)=>{const n=fk(wo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=yr(wo,t.__scopeDialog);return c.jsx(Eo,{present:r||i.open,children:i.modal?c.jsx(N8,{...s,ref:e}):c.jsx(A8,{...s,ref:e})})});gk.displayName=wo;var N8=p.forwardRef((t,e)=>{const n=yr(wo,t.__scopeDialog),r=p.useRef(null),s=Le(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return ak(i)},[]),c.jsx(yk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:he(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:he(t.onFocusOutside,i=>i.preventDefault())})}),A8=p.forwardRef((t,e)=>{const n=yr(wo,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return c.jsx(yk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),yk=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=yr(wo,n),l=p.useRef(null),u=Le(e,l);return JA(),c.jsxs(c.Fragment,{children:[c.jsx(P0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(tu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":L0(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(R8,{titleId:a.titleId}),c.jsx(D8,{contentRef:l,descriptionId:a.descriptionId})]})]})}),M0="DialogTitle",vk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yr(M0,n);return c.jsx(ve.h2,{id:s.titleId,...r,ref:e})});vk.displayName=M0;var wk="DialogDescription",xk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yr(wk,n);return c.jsx(ve.p,{id:s.descriptionId,...r,ref:e})});xk.displayName=wk;var _k="DialogClose",bk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yr(_k,n);return c.jsx(ve.button,{type:"button",...r,ref:e,onClick:he(t.onClick,()=>s.onOpenChange(!1))})});bk.displayName=_k;function L0(t){return t?"open":"closed"}var Ek="DialogTitleWarning",[k8,Sk]=rM(Ek,{contentName:wo,titleName:M0,docsSlug:"dialog"}),R8=({titleId:t})=>{const e=Sk(Ek),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},P8="DialogDescriptionWarning",D8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Sk(P8).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Tk=uk,j8=hk,Ck=pk,V0=mk,F0=gk,U0=vk,z0=xk,$0=bk,Ik="AlertDialog",[O8,nW]=qn(Ik,[ck]),_s=ck(),Nk=t=>{const{__scopeAlertDialog:e,...n}=t,r=_s(e);return c.jsx(Tk,{...r,...n,modal:!0})};Nk.displayName=Ik;var M8="AlertDialogTrigger",Ak=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=_s(n);return c.jsx(j8,{...s,...r,ref:e})});Ak.displayName=M8;var L8="AlertDialogPortal",kk=t=>{const{__scopeAlertDialog:e,...n}=t,r=_s(e);return c.jsx(Ck,{...r,...n})};kk.displayName=L8;var V8="AlertDialogOverlay",Rk=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=_s(n);return c.jsx(V0,{...s,...r,ref:e})});Rk.displayName=V8;var ga="AlertDialogContent",[F8,U8]=O8(ga),z8=BT("AlertDialogContent"),Pk=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=_s(n),o=p.useRef(null),a=Le(e,o),l=p.useRef(null);return c.jsx(k8,{contentName:ga,titleName:Dk,docsSlug:"alert-dialog",children:c.jsx(F8,{scope:n,cancelRef:l,children:c.jsxs(F0,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:he(s.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=l.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(z8,{children:r}),c.jsx(B8,{contentRef:o})]})})})});Pk.displayName=ga;var Dk="AlertDialogTitle",jk=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=_s(n);return c.jsx(U0,{...s,...r,ref:e})});jk.displayName=Dk;var Ok="AlertDialogDescription",Mk=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=_s(n);return c.jsx(z0,{...s,...r,ref:e})});Mk.displayName=Ok;var $8="AlertDialogAction",Lk=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=_s(n);return c.jsx($0,{...s,...r,ref:e})});Lk.displayName=$8;var Vk="AlertDialogCancel",Fk=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=U8(Vk,n),i=_s(n),o=Le(e,s);return c.jsx($0,{...i,...r,ref:o})});Fk.displayName=Vk;var B8=({contentRef:t})=>{const e=`\`${ga}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ga}\` by passing a \`${Ok}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ga}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},H8=Nk,W8=Ak,q8=kk,Uk=Rk,zk=Pk,$k=Lk,Bk=Fk,Hk=jk,Wk=Mk;const B0=ru("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ye=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?iM:"button";return c.jsx(o,{className:J(B0({variant:e,size:n,className:t})),ref:i,...s})});ye.displayName="Button";const qk=H8,Gk=W8,G8=q8,Kk=p.forwardRef(({className:t,...e},n)=>c.jsx(Uk,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Kk.displayName=Uk.displayName;const H0=p.forwardRef(({className:t,...e},n)=>c.jsxs(G8,{children:[c.jsx(Kk,{}),c.jsx(zk,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));H0.displayName=zk.displayName;const W0=({className:t,...e})=>c.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",t),...e});W0.displayName="AlertDialogHeader";const q0=({className:t,...e})=>c.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});q0.displayName="AlertDialogFooter";const G0=p.forwardRef(({className:t,...e},n)=>c.jsx(Hk,{ref:n,className:J("text-lg font-semibold",t),...e}));G0.displayName=Hk.displayName;const K0=p.forwardRef(({className:t,...e},n)=>c.jsx(Wk,{ref:n,className:J("text-sm text-muted-foreground",t),...e}));K0.displayName=Wk.displayName;const Q0=p.forwardRef(({className:t,...e},n)=>c.jsx($k,{ref:n,className:J(B0(),t),...e}));Q0.displayName=$k.displayName;const X0=p.forwardRef(({className:t,...e},n)=>c.jsx(Bk,{ref:n,className:J(B0({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));X0.displayName=Bk.displayName;const Rm=768;function Y0(){const[t,e]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Rm-1}px)`),r=()=>{e(window.innerWidth<Rm)};return n.addEventListener("change",r),e(window.innerWidth<Rm),()=>n.removeEventListener("change",r)},[]),!!t}var J0="Avatar",[K8,rW]=qn(J0),[Q8,Qk]=K8(J0),Xk=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=p.useState("idle");return c.jsx(Q8,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:c.jsx(ve.span,{...r,ref:e})})});Xk.displayName=J0;var Yk="AvatarImage",Jk=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=Qk(Yk,n),a=X8(r,i),l=Zt(u=>{s(u),o.onImageLoadingStatusChange(u)});return _t(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(ve.img,{...i,ref:e,src:r}):null});Jk.displayName=Yk;var Zk="AvatarFallback",eR=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=Qk(Zk,n),[o,a]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?c.jsx(ve.span,{...s,ref:e}):null});eR.displayName=Zk;function kb(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function X8(t,{referrerPolicy:e,crossOrigin:n}){const r=J8(),s=p.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=p.useState(()=>kb(i,t));return _t(()=>{a(kb(i,t))},[i,t]),_t(()=>{const l=f=>()=>{a(f)};if(!i)return;const u=l("loaded"),h=l("error");return i.addEventListener("load",u),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,n,e]),o}function Y8(){return()=>{}}function J8(){return p.useSyncExternalStore(Y8,()=>!0,()=>!1)}var tR=Xk,nR=Jk,rR=eR;const Gi=p.forwardRef(({className:t,...e},n)=>c.jsx(tR,{ref:n,className:J(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Gi.displayName=tR.displayName;const Ki=p.forwardRef(({className:t,...e},n)=>c.jsx(nR,{ref:n,className:J("aspect-square h-full w-full",t),...e}));Ki.displayName=nR.displayName;const Qi=p.forwardRef(({className:t,...e},n)=>c.jsx(rR,{ref:n,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Qi.displayName=rR.displayName;const Z8=[{path:"/dashboard",label:"Dashboard",icon:JM},{path:"/",label:"Pipeline",icon:wC},{path:"/leaderboard",label:"Leaderboard",icon:SC},{path:"/timeline",label:"Timeline",icon:So},{path:"/notes",label:"Notes",icon:ta}];function e7({mobileOpen:t,onMobileClose:e}){var h,f;const[n]=bv(),r=Y0(),{user:s,signOut:i}=rn(),{theme:o,toggleTheme:a}=QA(),l=((h=s==null?void 0:s.displayName)==null?void 0:h.split(" ").map(m=>m[0]).join("").toUpperCase())||((f=s==null?void 0:s.email)==null?void 0:f[0].toUpperCase())||"U",u=()=>c.jsxs("div",{className:"flex flex-col h-full bg-background",children:[c.jsxs("div",{className:"h-16 flex items-center px-6 border-b shrink-0",children:[c.jsx("img",{src:"/logo.png",alt:"Trace",className:"w-8 h-8 mr-3"}),c.jsx("span",{className:"font-bold text-lg tracking-tight",children:"Trace"}),r&&c.jsx("button",{className:"ml-auto",onClick:e,children:c.jsx(su,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"p-4 border-b shrink-0",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs(Gi,{className:"h-8 w-8",children:[c.jsx(Ki,{src:(s==null?void 0:s.photoURL)||void 0,alt:(s==null?void 0:s.displayName)||"User",referrerPolicy:"no-referrer"}),c.jsx(Qi,{className:"text-xs",children:l})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",children:(s==null?void 0:s.displayName)||"User"}),c.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s==null?void 0:s.email})]})]})}),c.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Views"}),Z8.map(m=>{const v=n===m.path,x=m.icon;return c.jsxs(uo,{href:m.path,onClick:e,className:J("w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",v?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${m.label.toLowerCase()}`,children:[c.jsx(x,{className:"w-4 h-4 mr-3"}),m.label]},m.path)})]})}),c.jsxs("div",{className:"p-4 border-t space-y-1 shrink-0",children:[c.jsxs("button",{onClick:a,className:"w-full flex items-center px-3 py-2 text-sm font-medium text-muted-foreground rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",children:[o==="dark"?c.jsx(bC,{className:"w-4 h-4 mr-3"}):c.jsx(xC,{className:"w-4 h-4 mr-3"}),o==="dark"?"Light Mode":"Dark Mode"]}),c.jsxs(uo,{href:"/settings",onClick:e,className:J("w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n==="/settings"?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[c.jsx(p4,{className:"w-4 h-4 mr-3"}),"Settings"]}),c.jsxs(qk,{children:[c.jsx(Gk,{asChild:!0,children:c.jsxs("button",{className:"w-full flex items-center px-3 py-2 text-sm font-medium text-destructive rounded-md hover:bg-destructive/10 transition-colors",children:[c.jsx(Mg,{className:"w-4 h-4 mr-3"}),"Sign Out"]})}),c.jsxs(H0,{children:[c.jsxs(W0,{children:[c.jsx(G0,{children:"Are you absolutely sure?"}),c.jsx(K0,{children:"This will sign you out of your account. You will need to sign in again to access your data."})]}),c.jsxs(q0,{children:[c.jsx(X0,{children:"Cancel"}),c.jsx(Q0,{onClick:i,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})]})]})]});return c.jsxs(c.Fragment,{children:[c.jsx("aside",{className:J("fixed inset-y-0 left-0 z-50 w-64 border-r bg-background transform transition-transform duration-200 ease-in-out",r?t?"translate-x-0":"-translate-x-full":"relative translate-x-0"),children:c.jsx(u,{})}),r&&t&&c.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden",onClick:e})]})}const sR=p.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:J("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));sR.displayName="Input";function t7({onMobileMenuClick:t}){const{syncClassroom:e,isSyncing:n}=xs(),[r]=bv(),[s,i]=p.useState(""),o=Y0(),l={"/":"Pipeline","/timeline":"Timeline","/dashboard":"Dashboard","/notes":"Notes","/settings":"Settings"}[r]||"Pipeline";return c.jsxs("header",{className:"h-16 bg-background border-b flex items-center px-4 md:px-6 justify-between shrink-0 z-10",children:[c.jsxs("div",{className:"flex items-center flex-1",children:[o&&c.jsx(ye,{variant:"ghost",size:"icon",onClick:t,className:"mr-2",children:c.jsx(l4,{className:"h-5 w-5"})}),c.jsx("span",{className:"md:hidden font-medium text-lg",children:l}),c.jsxs("div",{className:"relative w-full max-w-md hidden md:block",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(f4,{className:"h-4 w-4 text-muted-foreground"})}),c.jsx(sR,{type:"text",value:s,onChange:u=>i(u.target.value),className:"pl-10 bg-muted/50 border-muted focus:bg-background",placeholder:"Search assignments..."})]})]}),c.jsx("div",{className:"flex items-center ml-4",children:c.jsx(ye,{variant:"ghost",size:"icon",onClick:u=>{u.preventDefault(),e().catch(h=>{console.error("Sync failed:",h)})},disabled:n,className:J(n&&"animate-spin"),title:"Sync with Classroom",children:c.jsx(Sf,{className:"w-5 h-5"})})})]})}var iR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Rb=Se.createContext&&Se.createContext(iR),n7=["attr","size","title"];function r7(t,e){if(t==null)return{};var n=s7(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(this,arguments)}function Pb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Hh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pb(Object(n),!0).forEach(function(r){i7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i7(t,e,n){return e=o7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o7(t){var e=a7(t,"string");return typeof e=="symbol"?e:e+""}function a7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oR(t){return t&&t.map((e,n)=>Se.createElement(e.tag,Hh({key:n},e.attr),oR(e.child)))}function Z0(t){return e=>Se.createElement(l7,Bh({attr:Hh({},t.attr)},e),oR(t.child))}function l7(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=r7(t,n7),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Se.createElement("svg",Bh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Hh(Hh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Se.createElement("title",null,i),t.children)};return Rb!==void 0?Se.createElement(Rb.Consumer,null,n=>e(n)):e(iR)}function c7(t){return Z0({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(t)}function u7(t){return Z0({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.6367 1.6367C.7322 1.6367 0 2.369 0 3.2734v17.4532c0 .9045.7322 1.6367 1.6367 1.6367h20.7266c.9045 0 1.6367-.7322 1.6367-1.6367V3.2734c0-.9045-.7322-1.6367-1.6367-1.6367H1.6367zm.545 2.1817h19.6367v16.3632h-2.7266v-1.0898h-4.9102v1.0898h-12V3.8184zM12 8.1816c-.9046 0-1.6367.7322-1.6367 1.6368 0 .9045.7321 1.6367 1.6367 1.6367.9046 0 1.6367-.7322 1.6367-1.6367 0-.9046-.7321-1.6368-1.6367-1.6368zm-4.3633 1.9102c-.6773 0-1.2285.5493-1.2285 1.2266 0 .6772.5512 1.2265 1.2285 1.2265.6773 0 1.2266-.5493 1.2266-1.2265 0-.6773-.5493-1.2266-1.2266-1.2266zm8.7266 0c-.6773 0-1.2266.5493-1.2266 1.2266 0 .6772.5493 1.2265 1.2266 1.2265.6773 0 1.2285-.5493 1.2285-1.2265 0-.6773-.5512-1.2266-1.2285-1.2266zM12 12.5449c-1.179 0-2.4128.4012-3.1484 1.0059-.384-.1198-.8043-.1875-1.2149-.1875-1.3136 0-2.7285.695-2.7285 1.5586v.8965h14.1836v-.8965c0-.8637-1.4149-1.5586-2.7285-1.5586-.4106 0-.831.0677-1.2149.1875-.7356-.6047-1.9694-1.0059-3.1484-1.0059Z"},child:[]}]})(t)}const d7=[{icon:u7,title:"Classroom Sync",description:"Direct 2-way integration."},{icon:o4,title:"Kanban Board",description:"Visual assignment tracking."},{icon:YM,title:"Linear Timeline",description:"Chronological deadline view."},{icon:ZM,title:"Performance Metrics",description:"Grade & workload analytics."}];function h7(){const{signInWithGoogle:t,loading:e,error:n}=rn();return c.jsxs("div",{className:"h-screen w-full bg-white text-zinc-950 flex overflow-hidden font-sans selection:bg-zinc-200",children:[c.jsxs("div",{className:"hidden lg:flex lg:w-1/2 h-full flex-col justify-between border-r border-zinc-200 bg-zinc-50/50 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#e4e4e7_1px,transparent_1px),linear-gradient(to_bottom,#e4e4e7_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_0%,#000_70%,transparent_100%)] pointer-events-none"}),c.jsx("header",{className:"px-10 py-8 z-10",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:"/logo.png",alt:"Trace Logo",className:"h-10 w-10 object-contain rounded-md"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold tracking-tight text-lg block leading-none",children:"Trace"}),c.jsx("span",{className:"text-[10px] uppercase tracking-widest text-zinc-500 font-medium",children:"by Kishor Irnak"})]})]})}),c.jsx("div",{className:"flex-1 flex flex-col justify-center px-16 z-10",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h1",{className:"text-5xl font-bold tracking-tight text-zinc-950 leading-[1.05]",children:["Google Classroom, ",c.jsx("br",{}),c.jsx("span",{className:"text-zinc-400",children:"supercharged."})]}),c.jsx("p",{className:"text-lg text-zinc-600 max-w-md leading-relaxed",children:"Trace extracts your assignment data and reorganizes it into a professional project management workflow."}),c.jsx("div",{className:"grid grid-cols-2 gap-px bg-zinc-200 border border-zinc-200 mt-6 rounded-lg overflow-hidden shadow-sm",children:d7.map(r=>c.jsxs("div",{className:"bg-white p-4 hover:bg-zinc-50 transition-colors duration-200",children:[c.jsx(r.icon,{className:"h-5 w-5 text-zinc-950 mb-2"}),c.jsx("h3",{className:"font-semibold text-sm text-zinc-950",children:r.title}),c.jsx("p",{className:"text-xs text-zinc-500 mt-0.5",children:r.description})]},r.title))})]})}),c.jsx("div",{className:"px-10 py-6 border-t border-zinc-200/50 bg-white/50 backdrop-blur-sm z-10",children:c.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-zinc-400 uppercase tracking-wider",children:[c.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-zinc-400"}),"v2.0 Stable Build"]})})]}),c.jsxs("div",{className:"w-full lg:w-1/2 h-full flex flex-col bg-white overflow-y-auto",children:[c.jsxs("div",{className:"lg:hidden p-6 border-b border-zinc-100 flex items-center gap-3 bg-white sticky top-0 z-50",children:[c.jsx("img",{src:"/logo.png",alt:"Trace Logo",className:"h-9 w-9 object-contain rounded-md"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold tracking-tight text-lg block leading-none",children:"Trace"}),c.jsx("span",{className:"text-[10px] uppercase tracking-widest text-zinc-500 font-medium",children:"by Kishor Irnak"})]})]}),c.jsx("div",{className:"flex-1 flex flex-col justify-center p-6 sm:p-12 lg:p-24",children:c.jsxs("div",{className:"w-full max-w-sm mx-auto space-y-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h2",{className:"text-2xl font-semibold tracking-tight text-zinc-900",children:"Sign in to Trace"}),c.jsx("p",{className:"text-sm text-zinc-500",children:"Connect your academic account to sync assignments."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-zinc-50 border border-zinc-200 p-4 rounded-md flex gap-3",children:[c.jsx(Nn,{className:"h-5 w-5 text-zinc-900 shrink-0 mt-0.5",strokeWidth:1.5}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm font-semibold text-zinc-900",children:"Important"}),c.jsxs("p",{className:"text-xs text-zinc-600 leading-relaxed",children:["You must sign in using your"," ",c.jsx("strong",{className:"text-zinc-900",children:"Google Classroom Email"}),". Personal Gmail accounts without classroom data will not work."]})]})]}),c.jsxs(ye,{onClick:t,disabled:e,className:"w-full h-12 bg-zinc-950 hover:bg-zinc-800 text-white border border-transparent rounded-md transition-all duration-200 flex items-center justify-center gap-3 shadow-sm hover:shadow-md","data-testid":"button-signin-google",children:[c.jsx(c7,{className:"h-4 w-4"}),c.jsx("span",{className:"font-medium",children:"Continue with Google"})]}),n&&c.jsxs("div",{className:"p-3 bg-red-50 border border-red-100 text-red-600 text-sm rounded-md flex gap-3 items-center",children:[c.jsx(Nn,{className:"h-4 w-4 shrink-0"}),c.jsx("p",{children:n})]})]}),c.jsx("div",{className:"pt-8 border-t border-zinc-100",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx(m4,{className:"h-5 w-5 text-zinc-400 shrink-0",strokeWidth:1.5}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-xs font-medium text-zinc-900",children:"Privacy First"}),c.jsx("p",{className:"text-xs text-zinc-500 leading-relaxed",children:"Trace uses the official Google Classroom API with read-only permission. We cannot edit or delete your coursework."})]})]})})]})}),c.jsx("div",{className:"p-6 sm:p-8 lg:p-12 border-t border-zinc-100",children:c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 text-xs text-zinc-400",children:[c.jsx("span",{children:" 2024 Trace Inc."}),c.jsxs("div",{className:"flex gap-6",children:[c.jsx("a",{href:"#",className:"hover:text-zinc-900 transition-colors",children:"Privacy"}),c.jsx("a",{href:"#",className:"hover:text-zinc-900 transition-colors",children:"Terms"})]})]})})]})]})}function f7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return p.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const lp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function dl(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function ew(t){return"nodeType"in t}function sn(t){var e,n;return t?dl(t)?t:ew(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function tw(t){const{Document:e}=sn(t);return t instanceof e}function gu(t){return dl(t)?!1:t instanceof sn(t).HTMLElement}function aR(t){return t instanceof sn(t).SVGElement}function hl(t){return t?dl(t)?t.document:ew(t)?tw(t)?t:gu(t)||aR(t)?t.ownerDocument:document:document:document}const mr=lp?p.useLayoutEffect:p.useEffect;function cp(t){const e=p.useRef(t);return mr(()=>{e.current=t}),p.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function p7(){const t=p.useRef(null),e=p.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=p.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function $c(t,e){e===void 0&&(e=[t]);const n=p.useRef(t);return mr(()=>{n.current!==t&&(n.current=t)},e),n}function yu(t,e){const n=p.useRef();return p.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Wh(t){const e=cp(t),n=p.useRef(null),r=p.useCallback(s=>{s!==n.current&&(e==null||e(s,n.current)),n.current=s},[]);return[n,r]}function qh(t){const e=p.useRef();return p.useEffect(()=>{e.current=t},[t]),e.current}let Pm={};function vu(t,e){return p.useMemo(()=>{if(e)return e;const n=Pm[t]==null?0:Pm[t]+1;return Pm[t]=n,t+"-"+n},[t,e])}function lR(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[l,u]of a){const h=i[l];h!=null&&(i[l]=h+t*u)}return i},{...e})}}const ya=lR(1),Gh=lR(-1);function m7(t){return"clientX"in t&&"clientY"in t}function up(t){if(!t)return!1;const{KeyboardEvent:e}=sn(t.target);return e&&t instanceof e}function g7(t){if(!t)return!1;const{TouchEvent:e}=sn(t.target);return e&&t instanceof e}function Kh(t){if(g7(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return m7(t)?{x:t.clientX,y:t.clientY}:null}const bi=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[bi.Translate.toString(t),bi.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),Db="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function y7(t){return t.matches(Db)?t:t.querySelector(Db)}const v7={display:"none"};function w7(t){let{id:e,value:n}=t;return Se.createElement("div",{id:e,style:v7},n)}function x7(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Se.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function _7(){const[t,e]=p.useState("");return{announce:p.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const cR=p.createContext(null);function b7(t){const e=p.useContext(cR);p.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function E7(){const[t]=p.useState(()=>new Set),e=p.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[p.useCallback(r=>{let{type:s,event:i}=r;t.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[t]),e]}const S7={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},T7={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function C7(t){let{announcements:e=T7,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=S7}=t;const{announce:i,announcement:o}=_7(),a=vu("DndLiveRegion"),[l,u]=p.useState(!1);if(p.useEffect(()=>{u(!0)},[]),b7(p.useMemo(()=>({onDragStart(f){let{active:m}=f;i(e.onDragStart({active:m}))},onDragMove(f){let{active:m,over:v}=f;e.onDragMove&&i(e.onDragMove({active:m,over:v}))},onDragOver(f){let{active:m,over:v}=f;i(e.onDragOver({active:m,over:v}))},onDragEnd(f){let{active:m,over:v}=f;i(e.onDragEnd({active:m,over:v}))},onDragCancel(f){let{active:m,over:v}=f;i(e.onDragCancel({active:m,over:v}))}}),[i,e])),!l)return null;const h=Se.createElement(Se.Fragment,null,Se.createElement(w7,{id:r,value:s.draggable}),Se.createElement(x7,{id:a,announcement:o}));return n?zn.createPortal(h,n):h}var yt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(yt||(yt={}));function Qh(){}function jb(t,e){return p.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function I7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return p.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const gr=Object.freeze({x:0,y:0});function N7(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function A7(t,e){const n=Kh(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function k7(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function R7(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function P7(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function Ob(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const D7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=Ob(e,e.left,e.top),i=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const u=N7(Ob(l),s);i.push({id:a,data:{droppableContainer:o,value:u}})}}return i.sort(k7)};function j7(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-r,a=i-n;if(r<s&&n<i){const l=e.width*e.height,u=t.width*t.height,h=o*a,f=h/(l+u-h);return Number(f.toFixed(4))}return 0}const O7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const l=j7(a,e);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(R7)};function M7(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function uR(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:gr}function L7(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const V7=L7(1);function dR(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function F7(t,e,n){const r=dR(e);if(!r)return t;const{scaleX:s,scaleY:i,x:o,y:a}=r,l=t.left-o-(1-s)*parseFloat(n),u=t.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),h=s?t.width/s:t.width,f=i?t.height/i:t.height;return{width:h,height:f,top:u,right:l+h,bottom:u+f,left:l}}const U7={ignoreTransform:!1};function fl(t,e){e===void 0&&(e=U7);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:h}=sn(t).getComputedStyle(t);u&&(n=F7(n,u,h))}const{top:r,left:s,width:i,height:o,bottom:a,right:l}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function Mb(t){return fl(t,{ignoreTransform:!0})}function z7(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function $7(t,e){return e===void 0&&(e=sn(t).getComputedStyle(t)),e.position==="fixed"}function B7(t,e){e===void 0&&(e=sn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?n.test(i):!1})}function nw(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(tw(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!gu(s)||aR(s)||n.includes(s))return n;const i=sn(t).getComputedStyle(s);return s!==t&&B7(s,i)&&n.push(s),$7(s,i)?n:r(s.parentNode)}return t?r(t):n}function hR(t){const[e]=nw(t,1);return e??null}function Dm(t){return!lp||!t?null:dl(t)?t:ew(t)?tw(t)||t===hl(t).scrollingElement?window:gu(t)?t:null:null}function fR(t){return dl(t)?t.scrollX:t.scrollLeft}function pR(t){return dl(t)?t.scrollY:t.scrollTop}function my(t){return{x:fR(t),y:pR(t)}}var Tt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Tt||(Tt={}));function mR(t){return!lp||!t?!1:t===document.scrollingElement}function gR(t){const e={x:0,y:0},n=mR(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const H7={x:.2,y:.2};function W7(t,e,n,r,s){let{top:i,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),s===void 0&&(s=H7);const{isTop:u,isBottom:h,isLeft:f,isRight:m}=gR(t),v={x:0,y:0},x={x:0,y:0},y={height:e.height*s.y,width:e.width*s.x};return!u&&i<=e.top+y.height?(v.y=Tt.Backward,x.y=r*Math.abs((e.top+y.height-i)/y.height)):!h&&l>=e.bottom-y.height&&(v.y=Tt.Forward,x.y=r*Math.abs((e.bottom-y.height-l)/y.height)),!m&&a>=e.right-y.width?(v.x=Tt.Forward,x.x=r*Math.abs((e.right-y.width-a)/y.width)):!f&&o<=e.left+y.width&&(v.x=Tt.Backward,x.x=r*Math.abs((e.left+y.width-o)/y.width)),{direction:v,speed:x}}function q7(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function yR(t){return t.reduce((e,n)=>ya(e,my(n)),gr)}function G7(t){return t.reduce((e,n)=>e+fR(n),0)}function K7(t){return t.reduce((e,n)=>e+pR(n),0)}function vR(t,e){if(e===void 0&&(e=fl),!t)return;const{top:n,left:r,bottom:s,right:i}=e(t);hR(t)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Q7=[["x",["left","right"],G7],["y",["top","bottom"],K7]];class rw{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=nw(n),s=yR(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of Q7)for(const l of o)Object.defineProperty(this,l,{get:()=>{const u=a(r),h=s[i]-u;return this.rect[l]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class cc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function X7(t){const{EventTarget:e}=sn(t);return t instanceof e?t:hl(t)}function jm(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Mn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Mn||(Mn={}));function Lb(t){t.preventDefault()}function Y7(t){t.stopPropagation()}var De;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(De||(De={}));const wR={start:[De.Space,De.Enter],cancel:[De.Esc],end:[De.Space,De.Enter,De.Tab]},J7=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case De.Right:return{...n,x:n.x+25};case De.Left:return{...n,x:n.x-25};case De.Down:return{...n,y:n.y+25};case De.Up:return{...n,y:n.y-25}}};class sw{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new cc(hl(n)),this.windowListeners=new cc(sn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Mn.Resize,this.handleCancel),this.windowListeners.add(Mn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Mn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&vR(r),n(gr)}handleKeyDown(e){if(up(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=wR,coordinateGetter:o=J7,scrollBehavior:a="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,h=u?{x:u.left,y:u.top}:gr;this.referenceCoordinates||(this.referenceCoordinates=h);const f=o(e,{active:n,context:r.current,currentCoordinates:h});if(f){const m=Gh(f,h),v={x:0,y:0},{scrollableAncestors:x}=r.current;for(const y of x){const _=e.code,{isTop:b,isRight:w,isLeft:S,isBottom:k,maxScroll:D,minScroll:O}=gR(y),T=q7(y),C={x:Math.min(_===De.Right?T.right-T.width/2:T.right,Math.max(_===De.Right?T.left:T.left+T.width/2,f.x)),y:Math.min(_===De.Down?T.bottom-T.height/2:T.bottom,Math.max(_===De.Down?T.top:T.top+T.height/2,f.y))},I=_===De.Right&&!w||_===De.Left&&!S,A=_===De.Down&&!k||_===De.Up&&!b;if(I&&C.x!==f.x){const R=y.scrollLeft+m.x,j=_===De.Right&&R<=D.x||_===De.Left&&R>=O.x;if(j&&!m.y){y.scrollTo({left:R,behavior:a});return}j?v.x=y.scrollLeft-R:v.x=_===De.Right?y.scrollLeft-D.x:y.scrollLeft-O.x,v.x&&y.scrollBy({left:-v.x,behavior:a});break}else if(A&&C.y!==f.y){const R=y.scrollTop+m.y,j=_===De.Down&&R<=D.y||_===De.Up&&R>=O.y;if(j&&!m.x){y.scrollTo({top:R,behavior:a});return}j?v.y=y.scrollTop-R:v.y=_===De.Down?y.scrollTop-D.y:y.scrollTop-O.y,v.y&&y.scrollBy({top:-v.y,behavior:a});break}}this.handleMove(e,ya(Gh(f,this.referenceCoordinates),v))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}sw.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=wR,onActivation:s}=e,{active:i}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function Vb(t){return!!(t&&"distance"in t)}function Fb(t){return!!(t&&"delay"in t)}class iw{constructor(e,n,r){var s;r===void 0&&(r=X7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:o}=i;this.props=e,this.events=n,this.document=hl(o),this.documentListeners=new cc(this.document),this.listeners=new cc(r),this.windowListeners=new cc(sn(o)),this.initialCoordinates=(s=Kh(i))!=null?s:gr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Mn.Resize,this.handleCancel),this.windowListeners.add(Mn.DragStart,Lb),this.windowListeners.add(Mn.VisibilityChange,this.handleCancel),this.windowListeners.add(Mn.ContextMenu,Lb),this.documentListeners.add(Mn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Fb(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Vb(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Mn.Click,Y7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Mn.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(n=Kh(e))!=null?n:gr,u=Gh(s,l);if(!r&&a){if(Vb(a)){if(a.tolerance!=null&&jm(u,a.tolerance))return this.handleCancel();if(jm(u,a.distance))return this.handleStart()}if(Fb(a)&&jm(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===De.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Z7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ow extends iw{constructor(e){const{event:n}=e,r=hl(n.target);super(e,Z7,r)}}ow.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const e$={move:{name:"mousemove"},end:{name:"mouseup"}};var gy;(function(t){t[t.RightClick=2]="RightClick"})(gy||(gy={}));class t$ extends iw{constructor(e){super(e,e$,hl(e.event.target))}}t$.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===gy.RightClick?!1:(r==null||r({event:n}),!0)}}];const Om={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class n$ extends iw{constructor(e){super(e,Om)}static setup(){return window.addEventListener(Om.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Om.move.name,e)};function e(){}}}n$.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var uc;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(uc||(uc={}));var Xh;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Xh||(Xh={}));function r$(t){let{acceleration:e,activator:n=uc.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=Xh.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:h,delta:f,threshold:m}=t;const v=i$({delta:f,disabled:!i}),[x,y]=p7(),_=p.useRef({x:0,y:0}),b=p.useRef({x:0,y:0}),w=p.useMemo(()=>{switch(n){case uc.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case uc.DraggableRect:return s}},[n,s,l]),S=p.useRef(null),k=p.useCallback(()=>{const O=S.current;if(!O)return;const T=_.current.x*b.current.x,C=_.current.y*b.current.y;O.scrollBy(T,C)},[]),D=p.useMemo(()=>a===Xh.TreeOrder?[...u].reverse():u,[a,u]);p.useEffect(()=>{if(!i||!u.length||!w){y();return}for(const O of D){if((r==null?void 0:r(O))===!1)continue;const T=u.indexOf(O),C=h[T];if(!C)continue;const{direction:I,speed:A}=W7(O,C,w,e,m);for(const R of["x","y"])v[R][I[R]]||(A[R]=0,I[R]=0);if(A.x>0||A.y>0){y(),S.current=O,x(k,o),_.current=A,b.current=I;return}}_.current={x:0,y:0},b.current={x:0,y:0},y()},[e,k,r,y,i,o,JSON.stringify(w),JSON.stringify(v),x,u,D,h,JSON.stringify(m)])}const s$={x:{[Tt.Backward]:!1,[Tt.Forward]:!1},y:{[Tt.Backward]:!1,[Tt.Forward]:!1}};function i$(t){let{delta:e,disabled:n}=t;const r=qh(e);return yu(s=>{if(n||!r||!s)return s$;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Tt.Backward]:s.x[Tt.Backward]||i.x===-1,[Tt.Forward]:s.x[Tt.Forward]||i.x===1},y:{[Tt.Backward]:s.y[Tt.Backward]||i.y===-1,[Tt.Forward]:s.y[Tt.Forward]||i.y===1}}},[n,e,r])}function o$(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return yu(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function a$(t,e){return p.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...i]},[]),[t,e])}var Bc;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Bc||(Bc={}));var yy;(function(t){t.Optimized="optimized"})(yy||(yy={}));const Ub=new Map;function l$(t,e){let{dragging:n,dependencies:r,config:s}=e;const[i,o]=p.useState(null),{frequency:a,measure:l,strategy:u}=s,h=p.useRef(t),f=_(),m=$c(f),v=p.useCallback(function(b){b===void 0&&(b=[]),!m.current&&o(w=>w===null?b:w.concat(b.filter(S=>!w.includes(S))))},[m]),x=p.useRef(null),y=yu(b=>{if(f&&!n)return Ub;if(!b||b===Ub||h.current!==t||i!=null){const w=new Map;for(let S of t){if(!S)continue;if(i&&i.length>0&&!i.includes(S.id)&&S.rect.current){w.set(S.id,S.rect.current);continue}const k=S.node.current,D=k?new rw(l(k),k):null;S.rect.current=D,D&&w.set(S.id,D)}return w}return b},[t,i,n,f,l]);return p.useEffect(()=>{h.current=t},[t]),p.useEffect(()=>{f||v()},[n,f]),p.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),p.useEffect(()=>{f||typeof a!="number"||x.current!==null||(x.current=setTimeout(()=>{v(),x.current=null},a))},[a,f,v,...r]),{droppableRects:y,measureDroppableContainers:v,measuringScheduled:i!=null};function _(){switch(u){case Bc.Always:return!1;case Bc.BeforeDragging:return n;default:return!n}}}function aw(t,e){return yu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function c$(t,e){return aw(t,e)}function u$(t){let{callback:e,disabled:n}=t;const r=cp(e),s=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return p.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function dp(t){let{callback:e,disabled:n}=t;const r=cp(e),s=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return p.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function d$(t){return new rw(fl(t),t)}function zb(t,e,n){e===void 0&&(e=d$);const[r,s]=p.useState(null);function i(){s(l=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=l??n)!=null?u:null}const h=e(t);return JSON.stringify(l)===JSON.stringify(h)?l:h})}const o=u$({callback(l){if(t)for(const u of l){const{type:h,target:f}=u;if(h==="childList"&&f instanceof HTMLElement&&f.contains(t)){i();break}}}}),a=dp({callback:i});return mr(()=>{i(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),r}function h$(t){const e=aw(t);return uR(t,e)}const $b=[];function f$(t){const e=p.useRef(t),n=yu(r=>t?r&&r!==$b&&t&&e.current&&t.parentNode===e.current.parentNode?r:nw(t):$b,[t]);return p.useEffect(()=>{e.current=t},[t]),n}function p$(t){const[e,n]=p.useState(null),r=p.useRef(t),s=p.useCallback(i=>{const o=Dm(i.target);o&&n(a=>a?(a.set(o,my(o)),new Map(a)):null)},[]);return p.useEffect(()=>{const i=r.current;if(t!==i){o(i);const a=t.map(l=>{const u=Dm(l);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,my(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(i)};function o(a){a.forEach(l=>{const u=Dm(l);u==null||u.removeEventListener("scroll",s)})}},[s,t]),p.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>ya(i,o),gr):yR(t):gr,[t,e])}function Bb(t,e){e===void 0&&(e=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},e),p.useEffect(()=>{const r=t!==gr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Gh(t,n.current):gr}function m$(t){p.useEffect(()=>{if(!lp)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function g$(t,e){return p.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,e)},n},{}),[t,e])}function xR(t){return p.useMemo(()=>t?z7(t):null,[t])}const Hb=[];function y$(t,e){e===void 0&&(e=fl);const[n]=t,r=xR(n?sn(n):null),[s,i]=p.useState(Hb);function o(){i(()=>t.length?t.map(l=>mR(l)?r:new rw(e(l),l)):Hb)}const a=dp({callback:o});return mr(()=>{a==null||a.disconnect(),o(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),s}function _R(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return gu(e)?e:t}function v$(t){let{measure:e}=t;const[n,r]=p.useState(null),s=p.useCallback(u=>{for(const{target:h}of u)if(gu(h)){r(f=>{const m=e(h);return f?{...f,width:m.width,height:m.height}:m});break}},[e]),i=dp({callback:s}),o=p.useCallback(u=>{const h=_R(u);i==null||i.disconnect(),h&&(i==null||i.observe(h)),r(h?e(h):null)},[e,i]),[a,l]=Wh(o);return p.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const w$=[{sensor:ow,options:{}},{sensor:sw,options:{}}],x$={current:{}},Wd={draggable:{measure:Mb},droppable:{measure:Mb,strategy:Bc.WhileDragging,frequency:yy.Optimized},dragOverlay:{measure:fl}};class dc extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const _$={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new dc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Qh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Wd,measureDroppableContainers:Qh,windowRect:null,measuringScheduled:!1},bR={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Qh,draggableNodes:new Map,over:null,measureDroppableContainers:Qh},wu=p.createContext(bR),ER=p.createContext(_$);function b$(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new dc}}}function E$(t,e){switch(e.type){case yt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case yt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case yt.DragEnd:case yt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case yt.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new dc(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case yt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new dc(t.droppable.containers);return o.set(n,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case yt.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const i=new dc(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function S$(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=p.useContext(wu),i=qh(r),o=qh(n==null?void 0:n.id);return p.useEffect(()=>{if(!e&&!r&&i&&o!=null){if(!up(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[l.current,u.current]){if(!h)continue;const f=y7(h);if(f){f.focus();break}}})}},[r,e,s,o,i]),null}function SR(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...r}),n):n}function T$(t){return p.useMemo(()=>({draggable:{...Wd.draggable,...t==null?void 0:t.draggable},droppable:{...Wd.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Wd.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function C$(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const i=p.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;mr(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const h=n(u),f=uR(h,r);if(o||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=hR(u);m&&m.scrollBy({top:f.y,left:f.x})}},[e,o,a,r,n])}const hp=p.createContext({...gr,scaleX:1,scaleY:1});var Ms;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ms||(Ms={}));const I$=p.memo(function(e){var n,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:u,sensors:h=w$,collisionDetection:f=O7,measuring:m,modifiers:v,...x}=e;const y=p.useReducer(E$,void 0,b$),[_,b]=y,[w,S]=E7(),[k,D]=p.useState(Ms.Uninitialized),O=k===Ms.Initialized,{draggable:{active:T,nodes:C,translate:I},droppable:{containers:A}}=_,R=T!=null?C.get(T):null,j=p.useRef({initial:null,translated:null}),P=p.useMemo(()=>{var Pe;return T!=null?{id:T,data:(Pe=R==null?void 0:R.data)!=null?Pe:x$,rect:j}:null},[T,R]),z=p.useRef(null),[re,U]=p.useState(null),[q,L]=p.useState(null),M=$c(x,Object.values(x)),$=vu("DndDescribedBy",o),B=p.useMemo(()=>A.getEnabled(),[A]),Q=T$(m),{droppableRects:X,measureDroppableContainers:Z,measuringScheduled:de}=l$(B,{dragging:O,dependencies:[I.x,I.y],config:Q.droppable}),se=o$(C,T),W=p.useMemo(()=>q?Kh(q):null,[q]),ee=Cu(),fe=c$(se,Q.draggable.measure);C$({activeNode:T!=null?C.get(T):null,config:ee.layoutShiftCompensation,initialRect:fe,measure:Q.draggable.measure});const ne=zb(se,Q.draggable.measure,fe),ce=zb(se?se.parentElement:null),le=p.useRef({activatorEvent:null,active:null,activeNode:se,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ae=A.getNodeFor((n=le.current.over)==null?void 0:n.id),Ve=v$({measure:Q.dragOverlay.measure}),on=(r=Ve.nodeRef.current)!=null?r:se,jt=O?(s=Ve.rect)!=null?s:ne:null,Dn=!!(Ve.nodeRef.current&&Ve.rect),Ni=h$(Dn?null:ne),Be=xR(on?sn(on):null),Ke=f$(O?Ae??se:null),$r=y$(Ke),ko=SR(v,{transform:{x:I.x-Ni.x,y:I.y-Ni.y,scaleX:1,scaleY:1},activatorEvent:q,active:P,activeNodeRect:ne,containerNodeRect:ce,draggingNodeRect:jt,over:le.current.over,overlayNodeRect:Ve.rect,scrollableAncestors:Ke,scrollableAncestorRects:$r,windowRect:Be}),ml=W?ya(W,I):null,_u=p$(Ke),Ai=Bb(_u),bu=Bb(_u,[ne]),Br=ya(ko,Ai),vr=jt?V7(jt,ko):null,ki=P&&vr?f({active:P,collisionRect:vr,droppableRects:X,droppableContainers:B,pointerCoordinates:ml}):null,Eu=P7(ki,"id"),[Gn,gl]=p.useState(null),Ri=Dn?ko:ya(ko,bu),yl=M7(Ri,(i=Gn==null?void 0:Gn.rect)!=null?i:null,ne),Pi=p.useRef(null),wr=p.useCallback((Pe,Ot)=>{let{sensor:ht,options:an}=Ot;if(z.current==null)return;const ln=C.get(z.current);if(!ln)return;const qt=Pe.nativeEvent,At=new ht({active:z.current,activeNode:ln,event:qt,options:an,context:le,onAbort(ft){if(!C.get(ft))return;const{onDragAbort:xn}=M.current,jn={id:ft};xn==null||xn(jn),w({type:"onDragAbort",event:jn})},onPending(ft,wn,xn,jn){if(!C.get(ft))return;const{onDragPending:Kn}=M.current,xr={id:ft,constraint:wn,initialCoordinates:xn,offset:jn};Kn==null||Kn(xr),w({type:"onDragPending",event:xr})},onStart(ft){const wn=z.current;if(wn==null)return;const xn=C.get(wn);if(!xn)return;const{onDragStart:jn}=M.current,Hr={activatorEvent:qt,active:{id:wn,data:xn.data,rect:j}};zn.unstable_batchedUpdates(()=>{jn==null||jn(Hr),D(Ms.Initializing),b({type:yt.DragStart,initialCoordinates:ft,active:wn}),w({type:"onDragStart",event:Hr}),U(Pi.current),L(qt)})},onMove(ft){b({type:yt.DragMove,coordinates:ft})},onEnd:bs(yt.DragEnd),onCancel:bs(yt.DragCancel)});Pi.current=At;function bs(ft){return async function(){const{active:xn,collisions:jn,over:Hr,scrollAdjustedTranslate:Kn}=le.current;let xr=null;if(xn&&Kn){const{cancelDrop:cn}=M.current;xr={activatorEvent:qt,active:xn,collisions:jn,delta:Kn,over:Hr},ft===yt.DragEnd&&typeof cn=="function"&&await Promise.resolve(cn(xr))&&(ft=yt.DragCancel)}z.current=null,zn.unstable_batchedUpdates(()=>{b({type:ft}),D(Ms.Uninitialized),gl(null),U(null),L(null),Pi.current=null;const cn=ft===yt.DragEnd?"onDragEnd":"onDragCancel";if(xr){const Ro=M.current[cn];Ro==null||Ro(xr),w({type:cn,event:xr})}})}}},[C]),Su=p.useCallback((Pe,Ot)=>(ht,an)=>{const ln=ht.nativeEvent,qt=C.get(an);if(z.current!==null||!qt||ln.dndKit||ln.defaultPrevented)return;const At={active:qt};Pe(ht,Ot.options,At)===!0&&(ln.dndKit={capturedBy:Ot.sensor},z.current=an,wr(ht,Ot))},[C,wr]),Di=a$(h,Su);m$(h),mr(()=>{ne&&k===Ms.Initializing&&D(Ms.Initialized)},[ne,k]),p.useEffect(()=>{const{onDragMove:Pe}=M.current,{active:Ot,activatorEvent:ht,collisions:an,over:ln}=le.current;if(!Ot||!ht)return;const qt={active:Ot,activatorEvent:ht,collisions:an,delta:{x:Br.x,y:Br.y},over:ln};zn.unstable_batchedUpdates(()=>{Pe==null||Pe(qt),w({type:"onDragMove",event:qt})})},[Br.x,Br.y]),p.useEffect(()=>{const{active:Pe,activatorEvent:Ot,collisions:ht,droppableContainers:an,scrollAdjustedTranslate:ln}=le.current;if(!Pe||z.current==null||!Ot||!ln)return;const{onDragOver:qt}=M.current,At=an.get(Eu),bs=At&&At.rect.current?{id:At.id,rect:At.rect.current,data:At.data,disabled:At.disabled}:null,ft={active:Pe,activatorEvent:Ot,collisions:ht,delta:{x:ln.x,y:ln.y},over:bs};zn.unstable_batchedUpdates(()=>{gl(bs),qt==null||qt(ft),w({type:"onDragOver",event:ft})})},[Eu]),mr(()=>{le.current={activatorEvent:q,active:P,activeNode:se,collisionRect:vr,collisions:ki,droppableRects:X,draggableNodes:C,draggingNode:on,draggingNodeRect:jt,droppableContainers:A,over:Gn,scrollableAncestors:Ke,scrollAdjustedTranslate:Br},j.current={initial:jt,translated:vr}},[P,se,ki,vr,C,on,jt,X,A,Gn,Ke,Br]),r$({...ee,delta:I,draggingRect:vr,pointerCoordinates:ml,scrollableAncestors:Ke,scrollableAncestorRects:$r});const Tu=p.useMemo(()=>({active:P,activeNode:se,activeNodeRect:ne,activatorEvent:q,collisions:ki,containerNodeRect:ce,dragOverlay:Ve,draggableNodes:C,droppableContainers:A,droppableRects:X,over:Gn,measureDroppableContainers:Z,scrollableAncestors:Ke,scrollableAncestorRects:$r,measuringConfiguration:Q,measuringScheduled:de,windowRect:Be}),[P,se,ne,q,ki,ce,Ve,C,A,X,Gn,Z,Ke,$r,Q,de,Be]),ji=p.useMemo(()=>({activatorEvent:q,activators:Di,active:P,activeNodeRect:ne,ariaDescribedById:{draggable:$},dispatch:b,draggableNodes:C,over:Gn,measureDroppableContainers:Z}),[q,Di,P,ne,b,$,C,Gn,Z]);return Se.createElement(cR.Provider,{value:S},Se.createElement(wu.Provider,{value:ji},Se.createElement(ER.Provider,{value:Tu},Se.createElement(hp.Provider,{value:yl},u)),Se.createElement(S$,{disabled:(a==null?void 0:a.restoreFocus)===!1})),Se.createElement(C7,{...a,hiddenTextDescribedById:$}));function Cu(){const Pe=(re==null?void 0:re.autoScrollEnabled)===!1,Ot=typeof l=="object"?l.enabled===!1:l===!1,ht=O&&!Pe&&!Ot;return typeof l=="object"?{...l,enabled:ht}:{enabled:ht}}}),N$=p.createContext(null),Wb="button",A$="Draggable";function k$(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const i=vu(A$),{activators:o,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:h,draggableNodes:f,over:m}=p.useContext(wu),{role:v=Wb,roleDescription:x="draggable",tabIndex:y=0}=s??{},_=(l==null?void 0:l.id)===e,b=p.useContext(_?hp:N$),[w,S]=Wh(),[k,D]=Wh(),O=g$(o,e),T=$c(n);mr(()=>(f.set(e,{id:e,key:i,node:w,activatorNode:k,data:T}),()=>{const I=f.get(e);I&&I.key===i&&f.delete(e)}),[f,e]);const C=p.useMemo(()=>({role:v,tabIndex:y,"aria-disabled":r,"aria-pressed":_&&v===Wb?!0:void 0,"aria-roledescription":x,"aria-describedby":h.draggable}),[r,v,y,_,x,h.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:C,isDragging:_,listeners:r?void 0:O,node:w,over:m,setNodeRef:S,setActivatorNodeRef:D,transform:b}}function TR(){return p.useContext(ER)}const R$="Droppable",P$={timeout:25};function CR(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const i=vu(R$),{active:o,dispatch:a,over:l,measureDroppableContainers:u}=p.useContext(wu),h=p.useRef({disabled:n}),f=p.useRef(!1),m=p.useRef(null),v=p.useRef(null),{disabled:x,updateMeasurementsFor:y,timeout:_}={...P$,...s},b=$c(y??r),w=p.useCallback(()=>{if(!f.current){f.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),v.current=null},_)},[_]),S=dp({callback:w,disabled:x||!o}),k=p.useCallback((C,I)=>{S&&(I&&(S.unobserve(I),f.current=!1),C&&S.observe(C))},[S]),[D,O]=Wh(k),T=$c(e);return p.useEffect(()=>{!S||!D.current||(S.disconnect(),f.current=!1,S.observe(D.current))},[D,S]),p.useEffect(()=>(a({type:yt.RegisterDroppable,element:{id:r,key:i,disabled:n,node:D,rect:m,data:T}}),()=>a({type:yt.UnregisterDroppable,key:i,id:r})),[r]),p.useEffect(()=>{n!==h.current.disabled&&(a({type:yt.SetDroppableDisabled,id:r,key:i,disabled:n}),h.current.disabled=n)},[r,i,n,a]),{active:o,rect:m,isOver:(l==null?void 0:l.id)===r,node:D,over:l,setNodeRef:O}}function D$(t){let{animation:e,children:n}=t;const[r,s]=p.useState(null),[i,o]=p.useState(null),a=qh(n);return!n&&!r&&a&&s(a),mr(()=>{if(!i)return;const l=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(l==null||u==null){s(null);return}Promise.resolve(e(u,i)).then(()=>{s(null)})},[e,r,i]),Se.createElement(Se.Fragment,null,n,r?p.cloneElement(r,{ref:o}):null)}const j$={x:0,y:0,scaleX:1,scaleY:1};function O$(t){let{children:e}=t;return Se.createElement(wu.Provider,{value:bR},Se.createElement(hp.Provider,{value:j$},e))}const M$={position:"fixed",touchAction:"none"},L$=t=>up(t)?"transform 250ms ease":void 0,V$=p.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:s,children:i,className:o,rect:a,style:l,transform:u,transition:h=L$}=t;if(!a)return null;const f=s?u:{...u,scaleX:1,scaleY:1},m={...M$,width:a.width,height:a.height,top:a.top,left:a.left,transform:bi.Transform.toString(f),transformOrigin:s&&r?A7(r,a):void 0,transition:typeof h=="function"?h(r):h,...l};return Se.createElement(n,{className:o,style:m,ref:e},i)}),F$=t=>e=>{let{active:n,dragOverlay:r}=e;const s={},{styles:i,className:o}=t;if(i!=null&&i.active)for(const[a,l]of Object.entries(i.active))l!==void 0&&(s[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(i!=null&&i.dragOverlay)for(const[a,l]of Object.entries(i.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[l,u]of Object.entries(s))n.node.style.setProperty(l,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},U$=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:bi.Transform.toString(e)},{transform:bi.Transform.toString(n)}]},z$={duration:250,easing:"ease",keyframes:U$,sideEffects:F$({styles:{active:{opacity:"0"}}})};function $$(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=t;return cp((i,o)=>{if(e===null)return;const a=n.get(i);if(!a)return;const l=a.node.current;if(!l)return;const u=_R(o);if(!u)return;const{transform:h}=sn(o).getComputedStyle(o),f=dR(h);if(!f)return;const m=typeof e=="function"?e:B$(e);return vR(l,s.draggable.measure),m({active:{id:i,data:a.data,node:l,rect:s.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:o,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:f})})}function B$(t){const{duration:e,easing:n,sideEffects:r,keyframes:s}={...z$,...t};return i=>{let{active:o,dragOverlay:a,transform:l,...u}=i;if(!e)return;const h={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},f={scaleX:l.scaleX!==1?o.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?o.rect.height*l.scaleY/a.rect.height:1},m={x:l.x-h.x,y:l.y-h.y,...f},v=s({...u,active:o,dragOverlay:a,transform:{initial:l,final:m}}),[x]=v,y=v[v.length-1];if(JSON.stringify(x)===JSON.stringify(y))return;const _=r==null?void 0:r({active:o,dragOverlay:a,...u}),b=a.node.animate(v,{duration:e,easing:n,fill:"forwards"});return new Promise(w=>{b.onfinish=()=>{_==null||_(),w()}})}}let qb=0;function H$(t){return p.useMemo(()=>{if(t!=null)return qb++,qb},[t])}const W$=Se.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:s,transition:i,modifiers:o,wrapperElement:a="div",className:l,zIndex:u=999}=t;const{activatorEvent:h,active:f,activeNodeRect:m,containerNodeRect:v,draggableNodes:x,droppableContainers:y,dragOverlay:_,over:b,measuringConfiguration:w,scrollableAncestors:S,scrollableAncestorRects:k,windowRect:D}=TR(),O=p.useContext(hp),T=H$(f==null?void 0:f.id),C=SR(o,{activatorEvent:h,active:f,activeNodeRect:m,containerNodeRect:v,draggingNodeRect:_.rect,over:b,overlayNodeRect:_.rect,scrollableAncestors:S,scrollableAncestorRects:k,transform:O,windowRect:D}),I=aw(m),A=$$({config:r,draggableNodes:x,droppableContainers:y,measuringConfiguration:w}),R=I?_.setRef:void 0;return Se.createElement(O$,null,Se.createElement(D$,{animation:A},f&&T?Se.createElement(V$,{key:T,id:f.id,ref:R,as:a,activatorEvent:h,adjustScale:e,className:l,transition:i,rect:I,style:{zIndex:u,...s},transform:C},n):null))});function IR(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function q$(t,e){return t.reduce((n,r,s)=>{const i=e.get(r);return i&&(n[s]=i),n},Array(t.length))}function md(t){return t!==null&&t>=0}function G$(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function K$(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const NR=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const i=IR(e,r,n),o=e[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},gd={scaleX:1,scaleY:1},Q$=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:i,overIndex:o}=t;const a=(e=i[n])!=null?e:r;if(!a)return null;if(s===n){const u=i[o];return u?{x:0,y:n<o?u.top+u.height-(a.top+a.height):u.top-a.top,...gd}:null}const l=X$(i,s,n);return s>n&&s<=o?{x:0,y:-a.height-l,...gd}:s<n&&s>=o?{x:0,y:a.height+l,...gd}:{x:0,y:0,...gd}};function X$(t,e,n){const r=t[e],s=t[e-1],i=t[e+1];return r?n<e?s?r.top-(s.top+s.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const AR="Sortable",kR=Se.createContext({activeIndex:-1,containerId:AR,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:NR,disabled:{draggable:!1,droppable:!1}});function Y$(t){let{children:e,id:n,items:r,strategy:s=NR,disabled:i=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:h}=TR(),f=vu(AR,n),m=a.rect!==null,v=p.useMemo(()=>r.map(O=>typeof O=="object"&&"id"in O?O.id:O),[r]),x=o!=null,y=o?v.indexOf(o.id):-1,_=u?v.indexOf(u.id):-1,b=p.useRef(v),w=!G$(v,b.current),S=_!==-1&&y===-1||w,k=K$(i);mr(()=>{w&&x&&h(v)},[w,v,x,h]),p.useEffect(()=>{b.current=v},[v]);const D=p.useMemo(()=>({activeIndex:y,containerId:f,disabled:k,disableTransforms:S,items:v,overIndex:_,useDragOverlay:m,sortedRects:q$(v,l),strategy:s}),[y,f,k.draggable,k.droppable,S,v,_,l,m,s]);return Se.createElement(kR.Provider,{value:D},e)}const J$=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return IR(n,r,s).indexOf(e)},Z$=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:l,transition:u}=t;return!u||!r||a!==i&&s===o?!1:n?!0:o!==s&&e===l},eB={duration:200,easing:"ease"},RR="transform",tB=bi.Transition.toString({property:RR,duration:0,easing:"linear"}),nB={roleDescription:"sortable"};function rB(t){let{disabled:e,index:n,node:r,rect:s}=t;const[i,o]=p.useState(null),a=p.useRef(n);return mr(()=>{if(!e&&n!==a.current&&r.current){const l=s.current;if(l){const u=fl(r.current,{ignoreTransform:!0}),h={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(h.x||h.y)&&o(h)}}n!==a.current&&(a.current=n)},[e,n,r,s]),p.useEffect(()=>{i&&o(null)},[i]),i}function sB(t){let{animateLayoutChanges:e=Z$,attributes:n,disabled:r,data:s,getNewIndex:i=J$,id:o,strategy:a,resizeObserverConfig:l,transition:u=eB}=t;const{items:h,containerId:f,activeIndex:m,disabled:v,disableTransforms:x,sortedRects:y,overIndex:_,useDragOverlay:b,strategy:w}=p.useContext(kR),S=iB(r,v),k=h.indexOf(o),D=p.useMemo(()=>({sortable:{containerId:f,index:k,items:h},...s}),[f,s,k,h]),O=p.useMemo(()=>h.slice(h.indexOf(o)),[h,o]),{rect:T,node:C,isOver:I,setNodeRef:A}=CR({id:o,data:D,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:O,...l}}),{active:R,activatorEvent:j,activeNodeRect:P,attributes:z,setNodeRef:re,listeners:U,isDragging:q,over:L,setActivatorNodeRef:M,transform:$}=k$({id:o,data:D,attributes:{...nB,...n},disabled:S.draggable}),B=f7(A,re),Q=!!R,X=Q&&!x&&md(m)&&md(_),Z=!b&&q,de=Z&&X?$:null,W=X?de??(a??w)({rects:y,activeNodeRect:P,activeIndex:m,overIndex:_,index:k}):null,ee=md(m)&&md(_)?i({id:o,items:h,activeIndex:m,overIndex:_}):k,fe=R==null?void 0:R.id,ne=p.useRef({activeId:fe,items:h,newIndex:ee,containerId:f}),ce=h!==ne.current.items,le=e({active:R,containerId:f,isDragging:q,isSorting:Q,id:o,index:k,items:h,newIndex:ne.current.newIndex,previousItems:ne.current.items,previousContainerId:ne.current.containerId,transition:u,wasDragging:ne.current.activeId!=null}),Ae=rB({disabled:!le,index:k,node:C,rect:T});return p.useEffect(()=>{Q&&ne.current.newIndex!==ee&&(ne.current.newIndex=ee),f!==ne.current.containerId&&(ne.current.containerId=f),h!==ne.current.items&&(ne.current.items=h)},[Q,ee,f,h]),p.useEffect(()=>{if(fe===ne.current.activeId)return;if(fe!=null&&ne.current.activeId==null){ne.current.activeId=fe;return}const on=setTimeout(()=>{ne.current.activeId=fe},50);return()=>clearTimeout(on)},[fe]),{active:R,activeIndex:m,attributes:z,data:D,rect:T,index:k,newIndex:ee,items:h,isOver:I,isSorting:Q,isDragging:q,listeners:U,node:C,overIndex:_,over:L,setNodeRef:B,setActivatorNodeRef:M,setDroppableNodeRef:A,setDraggableNodeRef:re,transform:Ae??W,transition:Ve()};function Ve(){if(Ae||ce&&ne.current.newIndex===k)return tB;if(!(Z&&!up(j)||!u)&&(Q||le))return bi.Transition.toString({...u,property:RR})}}function iB(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}De.Down,De.Right,De.Up,De.Left;const oB=ru("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Ao({className:t,variant:e,...n}){return c.jsx("div",{className:J(oB({variant:e}),t),...n})}function Qr({className:t,...e}){return c.jsx("div",{className:J("animate-pulse rounded-md bg-muted",t),...e})}const vt=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:J("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));vt.displayName="Card";const Xt=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:J("flex flex-col space-y-1.5 p-6",t),...e}));Xt.displayName="CardHeader";const hn=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:J("text-2xl font-semibold leading-none tracking-tight",t),...e}));hn.displayName="CardTitle";const Ar=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:J("text-sm text-muted-foreground",t),...e}));Ar.displayName="CardDescription";const Yt=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:J("p-6 pt-0",t),...e}));Yt.displayName="CardContent";const PR=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:J("flex items-center p-6 pt-0",t),...e}));PR.displayName="CardFooter";function DR(t){if(!t)return"No due date";const e=new Date(t),n=new Date,r=new Date(n);r.setDate(r.getDate()+1);const s=e.toISOString().split("T")[0],i=n.toISOString().split("T")[0],o=r.toISOString().split("T")[0];return s===i?"Today":s===o?"Tomorrow":e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function jR(t){if(!t)return null;const e=new Date(t),n=new Date;return Math.ceil((e.getTime()-n.getTime())/(1e3*60*60*24))}function OR({assignment:t,onClick:e,hasNotes:n,isDragging:r}){const{attributes:s,listeners:i,setNodeRef:o,transform:a,transition:l,isDragging:u}=sB({id:t.id}),h={transform:bi.Transform.toString(a),transition:l},f=jR(t.dueDate),m=f!==null&&f<=1&&f>=0,v=t.systemStatus==="overdue"||f!==null&&f<0;return c.jsx(vt,{ref:o,style:h,className:J("p-4 cursor-pointer transition-all duration-200 hover-elevate group",(r||u)&&"opacity-50 rotate-1 shadow-lg",v&&"border-destructive/30"),onClick:e,"data-testid":`card-assignment-${t.id}`,children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsx(Ao,{variant:"secondary",className:"text-[11px] px-2 py-0.5 rounded-full font-normal truncate max-w-[180px]",children:t.courseName}),c.jsx("div",{...s,...i,className:"opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing",onClick:x=>x.stopPropagation(),children:c.jsx(s4,{className:"h-4 w-4 text-muted-foreground"})})]}),c.jsx("h3",{className:"text-sm font-medium leading-snug line-clamp-2",children:t.title}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsx(So,{className:"h-3.5 w-3.5"}),c.jsx("span",{className:J(v&&"text-destructive",m&&!v&&"text-foreground font-medium"),children:DR(t.dueDate)}),v&&c.jsx(Nn,{className:"h-3.5 w-3.5 text-destructive"}),m&&!v&&c.jsx(vC,{className:"h-3.5 w-3.5 text-foreground"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[t.systemStatus==="graded"&&t.grade!==null&&c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[c.jsx(Ma,{className:"h-3.5 w-3.5 text-muted-foreground"}),c.jsxs("span",{className:"font-mono",children:[t.grade,"/",t.maxPoints]})]}),t.systemStatus==="submitted"&&c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[c.jsx(Ma,{className:"h-3.5 w-3.5"}),c.jsx("span",{children:"Submitted"})]})]}),c.jsx("div",{className:"flex items-center gap-1",children:n&&c.jsx(ta,{className:"h-3.5 w-3.5 text-muted-foreground"})})]})]})})}function aB({assignment:t,onClick:e}){const n=jR(t.dueDate),r=t.systemStatus==="overdue"||n!==null&&n<0,s=n!==null&&n<=1&&n>=0;return c.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-md border hover-elevate cursor-pointer",onClick:e,"data-testid":`card-assignment-compact-${t.id}`,children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",children:t.title}),c.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.courseName})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs shrink-0",children:[c.jsx("span",{className:J("text-muted-foreground",r&&"text-destructive",s&&!r&&"font-medium text-foreground"),children:DR(t.dueDate)}),r&&c.jsx(Nn,{className:"h-3.5 w-3.5 text-destructive"})]})]})}const lw=p.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));lw.displayName="Textarea";var lB="Separator",Gb="horizontal",cB=["horizontal","vertical"],MR=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=Gb,...s}=t,i=uB(r)?r:Gb,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(ve.div,{"data-orientation":i,...a,...s,ref:e})});MR.displayName=lB;function uB(t){return cB.includes(t)}var LR=MR;const ir=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>c.jsx(LR,{ref:s,decorative:n,orientation:e,className:J("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));ir.displayName=LR.displayName;const dB=Tk,hB=Ck,VR=p.forwardRef(({className:t,...e},n)=>c.jsx(V0,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));VR.displayName=V0.displayName;const fB=ru("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),FR=p.forwardRef(({side:t="right",className:e,children:n,...r},s)=>c.jsxs(hB,{children:[c.jsx(VR,{}),c.jsxs(F0,{ref:s,className:J(fB({side:t}),e),...r,children:[n,c.jsxs($0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(su,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));FR.displayName=F0.displayName;const UR=({className:t,...e})=>c.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",t),...e});UR.displayName="SheetHeader";const zR=p.forwardRef(({className:t,...e},n)=>c.jsx(U0,{ref:n,className:J("text-lg font-semibold text-foreground",t),...e}));zR.displayName=U0.displayName;const pB=p.forwardRef(({className:t,...e},n)=>c.jsx(z0,{ref:n,className:J("text-sm text-muted-foreground",t),...e}));pB.displayName=z0.displayName;function mB(t){return t?new Date(t).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}):"Not set"}function gB(t){return t?` at ${t}`:""}function yB({assignment:t}){const e=t.systemStatus==="submitted"||t.systemStatus==="graded"||!!t.submittedAt,n=t.systemStatus==="graded"||!!t.gradedAt||t.grade!==null,r=[{id:"created",label:"Created",completed:!0,date:t.createdAt},{id:"submitted",label:"Submitted",completed:e,date:t.submittedAt},{id:"graded",label:t.grade!==null?`Graded (${t.grade}${t.maxPoints?`/${t.maxPoints}`:""})`:"Graded",completed:n,date:t.gradedAt}];return c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-sm font-medium",children:"Status Timeline"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute left-[7px] top-3 bottom-3 w-px bg-border"}),c.jsx("div",{className:"space-y-4",children:r.map((s,i)=>c.jsxs("div",{className:"flex items-start gap-3 relative",children:[c.jsx("div",{className:J("h-4 w-4 rounded-full border-2 shrink-0 mt-0.5",s.completed?"bg-foreground border-foreground":"bg-background border-muted-foreground"),children:s.completed&&c.jsx(Ma,{className:"h-3 w-3 text-background absolute top-0.5 left-0.5"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:J("text-sm",s.completed?"font-medium":"text-muted-foreground"),children:s.label}),s.date&&s.completed&&c.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.date).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]})]},s.id))})]})]})}function vB({note:t,onUpdate:e,onDelete:n}){const[r,s]=p.useState(!1),[i,o]=p.useState(t.content),a=()=>{e(i,t.isImportant),s(!1)};return c.jsxs("div",{className:"p-3 rounded-md border space-y-2",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[t.isImportant&&c.jsx(R1,{className:"h-3.5 w-3.5 fill-current text-foreground"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(t.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(ye,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>e(t.content,!t.isImportant),"data-testid":`button-toggle-important-${t.id}`,children:c.jsx(R1,{className:J("h-3.5 w-3.5",t.isImportant&&"fill-current")})}),c.jsx(ye,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>s(!r),"data-testid":`button-edit-note-${t.id}`,children:c.jsx(c4,{className:"h-3.5 w-3.5"})}),c.jsx(ye,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive",onClick:n,"data-testid":`button-delete-note-${t.id}`,children:c.jsx(v4,{className:"h-3.5 w-3.5"})})]})]}),r?c.jsxs("div",{className:"space-y-2",children:[c.jsx(lw,{value:i,onChange:l=>o(l.target.value),className:"min-h-[80px] text-sm","data-testid":`textarea-edit-note-${t.id}`}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>s(!1),children:"Cancel"}),c.jsxs(ye,{size:"sm",onClick:a,"data-testid":`button-save-note-${t.id}`,children:[c.jsx(_C,{className:"h-3.5 w-3.5 mr-1"}),"Save"]})]})]}):c.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.content})]})}function cw({assignment:t,isOpen:e,onClose:n}){const{getNotesForAssignment:r,addNote:s,updateNote:i,deleteNote:o}=xs(),[a,l]=p.useState(""),[u,h]=p.useState(!1);if(!t)return null;const f=r(t.id),m=t.systemStatus==="overdue",v=()=>{a.trim()&&(s(t.id,a.trim()),l(""),h(!1))};return c.jsx(dB,{open:e,onOpenChange:n,children:c.jsxs(FR,{className:"w-full sm:max-w-[400px] overflow-y-auto",children:[c.jsx(UR,{className:"space-y-4",children:c.jsx("div",{className:"flex items-start justify-between gap-4",children:c.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[c.jsx(Ao,{variant:"secondary",className:"text-xs mb-2",children:t.courseName}),c.jsx(zR,{className:"text-lg font-semibold leading-tight",children:t.title})]})})}),c.jsxs("div",{className:"mt-6 space-y-6",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(So,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("span",{className:J(m&&"text-destructive"),children:[mB(t.dueDate),gB(t.dueTime)]}),m&&c.jsx(Nn,{className:"h-4 w-4 text-destructive"})]}),t.maxPoints&&c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Points:"}),t.grade!==null?c.jsxs("span",{className:"font-mono font-medium",children:[t.grade," / ",t.maxPoints]}):c.jsx("span",{className:"font-mono",children:t.maxPoints})]})]}),c.jsx(ir,{}),t.description&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"text-sm font-medium",children:"Description"}),c.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:t.description})]}),c.jsx(ir,{})]}),c.jsx(yB,{assignment:t}),c.jsx(ir,{}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"text-sm font-medium",children:"Notes"}),!u&&c.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>h(!0),"data-testid":"button-add-note",children:[c.jsx(u4,{className:"h-3.5 w-3.5 mr-1"}),"Add Note"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Notes are private and only visible to you."}),u&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(lw,{value:a,onChange:x=>l(x.target.value),placeholder:"Add a note...",className:"min-h-[100px] text-sm","data-testid":"textarea-new-note"}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>{h(!1),l("")},children:"Cancel"}),c.jsxs(ye,{size:"sm",onClick:v,disabled:!a.trim(),"data-testid":"button-save-new-note",children:[c.jsx(_C,{className:"h-3.5 w-3.5 mr-1"}),"Save"]})]})]}),f.length>0?c.jsx("div",{className:"space-y-2",children:f.map(x=>c.jsx(vB,{note:x,onUpdate:(y,_)=>i(x.id,y,_),onDelete:()=>o(x.id,t.id)},x.id))}):!u&&c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No notes yet"})]}),t.alternateLink&&c.jsxs(c.Fragment,{children:[c.jsx(ir,{}),c.jsxs(ye,{variant:"outline",className:"w-full",onClick:()=>window.open(t.alternateLink,"_blank"),"data-testid":"button-open-classroom",children:[c.jsx(Og,{className:"h-4 w-4 mr-2"}),"Open in Google Classroom"]})]})]})]})})}function wB({id:t,title:e,assignments:n,onCardClick:r,notes:s}){const{isOver:i,setNodeRef:o}=CR({id:t});return c.jsxs("div",{ref:o,className:J("flex flex-col min-w-[280px] w-[280px] h-full",i&&"bg-muted/50"),children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 sticky top-0 bg-background z-10 border-b",children:[c.jsx("h3",{className:"text-sm font-medium",children:e}),c.jsx(Ao,{variant:"secondary",className:"text-xs font-mono",children:n.length})]}),c.jsx("div",{className:"flex-1 p-3 space-y-3 overflow-y-auto",children:c.jsx(Y$,{items:n.map(a=>a.id),strategy:Q$,children:n.length>0?n.map(a=>{var l;return c.jsx(OR,{assignment:a,onClick:()=>r(a),hasNotes:(((l=s.get(a.id))==null?void 0:l.length)||0)>0},a.id)}):c.jsx("div",{className:"flex items-center justify-center h-24 text-sm text-muted-foreground border border-dashed rounded-md",children:"No assignments"})})})]})}function xB(){var b;const{getPipelineColumns:t,updateAssignmentStatus:e,isLoading:n,isSyncing:r,notes:s,assignments:i,syncClassroom:o}=xs(),{signOut:a}=rn(),[l,u]=p.useState(null),[h,f]=p.useState(null),m=I7(jb(ow,{activationConstraint:{distance:8}}),jb(sw)),v=t(),x=h?i.find(w=>w.id===h):null,y=w=>{f(w.active.id)},_=w=>{const{active:S,over:k}=w;if(f(null),!k)return;const D=S.id,O=k.id;if(["backlog","in_progress","submitted","graded","overdue"].includes(O)){const T=i.find(C=>C.id===D);T&&T.systemStatus!==O&&(O==="in_progress"?e(D,"in_progress"):e(D,"backlog"))}};return i.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 p-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx(Nn,{className:"h-12 w-12 mx-auto text-destructive"}),c.jsx("h2",{className:"text-lg font-medium text-destructive",children:"Troubleshooting"}),c.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"It seems data isn't fetching correctly. Please log out and log in again to resolve this."})]}),c.jsx(ye,{onClick:()=>a(),variant:"destructive",className:"px-4 py-2",children:"Log Out"})]}):c.jsxs(c.Fragment,{children:[c.jsxs(I$,{sensors:m,collisionDetection:D7,onDragStart:y,onDragEnd:_,children:[c.jsx("div",{className:"flex gap-4 h-full overflow-x-auto p-6",children:v.map(w=>c.jsx(wB,{id:w.id,title:w.title,assignments:w.assignments,onCardClick:u,notes:s},w.id))}),c.jsx(W$,{children:x&&c.jsx(OR,{assignment:x,isDragging:!0,hasNotes:(((b=s.get(x.id))==null?void 0:b.length)||0)>0})})]}),c.jsx(cw,{assignment:l,isOpen:!!l,onClose:()=>u(null)})]})}function Kb(t,[e,n]){return Math.min(n,Math.max(e,t))}var _B=p.createContext(void 0);function uw(t){const e=p.useContext(_B);return t||e||"ltr"}function $R(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var bB=[" ","Enter","ArrowUp","ArrowDown"],EB=[" ","Enter"],xu="Select",[fp,pp,SB]=Tv(xu),[pl,sW]=qn(xu,[SB,Nf]),mp=Nf(),[TB,Ci]=pl(xu),[CB,IB]=pl(xu),BR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:h,autoComplete:f,disabled:m,required:v,form:x}=t,y=mp(e),[_,b]=p.useState(null),[w,S]=p.useState(null),[k,D]=p.useState(!1),O=uw(u),[T=!1,C]=hi({prop:r,defaultProp:s,onChange:i}),[I,A]=hi({prop:o,defaultProp:a,onChange:l}),R=p.useRef(null),j=_?x||!!_.closest("form"):!0,[P,z]=p.useState(new Set),re=Array.from(P).map(U=>U.props.value).join(";");return c.jsx(nI,{...y,children:c.jsxs(TB,{required:v,scope:e,trigger:_,onTriggerChange:b,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:D,contentId:ns(),value:I,onValueChange:A,open:T,onOpenChange:C,dir:O,triggerPointerDownPosRef:R,disabled:m,children:[c.jsx(fp.Provider,{scope:e,children:c.jsx(CB,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(U=>{z(q=>new Set(q).add(U))},[]),onNativeOptionRemove:p.useCallback(U=>{z(q=>{const L=new Set(q);return L.delete(U),L})},[]),children:n})}),j?c.jsxs(pP,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:I,onChange:U=>A(U.target.value),disabled:m,form:x,children:[I===void 0?c.jsx("option",{value:""}):null,Array.from(P)]},re):null]})})};BR.displayName=xu;var HR="SelectTrigger",WR=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=mp(n),o=Ci(HR,n),a=o.disabled||r,l=Le(e,o.onTriggerChange),u=pp(n),h=p.useRef("touch"),[f,m,v]=mP(y=>{const _=u().filter(S=>!S.disabled),b=_.find(S=>S.value===o.value),w=gP(_,y,b);w!==void 0&&o.onValueChange(w.value)}),x=y=>{a||(o.onOpenChange(!0),v()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return c.jsx(rI,{asChild:!0,...i,children:c.jsx(ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":fP(o.value)?"":void 0,...s,ref:l,onClick:he(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&x(y)}),onPointerDown:he(s.onPointerDown,y=>{h.current=y.pointerType;const _=y.target;_.hasPointerCapture(y.pointerId)&&_.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:he(s.onKeyDown,y=>{const _=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(_&&y.key===" ")&&bB.includes(y.key)&&(x(),y.preventDefault())})})})});WR.displayName=HR;var qR="SelectValue",GR=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Ci(qR,n),{onValueNodeHasChildrenChange:u}=l,h=i!==void 0,f=Le(e,l.onValueNodeChange);return _t(()=>{u(h)},[u,h]),c.jsx(ve.span,{...a,ref:f,style:{pointerEvents:"none"},children:fP(l.value)?c.jsx(c.Fragment,{children:o}):i})});GR.displayName=qR;var NB="SelectIcon",KR=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(ve.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});KR.displayName=NB;var AB="SelectPortal",QR=t=>c.jsx(_f,{asChild:!0,...t});QR.displayName=AB;var xo="SelectContent",XR=p.forwardRef((t,e)=>{const n=Ci(xo,t.__scopeSelect),[r,s]=p.useState();if(_t(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?zn.createPortal(c.jsx(YR,{scope:t.__scopeSelect,children:c.jsx(fp.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(JR,{...t,ref:e})});XR.displayName=xo;var Xn=10,[YR,Ii]=pl(xo),kB="SelectContentImpl",RB=Oa("SelectContent.RemoveScroll"),JR=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:v,sticky:x,hideWhenDetached:y,avoidCollisions:_,...b}=t,w=Ci(xo,n),[S,k]=p.useState(null),[D,O]=p.useState(null),T=Le(e,W=>k(W)),[C,I]=p.useState(null),[A,R]=p.useState(null),j=pp(n),[P,z]=p.useState(!1),re=p.useRef(!1);p.useEffect(()=>{if(S)return ak(S)},[S]),JA();const U=p.useCallback(W=>{const[ee,...fe]=j().map(le=>le.ref.current),[ne]=fe.slice(-1),ce=document.activeElement;for(const le of W)if(le===ce||(le==null||le.scrollIntoView({block:"nearest"}),le===ee&&D&&(D.scrollTop=0),le===ne&&D&&(D.scrollTop=D.scrollHeight),le==null||le.focus(),document.activeElement!==ce))return},[j,D]),q=p.useCallback(()=>U([C,S]),[U,C,S]);p.useEffect(()=>{P&&q()},[P,q]);const{onOpenChange:L,triggerPointerDownPosRef:M}=w;p.useEffect(()=>{if(S){let W={x:0,y:0};const ee=ne=>{var ce,le;W={x:Math.abs(Math.round(ne.pageX)-(((ce=M.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((le=M.current)==null?void 0:le.y)??0))}},fe=ne=>{W.x<=10&&W.y<=10?ne.preventDefault():S.contains(ne.target)||L(!1),document.removeEventListener("pointermove",ee),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",fe,{capture:!0})}}},[S,L,M]),p.useEffect(()=>{const W=()=>L(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[L]);const[$,B]=mP(W=>{const ee=j().filter(ce=>!ce.disabled),fe=ee.find(ce=>ce.ref.current===document.activeElement),ne=gP(ee,W,fe);ne&&setTimeout(()=>ne.ref.current.focus())}),Q=p.useCallback((W,ee,fe)=>{const ne=!re.current&&!fe;(w.value!==void 0&&w.value===ee||ne)&&(I(W),ne&&(re.current=!0))},[w.value]),X=p.useCallback(()=>S==null?void 0:S.focus(),[S]),Z=p.useCallback((W,ee,fe)=>{const ne=!re.current&&!fe;(w.value!==void 0&&w.value===ee||ne)&&R(W)},[w.value]),de=r==="popper"?vy:ZR,se=de===vy?{side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:v,sticky:x,hideWhenDetached:y,avoidCollisions:_}:{};return c.jsx(YR,{scope:n,content:S,viewport:D,onViewportChange:O,itemRefCallback:Q,selectedItem:C,onItemLeave:X,itemTextRefCallback:Z,focusSelectedItem:q,selectedItemText:A,position:r,isPositioned:P,searchRef:$,children:c.jsx(D0,{as:RB,allowPinchZoom:!0,children:c.jsx(P0,{asChild:!0,trapped:w.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:he(s,W=>{var ee;(ee=w.trigger)==null||ee.focus({preventScroll:!0}),W.preventDefault()}),children:c.jsx(tu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:c.jsx(de,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:W=>W.preventDefault(),...b,...se,onPlaced:()=>z(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:he(b.onKeyDown,W=>{const ee=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!ee&&W.key.length===1&&B(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let ne=j().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(W.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const ce=W.target,le=ne.indexOf(ce);ne=ne.slice(le+1)}setTimeout(()=>U(ne)),W.preventDefault()}})})})})})})});JR.displayName=kB;var PB="SelectItemAlignedPosition",ZR=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ci(xo,n),o=Ii(xo,n),[a,l]=p.useState(null),[u,h]=p.useState(null),f=Le(e,T=>h(T)),m=pp(n),v=p.useRef(!1),x=p.useRef(!0),{viewport:y,selectedItem:_,selectedItemText:b,focusSelectedItem:w}=o,S=p.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&y&&_&&b){const T=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(i.dir!=="rtl"){const ce=A.left-C.left,le=I.left-ce,Ae=T.left-le,Ve=T.width+Ae,on=Math.max(Ve,C.width),jt=window.innerWidth-Xn,Dn=Kb(le,[Xn,Math.max(Xn,jt-on)]);a.style.minWidth=Ve+"px",a.style.left=Dn+"px"}else{const ce=C.right-A.right,le=window.innerWidth-I.right-ce,Ae=window.innerWidth-T.right-le,Ve=T.width+Ae,on=Math.max(Ve,C.width),jt=window.innerWidth-Xn,Dn=Kb(le,[Xn,Math.max(Xn,jt-on)]);a.style.minWidth=Ve+"px",a.style.right=Dn+"px"}const R=m(),j=window.innerHeight-Xn*2,P=y.scrollHeight,z=window.getComputedStyle(u),re=parseInt(z.borderTopWidth,10),U=parseInt(z.paddingTop,10),q=parseInt(z.borderBottomWidth,10),L=parseInt(z.paddingBottom,10),M=re+U+P+L+q,$=Math.min(_.offsetHeight*5,M),B=window.getComputedStyle(y),Q=parseInt(B.paddingTop,10),X=parseInt(B.paddingBottom,10),Z=T.top+T.height/2-Xn,de=j-Z,se=_.offsetHeight/2,W=_.offsetTop+se,ee=re+U+W,fe=M-ee;if(ee<=Z){const ce=R.length>0&&_===R[R.length-1].ref.current;a.style.bottom="0px";const le=u.clientHeight-y.offsetTop-y.offsetHeight,Ae=Math.max(de,se+(ce?X:0)+le+q),Ve=ee+Ae;a.style.height=Ve+"px"}else{const ce=R.length>0&&_===R[0].ref.current;a.style.top="0px";const Ae=Math.max(Z,re+y.offsetTop+(ce?Q:0)+se)+fe;a.style.height=Ae+"px",y.scrollTop=ee-Z+y.offsetTop}a.style.margin=`${Xn}px 0`,a.style.minHeight=$+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[m,i.trigger,i.valueNode,a,u,y,_,b,i.dir,r]);_t(()=>S(),[S]);const[k,D]=p.useState();_t(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const O=p.useCallback(T=>{T&&x.current===!0&&(S(),w==null||w(),x.current=!1)},[S,w]);return c.jsx(jB,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:O,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:c.jsx(ve.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ZR.displayName=PB;var DB="SelectPopperPosition",vy=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Xn,...i}=t,o=mp(n);return c.jsx(sI,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vy.displayName=DB;var[jB,dw]=pl(xo,{}),wy="SelectViewport",eP=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ii(wy,n),o=dw(wy,n),a=Le(e,i.onViewportChange),l=p.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(fp.Slot,{scope:n,children:c.jsx(ve.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:he(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const v=Math.abs(l.current-h.scrollTop);if(v>0){const x=window.innerHeight-Xn*2,y=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),b=Math.max(y,_);if(b<x){const w=b+v,S=Math.min(x,w),k=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});eP.displayName=wy;var tP="SelectGroup",[OB,MB]=pl(tP),LB=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ns();return c.jsx(OB,{scope:n,id:s,children:c.jsx(ve.div,{role:"group","aria-labelledby":s,...r,ref:e})})});LB.displayName=tP;var nP="SelectLabel",rP=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=MB(nP,n);return c.jsx(ve.div,{id:s.id,...r,ref:e})});rP.displayName=nP;var Yh="SelectItem",[VB,sP]=pl(Yh),iP=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ci(Yh,n),l=Ii(Yh,n),u=a.value===r,[h,f]=p.useState(i??""),[m,v]=p.useState(!1),x=Le(e,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,s)}),y=ns(),_=p.useRef("touch"),b=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(VB,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:p.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:c.jsx(fp.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:c.jsx(ve.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:he(o.onFocus,()=>v(!0)),onBlur:he(o.onBlur,()=>v(!1)),onClick:he(o.onClick,()=>{_.current!=="mouse"&&b()}),onPointerUp:he(o.onPointerUp,()=>{_.current==="mouse"&&b()}),onPointerDown:he(o.onPointerDown,w=>{_.current=w.pointerType}),onPointerMove:he(o.onPointerMove,w=>{var S;_.current=w.pointerType,s?(S=l.onItemLeave)==null||S.call(l):_.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:he(o.onKeyDown,w=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&w.key===" "||(EB.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});iP.displayName=Yh;var Wl="SelectItemText",oP=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ci(Wl,n),a=Ii(Wl,n),l=sP(Wl,n),u=IB(Wl,n),[h,f]=p.useState(null),m=Le(e,b=>f(b),l.onItemTextChange,b=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,b,l.value,l.disabled)}),v=h==null?void 0:h.textContent,x=p.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:_}=u;return _t(()=>(y(x),()=>_(x)),[y,_,x]),c.jsxs(c.Fragment,{children:[c.jsx(ve.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?zn.createPortal(i.children,o.valueNode):null]})});oP.displayName=Wl;var aP="SelectItemIndicator",lP=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return sP(aP,n).isSelected?c.jsx(ve.span,{"aria-hidden":!0,...r,ref:e}):null});lP.displayName=aP;var xy="SelectScrollUpButton",cP=p.forwardRef((t,e)=>{const n=Ii(xy,t.__scopeSelect),r=dw(xy,t.__scopeSelect),[s,i]=p.useState(!1),o=Le(e,r.onScrollButtonChange);return _t(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(dP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});cP.displayName=xy;var _y="SelectScrollDownButton",uP=p.forwardRef((t,e)=>{const n=Ii(_y,t.__scopeSelect),r=dw(_y,t.__scopeSelect),[s,i]=p.useState(!1),o=Le(e,r.onScrollButtonChange);return _t(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<u;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(dP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});uP.displayName=_y;var dP=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ii("SelectScrollButton",n),o=p.useRef(null),a=pp(n),l=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),_t(()=>{var h;const u=a().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),c.jsx(ve.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:he(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:he(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:he(s.onPointerLeave,()=>{l()})})}),FB="SelectSeparator",hP=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(ve.div,{"aria-hidden":!0,...r,ref:e})});hP.displayName=FB;var by="SelectArrow",UB=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=mp(n),i=Ci(by,n),o=Ii(by,n);return i.open&&o.position==="popper"?c.jsx(iI,{...s,...r,ref:e}):null});UB.displayName=by;function fP(t){return t===""||t===void 0}var pP=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=p.useRef(null),i=Le(e,s),o=$R(n);return p.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(f)}},[o,n]),c.jsx(nu,{asChild:!0,children:c.jsx("select",{...r,ref:i,defaultValue:n})})});pP.displayName="BubbleSelect";function mP(t){const e=Zt(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function gP(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=zB(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function zB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var $B=BR,yP=WR,BB=GR,HB=KR,WB=QR,vP=XR,qB=eP,wP=rP,xP=iP,GB=oP,KB=lP,_P=cP,bP=uP,EP=hP;const Jh=$B,Zh=BB,Hc=p.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(yP,{ref:r,className:J("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(HB,{asChild:!0,children:c.jsx(yC,{className:"h-4 w-4 opacity-50"})})]}));Hc.displayName=yP.displayName;const SP=p.forwardRef(({className:t,...e},n)=>c.jsx(_P,{ref:n,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(n4,{className:"h-4 w-4"})}));SP.displayName=_P.displayName;const TP=p.forwardRef(({className:t,...e},n)=>c.jsx(bP,{ref:n,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(yC,{className:"h-4 w-4"})}));TP.displayName=bP.displayName;const Wc=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(WB,{children:c.jsxs(vP,{ref:s,className:J("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(SP,{}),c.jsx(qB,{className:J("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(TP,{})]})}));Wc.displayName=vP.displayName;const QB=p.forwardRef(({className:t,...e},n)=>c.jsx(wP,{ref:n,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));QB.displayName=wP.displayName;const gt=p.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(xP,{ref:r,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(KB,{children:c.jsx(yh,{className:"h-4 w-4"})})}),c.jsx(GB,{children:e})]}));gt.displayName=xP.displayName;const XB=p.forwardRef(({className:t,...e},n)=>c.jsx(EP,{ref:n,className:J("-mx-1 my-1 h-px bg-muted",t),...e}));XB.displayName=EP.displayName;function YB(t){return Z0({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const yd={backlog:{label:"Backlog",color:"bg-slate-100",border:"border-slate-200",timelineStyle:"bg-slate-100 border-slate-300 text-slate-700"},in_progress:{label:"In Progress",color:"bg-blue-50 text-blue-700",border:"border-blue-100",timelineStyle:"bg-blue-100 border-blue-300 text-blue-800"},submitted:{label:"Submitted",color:"bg-purple-50 text-purple-700",border:"border-purple-100",timelineStyle:"bg-purple-100 border-purple-300 text-purple-800"},graded:{label:"Graded",color:"bg-emerald-50 text-emerald-700",border:"border-emerald-100",timelineStyle:"bg-emerald-100 border-emerald-300 text-emerald-800"},overdue:{label:"Overdue",color:"bg-red-50 text-red-700",border:"border-red-100",timelineStyle:"bg-red-100 border-red-300 text-red-800"}},JB=(t,e)=>{const n=[],r=new Date(t);for(;r<=e;)n.push(new Date(r)),r.setDate(r.getDate()+1);return n},ZB=(t,e)=>{const n=[],r=new Date(t);r.setDate(1),r.setHours(0,0,0,0);const s=new Date(e);for(s.setDate(1),s.setHours(0,0,0,0);r<=s;)n.push(new Date(r)),r.setMonth(r.getMonth()+1);return n},Mm=t=>`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`,Qb=t=>{const e=new Date;return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()};function eH(){const{getTimelineGroups:t,courses:e,isLoading:n,isSyncing:r,assignments:s,syncClassroom:i}=xs(),{user:o,signOut:a}=rn(),[l,u]=p.useState(null),[h,f]=p.useState(null),[m,v]=p.useState(null),[x,y]=p.useState("timeline"),[_,b]=p.useState([]);p.useEffect(()=>{if(o)try{const T=`trace_email_events_${o.uid}`,I=JSON.parse(localStorage.getItem(T)||"[]").map(A=>({id:A.id,uniqueId:A.id,userId:o.uid,courseId:"system",courseName:"System",classroomId:"system",title:A.title,description:A.body,dueDate:A.timestamp,dueTime:null,maxPoints:null,systemStatus:"submitted",userStatus:null,submissionId:null,submittedAt:null,gradedAt:null,grade:null,alternateLink:null,createdAt:A.timestamp,lastSyncedAt:A.timestamp}));b(I)}catch{}},[o]);const w=p.useMemo(()=>{let T=[...s,..._];return l&&(T=T.filter(C=>C.courseId===l)),h&&(T=T.filter(C=>C.systemStatus===h)),T},[s,_,l,h]),S=()=>{u(null),f(null)},k=l||h;if(s.length===0)return c.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 p-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx(Nn,{className:"h-12 w-12 mx-auto text-destructive"}),c.jsx("h2",{className:"text-lg font-medium text-destructive",children:"Troubleshooting"}),c.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"It seems data isn't fetching correctly. Please log out and log in again to resolve this."})]}),c.jsx(ye,{onClick:()=>a(),variant:"destructive",className:"px-4 py-2",children:"Log Out"})]});const D=()=>{const T=p.useRef(null),[C,I]=p.useState(!1),A=p.useRef({x:0,left:0}),R=60,{earliestDate:j,latestDate:P,initialScrollPosition:z}=p.useMemo(()=>{const M=new Date;M.setHours(0,0,0,0);let $=new Date,B=new Date;if(w.length>0){const se=w.flatMap(W=>{const ee=[];return W.dueDate&&ee.push(new Date(W.dueDate)),W.createdAt&&ee.push(new Date(W.createdAt)),ee});se.length>0&&($=new Date(Math.min(...se.map(W=>W.getTime()))),B=new Date(Math.max(...se.map(W=>W.getTime()))))}const Q=new Date($);Q.setDate(Q.getDate()-30);const X=new Date(B);X.setDate(X.getDate()+30);const de=Math.ceil((M.getTime()-Q.getTime())/(1e3*3600*24))*R+R/2-window.innerWidth/2;return{earliestDate:Q,latestDate:X,initialScrollPosition:Math.max(0,de)}},[w]),re=p.useMemo(()=>JB(j,P),[j,P]);p.useEffect(()=>{T.current&&(T.current.scrollLeft=z)},[z]);const U=M=>{M.button===2&&T.current&&(M.preventDefault(),I(!0),A.current={x:M.pageX,left:T.current.scrollLeft})},q=p.useCallback(M=>{if(!C||!T.current)return;M.preventDefault();const B=(M.pageX-A.current.x)*1.5;T.current.scrollLeft=A.current.left-B},[C]),L=p.useCallback(()=>{I(!1)},[]);return p.useEffect(()=>(C?(window.addEventListener("mousemove",q),window.addEventListener("mouseup",L)):(window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",L)),()=>{window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",L)}),[C,q,L]),c.jsxs("div",{className:"flex-1 overflow-hidden relative flex flex-col h-full bg-background",children:[c.jsx("div",{ref:T,className:J("flex-1 overflow-auto relative select-none",C?"cursor-grabbing":"cursor-default"),onMouseDown:U,onContextMenu:M=>M.preventDefault(),children:c.jsxs("div",{className:"min-w-max pb-20 relative",style:{width:`${re.length*R}px`},children:[c.jsx("div",{className:"flex sticky top-0 bg-background/95 backdrop-blur-sm z-40 border-b shadow-sm h-16",children:re.map((M,$)=>{const B=Qb(M);return c.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center justify-end pb-3 relative",style:{width:R},children:[c.jsx("span",{className:J("text-[10px] uppercase font-bold tracking-wider mb-1",B?"text-foreground":"text-muted-foreground"),children:M.toLocaleDateString("en-US",{weekday:"narrow"})}),c.jsx("span",{className:J("text-sm font-bold w-8 h-8 flex items-center justify-center rounded-full transition-all",B?"bg-foreground text-background shadow-md z-10 scale-110":"text-foreground"),children:M.getDate()}),c.jsx("div",{className:"absolute right-0 top-2 bottom-2 w-[1px] bg-border"})]},$)})}),c.jsxs("div",{className:"relative pt-6 min-h-[500px]",children:[c.jsx("div",{className:"absolute inset-0 flex pointer-events-none h-full z-0",children:re.map((M,$)=>{const B=Qb(M);return c.jsx("div",{className:J("flex-shrink-0 h-full border-r border-border relative",B?"bg-accent/50":""),style:{width:R},children:B&&c.jsx("div",{className:"absolute top-0 bottom-0 left-1/2 w-[2px] bg-foreground -translate-x-1/2 z-20 shadow-[0_0_10px_rgba(255,255,255,0.2)]"})},$)})}),c.jsx("div",{className:"space-y-3 px-0 relative z-10 mt-2",children:w.filter(M=>M.dueDate).map(M=>{const $=e.find(le=>le.id===M.courseId),B=$==null?void 0:$.color,Q=M.systemStatus==="submitted"||M.systemStatus==="graded",X=M.createdAt?new Date(M.createdAt):new Date,Z=new Date(M.dueDate),de=(X.getTime()-j.getTime())/(1e3*3600*24),se=(Z.getTime()-X.getTime())/(1e3*3600*24),W=Math.max(0,de*R),ee=Math.max(R,se*R),fe={left:`${W}px`,width:`${ee}px`,minWidth:"140px",backgroundColor:Q?void 0:B,borderColor:Q?void 0:B?"rgba(0,0,0,0.1)":void 0};yd[M.systemStatus]||yd.backlog;const ne="bg-green-100/80 border-green-300 text-green-800",ce="bg-card border shadow-sm "+(B?"text-slate-900":"text-foreground");return c.jsx("div",{className:"relative h-14 group",children:c.jsxs("div",{onClick:()=>v(M),className:J("absolute top-0 h-12 rounded-lg border transition-all cursor-pointer flex flex-col justify-center px-3 overflow-hidden group hover:scale-[1.01] z-10 hover:z-30 hover:shadow-md",Q?ne:ce),style:fe,children:[c.jsx("div",{className:"flex items-center justify-between gap-2 mb-0.5",children:c.jsxs("span",{className:"truncate text-xs font-bold leading-none flex items-center gap-1",children:[M.courseId==="system"&&c.jsx(Av,{className:"h-3 w-3 inline-block"}),Q&&c.jsx(yh,{className:"h-3 w-3 inline-block mr-0.5"}),M.title]})}),c.jsx("div",{className:"flex items-center justify-between opacity-80",children:c.jsx("span",{className:"text-[10px] font-semibold truncate max-w-[80px]",children:M.courseName})})]})},M.id)})})]})]})}),c.jsxs("div",{className:"flex-none p-2 border-t bg-background/70 backdrop-blur-sm flex items-center justify-center text-xs text-muted-foreground font-medium z-30 relative",children:[c.jsx(k1,{size:14,className:"mr-2"}),"Tip: Hold"," ",c.jsx("kbd",{className:"mx-1 px-1 py-0.5 rounded-md bg-muted border text-foreground font-bold text-[10px]",children:"Right Click"})," ","to drag timeline"]})]})},O=()=>{const T=p.useRef(null),[C,I]=p.useState(!1),A=p.useRef({y:0,top:0}),R=p.useRef({}),[j,P]=p.useState(!1),{startMonth:z,endMonth:re}=p.useMemo(()=>{let X=new Date,Z=new Date;if(w.length>0){const W=w.filter(ee=>ee.dueDate).map(ee=>new Date(ee.dueDate));W.length>0&&(X=new Date(Math.min(...W.map(ee=>ee.getTime()))),Z=new Date(Math.max(...W.map(ee=>ee.getTime()))))}const de=new Date(X);de.setMonth(de.getMonth()-2),de.setDate(1);const se=new Date(Z);return se.setMonth(se.getMonth()+4),se.setDate(1),{startMonth:de,endMonth:se}},[w]),U=p.useMemo(()=>ZB(z,re),[z,re]),q=p.useCallback(()=>{var W;const X=Mm(new Date),Z=R.current[X];if(!Z){P(!0);return}const de=Z.getBoundingClientRect(),se=(W=T.current)==null?void 0:W.getBoundingClientRect();se&&P(de.bottom<se.top||de.top>se.bottom)},[U]);p.useEffect(()=>{const X=T.current;return X&&(X.addEventListener("scroll",q),q()),()=>X==null?void 0:X.removeEventListener("scroll",q)},[q]),p.useEffect(()=>{setTimeout(()=>L(),100)},[]);const L=()=>{const X=Mm(new Date),Z=R.current[X];Z&&Z.scrollIntoView({behavior:"smooth",block:"center"})},M=X=>{X.button===2&&T.current&&(X.preventDefault(),I(!0),A.current={y:X.pageY,top:T.current.scrollTop})},$=p.useCallback(X=>{if(!C||!T.current)return;X.preventDefault();const de=(X.pageY-A.current.y)*1.5;T.current.scrollTop=A.current.top-de},[C]),B=p.useCallback(()=>{I(!1)},[]);p.useEffect(()=>(C?(window.addEventListener("mousemove",$),window.addEventListener("mouseup",B)):(window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",B)),()=>{window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",B)}),[C,$,B]);const Q=X=>{const Z=X.getFullYear(),de=X.getMonth(),se=new Date(Z,de,1),W=new Date(Z,de+1,0),ee=[];for(let fe=0;fe<se.getDay();fe++)ee.push({date:new Date(Z,de,-se.getDay()+1+fe),isCurrentMonth:!1});for(let fe=1;fe<=W.getDate();fe++)ee.push({date:new Date(Z,de,fe),isCurrentMonth:!0});for(;ee.length%7!==0;){const fe=ee.length-(se.getDay()+W.getDate())+1,ne=new Date(Z,de+1,fe);ee.push({date:ne,isCurrentMonth:!1})}return ee};return c.jsxs("div",{className:"flex flex-col h-full bg-background relative",children:[j&&c.jsx("div",{className:"absolute top-4 right-6 z-20 animate-in fade-in zoom-in duration-300",children:c.jsxs("button",{onClick:L,className:"flex items-center gap-2 text-xs font-bold px-4 py-2 bg-primary text-primary-foreground rounded-full shadow-lg hover:opacity-90 transition-all hover:scale-105",children:[c.jsx(KM,{size:14})," Jump to Today"]})}),c.jsx("div",{ref:T,className:J("flex-1 overflow-y-auto",C?"cursor-grabbing":"cursor-default"),onMouseDown:M,onContextMenu:X=>X.preventDefault(),children:c.jsx("div",{className:"flex flex-col gap-8 p-6 pb-20 max-w-6xl mx-auto",children:U.map(X=>{const Z=Q(X),de=Mm(X);return c.jsxs("div",{ref:se=>R.current[de]=se,className:"bg-card rounded-xl shadow-sm border overflow-hidden scroll-mt-6",children:[c.jsx("div",{className:"px-6 py-4 border-b bg-muted/50 flex justify-between items-center",children:c.jsx("h3",{className:"text-lg font-bold",children:X.toLocaleDateString("en-US",{month:"long",year:"numeric"})})}),c.jsx("div",{className:"grid grid-cols-7 border-b bg-muted/30",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(se=>c.jsx("div",{className:"py-2 text-center text-[10px] font-bold text-muted-foreground uppercase tracking-wide",children:se},se))}),c.jsx("div",{className:"grid grid-cols-7 auto-rows-fr",children:Z.map((se,W)=>{const ee=w.filter(ne=>{if(!ne.dueDate)return!1;const ce=new Date(ne.dueDate);ce.setHours(0,0,0,0);const le=new Date(se.date);return le.setHours(0,0,0,0),le.toDateString()===ce.toDateString()}),fe=se.date.toDateString()===new Date().toDateString();return c.jsxs("div",{className:J("min-h-[100px] border-b border-r p-1.5 flex flex-col gap-1 transition-colors",se.isCurrentMonth?"bg-card":"bg-muted/30 text-muted-foreground"),children:[c.jsx("span",{className:J("text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full mb-1",fe&&se.isCurrentMonth?"bg-primary text-primary-foreground shadow-sm":"text-foreground"),children:se.date.getDate()}),c.jsx("div",{className:"flex-1 flex flex-col gap-1.5",children:ee.map(ne=>{const ce=yd[ne.systemStatus]||yd.backlog;return c.jsx("div",{onClick:le=>{le.stopPropagation(),v(ne)},className:J("text-[10px] px-2 py-1 rounded-md border cursor-pointer truncate shadow-sm hover:scale-[1.02] transition-transform font-medium",ce.color,ce.border),title:ne.title,children:ne.title},ne.id)})})]},W)})})]},de)})})}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-background/90 backdrop-blur-md border-t flex items-center justify-center text-xs text-muted-foreground font-medium z-10",children:[c.jsx(k1,{size:14,className:"mr-2"}),"Tip: Hold"," ",c.jsx("kbd",{className:"mx-1 px-1 py-0.5 rounded-md bg-muted border text-foreground font-bold text-[10px]",children:"Right Click"})," ","to drag vertically"]})]})};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] overflow-hidden",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-3 sticky top-0 bg-background py-3 z-10 border-b px-4 sm:px-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(ye,{variant:x==="timeline"?"default":"ghost",size:"sm",onClick:()=>y("timeline"),className:"gap-2",children:[c.jsx(So,{size:14}),"Timeline"]}),c.jsxs(ye,{variant:x==="calendar"?"default":"ghost",size:"sm",onClick:()=>y("calendar"),className:"gap-2",children:[c.jsx(XM,{size:14}),"Calendar"]})]}),c.jsxs(Jh,{value:l||"all",onValueChange:T=>u(T==="all"?null:T),children:[c.jsx(Hc,{className:"w-[140px] sm:w-[180px]","data-testid":"select-course-filter",children:c.jsx(Zh,{placeholder:"All Courses"})}),c.jsxs(Wc,{children:[c.jsx(gt,{value:"all",children:"All Courses"}),e.map(T=>c.jsx(gt,{value:T.id,children:T.name},T.id))]})]}),c.jsxs(Jh,{value:h||"all",onValueChange:T=>f(T==="all"?null:T),children:[c.jsx(Hc,{className:"w-[120px] sm:w-[140px]","data-testid":"select-status-filter",children:c.jsx(Zh,{placeholder:"All Status"})}),c.jsxs(Wc,{children:[c.jsx(gt,{value:"all",children:"All Status"}),c.jsx(gt,{value:"backlog",children:"Backlog"}),c.jsx(gt,{value:"in_progress",children:"In Progress"}),c.jsx(gt,{value:"submitted",children:"Submitted"}),c.jsx(gt,{value:"graded",children:"Graded"}),c.jsx(gt,{value:"overdue",children:"Overdue"})]})]}),k&&c.jsxs(ye,{variant:"ghost",size:"sm",onClick:S,className:"text-muted-foreground","data-testid":"button-clear-filters",children:[c.jsx(su,{className:"h-3.5 w-3.5 mr-1"}),"Clear filters"]}),c.jsx("div",{className:"ml-auto",children:c.jsx(pI,{children:c.jsxs(I3,{children:[c.jsx(N3,{asChild:!0,children:c.jsx(uo,{href:"/settings/integrations",children:c.jsxs(ye,{variant:"outline",size:"sm",className:"gap-2 border-zinc-200 hover:bg-zinc-50 dark:border-zinc-800 dark:hover:bg-zinc-900 transition-all font-medium whitespace-nowrap",children:[c.jsx(YB,{className:"h-4 w-4"}),"Sync with Google Calendar"]})})}),c.jsxs(mI,{side:"left",className:"max-w-xs",children:[c.jsx("p",{className:"font-medium",children:"Google Calendar Sync"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically sync your assignments and exam deadlines to your Google Calendar."})]})]})})})]}),c.jsx("div",{className:"flex-1 overflow-hidden",children:x==="timeline"?c.jsx(D,{}):c.jsx(O,{})})]}),c.jsx(cw,{assignment:m,isOpen:!!m,onClose:()=>v(null)})]})}function vd({title:t,value:e,icon:n,variant:r="default"}){return c.jsxs(vt,{"data-testid":`card-metric-${t.toLowerCase().replace(/\s+/g,"-")}`,children:[c.jsxs(Xt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[c.jsx(hn,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:t}),c.jsx(n,{className:J("h-5 w-5",r==="default"&&"text-muted-foreground",r==="warning"&&"text-foreground",r==="danger"&&"text-destructive")})]}),c.jsx(Yt,{children:c.jsx("div",{className:J("text-3xl font-semibold font-mono tracking-tight",r==="danger"&&"text-destructive"),children:e})})]})}function tH({data:t}){const e=Math.max(...t.map(n=>n.count),1);return c.jsxs(vt,{children:[c.jsx(Xt,{className:"pb-2",children:c.jsx(hn,{className:"text-sm font-medium",children:"Weekly Workload"})}),c.jsx(Yt,{children:c.jsx("div",{className:"flex items-end justify-between gap-2 h-32",children:t.map((n,r)=>c.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[c.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:n.count>0?n.count:""}),c.jsx("div",{className:J("w-full rounded-t-sm transition-all",n.isToday?"bg-foreground":"bg-muted",n.count===0&&"min-h-[4px]"),style:{height:n.count>0?`${n.count/e*80}px`:"4px"}}),c.jsx("span",{className:J("text-xs",n.isToday?"font-medium":"text-muted-foreground"),children:n.day})]},r))})})]})}function nH({courses:t,assignments:e}){const{user:n}=rn(),[r,s]=p.useState(null),[i,o]=p.useState(!0);return p.useEffect(()=>{if(!n)return;const a=Array.from(new Set(["all-courses",...t.map(f=>f.id)])),l=[],u=new Map,h=()=>{const f=Array.from(u.values()),m=n.email?n.email.split("@")[1]:null,v=t.map(w=>w.id),x=new Set(e.map(w=>w.id)),y=f.filter(w=>{const S=w.email||"",k=w.emailDomain||(S.includes("@")?S.split("@")[1]:""),D=w.enrolledCourseIds||[],O=w.processedAssignmentIds||[],T=m&&k&&m===k,C=v.some(R=>D.includes(R)),A=!k&&O.some(R=>x.has(R));return w.id===n.uid?!0:T&&C||A});y.sort((w,S)=>S.totalXP-w.totalXP);const _=y.length;if(_===0){s(null),o(!1);return}const b=y.findIndex(w=>w.id===n.uid);if(b!==-1){const w=b+1,S=Math.round((_-w+1)/_*100),k=y[b];s({rank:w,total:_,percentile:S,xp:k.totalXP||0})}else s(null);o(!1)};return a.forEach(f=>{const m=A0(E0(st,"leaderboards",f,"students"),k0("totalXP","desc")),v=ul(m,x=>{x.docs.forEach(y=>{const _=y.data(),b={id:y.id,..._,email:_.email||"",emailDomain:_.emailDomain||(_.email?_.email.split("@")[1]:""),enrolledCourseIds:_.enrolledCourseIds||_.subjects||[],processedAssignmentIds:_.processedAssignmentIds||_.completedTasks||[],totalXP:_.totalXP||_.xp||0},w=u.get(y.id);(!w||b.totalXP>=w.totalXP)&&u.set(y.id,b)}),h()},x=>{console.error(`Error fetching leaderboard source ${f}:`,x),h()});l.push(v)}),()=>{l.forEach(f=>f())}},[n,t,e]),c.jsxs(vt,{"data-testid":"card-class-rank",children:[c.jsxs(Xt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[c.jsx(hn,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Class Ranking"}),c.jsx(SC,{className:"h-5 w-5 text-amber-500"})]}),c.jsx(Yt,{children:i?c.jsxs("div",{className:"space-y-2",children:[c.jsx(Qr,{className:"h-8 w-16"}),c.jsx(Qr,{className:"h-3 w-24"})]}):r?c.jsxs("div",{children:[c.jsxs("div",{className:"text-3xl font-semibold font-mono tracking-tight flex items-baseline gap-2",children:["#",r.rank,c.jsxs("span",{className:"text-base text-muted-foreground font-normal",children:["/ ",r.total]})]}),c.jsxs("div",{className:"mt-1 flex flex-col gap-0.5",children:[c.jsxs("p",{className:"text-xs font-medium bg-gradient-to-r from-amber-500 to-orange-500 bg-clip-text text-transparent",children:["Top"," ",100-r.percentile<1?1:100-r.percentile,"% of class"]}),c.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[r.xp.toLocaleString()," Total XP"]})]})]}):c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("span",{className:"text-lg font-medium text-muted-foreground",children:"Unranked"}),c.jsx(uo,{href:"/leaderboard",children:c.jsx(ye,{variant:"outline",size:"sm",className:"h-7 text-xs w-full",children:"Join Leaderboard"})})]})})]})}function rH(){const{getDashboardMetrics:t,isLoading:e,isSyncing:n,assignments:r,syncClassroom:s,courses:i}=xs(),{signOut:o}=rn(),[a,l]=p.useState(null),u=t();return r.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 p-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx(Nn,{className:"h-12 w-12 mx-auto text-destructive"}),c.jsx("h2",{className:"text-lg font-medium text-destructive",children:"Troubleshooting"}),c.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"It seems data isn't fetching correctly. Please log out and log in again to resolve this."})]}),c.jsx(ye,{onClick:()=>o(),variant:"destructive",className:"px-4 py-2",children:"Log Out"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[u.upcoming7Days>0&&c.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-lg animate-in slide-in-from-top-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/40 rounded-md text-blue-700 dark:text-blue-300",children:c.jsx(Nn,{className:"h-4 w-4"})}),c.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-medium",children:[" ",u.upcoming7Days," assignment",u.upcoming7Days!==1?"s":""," due this week"]})]}),c.jsx(uo,{href:"/settings/notifications",children:c.jsx(ye,{variant:"ghost",size:"sm",className:"text-blue-700 dark:text-blue-300 hover:text-blue-800 hover:bg-blue-100/50 h-8",children:"Enable email reminders"})})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(vd,{title:"Due in 3 Days",value:u.upcoming3Days,icon:vC,variant:u.upcoming3Days>3?"warning":"default"}),c.jsx(vd,{title:"Due in 7 Days",value:u.upcoming7Days,icon:So}),c.jsx(vd,{title:"Overdue",value:u.overdue,icon:Nn,variant:u.overdue>0?"danger":"default"}),c.jsx(vd,{title:"Total Active",value:u.totalActive,icon:Ma}),c.jsx(nH,{courses:i,assignments:r})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsx(tH,{data:u.weeklyWorkload}),c.jsxs(vt,{children:[c.jsx(Xt,{className:"pb-2",children:c.jsx(hn,{className:"text-sm font-medium",children:"Next Actions"})}),c.jsx(Yt,{className:"space-y-2",children:u.nextActions.length>0?u.nextActions.map(h=>c.jsx(aB,{assignment:h,onClick:()=>l(h)},h.id)):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[c.jsx(Ma,{className:"h-8 w-8 mb-2"}),c.jsx("p",{className:"text-sm",children:"All caught up!"})]})})]})]})]}),c.jsx(cw,{assignment:a,isOpen:!!a,onClose:()=>l(null)})]})}function sH(){const{courses:t,materials:e,isLoading:n,isSyncing:r,syncClassroom:s}=xs(),{signOut:i}=rn(),[o,a]=p.useState(null),[l,u]=p.useState("grid"),h=Y0(),f=t.find(x=>x.id===o),v=e.filter(x=>x.courseId===o).flatMap(x=>x.materials?x.materials.flatMap(y=>{let _=[];return y.driveFile&&_.push({id:y.driveFile.driveFile.id,title:y.driveFile.driveFile.title,link:y.driveFile.driveFile.alternateLink,thumbnail:y.driveFile.driveFile.thumbnailUrl,type:"driveFile"}),_}):[]).filter(x=>{if(!x.title)return!1;const y=x.title.toLowerCase();return y.endsWith(".pdf")||y.endsWith(".ppt")||y.endsWith(".pptx")});return n&&t.length===0?c.jsx(iH,{}):t.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-4rem)] gap-4 p-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx(Nn,{className:"h-12 w-12 mx-auto text-destructive"}),c.jsx("h2",{className:"text-lg font-medium text-destructive",children:"Troubleshooting"}),c.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"It seems data isn't fetching correctly. Please log out and log in again to resolve this."})]}),c.jsx(ye,{onClick:()=>i(),variant:"destructive",className:"px-4 py-2",children:"Log Out"})]}):c.jsxs("div",{className:"flex h-full overflow-hidden bg-background",children:[c.jsxs("div",{className:J("w-full md:w-80 border-r border-border bg-muted/20 flex flex-col h-full shrink-0",h&&o?"hidden":"flex"),children:[c.jsx("div",{className:"p-4 border-b border-border flex items-center justify-between bg-background",children:c.jsx("h2",{className:"font-semibold text-sm uppercase tracking-wider text-muted-foreground",children:"Your Courses"})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:t.map(x=>c.jsxs("button",{onClick:()=>a(x.id),className:J("w-full text-left px-3 py-3 rounded-md transition-all group flex items-center gap-3",o===x.id?"bg-primary text-primary-foreground shadow-md":"hover:bg-muted text-muted-foreground hover:text-foreground"),children:[c.jsx("div",{className:J("h-8 w-8 rounded-full flex items-center justify-center shrink-0",o===x.id?"bg-primary-foreground/20":"bg-muted"),children:c.jsx(A1,{className:J("h-4 w-4",o===x.id?"text-primary-foreground":"text-muted-foreground")})}),c.jsxs("div",{className:"truncate flex-1",children:[c.jsx("p",{className:"text-sm font-semibold leading-none mb-1 truncate",children:x.name}),c.jsx("p",{className:J("text-[10px] uppercase tracking-wider font-medium",o===x.id?"text-primary-foreground/80":"text-muted-foreground/70"),children:x.section||"No Section"})]}),c.jsx(t4,{className:J("h-4 w-4 transition-transform",o===x.id?"translate-x-0":"-translate-x-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-0")})]},x.id))})]}),c.jsxs("div",{className:J("flex-1 overflow-y-auto bg-background",h&&!o?"hidden":"flex flex-col"),children:[h&&o&&c.jsx("div",{className:"flex items-center p-4 border-b border-border bg-background sticky top-0 z-10",children:c.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>a(null),className:"gap-2 pl-2",children:[c.jsx(gC,{className:"h-4 w-4"}),"Back to Courses"]})}),o?c.jsxs("div",{className:"p-4 md:p-8 space-y-6 md:space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between border-b pb-6 border-border gap-4",children:[c.jsxs("div",{className:"space-y-1 max-w-full",children:[c.jsx(Ao,{variant:"outline",className:"text-[10px] font-mono tracking-[0.2em] font-bold uppercase py-0 px-2 rounded-sm border-border",children:"Course Resources"}),c.jsx("h1",{className:"text-lg md:text-xl font-black tracking-tighter uppercase italic break-words leading-tight text-foreground",children:f==null?void 0:f.name}),c.jsx("p",{className:"text-xs md:text-sm font-medium text-muted-foreground line-clamp-2",children:(f==null?void 0:f.descriptionHeading)||"Curated academic materials and notes."})]}),c.jsxs("div",{className:"flex gap-2 shrink-0",children:[c.jsxs("div",{className:"bg-muted/30 px-3 py-1.5 rounded-md border border-border flex items-center gap-2",children:[c.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-red-500 animate-pulse shrink-0"}),c.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-widest whitespace-nowrap text-muted-foreground",children:[v.length," Documents"]})]}),c.jsxs("div",{className:"flex bg-muted rounded-md p-1 border border-border",children:[c.jsx(ye,{variant:"ghost",size:"icon",className:J("h-6 w-6 rounded-sm",l==="grid"&&"bg-background shadow-sm"),onClick:()=>u("grid"),children:c.jsx(wC,{className:"h-4 w-4"})}),c.jsx(ye,{variant:"ghost",size:"icon",className:J("h-6 w-6 rounded-sm",l==="list"&&"bg-background shadow-sm"),onClick:()=>u("list"),children:c.jsx(a4,{className:"h-4 w-4"})})]})]})]}),v.length>0?l==="grid"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 pb-20",children:v.map((x,y)=>{var b;const _=(b=x.title)==null?void 0:b.toLowerCase().endsWith(".pdf");return c.jsxs(vt,{className:"group relative overflow-hidden transition-all hover:shadow-2xl hover:-translate-y-1 border-border bg-card shadow-sm flex flex-col",children:[c.jsx(Xt,{className:"p-3 border-b border-border space-y-0 pb-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:J("h-8 w-8 rounded-full flex items-center justify-center shrink-0",_?"bg-red-100 text-red-600":"bg-orange-100 text-orange-600"),children:c.jsx(ta,{className:"h-4 w-4"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h4",{className:"font-semibold text-sm truncate leading-none text-card-foreground",children:x.title}),c.jsx("p",{className:"text-[10px] text-muted-foreground truncate mt-1 font-mono",children:_?"PDF DOCUMENT":"PRESENTATION"})]})]})}),c.jsxs("div",{className:"relative aspect-[3/4] bg-muted/30 w-full overflow-hidden group",children:[x.thumbnail?c.jsx("img",{src:x.thumbnail.replace("s220","s800"),alt:x.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",referrerPolicy:"no-referrer",onError:w=>{var S;w.currentTarget.style.display="none",(S=w.currentTarget.nextElementSibling)==null||S.classList.remove("hidden")}}):null,c.jsx("div",{className:J("absolute inset-0 flex items-center justify-center bg-muted",x.thumbnail?"hidden":"flex"),children:c.jsx(ta,{className:"h-16 w-16 text-muted-foreground/20"})}),c.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center gap-2 p-4",children:c.jsx(ye,{variant:"secondary",size:"sm",className:"font-semibold shadow-xl h-9",asChild:!0,children:c.jsxs("a",{href:x.link,target:"_blank",rel:"noopener noreferrer",children:[c.jsx(Og,{className:"h-4 w-4 mr-2"}),"Open Material"]})})})]})]},`${x.id}-${y}`)})}):c.jsx("div",{className:"space-y-2 pb-20",children:v.map((x,y)=>{var b;const _=(b=x.title)==null?void 0:b.toLowerCase().endsWith(".pdf");return c.jsxs("div",{className:"group flex items-center gap-4 p-4 rounded-lg border border-border bg-card hover:bg-accent/50 transition-colors",children:[c.jsx("div",{className:J("h-10 w-10 flex items-center justify-center rounded-md shrink-0",_?"bg-red-100 text-red-600":"bg-orange-100 text-orange-600"),children:c.jsx(ta,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-medium text-sm truncate text-card-foreground group-hover:text-primary transition-colors",children:x.title}),c.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[_?"PDF Document":"Presentation","  Read Only"]})]}),c.jsx(ye,{variant:"ghost",size:"sm",asChild:!0,className:"shrink-0",children:c.jsxs("a",{href:x.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[c.jsx("span",{className:"hidden sm:inline text-xs font-medium",children:"Open"}),c.jsx(Og,{className:"h-4 w-4"})]})})]},`${x.id}-${y}`)})}):c.jsxs("div",{className:"h-96 flex flex-col items-center justify-center text-center border-4 border-dotted rounded-3xl bg-muted/20 border-border max-w-2xl mx-auto space-y-4",children:[c.jsx("div",{className:"h-20 w-20 bg-background rounded-full flex items-center justify-center shadow-inner border border-border",children:c.jsx(A1,{className:"h-8 w-8 text-muted-foreground"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-bold text-foreground",children:"No Documents Found"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2 max-w-xs mx-auto font-medium",children:"This course has no PDF or Presentation files uploaded to Classroom yet. Make sure your materials are in .pdf, .ppt, or .pptx format."})]})]})]}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 space-y-6 max-w-md mx-auto",children:[c.jsx("div",{className:"h-24 w-24 bg-muted/50 rounded-2xl flex items-center justify-center border border-border shadow-sm",children:c.jsx(ta,{className:"h-10 w-10 text-muted-foreground/50"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-xl font-bold tracking-tight text-foreground",children:"Select a curriculum"}),c.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed font-medium mt-2",children:"Choose a course from the listing to accessibility your synchronized PDF lecture records and study guides."})]})]})]})]})}function iH(){return c.jsxs("div",{className:"flex h-full overflow-hidden",children:[c.jsxs("div",{className:"w-80 border-r bg-muted/20 p-6 space-y-6",children:[c.jsx(Qr,{className:"h-6 w-32"}),[1,2,3,4,5].map(t=>c.jsx(Qr,{className:"h-16 w-full rounded-xl"},t))]}),c.jsxs("div",{className:"flex-1 p-10 space-y-10",children:[c.jsxs("div",{className:"flex justify-between items-end border-b pb-8",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx(Qr,{className:"h-4 w-20"}),c.jsx(Qr,{className:"h-10 w-80"}),c.jsx(Qr,{className:"h-4 w-64"})]}),c.jsx(Qr,{className:"h-10 w-32 rounded-lg"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3,4,5,6].map(t=>c.jsx(Qr,{className:"h-64 w-full rounded-2xl"},t))})]})]})}var hw="Switch",[oH,iW]=qn(hw),[aH,lH]=oH(hw),CP=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:u,form:h,...f}=t,[m,v]=p.useState(null),x=Le(e,S=>v(S)),y=p.useRef(!1),_=m?h||!!m.closest("form"):!0,[b=!1,w]=hi({prop:s,defaultProp:i,onChange:u});return c.jsxs(aH,{scope:n,checked:b,disabled:a,children:[c.jsx(ve.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":AP(b),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:x,onClick:he(t.onClick,S=>{w(k=>!k),_&&(y.current=S.isPropagationStopped(),y.current||S.stopPropagation())})}),_&&c.jsx(cH,{control:m,bubbles:!y.current,name:r,value:l,checked:b,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});CP.displayName=hw;var IP="SwitchThumb",NP=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=lH(IP,n);return c.jsx(ve.span,{"data-state":AP(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});NP.displayName=IP;var cH=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=p.useRef(null),o=$R(n),a=qC(e);return p.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const m=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(m)}},[o,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function AP(t){return t?"checked":"unchecked"}var kP=CP,uH=NP;const Bn=p.forwardRef(({className:t,...e},n)=>c.jsx(kP,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:c.jsx(uH,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Bn.displayName=kP.displayName;var dH="Label",RP=p.forwardRef((t,e)=>c.jsx(ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));RP.displayName=dH;var PP=RP;const hH=ru("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),so=p.forwardRef(({className:t,...e},n)=>c.jsx(PP,{ref:n,className:J(hH(),t),...e}));so.displayName=PP.displayName;var Lm="rovingFocusGroup.onEntryFocus",fH={bubbles:!1,cancelable:!0},gp="RovingFocusGroup",[Ey,DP,pH]=Tv(gp),[mH,jP]=qn(gp,[pH]),[gH,yH]=mH(gp),OP=p.forwardRef((t,e)=>c.jsx(Ey.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Ey.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(vH,{...t,ref:e})})}));OP.displayName=gp;var vH=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,m=p.useRef(null),v=Le(e,m),x=uw(i),[y=null,_]=hi({prop:o,defaultProp:a,onChange:l}),[b,w]=p.useState(!1),S=Zt(u),k=DP(n),D=p.useRef(!1),[O,T]=p.useState(0);return p.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(Lm,S),()=>C.removeEventListener(Lm,S)},[S]),c.jsx(gH,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:y,onItemFocus:p.useCallback(C=>_(C),[_]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>T(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>T(C=>C-1),[]),children:c.jsx(ve.div,{tabIndex:b||O===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:he(t.onMouseDown,()=>{D.current=!0}),onFocus:he(t.onFocus,C=>{const I=!D.current;if(C.target===C.currentTarget&&I&&!b){const A=new CustomEvent(Lm,fH);if(C.currentTarget.dispatchEvent(A),!A.defaultPrevented){const R=k().filter(U=>U.focusable),j=R.find(U=>U.active),P=R.find(U=>U.id===y),re=[j,P,...R].filter(Boolean).map(U=>U.ref.current);VP(re,h)}}D.current=!1}),onBlur:he(t.onBlur,()=>w(!1))})})}),MP="RovingFocusGroupItem",LP=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=ns(),l=i||a,u=yH(MP,n),h=u.currentTabStopId===l,f=DP(n),{onFocusableItemAdd:m,onFocusableItemRemove:v}=u;return p.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),c.jsx(Ey.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:c.jsx(ve.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:he(t.onMouseDown,x=>{r?u.onItemFocus(l):x.preventDefault()}),onFocus:he(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:he(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=_H(x,u.orientation,u.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=f().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const w=b.indexOf(x.currentTarget);b=u.loop?bH(b,w+1):b.slice(w+1)}setTimeout(()=>VP(b))}})})})});LP.displayName=MP;var wH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function _H(t,e,n){const r=xH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return wH[r]}function VP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function bH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var EH=OP,SH=LP,fw="Tabs",[TH,oW]=qn(fw,[jP]),FP=jP(),[CH,pw]=TH(fw),UP=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,h=uw(a),[f,m]=hi({prop:r,onChange:s,defaultProp:i});return c.jsx(CH,{scope:n,baseId:ns(),value:f,onValueChange:m,orientation:o,dir:h,activationMode:l,children:c.jsx(ve.div,{dir:h,"data-orientation":o,...u,ref:e})})});UP.displayName=fw;var zP="TabsList",$P=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=pw(zP,n),o=FP(n);return c.jsx(EH,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:c.jsx(ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});$P.displayName=zP;var BP="TabsTrigger",HP=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=pw(BP,n),a=FP(n),l=GP(o.baseId,r),u=KP(o.baseId,r),h=r===o.value;return c.jsx(SH,{asChild:!0,...a,focusable:!s,active:h,children:c.jsx(ve.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:he(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:he(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:he(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});HP.displayName=BP;var WP="TabsContent",qP=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=pw(WP,n),l=GP(a.baseId,r),u=KP(a.baseId,r),h=r===a.value,f=p.useRef(h);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),c.jsx(Eo,{present:s||h,children:({present:m})=>c.jsx(ve.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});qP.displayName=WP;function GP(t,e){return`${t}-trigger-${e}`}function KP(t,e){return`${t}-content-${e}`}var IH=UP,QP=$P,XP=HP,YP=qP;const NH=IH,JP=p.forwardRef(({className:t,...e},n)=>c.jsx(QP,{ref:n,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));JP.displayName=QP.displayName;const Sy=p.forwardRef(({className:t,...e},n)=>c.jsx(XP,{ref:n,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Sy.displayName=XP.displayName;const Ty=p.forwardRef(({className:t,...e},n)=>c.jsx(YP,{ref:n,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ty.displayName=YP.displayName;function AH(){const[t,e]=p.useState(null),[n,r]=p.useState(!1),[s,i]=p.useState(!1);return p.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}const a=u=>{u.preventDefault(),e(u),r(!0)},l=()=>{i(!0),r(!1),e(null)};return window.addEventListener("beforeinstallprompt",a),window.addEventListener("appinstalled",l),()=>{window.removeEventListener("beforeinstallprompt",a),window.removeEventListener("appinstalled",l)}},[]),{isInstallable:n,isInstalled:s,promptInstall:async()=>{if(!t)return!1;try{await t.prompt();const{outcome:a}=await t.userChoice;return a==="accepted"?(i(!0),r(!1),e(null),!0):!1}catch(a){return console.error("Error showing install prompt:",a),!1}}}}function kH(){const{user:t,requestCalendarPermissions:e}=rn(),[n,r]=p.useState(!1),[s,i]=p.useState({enabled:!1,syncAssignments:!0,syncExams:!0,syncPersonal:!1});p.useEffect(()=>{if(!t)return;const u=ul(dt(st,"users",t.uid,"settings","calendar"),h=>{h.exists()&&i(h.data())});return()=>u()},[t]);const o=async()=>{r(!0);try{await e()&&await vn(dt(st,"users",t.uid,"settings","calendar"),{...s,enabled:!0,connectedAt:new Date},{merge:!0})}catch(u){console.error(u)}finally{r(!1)}},a=async()=>{try{await vn(dt(st,"users",t.uid,"settings","calendar"),{enabled:!1},{merge:!0})}catch(u){console.error(u)}},l=async(u,h)=>{i(f=>({...f,[u]:h}));try{await vn(dt(st,"users",t.uid,"settings","calendar"),{[u]:h},{merge:!0})}catch(f){console.error(f)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(vt,{className:`rounded-md border shadow-sm transition-all duration-200 ${s.enabled?"ring-1 ring-zinc-200 dark:ring-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50":"hover:border-zinc-300 dark:hover:border-zinc-700"}`,children:[c.jsxs("div",{className:"p-6 flex flex-col sm:flex-row sm:items-start justify-between gap-6",children:[c.jsx("div",{className:"flex-1 space-y-2",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-md bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center text-foreground shrink-0 border border-border",children:c.jsx(So,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Google Calendar"}),s.enabled&&c.jsx(Ao,{variant:"outline",className:"rounded-sm px-1.5 py-0 text-[10px] font-medium bg-zinc-100 text-zinc-900 dark:bg-zinc-800 dark:text-zinc-100 border-zinc-200 dark:border-zinc-700",children:"Active"})]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Sync deadlines and exams directly to your calendar."})]})]})}),c.jsx("div",{className:"shrink-0 flex items-center gap-2",children:s.enabled?c.jsx(ye,{variant:"ghost",size:"sm",onClick:a,className:"text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-md h-9 px-4",children:"Disconnect"}):c.jsx(ye,{onClick:o,disabled:n,className:"bg-primary hover:bg-primary/90 text-primary-foreground rounded-md h-9 px-4 shadow-sm w-full sm:w-auto",children:n?c.jsx(La,{className:"h-4 w-4 mr-2 animate-spin"}):"Connect"})})]}),s.enabled&&c.jsxs("div",{className:"px-6 pb-6 pt-0 animate-in slide-in-from-top-2 duration-300",children:[c.jsx("div",{className:"h-px w-full bg-border mb-6"}),c.jsxs("div",{className:"space-y-4 pl-[3.25rem]",children:[" ",c.jsxs("div",{className:"grid gap-3 max-w-xl",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md border border-border bg-background/50 hover:bg-accent/5 transition-colors",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("label",{className:"text-sm font-medium text-foreground",children:"Assignment Deadlines"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Create events for assignment due dates"})]}),c.jsx(Bn,{checked:s.syncAssignments,onCheckedChange:u=>l("syncAssignments",u)})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md border border-border bg-background/50 hover:bg-accent/5 transition-colors",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("label",{className:"text-sm font-medium text-foreground",children:"Exams"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Create events for scheduled exams"})]}),c.jsx(Bn,{checked:s.syncExams,onCheckedChange:u=>l("syncExams",u)})]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsx(Sf,{className:"h-3 w-3"}),c.jsxs("span",{children:["Last synced:"," ",s.lastSyncedAt?new Date(s.lastSyncedAt.seconds*1e3).toLocaleString():"Pending..."]})]})]})]})]}),c.jsx(vt,{className:"rounded-md border shadow-sm hover:border-zinc-300 dark:hover:border-zinc-700 transition-all duration-200",children:c.jsxs("div",{className:"p-6 flex flex-col sm:flex-row sm:items-start justify-between gap-6",children:[c.jsx("div",{className:"flex-1 space-y-2",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-md bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center text-foreground shrink-0 border border-border",children:c.jsx(Av,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Notifications"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Manage email alerts for due assignments and updates."})]})]})}),c.jsx("div",{className:"shrink-0",children:c.jsx(uo,{href:"/settings/notifications",children:c.jsx(ye,{variant:"outline",size:"sm",className:"rounded-md h-9 px-4 w-full sm:w-auto",children:"Configure"})})})]})})]})}function RH(){var k,D;const{user:t,signOut:e}=rn(),{lastSyncedAt:n,isSyncing:r,syncClassroom:s,isLoading:i}=xs(),{isInstallable:o,isInstalled:a,promptInstall:l}=AH(),{theme:u,setTheme:h}=QA(),[f,m]=p.useState(!0),[v,x]=p.useState("auto"),[y,_]=p.useState(!1),b=((k=t==null?void 0:t.displayName)==null?void 0:k.split(" ").map(O=>O[0]).join("").toUpperCase())||((D=t==null?void 0:t.email)==null?void 0:D[0].toUpperCase())||"U",w=()=>n?n.toLocaleString():"Never",S=async()=>{_(!0);try{await l()}catch(O){console.error("Install failed:",O)}finally{_(!1)}};return c.jsxs("div",{className:"max-w-3xl mx-auto p-4 md:p-6 space-y-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Settings"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your account and preferences"})]}),c.jsxs(NH,{defaultValue:"general",className:"w-full",children:[c.jsxs(JP,{className:"grid w-full grid-cols-2 lg:w-[400px] mb-6",children:[c.jsx(Sy,{value:"general",children:"General"}),c.jsx(Sy,{value:"integrations",children:"Integrations"})]}),c.jsxs(Ty,{value:"general",className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500 fade-in",children:[c.jsxs(vt,{children:[c.jsxs(Xt,{children:[c.jsx(hn,{className:"text-base",children:"Connected Account"}),c.jsx(Ar,{children:"Your Google account linked to this app"})]}),c.jsxs(Yt,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(Gi,{className:"h-12 w-12",children:[c.jsx(Ki,{src:(t==null?void 0:t.photoURL)||void 0,alt:(t==null?void 0:t.displayName)||"User",referrerPolicy:"no-referrer"}),c.jsx(Qi,{children:b})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium truncate",children:t==null?void 0:t.displayName}),c.jsx("p",{className:"text-sm text-muted-foreground truncate",children:t==null?void 0:t.email})]}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[c.jsx(yh,{className:"h-3.5 w-3.5"}),"Connected"]})]}),c.jsx(ir,{}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Google Classroom"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last synced: ",w()]})]}),c.jsxs(ye,{variant:"outline",size:"sm",onClick:O=>{O.preventDefault(),s().catch(T=>{console.error("Sync failed:",T)})},disabled:r,"data-testid":"button-sync-settings",children:[c.jsx(Sf,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),r?"Syncing...":"Sync Now"]})]})]})]}),c.jsxs(vt,{children:[c.jsxs(Xt,{children:[c.jsx(hn,{className:"text-base",children:"Sync Settings"}),c.jsx(Ar,{children:"Configure how your data syncs with Google Classroom"})]}),c.jsx(Yt,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(so,{htmlFor:"background-sync",className:"text-sm font-medium",children:"Background Sync"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically refresh assignment data periodically"})]}),c.jsx(Bn,{id:"background-sync",checked:f,onCheckedChange:m,"data-testid":"switch-background-sync"})]})})]}),c.jsxs(vt,{children:[c.jsxs(Xt,{children:[c.jsx(hn,{className:"text-base",children:"Theme"}),c.jsx(Ar,{children:"Choose your preferred color theme"})]}),c.jsx(Yt,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(so,{htmlFor:"theme",className:"text-sm font-medium",children:"Appearance"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Select light or dark mode"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(ye,{variant:u==="light"?"default":"outline",size:"sm",onClick:()=>h("light"),className:"flex items-center gap-2",children:[c.jsx(bC,{className:"h-4 w-4"}),"Light"]}),c.jsxs(ye,{variant:u==="dark"?"default":"outline",size:"sm",onClick:()=>h("dark"),className:"flex items-center gap-2",children:[c.jsx(xC,{className:"h-4 w-4"}),"Dark"]})]})]})})]}),c.jsxs(vt,{className:"border-primary/20",children:[c.jsxs(Xt,{children:[c.jsxs(hn,{className:"text-base flex items-center gap-2",children:[c.jsx(N1,{className:"h-4 w-4"}),"Install App"]}),c.jsx(Ar,{children:"Install this app on your device for quick access - works on phones and desktops"})]}),c.jsx(Yt,{className:"space-y-4",children:a?c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-emerald-50 dark:bg-emerald-950/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[c.jsx(yh,{className:"h-5 w-5 text-emerald-600"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-emerald-900 dark:text-emerald-100",children:"App Installed"}),c.jsx("p",{className:"text-xs text-emerald-700 dark:text-emerald-300",children:"This app is installed on your device. You can access it from your home screen."})]})]}):o?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 rounded-lg border border-primary/20",children:[c.jsx(g4,{className:"h-5 w-5 text-primary"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium",children:"Install Available"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Click the button below to install this app on your device for a better experience."})]})]}),c.jsxs(ye,{onClick:S,disabled:y,className:"w-full",size:"lg","data-testid":"button-install-app",children:[c.jsx(N1,{className:"h-4 w-4 mr-2"}),y?"Installing...":"Install App"]}),c.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"After installation, you can access the app from your home screen or app drawer"})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[c.jsx(EC,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium",children:"Install Not Available"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:typeof window<"u"&&window.matchMedia("(display-mode: standalone)").matches?"This app is already installed.":"Installation prompt will appear when the app meets PWA requirements. Make sure you're using Chrome, Edge, or Safari on a supported device."})]})]}),c.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[c.jsx("p",{className:"text-xs font-medium mb-2",children:"Manual Installation:"}),c.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1 list-disc list-inside",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Chrome/Edge:"})," Click the install icon in the address bar"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"iOS Safari:"})," Tap Share  Add to Home Screen"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Android Chrome:"})," Tap Menu  Install App"]})]})]})]})})]}),c.jsxs(vt,{children:[c.jsxs(Xt,{children:[c.jsx(hn,{className:"text-base",children:"Preferences"}),c.jsx(Ar,{children:"Customize your experience"})]}),c.jsx(Yt,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(so,{htmlFor:"timezone",className:"text-sm font-medium",children:"Time Zone"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for displaying due dates and deadlines"})]}),c.jsxs(Jh,{value:v,onValueChange:x,children:[c.jsx(Hc,{className:"w-[180px]","data-testid":"select-timezone",children:c.jsx(Zh,{})}),c.jsxs(Wc,{children:[c.jsx(gt,{value:"auto",children:"Auto-detect"}),c.jsx(gt,{value:"America/New_York",children:"Eastern Time"}),c.jsx(gt,{value:"America/Chicago",children:"Central Time"}),c.jsx(gt,{value:"America/Denver",children:"Mountain Time"}),c.jsx(gt,{value:"America/Los_Angeles",children:"Pacific Time"}),c.jsx(gt,{value:"Europe/London",children:"London"}),c.jsx(gt,{value:"Europe/Paris",children:"Paris"}),c.jsx(gt,{value:"Asia/Tokyo",children:"Tokyo"})]})]})]})})]}),c.jsxs(vt,{children:[c.jsxs(Xt,{children:[c.jsxs(hn,{className:"text-base flex items-center gap-2",children:[c.jsx(Mg,{className:"h-4 w-4"}),"Account Actions"]}),c.jsx(Ar,{children:"Manage your session"})]}),c.jsx(Yt,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("p",{className:"text-sm font-medium",children:"Sign Out"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Sign out of your account on this device"})]}),c.jsxs(qk,{children:[c.jsx(Gk,{asChild:!0,children:c.jsxs(ye,{variant:"outline",size:"sm","data-testid":"button-signout",children:[c.jsx(Mg,{className:"h-4 w-4 mr-2"}),"Sign Out"]})}),c.jsxs(H0,{children:[c.jsxs(W0,{children:[c.jsx(G0,{children:"Are you absolutely sure?"}),c.jsx(K0,{children:"This will sign you out of your account. You will need to sign in again to access your data."})]}),c.jsxs(q0,{children:[c.jsx(X0,{children:"Cancel"}),c.jsx(Q0,{onClick:e,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})]})]})})]})]}),c.jsx(Ty,{value:"integrations",className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500 fade-in",children:c.jsx(kH,{})})]})]})}function PH(){const{user:t,requestGmailPermissions:e,accessToken:n}=rn(),{toast:r}=eu(),[s,i]=p.useState(!1),[o,a]=p.useState({dueReminder:!0,missedSubmission:!0,workloadWarning:!1}),[l,u]=p.useState(!1),[h,f]=p.useState(!0);p.useEffect(()=>{async function x(){if(t)try{const y=dt(st,"users",t.uid,"settings","notifications"),_=await Qa(y);if(_.exists()){const b=_.data();i(b.enabled??!1),a(b.config||{dueReminder:!0,missedSubmission:!0,workloadWarning:!1})}}catch(y){console.error("Failed to load settings from Firestore",y)}finally{f(!1)}}x()},[t]),p.useEffect(()=>{async function x(){if(!(!t||h))try{const _=dt(st,"users",t.uid,"settings","notifications");await vn(_,{enabled:s,config:o,updatedAt:new Date().toISOString()},{merge:!0})}catch(_){console.error("Failed to save settings",_)}}const y=setTimeout(x,1e3);return()=>clearTimeout(y)},[s,o,t,h]);const m=async()=>{u(!0);try{if(await e()){if(i(!0),r({title:"Email alerts enabled",description:"Trace can now send you academic reminders."}),t!=null&&t.uid){const y={id:`email-${Date.now()}`,title:"Assignment due reminder email sent",body:"This is a test alert to confirm your notifications are working.",timestamp:new Date().toISOString(),type:"email"},_=`trace_email_events_${t.uid}`,b=JSON.parse(localStorage.getItem(_)||"[]");localStorage.setItem(_,JSON.stringify([...b,y]))}}else r({title:"Connection failed",description:"Could not connect to Gmail. Please try again.",variant:"destructive"})}catch(x){console.error(x),r({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{u(!1)}},v=x=>{a(y=>({...y,[x]:!y[x]}))};return c.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(uo,{href:"/settings",children:c.jsx(ye,{variant:"ghost",size:"icon",className:"rounded-full",children:c.jsx(gC,{className:"h-5 w-5"})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Notifications"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage how Trace notifies you about academic activity"})]})]}),c.jsxs(vt,{className:"border-border shadow-sm",children:[c.jsxs(Xt,{className:"pb-4",children:[c.jsxs(hn,{className:"flex items-center gap-2 text-lg",children:[c.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-md",children:c.jsx(Av,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"Academic Email Alerts"]}),c.jsxs(Ar,{className:"max-w-lg mt-2 leading-relaxed",children:["Trace can send you helpful academic reminders directly to your connected Gmail account (",t==null?void 0:t.email,")."]})]}),c.jsx(ir,{}),c.jsxs(Yt,{className:"pt-6 space-y-6",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(so,{className:"text-base font-medium",children:"Assignment due reminder"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Get an email 24 hours before an assignment is due"})]}),c.jsx(Bn,{checked:o.dueReminder,onCheckedChange:()=>v("dueReminder"),disabled:!s,className:"data-[state=checked]:bg-blue-600"})]}),c.jsx(ir,{className:"opacity-50"}),c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(so,{className:"text-base font-medium",children:"Missed submission alert"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive a notification immediately when a deadline is missed"})]}),c.jsx(Bn,{checked:o.missedSubmission,onCheckedChange:()=>v("missedSubmission"),disabled:!s,className:"data-[state=checked]:bg-blue-600"})]}),c.jsx(ir,{className:"opacity-50"}),c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(so,{className:"text-base font-medium",children:"Heavy workload warning"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Be notified when you have more than 3 assignments due in a week"})]}),c.jsx(Bn,{checked:o.workloadWarning,onCheckedChange:()=>v("workloadWarning"),disabled:!s,className:"data-[state=checked]:bg-blue-600"})]})]}),c.jsxs(PR,{className:"flex flex-col items-start gap-4 pt-2 pb-6 bg-muted/20 border-t",children:[s?c.jsxs("div",{className:"w-full space-y-4",children:[c.jsxs("div",{className:"flex gap-3 p-3 text-sm text-emerald-600 dark:text-emerald-500 bg-emerald-50 dark:bg-emerald-900/10 rounded border border-emerald-200 dark:border-emerald-800/30 items-center",children:[c.jsx(Ma,{className:"h-4 w-4 shrink-0"}),c.jsx("p",{children:"Academic alerts are active."})]}),c.jsx(ye,{variant:"outline",onClick:()=>i(!1),className:"text-muted-foreground hover:text-foreground",children:"Disable Alerts"})]}):c.jsxs("div",{className:"w-full space-y-4",children:[c.jsxs("div",{className:"flex gap-3 p-3 text-sm text-amber-600 dark:text-amber-500 bg-amber-50 dark:bg-amber-900/10 rounded border border-amber-200 dark:border-amber-800/30 items-start",children:[c.jsx(EC,{className:"h-4 w-4 shrink-0 mt-0.5"}),c.jsx("p",{children:"Alerts are currently disabled. You need to grant Trace permission to send emails on your behalf."})]}),c.jsxs(ye,{onClick:m,disabled:l,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white",children:[l&&c.jsx(La,{className:"mr-2 h-4 w-4 animate-spin"}),"Connect Gmail & Enable Alerts"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Emails are sent only after your consent and can be disabled anytime. We do not read your inbox."})]})]})]})}function DH(){const[t,e]=bv(),{user:n,requestCalendarPermissions:r}=rn(),{toast:s}=eu(),[i,o]=p.useState(!0),[a,l]=p.useState(!1),[u,h]=p.useState({enabled:!1,syncAssignments:!0,syncExams:!0,syncPersonal:!1});p.useEffect(()=>{if(!n)return;const x=ul(dt(st,"users",n.uid,"settings","calendar"),y=>{y.exists()&&h(y.data()),o(!1)});return()=>x()},[n]);const f=async()=>{l(!0);try{await r()?(await vn(dt(st,"users",n.uid,"settings","calendar"),{...u,enabled:!0,connectedAt:new Date},{merge:!0}),s({title:"Connected to Google Calendar",description:"Your deadlines will now sync automatically."})):s({title:"Connection Failed",description:"Could not authorize Google Calendar access.",variant:"destructive"})}catch(x){console.error(x),s({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{l(!1)}},m=async()=>{try{await vn(dt(st,"users",n.uid,"settings","calendar"),{enabled:!1},{merge:!0}),s({title:"Disconnected",description:"Calendar sync has been disabled."})}catch(x){console.error(x)}},v=async(x,y)=>{h(_=>({..._,[x]:y}));try{await vn(dt(st,"users",n.uid,"settings","calendar"),{[x]:y},{merge:!0})}catch(_){console.error(_)}};return i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx(La,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):c.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>e("/settings"),children:c.jsx(e4,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Integrations"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage external tools and connections"})]})]}),c.jsxs("div",{className:"grid gap-6",children:[c.jsxs(vt,{className:`border-l-4 ${u.enabled?"border-l-blue-500":"border-l-zinc-200 dark:border-l-zinc-800"}`,children:[c.jsxs(Xt,{className:"flex flex-row items-start justify-between pb-2",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-50 dark:bg-blue-950/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:c.jsx(So,{className:"h-6 w-6"})}),c.jsx(hn,{className:"text-xl",children:"Google Calendar"}),u.enabled&&c.jsx(Ao,{variant:"secondary",className:"bg-blue-50 text-blue-700 hover:bg-blue-50 dark:bg-blue-950 dark:text-blue-300 border-blue-200 dark:border-blue-800",children:"Active"})]}),c.jsx(Ar,{className:"max-w-md text-base mt-2 leading-relaxed",children:"Automatically sync Google Classroom deadlines and tasks from Trace to your Google Calendar."})]}),u.enabled?c.jsx(ye,{variant:"outline",size:"sm",onClick:m,className:"text-muted-foreground hover:text-destructive",children:"Disconnect"}):c.jsx(ye,{onClick:f,disabled:a,className:"bg-blue-600 hover:bg-blue-700 text-white shadow-sm transition-all",children:a?c.jsx(La,{className:"h-4 w-4 mr-2 animate-spin"}):"Connect Google Calendar"})]}),u.enabled&&c.jsxs(Yt,{className:"pt-6 animate-in slide-in-from-top-4 duration-300 fading-in",children:[c.jsx(ir,{className:"mb-6"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid gap-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card/50 hover:bg-accent/5 transition-colors",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Assignment Deadlines"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Sync due dates from Google Classroom"})]}),c.jsx(Bn,{checked:u.syncAssignments,onCheckedChange:x=>v("syncAssignments",x)})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card/50 hover:bg-accent/5 transition-colors",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Exams & Major Assessments"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Highlight important dates"})]}),c.jsx(Bn,{checked:u.syncExams,onCheckedChange:x=>v("syncExams",x)})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card/50 hover:bg-accent/5 transition-colors opacity-80",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Personal Tasks"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Sync tasks created manually in Trace"})]}),c.jsx(Bn,{checked:u.syncPersonal,onCheckedChange:x=>v("syncPersonal",x)})]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-muted/30 p-2 rounded w-fit",children:[c.jsx(Sf,{className:"h-3 w-3"}),c.jsxs("span",{children:["Last synced: ",u.lastSyncedAt?new Date(u.lastSyncedAt.seconds*1e3).toLocaleString():"Pending..."]})]})]})]})]}),c.jsx(jH,{})]})]})}function jH(){const{user:t,requestGmailPermissions:e}=rn(),{toast:n}=eu(),[r,s]=p.useState(!1),[i,o]=p.useState({enabled:!1,notifyOverdue:!0,notifyDueSoon:!0});p.useEffect(()=>{if(!t)return;const h=ul(dt(st,"users",t.uid,"settings","notifications"),f=>{f.exists()&&o(f.data())});return()=>h()},[t]);const a=async()=>{s(!0);try{await e()?(await vn(dt(st,"users",t.uid,"settings","notifications"),{...i,enabled:!0,connectedAt:new Date},{merge:!0}),n({title:"Connected to Gmail",description:"You will now receive email notifications for important updates."})):n({title:"Connection Failed",description:"Could not authorize Gmail access.",variant:"destructive"})}catch(h){console.error(h)}finally{s(!1)}},l=async()=>{try{await vn(dt(st,"users",t.uid,"settings","notifications"),{enabled:!1},{merge:!0}),n({title:"Disconnected",description:"Email notifications disabled."})}catch(h){console.error(h)}},u=async(h,f)=>{o(m=>({...m,[h]:f}));try{await vn(dt(st,"users",t.uid,"settings","notifications"),{[h]:f},{merge:!0})}catch(m){console.error(m)}};return c.jsxs(vt,{className:`border-l-4 ${i.enabled?"border-l-orange-500":"border-l-zinc-200 dark:border-l-zinc-800"}`,children:[c.jsxs(Xt,{className:"flex flex-row items-start justify-between pb-2",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-10 w-10 rounded-lg bg-orange-50 dark:bg-orange-950/30 flex items-center justify-center text-orange-600 dark:text-orange-400",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-mail h-6 w-6",children:[c.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),c.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})}),c.jsx(hn,{className:"text-xl",children:"Email Notifications"}),i.enabled&&c.jsx(Ao,{variant:"secondary",className:"bg-orange-50 text-orange-700 hover:bg-orange-50 dark:bg-orange-950 dark:text-orange-300 border-orange-200 dark:border-orange-800",children:"Active"})]}),c.jsx(Ar,{className:"max-w-md text-base mt-2 leading-relaxed",children:"Get automated email summaries for upcoming deadlines and overdue assignments directly to your Gmail."})]}),i.enabled?c.jsx(ye,{variant:"outline",size:"sm",onClick:l,className:"text-muted-foreground hover:text-destructive",children:"Disconnect"}):c.jsx(ye,{onClick:a,disabled:r,className:"bg-orange-600 hover:bg-orange-700 text-white shadow-sm transition-all",children:r?c.jsx(La,{className:"h-4 w-4 mr-2 animate-spin"}):"Enable Notifications"})]}),i.enabled&&c.jsxs(Yt,{className:"pt-6 animate-in slide-in-from-top-4 duration-300 fading-in",children:[c.jsx(ir,{className:"mb-6"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card/50 hover:bg-accent/5 transition-colors",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("label",{className:"text-sm font-medium leading-none",children:"Overdue Alerts"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Notify me when assignments follow behind"})]}),c.jsx(Bn,{checked:i.notifyOverdue,onCheckedChange:h=>u("notifyOverdue",h)})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card/50 hover:bg-accent/5 transition-colors",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("label",{className:"text-sm font-medium leading-none",children:"Daily Digest"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Send a summary of tasks due soon"})]}),c.jsx(Bn,{checked:i.notifyDueSoon,onCheckedChange:h=>u("notifyDueSoon",h)})]})]})]})]})}var mw="Progress",gw=100,[OH,aW]=qn(mw),[MH,LH]=OH(mw),ZP=p.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=VH,...o}=t;(s||s===0)&&!Xb(s)&&console.error(FH(`${s}`,"Progress"));const a=Xb(s)?s:gw;r!==null&&!Yb(r,a)&&console.error(UH(`${r}`,"Progress"));const l=Yb(r,a)?r:null,u=ef(l)?i(l,a):void 0;return c.jsx(MH,{scope:n,value:l,max:a,children:c.jsx(ve.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":ef(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":n2(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});ZP.displayName=mw;var e2="ProgressIndicator",t2=p.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=LH(e2,n);return c.jsx(ve.div,{"data-state":n2(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});t2.displayName=e2;function VH(t,e){return`${Math.round(t/e*100)}%`}function n2(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function ef(t){return typeof t=="number"}function Xb(t){return ef(t)&&!isNaN(t)&&t>0}function Yb(t,e){return ef(t)&&!isNaN(t)&&t<=e&&t>=0}function FH(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${gw}\`.`}function UH(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${gw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var r2=ZP,zH=t2;const s2=p.forwardRef(({className:t,value:e,...n},r)=>c.jsx(r2,{ref:r,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:c.jsx(zH,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));s2.displayName=r2.displayName;function $H(){var C,I,A,R,j,P;const{user:t,signOut:e}=rn(),{courses:n,assignments:r,isLoading:s}=xs(),[i,o]=p.useState("class"),[a,l]=p.useState([]),[u,h]=p.useState(!1),[f,m]=p.useState(!0),[v,x]=p.useState(!1),[y,_]=p.useState(0),[b,w]=p.useState("Initializing...");p.useEffect(()=>{h(!0);const z=Array.from(new Set(["all-courses",...n.map(L=>L.id)])),re=[],U=new Map,q=()=>{const L=[],M=t!=null&&t.email?t.email.split("@")[1]:null,$=n.map(Q=>Q.id),B=new Set(r.map(Q=>Q.id));U.forEach(Q=>{const X=Q.email||"",Z=Q.emailDomain||(X.includes("@")?X.split("@")[1]:""),de=Q.enrolledCourseIds||[],se=Q.processedAssignmentIds||[],W=M&&Z&&M===Z,ee=$.some(Ae=>de.includes(Ae)),fe=!Z,ne=fe&&se.some(Ae=>B.has(Ae));let ce=!1;i==="college"?ce=W||fe&&(ee||ne):ce=W&&ee||ne,ce&&L.push(Q)}),L.sort((Q,X)=>X.totalXP-Q.totalXP),l(L),h(!1)};return z.forEach(L=>{const M=E0(st,"leaderboards",L,"students"),$=A0(M,k0("totalXP","desc"),zA(50)),B=ul($,Q=>{Q.forEach(X=>{const Z=X.data(),de={id:X.id,displayName:Z.displayName||Z.name||"Anonymous",photoUrl:Z.photoUrl||Z.avatar||"",totalXP:Z.totalXP||Z.xp||0,processedAssignmentIds:Z.processedAssignmentIds||Z.completedTasks||[],email:Z.email||"",emailDomain:Z.emailDomain||(Z.email?Z.email.split("@")[1]:""),enrolledCourseIds:Z.enrolledCourseIds||Z.subjects||[]},se=U.get(X.id);(!se||de.totalXP>=se.totalXP)&&U.set(X.id,de)}),q()});re.push(B)}),()=>{re.forEach(L=>L())}},[i,t,n,r]);const S=async()=>{if(!t)return;x(!0),_(5),w("Fetching historical classroom data...");const z=r;_(20),w(`Scanning ${z.length} past assignments...`);let re=0;const U=[],q=M=>new Promise($=>setTimeout($,M));let L=0;for(const M of z)if(L++,L%5===0&&(_(20+L/z.length*60),await q(10)),M.userStatus==="submitted"||M.systemStatus==="submitted"||M.systemStatus==="graded"){if(re+=100,M.submittedAt&&M.dueDate){const B=new Date(M.submittedAt).getTime();(new Date(M.dueDate).getTime()-B)/(1e3*60*60)>48&&(re+=50)}U.push(M.id)}_(90),w("Syncing to leaderboard...");try{const M=dt(st,"leaderboards","all-courses","students",t.uid),$=t.email||"",B=$.includes("@")?$.split("@")[1]:"",Q=n.map(X=>X.id);await vn(M,{displayName:t.displayName||"Anonymous",photoUrl:t.photoURL||"",email:$,emailDomain:B,enrolledCourseIds:Q,totalXP:re,processedAssignmentIds:U,lastSyncedAt:op()},{merge:!0}),_(100),w("Synchronization Complete!"),await q(500)}catch(M){console.error("Sync Failed",M),w("Sync Failed. Please try again.")}finally{x(!1)}},k=i==="class"?"My Class":"My College",D=a.find(z=>z.id===(t==null?void 0:t.uid)),O=(D==null?void 0:D.totalXP)||0,T=!!D&&O>0;return!s&&n.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-4rem)] gap-4 p-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx(Nn,{className:"h-12 w-12 mx-auto text-destructive"}),c.jsx("h2",{className:"text-lg font-medium text-destructive",children:"Troubleshooting"}),c.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"It seems data isn't fetching correctly. Please log out and log in again to resolve this."})]}),c.jsx(ye,{onClick:()=>e(),variant:"destructive",className:"px-4 py-2",children:"Log Out"})]}):c.jsxs("div",{className:"flex flex-col h-full bg-background text-foreground font-sans selection:bg-muted",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 sm:p-6 gap-4 sm:gap-0 border-b border-border bg-background/95 backdrop-blur-sm sticky top-0 z-10",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("h1",{className:"text-xl sm:text-2xl font-medium tracking-tight text-foreground",children:"Class Ranking"}),c.jsxs("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-widest truncate max-w-[200px] sm:max-w-none",children:[k," Leaderboard"]})]}),c.jsx("div",{className:"w-full sm:w-[200px]",children:c.jsxs(Jh,{value:i,onValueChange:z=>o(z),children:[c.jsx(Hc,{className:"w-full bg-background border-border hover:bg-muted/50 text-foreground h-9 rounded-full px-4 text-xs font-medium focus:ring-ring",children:c.jsx(Zh,{placeholder:"Select View"})}),c.jsxs(Wc,{children:[c.jsx(gt,{value:"class",className:"font-semibold text-xs py-2",children:"My Class"}),c.jsx(gt,{value:"college",className:"font-semibold text-xs py-2",children:"This College"})]})]})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 sm:space-y-8",children:[f&&c.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary/5 via-primary/5 to-transparent rounded-xl border border-primary/10 p-4 sm:p-5 flex flex-col sm:flex-row gap-3 sm:gap-5 text-sm animate-in fade-in slide-in-from-top-2 shadow-sm",children:[c.jsx("div",{className:"absolute top-0 right-0 p-2 sm:p-3",children:c.jsx(ye,{variant:"ghost",size:"icon",className:"h-6 w-6 sm:h-8 sm:w-8 text-muted-foreground/50 hover:text-foreground hover:bg-primary/10 rounded-full transition-colors",onClick:()=>m(!1),children:c.jsx(su,{className:"h-3 w-3 sm:h-4 sm:w-4"})})}),c.jsx("div",{className:"bg-background/60 backdrop-blur-md p-2.5 sm:p-3 rounded-2xl h-fit w-fit border border-primary/20 shadow-sm shrink-0 sm:mt-1 ring-4 ring-primary/5",children:c.jsx(i4,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),c.jsxs("div",{className:"space-y-3 pt-0.5 pr-4 sm:pr-10",children:[c.jsx("h4",{className:"font-bold text-foreground leading-none tracking-tight text-sm sm:text-base",children:"How to earn XP & Rank Up"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-12 gap-y-3 text-muted-foreground text-xs sm:text-sm",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-primary shrink-0 shadow-[0_0_8px_currentColor]"}),c.jsxs("span",{className:"leading-snug",children:["Complete assignments to earn"," ",c.jsx("br",{className:"hidden sm:block"}),c.jsx("span",{className:"font-bold text-foreground",children:"100 XP"})," ","instantly."]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-amber-500 shrink-0 shadow-[0_0_8px_currentColor]"}),c.jsxs("span",{className:"leading-snug",children:["Submit"," ",c.jsx("span",{className:"font-medium text-foreground",children:"48h early"})," ","for a ",c.jsx("br",{className:"hidden sm:block"}),c.jsx("span",{className:"font-bold text-amber-600 dark:text-amber-400",children:"50 XP Speed Bonus"}),"."]})]})]})]})]}),!T&&!u||v?c.jsx("div",{className:"bg-muted/30 border border-border border-dashed rounded-xl p-6 sm:p-8 text-center animate-in fade-in slide-in-from-bottom-2",children:v?c.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs font-mono uppercase text-muted-foreground",children:[c.jsx("span",{children:b}),c.jsxs("span",{children:[Math.round(y),"%"]})]}),c.jsx(s2,{value:y,className:"h-2"})]}):c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-full flex items-center justify-center",children:c.jsx(h4,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("h3",{className:"text-lg font-medium",children:"No Score Detected"}),c.jsx("p",{className:"text-sm text-muted-foreground max-w-[280px] sm:max-w-sm mx-auto",children:"Calculate your XP based on all your past submitted assignments to join the leaderboard."})]}),c.jsx(ye,{onClick:S,size:"lg",className:"mt-2 font-semibold w-full sm:w-auto",children:"Calculate My Archive Score"})]})}):null,u&&a.length===0?c.jsx("div",{className:"space-y-4",children:[1,2,3].map(z=>c.jsx("div",{className:"h-16 w-full bg-muted/50 rounded-xl animate-pulse"},z))}):a.length===0&&!v?c.jsx("div",{className:"flex flex-col items-center justify-center py-10",children:c.jsx("p",{className:"text-muted-foreground text-sm",children:"Waiting for players..."})}):c.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[a.length>0&&c.jsxs("div",{className:J("flex justify-center items-end gap-2 sm:gap-8 pb-4 px-0 sm:px-2 transition-all duration-500 ease-in-out",f?"pt-6 sm:pt-8":"pt-16 sm:pt-24"),children:[c.jsx("div",{className:"flex flex-col items-center gap-2 order-1 w-1/3 sm:w-32 max-w-[100px]",children:a[1]?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"relative",children:[c.jsxs(Gi,{className:"h-14 w-14 sm:h-20 sm:w-20 border-4 border-background ring-2 ring-zinc-300 shadow-xl",children:[c.jsx(Ki,{src:a[1].photoUrl}),c.jsx(Qi,{className:"text-lg bg-zinc-100 text-zinc-500",children:(I=(C=a[1].displayName)==null?void 0:C[0])==null?void 0:I.toUpperCase()})]}),c.jsx("div",{className:"absolute -bottom-2.5 left-1/2 -translate-x-1/2 bg-zinc-500 text-white text-[10px] sm:text-xs font-bold w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center rounded-full border-2 border-background shadow-sm",children:"2"})]}),c.jsxs("div",{className:"text-center mt-1.5 sm:mt-2 space-y-0.5 w-full",children:[c.jsx("p",{className:"font-semibold text-xs sm:text-sm truncate w-full px-1",children:a[1].displayName}),c.jsxs("p",{className:"text-[10px] sm:text-xs text-primary font-bold",children:[a[1].totalXP.toLocaleString()," XP"]})]})]}):c.jsx("div",{className:"w-full"})}),c.jsxs("div",{className:"flex flex-col items-center gap-2 order-2 w-1/3 sm:w-40 max-w-[120px] -mt-6 sm:-mt-8 z-10",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute -top-6 sm:-top-8 left-1/2 -translate-x-1/2 animate-bounce duration-[2000ms]",children:c.jsx(r4,{className:"fill-yellow-400 text-yellow-500 h-6 w-6 sm:h-8 sm:w-8 drop-shadow-sm"})}),c.jsxs(Gi,{className:"h-20 w-20 sm:h-28 sm:w-28 border-4 border-background ring-4 ring-yellow-400 shadow-2xl",children:[c.jsx(Ki,{src:a[0].photoUrl}),c.jsx(Qi,{className:"text-2xl bg-yellow-50 text-yellow-600",children:(R=(A=a[0].displayName)==null?void 0:A[0])==null?void 0:R.toUpperCase()})]}),c.jsx("div",{className:"absolute -bottom-3 left-1/2 -translate-x-1/2 bg-yellow-400 text-yellow-950 text-xs sm:text-sm font-bold w-6 h-6 sm:w-8 sm:h-8 flex items-center justify-center rounded-full border-2 border-background shadow-sm",children:"1"})]}),c.jsxs("div",{className:"text-center mt-2 sm:mt-3 space-y-0.5 w-full",children:[c.jsx("p",{className:"font-bold text-sm sm:text-base truncate w-full px-1",children:a[0].displayName}),c.jsxs("p",{className:"text-xs sm:text-sm text-primary font-black",children:[a[0].totalXP.toLocaleString()," XP"]})]})]}),c.jsx("div",{className:"flex flex-col items-center gap-2 order-3 w-1/3 sm:w-32 max-w-[100px]",children:a[2]?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"relative",children:[c.jsxs(Gi,{className:"h-14 w-14 sm:h-20 sm:w-20 border-4 border-background ring-2 ring-amber-700/50 shadow-xl",children:[c.jsx(Ki,{src:a[2].photoUrl}),c.jsx(Qi,{className:"text-lg bg-amber-50 text-amber-700",children:(P=(j=a[2].displayName)==null?void 0:j[0])==null?void 0:P.toUpperCase()})]}),c.jsx("div",{className:"absolute -bottom-2.5 left-1/2 -translate-x-1/2 bg-amber-700 text-amber-50 text-[10px] sm:text-xs font-bold w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center rounded-full border-2 border-background shadow-sm",children:"3"})]}),c.jsxs("div",{className:"text-center mt-1.5 sm:mt-2 space-y-0.5 w-full",children:[c.jsx("p",{className:"font-semibold text-xs sm:text-sm truncate w-full px-1",children:a[2].displayName}),c.jsxs("p",{className:"text-[10px] sm:text-xs text-primary font-bold",children:[a[2].totalXP.toLocaleString()," XP"]})]})]}):c.jsx("div",{className:"w-full"})})]}),c.jsx("div",{className:"flex flex-col space-y-2",children:a.slice(3).map((z,re)=>{var L,M;const U=z.id===(t==null?void 0:t.uid),q=re+4;return c.jsxs("div",{className:J("flex items-center p-3 sm:p-4 rounded-xl border transition-all duration-200 group",U?"bg-primary/5 border-primary/20 shadow-sm":"bg-card border-border hover:bg-muted/30 hover:border-border"),children:[c.jsx("div",{className:"w-8 sm:w-12 flex-shrink-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-muted-foreground font-mono text-xs sm:text-sm font-medium",children:["#",q]})}),c.jsxs("div",{className:"flex items-center flex-1 gap-3 sm:gap-4 overflow-hidden",children:[c.jsxs(Gi,{className:J("h-8 w-8 sm:h-10 sm:w-10 border flex-shrink-0",U?"border-primary/20":"border-border"),children:[c.jsx(Ki,{src:z.photoUrl}),c.jsx(Qi,{className:"text-[10px] sm:text-xs bg-muted text-muted-foreground",children:(M=(L=z.displayName)==null?void 0:L[0])==null?void 0:M.toUpperCase()})]}),c.jsxs("div",{className:"flex flex-col min-w-0",children:[c.jsxs("span",{className:J("text-xs sm:text-sm font-medium truncate",U?"text-primary":"text-foreground"),children:[z.displayName," ",U&&c.jsx("span",{className:"text-muted-foreground text-[10px] sm:text-xs font-normal ml-1 sm:ml-2",children:"(You)"})]}),c.jsxs("span",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:[z.processedAssignmentIds.length," ",c.jsx("span",{className:"hidden sm:inline",children:"missions"})]})]})]}),c.jsxs("div",{className:"text-right pl-2 sm:px-4 flex-shrink-0",children:[c.jsx("span",{className:"text-sm sm:text-lg font-mono font-medium text-foreground tracking-tight",children:z.totalXP.toLocaleString()}),c.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground ml-0.5 sm:ml-1",children:"XP"})]})]},z.id)})})]})]})})]})}function BH(){return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:c.jsx(vt,{className:"w-full max-w-md mx-4",children:c.jsxs(Yt,{className:"pt-6",children:[c.jsxs("div",{className:"flex mb-4 gap-2",children:[c.jsx(Nn,{className:"h-8 w-8 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Jb=["Use the Timeline view to visualize your deadlines chronologically.","Check the Leaderboard to compare your progress with peers.","Assignments due in less than 3 days show up in your 'Warning' card.","Syncing refreshes your data directly from Google Classroom.","Complete assignments early to earn speed bonuses!","Review the 'Next Actions' list to prioritize your day.","Drag and drop tasks in the Pipeline to manage your workflow.","Stay consistent! Daily progress builds your streak and XP."];function i2({children:t,message:e="Loading Workspace"}){const[n,r]=p.useState(10),[s,i]=p.useState(0);return p.useEffect(()=>{const o=setInterval(()=>{r(l=>{if(l>=100)return 100;const u=Math.random()*15;return Math.min(l+u,90)})},400),a=setInterval(()=>{i(l=>(l+1)%Jb.length)},3e3);return()=>{clearInterval(o),clearInterval(a)}},[]),c.jsxs("div",{className:"relative h-full w-full bg-background overflow-hidden flex flex-col",children:[t&&c.jsx("div",{className:"absolute inset-0 opacity-30 pointer-events-none select-none filter blur-[2px] scale-[0.98]",children:t}),c.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-background/40 backdrop-blur-sm",children:c.jsxs("div",{className:"w-full max-w-sm mx-auto p-6 flex flex-col gap-8 animate-in fade-in zoom-in-95 duration-500",children:[c.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-xl rounded-full animate-pulse"}),c.jsx("div",{className:"h-14 w-14 bg-background border border-border shadow-xl rounded-2xl flex items-center justify-center relative z-10 group",children:c.jsx(La,{className:"h-7 w-7 text-primary animate-spin"})}),c.jsx("div",{className:"absolute -right-2 -top-2 z-20",children:c.jsx(y4,{className:"h-5 w-5 text-yellow-500 animate-bounce delay-75"})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("h2",{className:"text-xl font-bold tracking-tight text-foreground",children:e}),c.jsx("p",{className:"text-xs text-muted-foreground font-mono uppercase tracking-widest",children:"Student Sphere Is Ready"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-1.5 w-full bg-muted/50 rounded-full overflow-hidden backdrop-blur-sm border border-border/50",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-primary/80 via-primary to-indigo-500 transition-all duration-500 ease-out relative",style:{width:`${n}%`},children:c.jsx("div",{className:"absolute inset-0 bg-white/20 animate-[shimmer_1s_infinite]"})})}),c.jsxs("div",{className:"flex justify-between text-[10px] font-medium text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(QM,{className:"h-3 w-3"})," Optimizing"]}),c.jsxs("span",{children:[Math.round(n),"%"]})]})]}),c.jsxs("div",{className:"relative overflow-hidden group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-indigo-500/5 rounded-xl border border-primary/10 transition-all duration-500 group-hover:border-primary/20"}),c.jsxs("div",{className:"relative p-4 flex gap-3.5 items-start",children:[c.jsx("div",{className:"mt-0.5 p-1.5 bg-background/80 rounded-lg shadow-sm border border-border/50 shrink-0",children:c.jsx(d4,{className:"h-4 w-4 text-primary"})}),c.jsxs("div",{className:"space-y-1 pt-0.5",children:[c.jsx("span",{className:"text-[10px] font-bold text-primary uppercase tracking-wider flex items-center gap-1",children:"Pro Tip"}),c.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed transition-all duration-300 min-h-[40px]",children:Jb[s]})]})]})]})]})})]})}const HH=()=>"/";function WH(){const[t,e]=p.useState(!1),{isLoading:n}=xs(),r=HH();return n?c.jsx(i2,{message:"Setting up your workspace..."}):c.jsx(PT,{base:r,children:c.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[c.jsx(e7,{mobileOpen:t,onMobileClose:()=>e(!1)}),c.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[c.jsx(t7,{onMobileMenuClick:()=>e(!0)}),c.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden relative scroll-smooth",children:c.jsxs(SO,{children:[c.jsx(Wr,{path:"/",component:xB}),c.jsx(Wr,{path:"/leaderboard",component:$H}),c.jsx(Wr,{path:"/timeline",component:eH}),c.jsx(Wr,{path:"/dashboard",component:rH}),c.jsx(Wr,{path:"/notes",component:sH}),c.jsx(Wr,{path:"/settings",component:RH}),c.jsx(Wr,{path:"/settings/notifications",component:PH}),c.jsx(Wr,{path:"/settings/integrations",component:DH}),c.jsx(Wr,{component:BH})]})})]})]})})}function qH(){const{user:t,loading:e}=rn();return e?c.jsx(i2,{message:"Authenticating..."}):t?c.jsx(Rz,{children:c.jsx(WH,{})}):c.jsx(h7,{})}function GH(){return c.jsx(KO,{client:YO,children:c.jsx(Ez,{children:c.jsx(bz,{children:c.jsxs(pI,{children:[c.jsx(eL,{}),c.jsx(qH,{})]})})})})}_T(document.getElementById("root")).render(c.jsx(GH,{}));
