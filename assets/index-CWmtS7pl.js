var gw=t=>{throw TypeError(t)};var np=(t,e,n)=>e.has(t)||gw("Cannot "+n);var H=(t,e,n)=>(np(t,e,"read from private field"),n?n.call(t):e.get(t)),De=(t,e,n)=>e.has(t)?gw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),_e=(t,e,n,r)=>(np(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Lt=(t,e,n)=>(np(t,e,"access private method"),n);var _u=(t,e,n,r)=>({set _(s){_e(t,e,s,n)},get _(){return H(t,e,r)}});function sP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function _E(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EE={exports:{}},Mh={},SE={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jc=Symbol.for("react.element"),iP=Symbol.for("react.portal"),oP=Symbol.for("react.fragment"),aP=Symbol.for("react.strict_mode"),lP=Symbol.for("react.profiler"),cP=Symbol.for("react.provider"),uP=Symbol.for("react.context"),dP=Symbol.for("react.forward_ref"),hP=Symbol.for("react.suspense"),fP=Symbol.for("react.memo"),pP=Symbol.for("react.lazy"),yw=Symbol.iterator;function mP(t){return t===null||typeof t!="object"?null:(t=yw&&t[yw]||t["@@iterator"],typeof t=="function"?t:null)}var bE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TE=Object.assign,CE={};function ja(t,e,n){this.props=t,this.context=e,this.refs=CE,this.updater=n||bE}ja.prototype.isReactComponent={};ja.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ja.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function IE(){}IE.prototype=ja.prototype;function Yg(t,e,n){this.props=t,this.context=e,this.refs=CE,this.updater=n||bE}var Xg=Yg.prototype=new IE;Xg.constructor=Yg;TE(Xg,ja.prototype);Xg.isPureReactComponent=!0;var vw=Array.isArray,AE=Object.prototype.hasOwnProperty,Jg={current:null},NE={key:!0,ref:!0,__self:!0,__source:!0};function kE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)AE.call(e,r)&&!NE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:jc,type:t,key:i,ref:o,props:s,_owner:Jg.current}}function gP(t,e){return{$$typeof:jc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zg(t){return typeof t=="object"&&t!==null&&t.$$typeof===jc}function yP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ww=/\/+/g;function rp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yP(""+t.key):e.toString(36)}function rd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case jc:case iP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+rp(o,0):r,vw(s)?(n="",t!=null&&(n=t.replace(ww,"$&/")+"/"),rd(s,e,n,"",function(d){return d})):s!=null&&(Zg(s)&&(s=gP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ww,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",vw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+rp(i,a);o+=rd(i,e,n,l,s)}else if(l=mP(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+rp(i,a++),o+=rd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Eu(t,e,n){if(t==null)return t;var r=[],s=0;return rd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function vP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jt={current:null},sd={transition:null},wP={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:sd,ReactCurrentOwner:Jg};function RE(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Eu,forEach:function(t,e,n){Eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eu(t,function(){e++}),e},toArray:function(t){return Eu(t,function(e){return e})||[]},only:function(t){if(!Zg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=ja;be.Fragment=oP;be.Profiler=lP;be.PureComponent=Yg;be.StrictMode=aP;be.Suspense=hP;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wP;be.act=RE;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=TE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Jg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)AE.call(e,l)&&!NE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:jc,type:t.type,key:s,ref:i,props:r,_owner:o}};be.createContext=function(t){return t={$$typeof:uP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cP,_context:t},t.Consumer=t};be.createElement=kE;be.createFactory=function(t){var e=kE.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:dP,render:t}};be.isValidElement=Zg;be.lazy=function(t){return{$$typeof:pP,_payload:{_status:-1,_result:t},_init:vP}};be.memo=function(t,e){return{$$typeof:fP,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=sd.transition;sd.transition={};try{t()}finally{sd.transition=e}};be.unstable_act=RE;be.useCallback=function(t,e){return Jt.current.useCallback(t,e)};be.useContext=function(t){return Jt.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return Jt.current.useDeferredValue(t)};be.useEffect=function(t,e){return Jt.current.useEffect(t,e)};be.useId=function(){return Jt.current.useId()};be.useImperativeHandle=function(t,e,n){return Jt.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return Jt.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return Jt.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return Jt.current.useMemo(t,e)};be.useReducer=function(t,e,n){return Jt.current.useReducer(t,e,n)};be.useRef=function(t){return Jt.current.useRef(t)};be.useState=function(t){return Jt.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return Jt.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return Jt.current.useTransition()};be.version="18.3.1";SE.exports=be;var p=SE.exports;const Se=_E(p),PE=sP({__proto__:null,default:Se},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP=p,_P=Symbol.for("react.element"),EP=Symbol.for("react.fragment"),SP=Object.prototype.hasOwnProperty,bP=xP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TP={key:!0,ref:!0,__self:!0,__source:!0};function DE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)SP.call(e,r)&&!TP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_P,type:t,key:i,ref:o,props:s,_owner:bP.current}}Mh.Fragment=EP;Mh.jsx=DE;Mh.jsxs=DE;EE.exports=Mh;var u=EE.exports,jE={exports:{}},Tn={},OE={exports:{}},ME={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,L){var U=M.length;M.push(L);e:for(;0<U;){var Q=U-1>>>1,q=M[Q];if(0<s(q,L))M[Q]=L,M[U]=q,U=Q;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var L=M[0],U=M.pop();if(U!==L){M[0]=U;e:for(var Q=0,q=M.length,re=q>>>1;Q<re;){var ee=2*(Q+1)-1,ue=M[ee],le=ee+1,W=M[le];if(0>s(ue,U))le<q&&0>s(W,ue)?(M[Q]=W,M[le]=U,Q=le):(M[Q]=ue,M[ee]=U,Q=ee);else if(le<q&&0>s(W,U))M[Q]=W,M[le]=U,Q=le;else break e}}return L}function s(M,L){var U=M.sortIndex-L.sortIndex;return U!==0?U:M.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,f=null,m=3,y=!1,T=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=M)r(d),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(d)}}function k(M){if(v=!1,S(M),!T)if(n(l)!==null)T=!0,z(O);else{var L=n(d);L!==null&&K(k,L.startTime-M)}}function O(M,L){T=!1,v&&(v=!1,_(C),C=-1),y=!0;var U=m;try{for(S(L),f=n(l);f!==null&&(!(f.expirationTime>L)||M&&!P());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,m=f.priorityLevel;var q=Q(f.expirationTime<=L);L=t.unstable_now(),typeof q=="function"?f.callback=q:f===n(l)&&r(l),S(L)}else r(l);f=n(l)}if(f!==null)var re=!0;else{var ee=n(d);ee!==null&&K(k,ee.startTime-L),re=!1}return re}finally{f=null,m=U,y=!1}}var D=!1,b=null,C=-1,I=5,N=-1;function P(){return!(t.unstable_now()-N<I)}function j(){if(b!==null){var M=t.unstable_now();N=M;var L=!0;try{L=b(!0,M)}finally{L?R():(D=!1,b=null)}}else D=!1}var R;if(typeof w=="function")R=function(){w(j)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ie=B.port2;B.port1.onmessage=j,R=function(){ie.postMessage(null)}}else R=function(){E(j,0)};function z(M){b=M,D||(D=!0,R())}function K(M,L){C=E(function(){M(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,z(O))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var U=m;m=L;try{return M()}finally{m=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,L){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=m;m=M;try{return L()}finally{m=U}},t.unstable_scheduleCallback=function(M,L,U){var Q=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Q+U:Q):U=Q,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=U+q,M={id:h++,callback:L,priorityLevel:M,startTime:U,expirationTime:q,sortIndex:-1},U>Q?(M.sortIndex=U,e(d,M),n(l)===null&&M===n(d)&&(v?(_(C),C=-1):v=!0,K(k,U-Q))):(M.sortIndex=q,e(l,M),T||y||(T=!0,z(O))),M},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(M){var L=m;return function(){var U=m;m=L;try{return M.apply(this,arguments)}finally{m=U}}}})(ME);OE.exports=ME;var CP=OE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP=p,bn=CP;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LE=new Set,Zl={};function io(t,e){da(t,e),da(t+"Capture",e)}function da(t,e){for(Zl[t]=e,t=0;t<e.length;t++)LE.add(e[t])}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=Object.prototype.hasOwnProperty,AP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xw={},_w={};function NP(t){return lm.call(_w,t)?!0:lm.call(xw,t)?!1:AP.test(t)?_w[t]=!0:(xw[t]=!0,!1)}function kP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RP(t,e,n,r){if(e===null||typeof e>"u"||kP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new Zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new Zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new Zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new Zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new Zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new Zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new Zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new Zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new Zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ey=/[\-:]([a-z])/g;function ty(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ey,ty);jt[e]=new Zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ey,ty);jt[e]=new Zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ey,ty);jt[e]=new Zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ny(t,e,n,r){var s=jt.hasOwnProperty(e)?jt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RP(e,n,s,r)&&(n=null),r||s===null?NP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var is=IP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Su=Symbol.for("react.element"),To=Symbol.for("react.portal"),Co=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),VE=Symbol.for("react.provider"),FE=Symbol.for("react.context"),sy=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),dm=Symbol.for("react.suspense_list"),iy=Symbol.for("react.memo"),_s=Symbol.for("react.lazy"),zE=Symbol.for("react.offscreen"),Ew=Symbol.iterator;function hl(t){return t===null||typeof t!="object"?null:(t=Ew&&t[Ew]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,sp;function El(t){if(sp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sp=e&&e[1]||""}return`
`+sp+t}var ip=!1;function op(t,e){if(!t||ip)return"";ip=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ip=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?El(t):""}function PP(t){switch(t.tag){case 5:return El(t.type);case 16:return El("Lazy");case 13:return El("Suspense");case 19:return El("SuspenseList");case 0:case 2:case 15:return t=op(t.type,!1),t;case 11:return t=op(t.type.render,!1),t;case 1:return t=op(t.type,!0),t;default:return""}}function hm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Co:return"Fragment";case To:return"Portal";case cm:return"Profiler";case ry:return"StrictMode";case um:return"Suspense";case dm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case FE:return(t.displayName||"Context")+".Consumer";case VE:return(t._context.displayName||"Context")+".Provider";case sy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iy:return e=t.displayName||null,e!==null?e:hm(t.type)||"Memo";case _s:e=t._payload,t=t._init;try{return hm(t(e))}catch{}}return null}function DP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hm(e);case 8:return e===ry?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function UE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jP(t){var e=UE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bu(t){t._valueTracker||(t._valueTracker=jP(t))}function $E(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=UE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fm(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BE(t,e){e=e.checked,e!=null&&ny(t,"checked",e,!1)}function pm(t,e){BE(t,e);var n=Xs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mm(t,e.type,n):e.hasOwnProperty("defaultValue")&&mm(t,e.type,Xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mm(t,e,n){(e!=="number"||kd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sl=Array.isArray;function Vo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function gm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Sl(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xs(n)}}function HE(t,e){var n=Xs(e.value),r=Xs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function WE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ym(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?WE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tu,qE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tu=Tu||document.createElement("div"),Tu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ec(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OP=["Webkit","ms","Moz","O"];Object.keys(Rl).forEach(function(t){OP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rl[e]=Rl[t]})});function GE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rl.hasOwnProperty(t)&&Rl[t]?(""+e).trim():e+"px"}function KE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=GE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var MP=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vm(t,e){if(e){if(MP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function wm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xm=null;function oy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _m=null,Fo=null,zo=null;function Iw(t){if(t=Lc(t)){if(typeof _m!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Uh(e),_m(t.stateNode,t.type,e))}}function QE(t){Fo?zo?zo.push(t):zo=[t]:Fo=t}function YE(){if(Fo){var t=Fo,e=zo;if(zo=Fo=null,Iw(t),e)for(t=0;t<e.length;t++)Iw(e[t])}}function XE(t,e){return t(e)}function JE(){}var ap=!1;function ZE(t,e,n){if(ap)return t(e,n);ap=!0;try{return XE(t,e,n)}finally{ap=!1,(Fo!==null||zo!==null)&&(JE(),YE())}}function tc(t,e){var n=t.stateNode;if(n===null)return null;var r=Uh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var Em=!1;if(Qr)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){Em=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{Em=!1}function LP(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Pl=!1,Rd=null,Pd=!1,Sm=null,VP={onError:function(t){Pl=!0,Rd=t}};function FP(t,e,n,r,s,i,o,a,l){Pl=!1,Rd=null,LP.apply(VP,arguments)}function zP(t,e,n,r,s,i,o,a,l){if(FP.apply(this,arguments),Pl){if(Pl){var d=Rd;Pl=!1,Rd=null}else throw Error(Y(198));Pd||(Pd=!0,Sm=d)}}function oo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Aw(t){if(oo(t)!==t)throw Error(Y(188))}function UP(t){var e=t.alternate;if(!e){if(e=oo(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Aw(s),t;if(i===r)return Aw(s),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function tS(t){return t=UP(t),t!==null?nS(t):null}function nS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nS(t);if(e!==null)return e;t=t.sibling}return null}var rS=bn.unstable_scheduleCallback,Nw=bn.unstable_cancelCallback,$P=bn.unstable_shouldYield,BP=bn.unstable_requestPaint,it=bn.unstable_now,HP=bn.unstable_getCurrentPriorityLevel,ay=bn.unstable_ImmediatePriority,sS=bn.unstable_UserBlockingPriority,Dd=bn.unstable_NormalPriority,WP=bn.unstable_LowPriority,iS=bn.unstable_IdlePriority,Lh=null,Sr=null;function qP(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Lh,t,void 0,(t.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:QP,GP=Math.log,KP=Math.LN2;function QP(t){return t>>>=0,t===0?32:31-(GP(t)/KP|0)|0}var Cu=64,Iu=4194304;function bl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=bl(a):(i&=o,i!==0&&(r=bl(i)))}else o=n&~s,o!==0?r=bl(o):i!==0&&(r=bl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zn(e),s=1<<n,r|=t[n],e&=~s;return r}function YP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Zn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=YP(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function bm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oS(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function lp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Oc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=n}function JP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Zn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ly(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Oe=0;function aS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lS,cy,cS,uS,dS,Tm=!1,Au=[],Ls=null,Vs=null,Fs=null,nc=new Map,rc=new Map,bs=[],ZP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kw(t,e){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":nc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(e.pointerId)}}function pl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Lc(e),e!==null&&cy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function e2(t,e,n,r,s){switch(e){case"focusin":return Ls=pl(Ls,t,e,n,r,s),!0;case"dragenter":return Vs=pl(Vs,t,e,n,r,s),!0;case"mouseover":return Fs=pl(Fs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return nc.set(i,pl(nc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,rc.set(i,pl(rc.get(i)||null,t,e,n,r,s)),!0}return!1}function hS(t){var e=Ri(t.target);if(e!==null){var n=oo(e);if(n!==null){if(e=n.tag,e===13){if(e=eS(n),e!==null){t.blockedOn=e,dS(t.priority,function(){cS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function id(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xm=r,n.target.dispatchEvent(r),xm=null}else return e=Lc(n),e!==null&&cy(e),t.blockedOn=n,!1;e.shift()}return!0}function Rw(t,e,n){id(t)&&n.delete(e)}function t2(){Tm=!1,Ls!==null&&id(Ls)&&(Ls=null),Vs!==null&&id(Vs)&&(Vs=null),Fs!==null&&id(Fs)&&(Fs=null),nc.forEach(Rw),rc.forEach(Rw)}function ml(t,e){t.blockedOn===e&&(t.blockedOn=null,Tm||(Tm=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,t2)))}function sc(t){function e(s){return ml(s,t)}if(0<Au.length){ml(Au[0],t);for(var n=1;n<Au.length;n++){var r=Au[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ls!==null&&ml(Ls,t),Vs!==null&&ml(Vs,t),Fs!==null&&ml(Fs,t),nc.forEach(e),rc.forEach(e),n=0;n<bs.length;n++)r=bs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bs.length&&(n=bs[0],n.blockedOn===null);)hS(n),n.blockedOn===null&&bs.shift()}var Uo=is.ReactCurrentBatchConfig,Od=!0;function n2(t,e,n,r){var s=Oe,i=Uo.transition;Uo.transition=null;try{Oe=1,uy(t,e,n,r)}finally{Oe=s,Uo.transition=i}}function r2(t,e,n,r){var s=Oe,i=Uo.transition;Uo.transition=null;try{Oe=4,uy(t,e,n,r)}finally{Oe=s,Uo.transition=i}}function uy(t,e,n,r){if(Od){var s=Cm(t,e,n,r);if(s===null)vp(t,e,r,Md,n),kw(t,r);else if(e2(s,t,e,n,r))r.stopPropagation();else if(kw(t,r),e&4&&-1<ZP.indexOf(t)){for(;s!==null;){var i=Lc(s);if(i!==null&&lS(i),i=Cm(t,e,n,r),i===null&&vp(t,e,r,Md,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else vp(t,e,r,null,n)}}var Md=null;function Cm(t,e,n,r){if(Md=null,t=oy(r),t=Ri(t),t!==null)if(e=oo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Md=t,null}function fS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HP()){case ay:return 1;case sS:return 4;case Dd:case WP:return 16;case iS:return 536870912;default:return 16}default:return 16}}var js=null,dy=null,od=null;function pS(){if(od)return od;var t,e=dy,n=e.length,r,s="value"in js?js.value:js.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return od=s.slice(t,1<r?1-r:void 0)}function ad(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nu(){return!0}function Pw(){return!1}function Cn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nu:Pw,this.isPropagationStopped=Pw,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),e}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hy=Cn(Oa),Mc=Ze({},Oa,{view:0,detail:0}),s2=Cn(Mc),cp,up,gl,Vh=Ze({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gl&&(gl&&t.type==="mousemove"?(cp=t.screenX-gl.screenX,up=t.screenY-gl.screenY):up=cp=0,gl=t),cp)},movementY:function(t){return"movementY"in t?t.movementY:up}}),Dw=Cn(Vh),i2=Ze({},Vh,{dataTransfer:0}),o2=Cn(i2),a2=Ze({},Mc,{relatedTarget:0}),dp=Cn(a2),l2=Ze({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),c2=Cn(l2),u2=Ze({},Oa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),d2=Cn(u2),h2=Ze({},Oa,{data:0}),jw=Cn(h2),f2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=m2[t])?!!e[t]:!1}function fy(){return g2}var y2=Ze({},Mc,{key:function(t){if(t.key){var e=f2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ad(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?p2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fy,charCode:function(t){return t.type==="keypress"?ad(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ad(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),v2=Cn(y2),w2=Ze({},Vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ow=Cn(w2),x2=Ze({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fy}),_2=Cn(x2),E2=Ze({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),S2=Cn(E2),b2=Ze({},Vh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T2=Cn(b2),C2=[9,13,27,32],py=Qr&&"CompositionEvent"in window,Dl=null;Qr&&"documentMode"in document&&(Dl=document.documentMode);var I2=Qr&&"TextEvent"in window&&!Dl,mS=Qr&&(!py||Dl&&8<Dl&&11>=Dl),Mw=" ",Lw=!1;function gS(t,e){switch(t){case"keyup":return C2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Io=!1;function A2(t,e){switch(t){case"compositionend":return yS(e);case"keypress":return e.which!==32?null:(Lw=!0,Mw);case"textInput":return t=e.data,t===Mw&&Lw?null:t;default:return null}}function N2(t,e){if(Io)return t==="compositionend"||!py&&gS(t,e)?(t=pS(),od=dy=js=null,Io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mS&&e.locale!=="ko"?null:e.data;default:return null}}var k2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k2[t.type]:e==="textarea"}function vS(t,e,n,r){QE(r),e=Ld(e,"onChange"),0<e.length&&(n=new hy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jl=null,ic=null;function R2(t){NS(t,0)}function Fh(t){var e=ko(t);if($E(e))return t}function P2(t,e){if(t==="change")return e}var wS=!1;if(Qr){var hp;if(Qr){var fp="oninput"in document;if(!fp){var Fw=document.createElement("div");Fw.setAttribute("oninput","return;"),fp=typeof Fw.oninput=="function"}hp=fp}else hp=!1;wS=hp&&(!document.documentMode||9<document.documentMode)}function zw(){jl&&(jl.detachEvent("onpropertychange",xS),ic=jl=null)}function xS(t){if(t.propertyName==="value"&&Fh(ic)){var e=[];vS(e,ic,t,oy(t)),ZE(R2,e)}}function D2(t,e,n){t==="focusin"?(zw(),jl=e,ic=n,jl.attachEvent("onpropertychange",xS)):t==="focusout"&&zw()}function j2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fh(ic)}function O2(t,e){if(t==="click")return Fh(e)}function M2(t,e){if(t==="input"||t==="change")return Fh(e)}function L2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sr=typeof Object.is=="function"?Object.is:L2;function oc(t,e){if(sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!lm.call(e,s)||!sr(t[s],e[s]))return!1}return!0}function Uw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $w(t,e){var n=Uw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uw(n)}}function _S(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_S(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ES(){for(var t=window,e=kd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kd(t.document)}return e}function my(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function V2(t){var e=ES(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_S(n.ownerDocument.documentElement,n)){if(r!==null&&my(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=$w(n,i);var o=$w(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var F2=Qr&&"documentMode"in document&&11>=document.documentMode,Ao=null,Im=null,Ol=null,Am=!1;function Bw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Am||Ao==null||Ao!==kd(r)||(r=Ao,"selectionStart"in r&&my(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ol&&oc(Ol,r)||(Ol=r,r=Ld(Im,"onSelect"),0<r.length&&(e=new hy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ao)))}function ku(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var No={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},pp={},SS={};Qr&&(SS=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function zh(t){if(pp[t])return pp[t];if(!No[t])return t;var e=No[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in SS)return pp[t]=e[n];return t}var bS=zh("animationend"),TS=zh("animationiteration"),CS=zh("animationstart"),IS=zh("transitionend"),AS=new Map,Hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(t,e){AS.set(t,e),io(e,[t])}for(var mp=0;mp<Hw.length;mp++){var gp=Hw[mp],z2=gp.toLowerCase(),U2=gp[0].toUpperCase()+gp.slice(1);ui(z2,"on"+U2)}ui(bS,"onAnimationEnd");ui(TS,"onAnimationIteration");ui(CS,"onAnimationStart");ui("dblclick","onDoubleClick");ui("focusin","onFocus");ui("focusout","onBlur");ui(IS,"onTransitionEnd");da("onMouseEnter",["mouseout","mouseover"]);da("onMouseLeave",["mouseout","mouseover"]);da("onPointerEnter",["pointerout","pointerover"]);da("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function Ww(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zP(r,e,void 0,t),t.currentTarget=null}function NS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ww(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ww(s,a,d),i=l}}}if(Pd)throw t=Sm,Pd=!1,Sm=null,t}function Be(t,e){var n=e[Dm];n===void 0&&(n=e[Dm]=new Set);var r=t+"__bubble";n.has(r)||(kS(e,t,2,!1),n.add(r))}function yp(t,e,n){var r=0;e&&(r|=4),kS(n,t,r,e)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function ac(t){if(!t[Ru]){t[Ru]=!0,LE.forEach(function(n){n!=="selectionchange"&&($2.has(n)||yp(n,!1,t),yp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ru]||(e[Ru]=!0,yp("selectionchange",!1,e))}}function kS(t,e,n,r){switch(fS(e)){case 1:var s=n2;break;case 4:s=r2;break;default:s=uy}n=s.bind(null,e,n,t),s=void 0,!Em||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function vp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ri(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ZE(function(){var d=i,h=oy(n),f=[];e:{var m=AS.get(t);if(m!==void 0){var y=hy,T=t;switch(t){case"keypress":if(ad(n)===0)break e;case"keydown":case"keyup":y=v2;break;case"focusin":T="focus",y=dp;break;case"focusout":T="blur",y=dp;break;case"beforeblur":case"afterblur":y=dp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Dw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=o2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=_2;break;case bS:case TS:case CS:y=c2;break;case IS:y=S2;break;case"scroll":y=s2;break;case"wheel":y=T2;break;case"copy":case"cut":case"paste":y=d2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ow}var v=(e&4)!==0,E=!v&&t==="scroll",_=v?m!==null?m+"Capture":null:m;v=[];for(var w=d,S;w!==null;){S=w;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,_!==null&&(k=tc(w,_),k!=null&&v.push(lc(w,k,S)))),E)break;w=w.return}0<v.length&&(m=new y(m,T,null,n,h),f.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==xm&&(T=n.relatedTarget||n.fromElement)&&(Ri(T)||T[Yr]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=d,T=T?Ri(T):null,T!==null&&(E=oo(T),T!==E||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=d),y!==T)){if(v=Dw,k="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=Ow,k="onPointerLeave",_="onPointerEnter",w="pointer"),E=y==null?m:ko(y),S=T==null?m:ko(T),m=new v(k,w+"leave",y,n,h),m.target=E,m.relatedTarget=S,k=null,Ri(h)===d&&(v=new v(_,w+"enter",T,n,h),v.target=S,v.relatedTarget=E,k=v),E=k,y&&T)t:{for(v=y,_=T,w=0,S=v;S;S=yo(S))w++;for(S=0,k=_;k;k=yo(k))S++;for(;0<w-S;)v=yo(v),w--;for(;0<S-w;)_=yo(_),S--;for(;w--;){if(v===_||_!==null&&v===_.alternate)break t;v=yo(v),_=yo(_)}v=null}else v=null;y!==null&&qw(f,m,y,v,!1),T!==null&&E!==null&&qw(f,E,T,v,!0)}}e:{if(m=d?ko(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var O=P2;else if(Vw(m))if(wS)O=M2;else{O=j2;var D=D2}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=O2);if(O&&(O=O(t,d))){vS(f,O,n,h);break e}D&&D(t,m,d),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&mm(m,"number",m.value)}switch(D=d?ko(d):window,t){case"focusin":(Vw(D)||D.contentEditable==="true")&&(Ao=D,Im=d,Ol=null);break;case"focusout":Ol=Im=Ao=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,Bw(f,n,h);break;case"selectionchange":if(F2)break;case"keydown":case"keyup":Bw(f,n,h)}var b;if(py)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Io?gS(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(mS&&n.locale!=="ko"&&(Io||C!=="onCompositionStart"?C==="onCompositionEnd"&&Io&&(b=pS()):(js=h,dy="value"in js?js.value:js.textContent,Io=!0)),D=Ld(d,C),0<D.length&&(C=new jw(C,t,null,n,h),f.push({event:C,listeners:D}),b?C.data=b:(b=yS(n),b!==null&&(C.data=b)))),(b=I2?A2(t,n):N2(t,n))&&(d=Ld(d,"onBeforeInput"),0<d.length&&(h=new jw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=b))}NS(f,e)})}function lc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ld(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=tc(t,n),i!=null&&r.unshift(lc(t,i,s)),i=tc(t,e),i!=null&&r.push(lc(t,i,s))),t=t.return}return r}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=tc(n,i),l!=null&&o.unshift(lc(n,l,a))):s||(l=tc(n,i),l!=null&&o.push(lc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var B2=/\r\n?/g,H2=/\u0000|\uFFFD/g;function Gw(t){return(typeof t=="string"?t:""+t).replace(B2,`
`).replace(H2,"")}function Pu(t,e,n){if(e=Gw(e),Gw(t)!==e&&n)throw Error(Y(425))}function Vd(){}var Nm=null,km=null;function Rm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pm=typeof setTimeout=="function"?setTimeout:void 0,W2=typeof clearTimeout=="function"?clearTimeout:void 0,Kw=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof Kw<"u"?function(t){return Kw.resolve(null).then(t).catch(G2)}:Pm;function G2(t){setTimeout(function(){throw t})}function wp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),sc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);sc(e)}function zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),_r="__reactFiber$"+Ma,cc="__reactProps$"+Ma,Yr="__reactContainer$"+Ma,Dm="__reactEvents$"+Ma,K2="__reactListeners$"+Ma,Q2="__reactHandles$"+Ma;function Ri(t){var e=t[_r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yr]||n[_r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qw(t);t!==null;){if(n=t[_r])return n;t=Qw(t)}return e}t=n,n=t.parentNode}return null}function Lc(t){return t=t[_r]||t[Yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Uh(t){return t[cc]||null}var jm=[],Ro=-1;function di(t){return{current:t}}function We(t){0>Ro||(t.current=jm[Ro],jm[Ro]=null,Ro--)}function Fe(t,e){Ro++,jm[Ro]=t.current,t.current=e}var Js={},Wt=di(Js),un=di(!1),Wi=Js;function ha(t,e){var n=t.type.contextTypes;if(!n)return Js;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dn(t){return t=t.childContextTypes,t!=null}function Fd(){We(un),We(Wt)}function Yw(t,e,n){if(Wt.current!==Js)throw Error(Y(168));Fe(Wt,e),Fe(un,n)}function RS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Y(108,DP(t)||"Unknown",s));return Ze({},n,r)}function zd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Js,Wi=Wt.current,Fe(Wt,t),Fe(un,un.current),!0}function Xw(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=RS(t,e,Wi),r.__reactInternalMemoizedMergedChildContext=t,We(un),We(Wt),Fe(Wt,t)):We(un),Fe(un,n)}var Ur=null,$h=!1,xp=!1;function PS(t){Ur===null?Ur=[t]:Ur.push(t)}function Y2(t){$h=!0,PS(t)}function hi(){if(!xp&&Ur!==null){xp=!0;var t=0,e=Oe;try{var n=Ur;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ur=null,$h=!1}catch(s){throw Ur!==null&&(Ur=Ur.slice(t+1)),rS(ay,hi),s}finally{Oe=e,xp=!1}}return null}var Po=[],Do=0,Ud=null,$d=0,Rn=[],Pn=0,qi=null,$r=1,Br="";function Ai(t,e){Po[Do++]=$d,Po[Do++]=Ud,Ud=t,$d=e}function DS(t,e,n){Rn[Pn++]=$r,Rn[Pn++]=Br,Rn[Pn++]=qi,qi=t;var r=$r;t=Br;var s=32-Zn(r)-1;r&=~(1<<s),n+=1;var i=32-Zn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,$r=1<<32-Zn(e)+s|n<<s|r,Br=i+t}else $r=1<<i|n<<s|r,Br=t}function gy(t){t.return!==null&&(Ai(t,1),DS(t,1,0))}function yy(t){for(;t===Ud;)Ud=Po[--Do],Po[Do]=null,$d=Po[--Do],Po[Do]=null;for(;t===qi;)qi=Rn[--Pn],Rn[Pn]=null,Br=Rn[--Pn],Rn[Pn]=null,$r=Rn[--Pn],Rn[Pn]=null}var En=null,_n=null,Ke=!1,Qn=null;function jS(t,e){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,_n=zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qi!==null?{id:$r,overflow:Br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,_n=null,!0):!1;default:return!1}}function Om(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mm(t){if(Ke){var e=_n;if(e){var n=e;if(!Jw(t,e)){if(Om(t))throw Error(Y(418));e=zs(n.nextSibling);var r=En;e&&Jw(t,e)?jS(r,n):(t.flags=t.flags&-4097|2,Ke=!1,En=t)}}else{if(Om(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Ke=!1,En=t}}}function Zw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function Du(t){if(t!==En)return!1;if(!Ke)return Zw(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rm(t.type,t.memoizedProps)),e&&(e=_n)){if(Om(t))throw OS(),Error(Y(418));for(;e;)jS(t,e),e=zs(e.nextSibling)}if(Zw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=En?zs(t.stateNode.nextSibling):null;return!0}function OS(){for(var t=_n;t;)t=zs(t.nextSibling)}function fa(){_n=En=null,Ke=!1}function vy(t){Qn===null?Qn=[t]:Qn.push(t)}var X2=is.ReactCurrentBatchConfig;function yl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function ju(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ex(t){var e=t._init;return e(t._payload)}function MS(t){function e(_,w){if(t){var S=_.deletions;S===null?(_.deletions=[w],_.flags|=16):S.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function s(_,w){return _=Hs(_,w),_.index=0,_.sibling=null,_}function i(_,w,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<w?(_.flags|=2,w):S):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,S,k){return w===null||w.tag!==6?(w=Ip(S,_.mode,k),w.return=_,w):(w=s(w,S),w.return=_,w)}function l(_,w,S,k){var O=S.type;return O===Co?h(_,w,S.props.children,k,S.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===_s&&ex(O)===w.type)?(k=s(w,S.props),k.ref=yl(_,w,S),k.return=_,k):(k=pd(S.type,S.key,S.props,null,_.mode,k),k.ref=yl(_,w,S),k.return=_,k)}function d(_,w,S,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Ap(S,_.mode,k),w.return=_,w):(w=s(w,S.children||[]),w.return=_,w)}function h(_,w,S,k,O){return w===null||w.tag!==7?(w=Ui(S,_.mode,k,O),w.return=_,w):(w=s(w,S),w.return=_,w)}function f(_,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ip(""+w,_.mode,S),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Su:return S=pd(w.type,w.key,w.props,null,_.mode,S),S.ref=yl(_,null,w),S.return=_,S;case To:return w=Ap(w,_.mode,S),w.return=_,w;case _s:var k=w._init;return f(_,k(w._payload),S)}if(Sl(w)||hl(w))return w=Ui(w,_.mode,S,null),w.return=_,w;ju(_,w)}return null}function m(_,w,S,k){var O=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:a(_,w,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Su:return S.key===O?l(_,w,S,k):null;case To:return S.key===O?d(_,w,S,k):null;case _s:return O=S._init,m(_,w,O(S._payload),k)}if(Sl(S)||hl(S))return O!==null?null:h(_,w,S,k,null);ju(_,S)}return null}function y(_,w,S,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(S)||null,a(w,_,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Su:return _=_.get(k.key===null?S:k.key)||null,l(w,_,k,O);case To:return _=_.get(k.key===null?S:k.key)||null,d(w,_,k,O);case _s:var D=k._init;return y(_,w,S,D(k._payload),O)}if(Sl(k)||hl(k))return _=_.get(S)||null,h(w,_,k,O,null);ju(w,k)}return null}function T(_,w,S,k){for(var O=null,D=null,b=w,C=w=0,I=null;b!==null&&C<S.length;C++){b.index>C?(I=b,b=null):I=b.sibling;var N=m(_,b,S[C],k);if(N===null){b===null&&(b=I);break}t&&b&&N.alternate===null&&e(_,b),w=i(N,w,C),D===null?O=N:D.sibling=N,D=N,b=I}if(C===S.length)return n(_,b),Ke&&Ai(_,C),O;if(b===null){for(;C<S.length;C++)b=f(_,S[C],k),b!==null&&(w=i(b,w,C),D===null?O=b:D.sibling=b,D=b);return Ke&&Ai(_,C),O}for(b=r(_,b);C<S.length;C++)I=y(b,_,C,S[C],k),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?C:I.key),w=i(I,w,C),D===null?O=I:D.sibling=I,D=I);return t&&b.forEach(function(P){return e(_,P)}),Ke&&Ai(_,C),O}function v(_,w,S,k){var O=hl(S);if(typeof O!="function")throw Error(Y(150));if(S=O.call(S),S==null)throw Error(Y(151));for(var D=O=null,b=w,C=w=0,I=null,N=S.next();b!==null&&!N.done;C++,N=S.next()){b.index>C?(I=b,b=null):I=b.sibling;var P=m(_,b,N.value,k);if(P===null){b===null&&(b=I);break}t&&b&&P.alternate===null&&e(_,b),w=i(P,w,C),D===null?O=P:D.sibling=P,D=P,b=I}if(N.done)return n(_,b),Ke&&Ai(_,C),O;if(b===null){for(;!N.done;C++,N=S.next())N=f(_,N.value,k),N!==null&&(w=i(N,w,C),D===null?O=N:D.sibling=N,D=N);return Ke&&Ai(_,C),O}for(b=r(_,b);!N.done;C++,N=S.next())N=y(b,_,C,N.value,k),N!==null&&(t&&N.alternate!==null&&b.delete(N.key===null?C:N.key),w=i(N,w,C),D===null?O=N:D.sibling=N,D=N);return t&&b.forEach(function(j){return e(_,j)}),Ke&&Ai(_,C),O}function E(_,w,S,k){if(typeof S=="object"&&S!==null&&S.type===Co&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Su:e:{for(var O=S.key,D=w;D!==null;){if(D.key===O){if(O=S.type,O===Co){if(D.tag===7){n(_,D.sibling),w=s(D,S.props.children),w.return=_,_=w;break e}}else if(D.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===_s&&ex(O)===D.type){n(_,D.sibling),w=s(D,S.props),w.ref=yl(_,D,S),w.return=_,_=w;break e}n(_,D);break}else e(_,D);D=D.sibling}S.type===Co?(w=Ui(S.props.children,_.mode,k,S.key),w.return=_,_=w):(k=pd(S.type,S.key,S.props,null,_.mode,k),k.ref=yl(_,w,S),k.return=_,_=k)}return o(_);case To:e:{for(D=S.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(_,w.sibling),w=s(w,S.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=Ap(S,_.mode,k),w.return=_,_=w}return o(_);case _s:return D=S._init,E(_,w,D(S._payload),k)}if(Sl(S))return T(_,w,S,k);if(hl(S))return v(_,w,S,k);ju(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(_,w.sibling),w=s(w,S),w.return=_,_=w):(n(_,w),w=Ip(S,_.mode,k),w.return=_,_=w),o(_)):n(_,w)}return E}var pa=MS(!0),LS=MS(!1),Bd=di(null),Hd=null,jo=null,wy=null;function xy(){wy=jo=Hd=null}function _y(t){var e=Bd.current;We(Bd),t._currentValue=e}function Lm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $o(t,e){Hd=t,wy=jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cn=!0),t.firstContext=null)}function Vn(t){var e=t._currentValue;if(wy!==t)if(t={context:t,memoizedValue:e,next:null},jo===null){if(Hd===null)throw Error(Y(308));jo=t,Hd.dependencies={lanes:0,firstContext:t}}else jo=jo.next=t;return e}var Pi=null;function Ey(t){Pi===null?Pi=[t]:Pi.push(t)}function VS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ey(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xr(t,r)}function Xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Es=!1;function Sy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Xr(t,n)}return s=r.interleaved,s===null?(e.next=e,Ey(r)):(e.next=s.next,s.next=e),r.interleaved=e,Xr(t,n)}function ld(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ly(t,n)}}function tx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wd(t,e,n,r){var s=t.updateQueue;Es=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=d=l=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,v=a;switch(m=e,y=n,v.tag){case 1:if(T=v.payload,typeof T=="function"){f=T.call(y,f,m);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=v.payload,m=typeof T=="function"?T.call(y,f,m):T,m==null)break e;f=Ze({},f,m);break e;case 2:Es=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=y,l=f):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ki|=o,t.lanes=o,t.memoizedState=f}}function nx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var Vc={},br=di(Vc),uc=di(Vc),dc=di(Vc);function Di(t){if(t===Vc)throw Error(Y(174));return t}function by(t,e){switch(Fe(dc,e),Fe(uc,t),Fe(br,Vc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ym(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ym(e,t)}We(br),Fe(br,e)}function ma(){We(br),We(uc),We(dc)}function zS(t){Di(dc.current);var e=Di(br.current),n=ym(e,t.type);e!==n&&(Fe(uc,t),Fe(br,n))}function Ty(t){uc.current===t&&(We(br),We(uc))}var Ye=di(0);function qd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _p=[];function Cy(){for(var t=0;t<_p.length;t++)_p[t]._workInProgressVersionPrimary=null;_p.length=0}var cd=is.ReactCurrentDispatcher,Ep=is.ReactCurrentBatchConfig,Gi=0,Je=null,ht=null,Et=null,Gd=!1,Ml=!1,hc=0,J2=0;function Vt(){throw Error(Y(321))}function Iy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function Ay(t,e,n,r,s,i){if(Gi=i,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cd.current=t===null||t.memoizedState===null?nD:rD,t=n(r,s),Ml){i=0;do{if(Ml=!1,hc=0,25<=i)throw Error(Y(301));i+=1,Et=ht=null,e.updateQueue=null,cd.current=sD,t=n(r,s)}while(Ml)}if(cd.current=Kd,e=ht!==null&&ht.next!==null,Gi=0,Et=ht=Je=null,Gd=!1,e)throw Error(Y(300));return t}function Ny(){var t=hc!==0;return hc=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Je.memoizedState=Et=t:Et=Et.next=t,Et}function Fn(){if(ht===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=Et===null?Je.memoizedState:Et.next;if(e!==null)Et=e,ht=t;else{if(t===null)throw Error(Y(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Et===null?Je.memoizedState=Et=t:Et=Et.next=t}return Et}function fc(t,e){return typeof e=="function"?e(t):e}function Sp(t){var e=Fn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=ht,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((Gi&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Je.lanes|=h,Ki|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,sr(r,e.memoizedState)||(cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Je.lanes|=i,Ki|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bp(t){var e=Fn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);sr(i,e.memoizedState)||(cn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function US(){}function $S(t,e){var n=Je,r=Fn(),s=e(),i=!sr(r.memoizedState,s);if(i&&(r.memoizedState=s,cn=!0),r=r.queue,ky(WS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,pc(9,HS.bind(null,n,r,s,e),void 0,null),Ct===null)throw Error(Y(349));Gi&30||BS(n,e,s)}return s}function BS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HS(t,e,n,r){e.value=n,e.getSnapshot=r,qS(e)&&GS(t)}function WS(t,e,n){return n(function(){qS(e)&&GS(t)})}function qS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch{return!0}}function GS(t){var e=Xr(t,1);e!==null&&er(e,t,1,-1)}function rx(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:t},e.queue=t,t=t.dispatch=tD.bind(null,Je,t),[e.memoizedState,t]}function pc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function KS(){return Fn().memoizedState}function ud(t,e,n,r){var s=gr();Je.flags|=t,s.memoizedState=pc(1|e,n,void 0,r===void 0?null:r)}function Bh(t,e,n,r){var s=Fn();r=r===void 0?null:r;var i=void 0;if(ht!==null){var o=ht.memoizedState;if(i=o.destroy,r!==null&&Iy(r,o.deps)){s.memoizedState=pc(e,n,i,r);return}}Je.flags|=t,s.memoizedState=pc(1|e,n,i,r)}function sx(t,e){return ud(8390656,8,t,e)}function ky(t,e){return Bh(2048,8,t,e)}function QS(t,e){return Bh(4,2,t,e)}function YS(t,e){return Bh(4,4,t,e)}function XS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JS(t,e,n){return n=n!=null?n.concat([t]):null,Bh(4,4,XS.bind(null,e,t),n)}function Ry(){}function ZS(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function eb(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tb(t,e,n){return Gi&21?(sr(n,e)||(n=oS(),Je.lanes|=n,Ki|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cn=!0),t.memoizedState=n)}function Z2(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=Ep.transition;Ep.transition={};try{t(!1),e()}finally{Oe=n,Ep.transition=r}}function nb(){return Fn().memoizedState}function eD(t,e,n){var r=Bs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rb(t))sb(e,n);else if(n=VS(t,e,n,r),n!==null){var s=Xt();er(n,t,r,s),ib(n,e,r)}}function tD(t,e,n){var r=Bs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rb(t))sb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,sr(a,o)){var l=e.interleaved;l===null?(s.next=s,Ey(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=VS(t,e,s,r),n!==null&&(s=Xt(),er(n,t,r,s),ib(n,e,r))}}function rb(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function sb(t,e){Ml=Gd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ib(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ly(t,n)}}var Kd={readContext:Vn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},nD={readContext:Vn,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:Vn,useEffect:sx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ud(4194308,4,XS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ud(4194308,4,t,e)},useInsertionEffect:function(t,e){return ud(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eD.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:rx,useDebugValue:Ry,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=rx(!1),e=t[0];return t=Z2.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,s=gr();if(Ke){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Ct===null)throw Error(Y(349));Gi&30||BS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,sx(WS.bind(null,r,i,t),[t]),r.flags|=2048,pc(9,HS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=gr(),e=Ct.identifierPrefix;if(Ke){var n=Br,r=$r;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=hc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=J2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rD={readContext:Vn,useCallback:ZS,useContext:Vn,useEffect:ky,useImperativeHandle:JS,useInsertionEffect:QS,useLayoutEffect:YS,useMemo:eb,useReducer:Sp,useRef:KS,useState:function(){return Sp(fc)},useDebugValue:Ry,useDeferredValue:function(t){var e=Fn();return tb(e,ht.memoizedState,t)},useTransition:function(){var t=Sp(fc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:US,useSyncExternalStore:$S,useId:nb,unstable_isNewReconciler:!1},sD={readContext:Vn,useCallback:ZS,useContext:Vn,useEffect:ky,useImperativeHandle:JS,useInsertionEffect:QS,useLayoutEffect:YS,useMemo:eb,useReducer:bp,useRef:KS,useState:function(){return bp(fc)},useDebugValue:Ry,useDeferredValue:function(t){var e=Fn();return ht===null?e.memoizedState=t:tb(e,ht.memoizedState,t)},useTransition:function(){var t=bp(fc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:US,useSyncExternalStore:$S,useId:nb,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hh={isMounted:function(t){return(t=t._reactInternals)?oo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xt(),s=Bs(t),i=Gr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,s),e!==null&&(er(e,t,s,r),ld(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xt(),s=Bs(t),i=Gr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,s),e!==null&&(er(e,t,s,r),ld(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xt(),r=Bs(t),s=Gr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Us(t,s,r),e!==null&&(er(e,t,r,n),ld(e,t,r))}};function ix(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!oc(n,r)||!oc(s,i):!0}function ob(t,e,n){var r=!1,s=Js,i=e.contextType;return typeof i=="object"&&i!==null?i=Vn(i):(s=dn(e)?Wi:Wt.current,r=e.contextTypes,i=(r=r!=null)?ha(t,s):Js),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ox(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hh.enqueueReplaceState(e,e.state,null)}function Fm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Sy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Vn(i):(i=dn(e)?Wi:Wt.current,s.context=ha(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Vm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hh.enqueueReplaceState(s,s.state,null),Wd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ga(t,e){try{var n="",r=e;do n+=PP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Tp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iD=typeof WeakMap=="function"?WeakMap:Map;function ab(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yd||(Yd=!0,Ym=r),zm(t,e)},n}function lb(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){zm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zm(t,e),typeof r!="function"&&($s===null?$s=new Set([this]):$s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ax(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iD;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=wD.bind(null,t,e,n),e.then(t,t))}function lx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,Us(n,e,1))),n.lanes|=1),t)}var oD=is.ReactCurrentOwner,cn=!1;function Qt(t,e,n,r){e.child=t===null?LS(e,null,n,r):pa(e,t.child,n,r)}function ux(t,e,n,r,s){n=n.render;var i=e.ref;return $o(e,s),r=Ay(t,e,n,r,i,s),n=Ny(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jr(t,e,s)):(Ke&&n&&gy(e),e.flags|=1,Qt(t,e,r,s),e.child)}function dx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Fy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,cb(t,e,i,r,s)):(t=pd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:oc,n(o,r)&&t.ref===e.ref)return Jr(t,e,s)}return e.flags|=1,t=Hs(i,r),t.ref=e.ref,t.return=e,e.child=t}function cb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(oc(i,r)&&t.ref===e.ref)if(cn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(cn=!0);else return e.lanes=t.lanes,Jr(t,e,s)}return Um(t,e,n,r,s)}function ub(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Mo,vn),vn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(Mo,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Fe(Mo,vn),vn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Fe(Mo,vn),vn|=r;return Qt(t,e,s,n),e.child}function db(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Um(t,e,n,r,s){var i=dn(n)?Wi:Wt.current;return i=ha(e,i),$o(e,s),n=Ay(t,e,n,r,i,s),r=Ny(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jr(t,e,s)):(Ke&&r&&gy(e),e.flags|=1,Qt(t,e,n,s),e.child)}function hx(t,e,n,r,s){if(dn(n)){var i=!0;zd(e)}else i=!1;if($o(e,s),e.stateNode===null)dd(t,e),ob(e,n,r),Fm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Vn(d):(d=dn(n)?Wi:Wt.current,d=ha(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&ox(e,o,r,d),Es=!1;var m=e.memoizedState;o.state=m,Wd(e,r,o,s),l=e.memoizedState,a!==r||m!==l||un.current||Es?(typeof h=="function"&&(Vm(e,n,h,r),l=e.memoizedState),(a=Es||ix(e,n,a,r,m,l,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,FS(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Wn(e.type,a),o.props=d,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vn(l):(l=dn(n)?Wi:Wt.current,l=ha(e,l));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&ox(e,o,r,l),Es=!1,m=e.memoizedState,o.state=m,Wd(e,r,o,s);var T=e.memoizedState;a!==f||m!==T||un.current||Es?(typeof y=="function"&&(Vm(e,n,y,r),T=e.memoizedState),(d=Es||ix(e,n,d,r,m,T,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return $m(t,e,n,r,i,s)}function $m(t,e,n,r,s,i){db(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Xw(e,n,!1),Jr(t,e,i);r=e.stateNode,oD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=pa(e,t.child,null,i),e.child=pa(e,null,a,i)):Qt(t,e,a,i),e.memoizedState=r.state,s&&Xw(e,n,!0),e.child}function hb(t){var e=t.stateNode;e.pendingContext?Yw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yw(t,e.context,!1),by(t,e.containerInfo)}function fx(t,e,n,r,s){return fa(),vy(s),e.flags|=256,Qt(t,e,n,r),e.child}var Bm={dehydrated:null,treeContext:null,retryLane:0};function Hm(t){return{baseLanes:t,cachePool:null,transitions:null}}function fb(t,e,n){var r=e.pendingProps,s=Ye.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Fe(Ye,s&1),t===null)return Mm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gh(o,r,0,null),t=Ui(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Hm(n),e.memoizedState=Bm,t):Py(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return aD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Hs(a,i):(i=Ui(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Hm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Bm,r}return i=t.child,t=i.sibling,r=Hs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Py(t,e){return e=Gh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ou(t,e,n,r){return r!==null&&vy(r),pa(e,t.child,null,n),t=Py(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Tp(Error(Y(422))),Ou(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Gh({mode:"visible",children:r.children},s,0,null),i=Ui(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&pa(e,t.child,null,o),e.child.memoizedState=Hm(o),e.memoizedState=Bm,i);if(!(e.mode&1))return Ou(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Y(419)),r=Tp(i,r,void 0),Ou(t,e,o,r)}if(a=(o&t.childLanes)!==0,cn||a){if(r=Ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xr(t,s),er(r,t,s,-1))}return Vy(),r=Tp(Error(Y(421))),Ou(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=xD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,_n=zs(s.nextSibling),En=e,Ke=!0,Qn=null,t!==null&&(Rn[Pn++]=$r,Rn[Pn++]=Br,Rn[Pn++]=qi,$r=t.id,Br=t.overflow,qi=e),e=Py(e,r.children),e.flags|=4096,e)}function px(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lm(t.return,e,n)}function Cp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function pb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Qt(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&px(t,n,e);else if(t.tag===19)px(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Cp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Cp(e,!0,n,null,i);break;case"together":Cp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ki|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Hs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lD(t,e,n){switch(e.tag){case 3:hb(e),fa();break;case 5:zS(e);break;case 1:dn(e.type)&&zd(e);break;case 4:by(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Fe(Bd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?fb(t,e,n):(Fe(Ye,Ye.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);Fe(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,ub(t,e,n)}return Jr(t,e,n)}var mb,Wm,gb,yb;mb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wm=function(){};gb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Di(br.current);var i=null;switch(n){case"input":s=fm(t,s),r=fm(t,r),i=[];break;case"select":s=Ze({},s,{value:void 0}),r=Ze({},r,{value:void 0}),i=[];break;case"textarea":s=gm(t,s),r=gm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vd)}vm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Zl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Zl.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Be("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};yb=function(t,e,n,r){n!==r&&(e.flags|=4)};function vl(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cD(t,e,n){var r=e.pendingProps;switch(yy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return dn(e.type)&&Fd(),Ft(e),null;case 3:return r=e.stateNode,ma(),We(un),We(Wt),Cy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Du(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(Zm(Qn),Qn=null))),Wm(t,e),Ft(e),null;case 5:Ty(e);var s=Di(dc.current);if(n=e.type,t!==null&&e.stateNode!=null)gb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Ft(e),null}if(t=Di(br.current),Du(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[_r]=e,r[cc]=i,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<Tl.length;s++)Be(Tl[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Sw(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":Tw(r,i),Be("invalid",r)}vm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Pu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Pu(r.textContent,a,t),s=["children",""+a]):Zl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":bu(r),bw(r,i,!0);break;case"textarea":bu(r),Cw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=WE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_r]=e,t[cc]=r,mb(t,e,!1,!1),e.stateNode=t;e:{switch(o=wm(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<Tl.length;s++)Be(Tl[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":Sw(t,r),s=fm(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ze({},r,{value:void 0}),Be("invalid",t);break;case"textarea":Tw(t,r),s=gm(t,r),Be("invalid",t);break;default:s=r}vm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?KE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ec(t,l):typeof l=="number"&&ec(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Be("scroll",t):l!=null&&ny(t,i,l,o))}switch(n){case"input":bu(t),bw(t,r,!1);break;case"textarea":bu(t),Cw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Vo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)yb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Di(dc.current),Di(br.current),Du(e)){if(r=e.stateNode,n=e.memoizedProps,r[_r]=e,(i=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:Pu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=e,e.stateNode=r}return Ft(e),null;case 13:if(We(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&_n!==null&&e.mode&1&&!(e.flags&128))OS(),fa(),e.flags|=98560,i=!1;else if(i=Du(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[_r]=e}else fa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),i=!1}else Qn!==null&&(Zm(Qn),Qn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?gt===0&&(gt=3):Vy())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return ma(),Wm(t,e),t===null&&ac(e.stateNode.containerInfo),Ft(e),null;case 10:return _y(e.type._context),Ft(e),null;case 17:return dn(e.type)&&Fd(),Ft(e),null;case 19:if(We(Ye),i=e.memoizedState,i===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)vl(i,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qd(t),o!==null){for(e.flags|=128,vl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ye,Ye.current&1|2),e.child}t=t.sibling}i.tail!==null&&it()>ya&&(e.flags|=128,r=!0,vl(i,!1),e.lanes=4194304)}else{if(!r)if(t=qd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ke)return Ft(e),null}else 2*it()-i.renderingStartTime>ya&&n!==1073741824&&(e.flags|=128,r=!0,vl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=it(),e.sibling=null,n=Ye.current,Fe(Ye,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return Ly(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function uD(t,e){switch(yy(e),e.tag){case 1:return dn(e.type)&&Fd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ma(),We(un),We(Wt),Cy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ty(e),null;case 13:if(We(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));fa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ye),null;case 4:return ma(),null;case 10:return _y(e.type._context),null;case 22:case 23:return Ly(),null;case 24:return null;default:return null}}var Mu=!1,Bt=!1,dD=typeof WeakSet=="function"?WeakSet:Set,te=null;function Oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function qm(t,e,n){try{n()}catch(r){rt(t,e,r)}}var mx=!1;function hD(t,e){if(Nm=Od,t=ES(),my(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++d===s&&(a=o),m===i&&++h===r&&(l=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(km={focusedElem:t,selectionRange:n},Od=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var v=T.memoizedProps,E=T.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Wn(e.type,v),E);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(k){rt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return T=mx,mx=!1,T}function Ll(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&qm(e,n,i)}s=s.next}while(s!==r)}}function Wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vb(t){var e=t.alternate;e!==null&&(t.alternate=null,vb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[cc],delete e[Dm],delete e[K2],delete e[Q2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wb(t){return t.tag===5||t.tag===3||t.tag===4}function gx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Km(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vd));else if(r!==4&&(t=t.child,t!==null))for(Km(t,e,n),t=t.sibling;t!==null;)Km(t,e,n),t=t.sibling}function Qm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qm(t,e,n),t=t.sibling;t!==null;)Qm(t,e,n),t=t.sibling}var Nt=null,Kn=!1;function ms(t,e,n){for(n=n.child;n!==null;)xb(t,e,n),n=n.sibling}function xb(t,e,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Lh,n)}catch{}switch(n.tag){case 5:Bt||Oo(n,e);case 6:var r=Nt,s=Kn;Nt=null,ms(t,e,n),Nt=r,Kn=s,Nt!==null&&(Kn?(t=Nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(Kn?(t=Nt,n=n.stateNode,t.nodeType===8?wp(t.parentNode,n):t.nodeType===1&&wp(t,n),sc(t)):wp(Nt,n.stateNode));break;case 4:r=Nt,s=Kn,Nt=n.stateNode.containerInfo,Kn=!0,ms(t,e,n),Nt=r,Kn=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&qm(n,e,o),s=s.next}while(s!==r)}ms(t,e,n);break;case 1:if(!Bt&&(Oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}ms(t,e,n);break;case 21:ms(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,ms(t,e,n),Bt=r):ms(t,e,n);break;default:ms(t,e,n)}}function yx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dD),e.forEach(function(r){var s=_D.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Nt=a.stateNode,Kn=!1;break e;case 3:Nt=a.stateNode.containerInfo,Kn=!0;break e;case 4:Nt=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if(Nt===null)throw Error(Y(160));xb(i,o,s),Nt=null,Kn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){rt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_b(e,t),e=e.sibling}function _b(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),mr(t),r&4){try{Ll(3,t,t.return),Wh(3,t)}catch(v){rt(t,t.return,v)}try{Ll(5,t,t.return)}catch(v){rt(t,t.return,v)}}break;case 1:Bn(e,t),mr(t),r&512&&n!==null&&Oo(n,n.return);break;case 5:if(Bn(e,t),mr(t),r&512&&n!==null&&Oo(n,n.return),t.flags&32){var s=t.stateNode;try{ec(s,"")}catch(v){rt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&BE(s,i),wm(a,o);var d=wm(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?KE(s,f):h==="dangerouslySetInnerHTML"?qE(s,f):h==="children"?ec(s,f):ny(s,h,f,d)}switch(a){case"input":pm(s,i);break;case"textarea":HE(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Vo(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Vo(s,!!i.multiple,i.defaultValue,!0):Vo(s,!!i.multiple,i.multiple?[]:"",!1))}s[cc]=i}catch(v){rt(t,t.return,v)}}break;case 6:if(Bn(e,t),mr(t),r&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){rt(t,t.return,v)}}break;case 3:if(Bn(e,t),mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sc(e.containerInfo)}catch(v){rt(t,t.return,v)}break;case 4:Bn(e,t),mr(t);break;case 13:Bn(e,t),mr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Oy=it())),r&4&&yx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(d=Bt)||h,Bn(e,t),Bt=d):Bn(e,t),mr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(te=t,h=t.child;h!==null;){for(f=te=h;te!==null;){switch(m=te,y=m.child,m.tag){case 0:case 11:case 14:case 15:Ll(4,m,m.return);break;case 1:Oo(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(v){rt(r,n,v)}}break;case 5:Oo(m,m.return);break;case 22:if(m.memoizedState!==null){wx(f);continue}}y!==null?(y.return=m,te=y):wx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=GE("display",o))}catch(v){rt(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){rt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bn(e,t),mr(t),r&4&&yx(t);break;case 21:break;default:Bn(e,t),mr(t)}}function mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wb(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ec(s,""),r.flags&=-33);var i=gx(t);Qm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gx(t);Km(t,a,o);break;default:throw Error(Y(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fD(t,e,n){te=t,Eb(t)}function Eb(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Mu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=Mu;var d=Bt;if(Mu=o,(Bt=l)&&!d)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?xx(s):l!==null?(l.return=o,te=l):xx(s);for(;i!==null;)te=i,Eb(i),i=i.sibling;te=s,Mu=a,Bt=d}vx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):vx(t)}}function vx(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||Wh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&nx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&sc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Bt||e.flags&512&&Gm(e)}catch(m){rt(e,e.return,m)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function wx(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function xx(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wh(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){rt(e,s,l)}}var i=e.return;try{Gm(e)}catch(l){rt(e,i,l)}break;case 5:var o=e.return;try{Gm(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var pD=Math.ceil,Qd=is.ReactCurrentDispatcher,Dy=is.ReactCurrentOwner,Ln=is.ReactCurrentBatchConfig,Ne=0,Ct=null,at=null,Dt=0,vn=0,Mo=di(0),gt=0,mc=null,Ki=0,qh=0,jy=0,Vl=null,ln=null,Oy=0,ya=1/0,Fr=null,Yd=!1,Ym=null,$s=null,Lu=!1,Os=null,Xd=0,Fl=0,Xm=null,hd=-1,fd=0;function Xt(){return Ne&6?it():hd!==-1?hd:hd=it()}function Bs(t){return t.mode&1?Ne&2&&Dt!==0?Dt&-Dt:X2.transition!==null?(fd===0&&(fd=oS()),fd):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:fS(t.type)),t):1}function er(t,e,n,r){if(50<Fl)throw Fl=0,Xm=null,Error(Y(185));Oc(t,n,r),(!(Ne&2)||t!==Ct)&&(t===Ct&&(!(Ne&2)&&(qh|=n),gt===4&&Ts(t,Dt)),hn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(ya=it()+500,$h&&hi()))}function hn(t,e){var n=t.callbackNode;XP(t,e);var r=jd(t,t===Ct?Dt:0);if(r===0)n!==null&&Nw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nw(n),e===1)t.tag===0?Y2(_x.bind(null,t)):PS(_x.bind(null,t)),q2(function(){!(Ne&6)&&hi()}),n=null;else{switch(aS(r)){case 1:n=ay;break;case 4:n=sS;break;case 16:n=Dd;break;case 536870912:n=iS;break;default:n=Dd}n=kb(n,Sb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Sb(t,e){if(hd=-1,fd=0,Ne&6)throw Error(Y(327));var n=t.callbackNode;if(Bo()&&t.callbackNode!==n)return null;var r=jd(t,t===Ct?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jd(t,r);else{e=r;var s=Ne;Ne|=2;var i=Tb();(Ct!==t||Dt!==e)&&(Fr=null,ya=it()+500,zi(t,e));do try{yD();break}catch(a){bb(t,a)}while(!0);xy(),Qd.current=i,Ne=s,at!==null?e=0:(Ct=null,Dt=0,e=gt)}if(e!==0){if(e===2&&(s=bm(t),s!==0&&(r=s,e=Jm(t,s))),e===1)throw n=mc,zi(t,0),Ts(t,r),hn(t,it()),n;if(e===6)Ts(t,r);else{if(s=t.current.alternate,!(r&30)&&!mD(s)&&(e=Jd(t,r),e===2&&(i=bm(t),i!==0&&(r=i,e=Jm(t,i))),e===1))throw n=mc,zi(t,0),Ts(t,r),hn(t,it()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:Ni(t,ln,Fr);break;case 3:if(Ts(t,r),(r&130023424)===r&&(e=Oy+500-it(),10<e)){if(jd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Xt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Pm(Ni.bind(null,t,ln,Fr),e);break}Ni(t,ln,Fr);break;case 4:if(Ts(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Zn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pD(r/1960))-r,10<r){t.timeoutHandle=Pm(Ni.bind(null,t,ln,Fr),r);break}Ni(t,ln,Fr);break;case 5:Ni(t,ln,Fr);break;default:throw Error(Y(329))}}}return hn(t,it()),t.callbackNode===n?Sb.bind(null,t):null}function Jm(t,e){var n=Vl;return t.current.memoizedState.isDehydrated&&(zi(t,e).flags|=256),t=Jd(t,e),t!==2&&(e=ln,ln=n,e!==null&&Zm(e)),t}function Zm(t){ln===null?ln=t:ln.push.apply(ln,t)}function mD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!sr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ts(t,e){for(e&=~jy,e&=~qh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zn(e),r=1<<n;t[n]=-1,e&=~r}}function _x(t){if(Ne&6)throw Error(Y(327));Bo();var e=jd(t,0);if(!(e&1))return hn(t,it()),null;var n=Jd(t,e);if(t.tag!==0&&n===2){var r=bm(t);r!==0&&(e=r,n=Jm(t,r))}if(n===1)throw n=mc,zi(t,0),Ts(t,e),hn(t,it()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ni(t,ln,Fr),hn(t,it()),null}function My(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(ya=it()+500,$h&&hi())}}function Qi(t){Os!==null&&Os.tag===0&&!(Ne&6)&&Bo();var e=Ne;Ne|=1;var n=Ln.transition,r=Oe;try{if(Ln.transition=null,Oe=1,t)return t()}finally{Oe=r,Ln.transition=n,Ne=e,!(Ne&6)&&hi()}}function Ly(){vn=Mo.current,We(Mo)}function zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,W2(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(yy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fd();break;case 3:ma(),We(un),We(Wt),Cy();break;case 5:Ty(r);break;case 4:ma();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:_y(r.type._context);break;case 22:case 23:Ly()}n=n.return}if(Ct=t,at=t=Hs(t.current,null),Dt=vn=e,gt=0,mc=null,jy=qh=Ki=0,ln=Vl=null,Pi!==null){for(e=0;e<Pi.length;e++)if(n=Pi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Pi=null}return t}function bb(t,e){do{var n=at;try{if(xy(),cd.current=Kd,Gd){for(var r=Je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gd=!1}if(Gi=0,Et=ht=Je=null,Ml=!1,hc=0,Dy.current=null,n===null||n.return===null){gt=1,mc=e,at=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=lx(o);if(y!==null){y.flags&=-257,cx(y,o,a,i,e),y.mode&1&&ax(i,d,e),e=y,l=d;var T=e.updateQueue;if(T===null){var v=new Set;v.add(l),e.updateQueue=v}else T.add(l);break e}else{if(!(e&1)){ax(i,d,e),Vy();break e}l=Error(Y(426))}}else if(Ke&&a.mode&1){var E=lx(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),cx(E,o,a,i,e),vy(ga(l,a));break e}}i=l=ga(l,a),gt!==4&&(gt=2),Vl===null?Vl=[i]:Vl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=ab(i,l,e);tx(i,_);break e;case 1:a=l;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&($s===null||!$s.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=lb(i,a,e);tx(i,k);break e}}i=i.return}while(i!==null)}Ib(n)}catch(O){e=O,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function Tb(){var t=Qd.current;return Qd.current=Kd,t===null?Kd:t}function Vy(){(gt===0||gt===3||gt===2)&&(gt=4),Ct===null||!(Ki&268435455)&&!(qh&268435455)||Ts(Ct,Dt)}function Jd(t,e){var n=Ne;Ne|=2;var r=Tb();(Ct!==t||Dt!==e)&&(Fr=null,zi(t,e));do try{gD();break}catch(s){bb(t,s)}while(!0);if(xy(),Ne=n,Qd.current=r,at!==null)throw Error(Y(261));return Ct=null,Dt=0,gt}function gD(){for(;at!==null;)Cb(at)}function yD(){for(;at!==null&&!$P();)Cb(at)}function Cb(t){var e=Nb(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?Ib(t):at=e,Dy.current=null}function Ib(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uD(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,at=null;return}}else if(n=cD(n,e,vn),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);gt===0&&(gt=5)}function Ni(t,e,n){var r=Oe,s=Ln.transition;try{Ln.transition=null,Oe=1,vD(t,e,n,r)}finally{Ln.transition=s,Oe=r}return null}function vD(t,e,n,r){do Bo();while(Os!==null);if(Ne&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(JP(t,i),t===Ct&&(at=Ct=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lu||(Lu=!0,kb(Dd,function(){return Bo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ln.transition,Ln.transition=null;var o=Oe;Oe=1;var a=Ne;Ne|=4,Dy.current=null,hD(t,n),_b(n,t),V2(km),Od=!!Nm,km=Nm=null,t.current=n,fD(n),BP(),Ne=a,Oe=o,Ln.transition=i}else t.current=n;if(Lu&&(Lu=!1,Os=t,Xd=s),i=t.pendingLanes,i===0&&($s=null),qP(n.stateNode),hn(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Yd)throw Yd=!1,t=Ym,Ym=null,t;return Xd&1&&t.tag!==0&&Bo(),i=t.pendingLanes,i&1?t===Xm?Fl++:(Fl=0,Xm=t):Fl=0,hi(),null}function Bo(){if(Os!==null){var t=aS(Xd),e=Ln.transition,n=Oe;try{if(Ln.transition=null,Oe=16>t?16:t,Os===null)var r=!1;else{if(t=Os,Os=null,Xd=0,Ne&6)throw Error(Y(331));var s=Ne;for(Ne|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(te=d;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:Ll(8,h,i)}var f=h.child;if(f!==null)f.return=h,te=f;else for(;te!==null;){h=te;var m=h.sibling,y=h.return;if(vb(h),h===d){te=null;break}if(m!==null){m.return=y,te=m;break}te=y}}}var T=i.alternate;if(T!==null){var v=T.child;if(v!==null){T.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ll(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,te=_;break e}te=i.return}}var w=t.current;for(te=w;te!==null;){o=te;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,te=S;else e:for(o=w;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wh(9,a)}}catch(O){rt(a,a.return,O)}if(a===o){te=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,te=k;break e}te=a.return}}if(Ne=s,hi(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Lh,t)}catch{}r=!0}return r}finally{Oe=n,Ln.transition=e}}return!1}function Ex(t,e,n){e=ga(n,e),e=ab(t,e,1),t=Us(t,e,1),e=Xt(),t!==null&&(Oc(t,1,e),hn(t,e))}function rt(t,e,n){if(t.tag===3)Ex(t,t,n);else for(;e!==null;){if(e.tag===3){Ex(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($s===null||!$s.has(r))){t=ga(n,t),t=lb(e,t,1),e=Us(e,t,1),t=Xt(),e!==null&&(Oc(e,1,t),hn(e,t));break}}e=e.return}}function wD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xt(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Dt&n)===n&&(gt===4||gt===3&&(Dt&130023424)===Dt&&500>it()-Oy?zi(t,0):jy|=n),hn(t,e)}function Ab(t,e){e===0&&(t.mode&1?(e=Iu,Iu<<=1,!(Iu&130023424)&&(Iu=4194304)):e=1);var n=Xt();t=Xr(t,e),t!==null&&(Oc(t,e,n),hn(t,n))}function xD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ab(t,n)}function _D(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),Ab(t,n)}var Nb;Nb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cn=!1,lD(t,e,n);cn=!!(t.flags&131072)}else cn=!1,Ke&&e.flags&1048576&&DS(e,$d,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dd(t,e),t=e.pendingProps;var s=ha(e,Wt.current);$o(e,n),s=Ay(null,e,r,t,s,n);var i=Ny();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(i=!0,zd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sy(e),s.updater=Hh,e.stateNode=s,s._reactInternals=e,Fm(e,r,t,n),e=$m(null,e,r,!0,i,n)):(e.tag=0,Ke&&i&&gy(e),Qt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=SD(r),t=Wn(r,t),s){case 0:e=Um(null,e,r,t,n);break e;case 1:e=hx(null,e,r,t,n);break e;case 11:e=ux(null,e,r,t,n);break e;case 14:e=dx(null,e,r,Wn(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),Um(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),hx(t,e,r,s,n);case 3:e:{if(hb(e),t===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,s=i.element,FS(t,e),Wd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ga(Error(Y(423)),e),e=fx(t,e,r,n,s);break e}else if(r!==s){s=ga(Error(Y(424)),e),e=fx(t,e,r,n,s);break e}else for(_n=zs(e.stateNode.containerInfo.firstChild),En=e,Ke=!0,Qn=null,n=LS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fa(),r===s){e=Jr(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return zS(e),t===null&&Mm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Rm(r,s)?o=null:i!==null&&Rm(r,i)&&(e.flags|=32),db(t,e),Qt(t,e,o,n),e.child;case 6:return t===null&&Mm(e),null;case 13:return fb(t,e,n);case 4:return by(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pa(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),ux(t,e,r,s,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Fe(Bd,r._currentValue),r._currentValue=o,i!==null)if(sr(i.value,o)){if(i.children===s.children&&!un.current){e=Jr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Gr(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Lm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Y(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Lm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Qt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,$o(e,n),s=Vn(s),r=r(s),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,s=Wn(r,e.pendingProps),s=Wn(r.type,s),dx(t,e,r,s,n);case 15:return cb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),dd(t,e),e.tag=1,dn(r)?(t=!0,zd(e)):t=!1,$o(e,n),ob(e,r,s),Fm(e,r,s,n),$m(null,e,r,!0,t,n);case 19:return pb(t,e,n);case 22:return ub(t,e,n)}throw Error(Y(156,e.tag))};function kb(t,e){return rS(t,e)}function ED(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,n,r){return new ED(t,e,n,r)}function Fy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SD(t){if(typeof t=="function")return Fy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sy)return 11;if(t===iy)return 14}return 2}function Hs(t,e){var n=t.alternate;return n===null?(n=On(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Fy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Co:return Ui(n.children,s,i,e);case ry:o=8,s|=8;break;case cm:return t=On(12,n,e,s|2),t.elementType=cm,t.lanes=i,t;case um:return t=On(13,n,e,s),t.elementType=um,t.lanes=i,t;case dm:return t=On(19,n,e,s),t.elementType=dm,t.lanes=i,t;case zE:return Gh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VE:o=10;break e;case FE:o=9;break e;case sy:o=11;break e;case iy:o=14;break e;case _s:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=On(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ui(t,e,n,r){return t=On(7,t,r,e),t.lanes=n,t}function Gh(t,e,n,r){return t=On(22,t,r,e),t.elementType=zE,t.lanes=n,t.stateNode={isHidden:!1},t}function Ip(t,e,n){return t=On(6,t,null,e),t.lanes=n,t}function Ap(t,e,n){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lp(0),this.expirationTimes=lp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zy(t,e,n,r,s,i,o,a,l){return t=new bD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=On(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sy(i),t}function TD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rb(t){if(!t)return Js;t=t._reactInternals;e:{if(oo(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(dn(n))return RS(t,n,e)}return e}function Pb(t,e,n,r,s,i,o,a,l){return t=zy(n,r,!0,t,s,i,o,a,l),t.context=Rb(null),n=t.current,r=Xt(),s=Bs(n),i=Gr(r,s),i.callback=e??null,Us(n,i,s),t.current.lanes=s,Oc(t,s,r),hn(t,r),t}function Kh(t,e,n,r){var s=e.current,i=Xt(),o=Bs(s);return n=Rb(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Us(s,e,o),t!==null&&(er(t,s,o,i),ld(t,s,o)),o}function Zd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uy(t,e){Sx(t,e),(t=t.alternate)&&Sx(t,e)}function CD(){return null}var Db=typeof reportError=="function"?reportError:function(t){console.error(t)};function $y(t){this._internalRoot=t}Qh.prototype.render=$y.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Kh(t,e,null,null)};Qh.prototype.unmount=$y.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qi(function(){Kh(null,t,null,null)}),e[Yr]=null}};function Qh(t){this._internalRoot=t}Qh.prototype.unstable_scheduleHydration=function(t){if(t){var e=uS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bs.length&&e!==0&&e<bs[n].priority;n++);bs.splice(n,0,t),n===0&&hS(t)}};function By(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bx(){}function ID(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Zd(o);i.call(d)}}var o=Pb(e,r,t,0,null,!1,!1,"",bx);return t._reactRootContainer=o,t[Yr]=o.current,ac(t.nodeType===8?t.parentNode:t),Qi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Zd(l);a.call(d)}}var l=zy(t,0,!1,null,null,!1,!1,"",bx);return t._reactRootContainer=l,t[Yr]=l.current,ac(t.nodeType===8?t.parentNode:t),Qi(function(){Kh(e,l,n,r)}),l}function Xh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Zd(o);a.call(l)}}Kh(e,o,t,s)}else o=ID(n,e,t,s,r);return Zd(o)}lS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bl(e.pendingLanes);n!==0&&(ly(e,n|1),hn(e,it()),!(Ne&6)&&(ya=it()+500,hi()))}break;case 13:Qi(function(){var r=Xr(t,1);if(r!==null){var s=Xt();er(r,t,1,s)}}),Uy(t,1)}};cy=function(t){if(t.tag===13){var e=Xr(t,134217728);if(e!==null){var n=Xt();er(e,t,134217728,n)}Uy(t,134217728)}};cS=function(t){if(t.tag===13){var e=Bs(t),n=Xr(t,e);if(n!==null){var r=Xt();er(n,t,e,r)}Uy(t,e)}};uS=function(){return Oe};dS=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};_m=function(t,e,n){switch(e){case"input":if(pm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Uh(r);if(!s)throw Error(Y(90));$E(r),pm(r,s)}}}break;case"textarea":HE(t,n);break;case"select":e=n.value,e!=null&&Vo(t,!!n.multiple,e,!1)}};XE=My;JE=Qi;var AD={usingClientEntryPoint:!1,Events:[Lc,ko,Uh,QE,YE,My]},wl={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ND={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tS(t),t===null?null:t.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance||CD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Lh=Vu.inject(ND),Sr=Vu}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AD;Tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!By(e))throw Error(Y(200));return TD(t,e,null,n)};Tn.createRoot=function(t,e){if(!By(t))throw Error(Y(299));var n=!1,r="",s=Db;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=zy(t,1,!1,null,null,n,!1,r,s),t[Yr]=e.current,ac(t.nodeType===8?t.parentNode:t),new $y(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=tS(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return Qi(t)};Tn.hydrate=function(t,e,n){if(!Yh(e))throw Error(Y(200));return Xh(null,t,e,!0,n)};Tn.hydrateRoot=function(t,e,n){if(!By(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Db;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Pb(e,null,t,1,n??null,s,!1,i,o),t[Yr]=e.current,ac(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Qh(e)};Tn.render=function(t,e,n){if(!Yh(e))throw Error(Y(200));return Xh(null,t,e,!1,n)};Tn.unmountComponentAtNode=function(t){if(!Yh(t))throw Error(Y(40));return t._reactRootContainer?(Qi(function(){Xh(null,null,t,!1,function(){t._reactRootContainer=null,t[Yr]=null})}),!0):!1};Tn.unstable_batchedUpdates=My;Tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yh(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return Xh(t,e,n,!1,r)};Tn.version="18.3.1-next-f1338f8080-20240426";function jb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jb)}catch(t){console.error(t)}}jb(),jE.exports=Tn;var Mn=jE.exports;const kD=_E(Mn);var Ob,Tx=Mn;Ob=Tx.createRoot,Tx.hydrateRoot;function RD(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var Mb={exports:{}},Lb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=p;function PD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var DD=typeof Object.is=="function"?Object.is:PD,jD=va.useState,OD=va.useEffect,MD=va.useLayoutEffect,LD=va.useDebugValue;function VD(t,e){var n=e(),r=jD({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return MD(function(){s.value=n,s.getSnapshot=e,Np(s)&&i({inst:s})},[t,n,e]),OD(function(){return Np(s)&&i({inst:s}),t(function(){Np(s)&&i({inst:s})})},[t]),LD(n),n}function Np(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!DD(t,n)}catch{return!0}}function FD(t,e){return e()}var zD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?FD:VD;Lb.useSyncExternalStore=va.useSyncExternalStore!==void 0?va.useSyncExternalStore:zD;Mb.exports=Lb;var UD=Mb.exports;const $D=PE.useInsertionEffect,BD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HD=BD?p.useLayoutEffect:p.useEffect,WD=$D||HD,Vb=t=>{const e=p.useRef([t,(...n)=>e[0](...n)]).current;return WD(()=>{e[0]=t}),e[1]},qD="popstate",Hy="pushState",Wy="replaceState",GD="hashchange",Cx=[qD,Hy,Wy,GD],KD=t=>{for(const e of Cx)addEventListener(e,t);return()=>{for(const e of Cx)removeEventListener(e,t)}},Fb=(t,e)=>UD.useSyncExternalStore(KD,t,e),QD=()=>location.search,YD=({ssrSearch:t=""}={})=>Fb(QD,()=>t),Ix=()=>location.pathname,XD=({ssrPath:t}={})=>Fb(Ix,t?()=>t:Ix),JD=(t,{replace:e=!1,state:n=null}={})=>history[e?Wy:Hy](n,"",t),ZD=(t={})=>[XD(t),JD],Ax=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Ax]>"u"){for(const t of[Hy,Wy]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Ax,{value:!0})}const ej=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",zb=(t="")=>t==="/"?"":t,tj=(t,e)=>t[0]==="~"?t.slice(1):zb(e)+t,nj=(t="",e)=>ej(Nx(zb(t)),Nx(e)),Nx=t=>{try{return decodeURI(t)}catch{return t}},Ub={hook:ZD,searchHook:YD,parser:RD,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},$b=p.createContext(Ub),Fc=()=>p.useContext($b),Bb={},Hb=p.createContext(Bb),rj=()=>p.useContext(Hb),Jh=t=>{const[e,n]=t.hook(t);return[nj(t.base,e),Vb((r,s)=>n(tj(r,t.base),s))]},Wb=()=>Jh(Fc()),qb=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((f,m)=>[f,l[m]])):o.groups;let h={...l};return d&&Object.assign(h,d),h})(),...r?[a]:[]]:[!1,null]},Gb=({children:t,...e})=>{var h,f;const n=Fc(),r=e.hook?Ub:n;let s=r;const[i,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=p.useRef({}),l=a.current,d=l;for(let m in r){const y=m==="base"?r[m]+(e[m]||""):e[m]||r[m];l===d&&y!==d[m]&&(a.current=d={...d}),d[m]=y,y!==r[m]&&(s=d)}return p.createElement($b.Provider,{value:s,children:t})},kx=({children:t,component:e},n)=>e?p.createElement(e,{params:n}):typeof t=="function"?t(n):t,sj=t=>{let e=p.useRef(Bb),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Ii=({path:t,nest:e,match:n,...r})=>{const s=Fc(),[i]=Jh(s),[o,a,l]=n??qb(s.parser,t,i,e),d=sj({...rj(),...a});if(!o)return null;const h=l?p.createElement(Gb,{base:l},kx(r,d)):kx(r,d);return p.createElement(Hb.Provider,{value:d,children:h})},gc=p.forwardRef((t,e)=>{const n=Fc(),[r,s]=Jh(n),{to:i="",href:o=i,onClick:a,asChild:l,children:d,className:h,replace:f,state:m,...y}=t,T=Vb(E=>{E.ctrlKey||E.metaKey||E.altKey||E.shiftKey||E.button!==0||(a==null||a(E),E.defaultPrevented||(E.preventDefault(),s(o,t)))}),v=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&p.isValidElement(d)?p.cloneElement(d,{onClick:T,href:v}):p.createElement("a",{...y,onClick:T,href:v,className:h!=null&&h.call?h(r===o):h,children:d,ref:e})}),Kb=t=>Array.isArray(t)?t.flatMap(e=>Kb(e&&e.type===p.Fragment?e.props.children:e)):[t],ij=({children:t,location:e})=>{const n=Fc(),[r]=Jh(n);for(const s of Kb(t)){let i=0;if(p.isValidElement(s)&&(i=qb(n.parser,s.props.path,e||r,s.props.nest))[0])return p.cloneElement(s,{match:i})}return null};var Zh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ef=typeof window>"u"||"Deno"in globalThis;function qn(){}function oj(t,e){return typeof t=="function"?t(e):t}function aj(t){return typeof t=="number"&&t>=0&&t!==1/0}function lj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Rx(t,e){return typeof t=="function"?t(e):t}function cj(t,e){return typeof t=="function"?t(e):t}function Px(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==qy(o,e.options))return!1}else if(!vc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Dx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(yc(e.options.mutationKey)!==yc(i))return!1}else if(!vc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function qy(t,e){return((e==null?void 0:e.queryKeyHashFn)||yc)(t)}function yc(t){return JSON.stringify(t,(e,n)=>eg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function vc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!vc(t[n],e[n])):!1}function Qb(t,e){if(t===e)return t;const n=jx(t)&&jx(e);if(n||eg(t)&&eg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=Qb(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function jx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function eg(t){if(!Ox(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Ox(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ox(t){return Object.prototype.toString.call(t)==="[object Object]"}function uj(t){return new Promise(e=>{setTimeout(e,t)})}function dj(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Qb(t,e):e}function hj(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function fj(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Gy=Symbol();function Yb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Gy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Mi,Ns,na,fE,pj=(fE=class extends Zh{constructor(){super();De(this,Mi);De(this,Ns);De(this,na);_e(this,na,e=>{if(!ef&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,Ns)||this.setEventListener(H(this,na))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,Ns))==null||e.call(this),_e(this,Ns,void 0))}setEventListener(e){var n;_e(this,na,e),(n=H(this,Ns))==null||n.call(this),_e(this,Ns,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,Mi)!==e&&(_e(this,Mi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof H(this,Mi)=="boolean"?H(this,Mi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Mi=new WeakMap,Ns=new WeakMap,na=new WeakMap,fE),Xb=new pj,ra,ks,sa,pE,mj=(pE=class extends Zh{constructor(){super();De(this,ra,!0);De(this,ks);De(this,sa);_e(this,sa,e=>{if(!ef&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,ks)||this.setEventListener(H(this,sa))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,ks))==null||e.call(this),_e(this,ks,void 0))}setEventListener(e){var n;_e(this,sa,e),(n=H(this,ks))==null||n.call(this),_e(this,ks,e(this.setOnline.bind(this)))}setOnline(e){H(this,ra)!==e&&(_e(this,ra,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return H(this,ra)}},ra=new WeakMap,ks=new WeakMap,sa=new WeakMap,pE),eh=new mj;function gj(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function yj(t){return Math.min(1e3*2**t,3e4)}function Jb(t){return(t??"online")==="online"?eh.isOnline():!0}var Zb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function kp(t){return t instanceof Zb}function eT(t){let e=!1,n=0,r=!1,s;const i=gj(),o=v=>{var E;r||(m(new Zb(v)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},d=()=>Xb.isFocused()&&(t.networkMode==="always"||eh.isOnline())&&t.canRun(),h=()=>Jb(t.networkMode)&&t.canRun(),f=v=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,v),s==null||s(),i.reject(v))},y=()=>new Promise(v=>{var E;s=_=>{(r||d())&&v(_)},(E=t.onPause)==null||E.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),T=()=>{if(r)return;let v;const E=n===0?t.initialPromise:void 0;try{v=E??t.fn()}catch(_){v=Promise.reject(_)}Promise.resolve(v).then(f).catch(_=>{var D;if(r)return;const w=t.retry??(ef?0:3),S=t.retryDelay??yj,k=typeof S=="function"?S(n,_):S,O=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,_);if(e||!O){m(_);return}n++,(D=t.onFail)==null||D.call(t,n,_),uj(k).then(()=>d()?void 0:y()).then(()=>{e?m(_):T()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?T():y().then(T),i)}}function vj(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Yt=vj(),Li,mE,tT=(mE=class{constructor(){De(this,Li)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),aj(this.gcTime)&&_e(this,Li,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ef?1/0:5*60*1e3))}clearGcTimeout(){H(this,Li)&&(clearTimeout(H(this,Li)),_e(this,Li,void 0))}},Li=new WeakMap,mE),ia,oa,Nn,Ut,Pc,Vi,Gn,Vr,gE,wj=(gE=class extends tT{constructor(n){super();De(this,Gn);De(this,ia);De(this,oa);De(this,Nn);De(this,Ut);De(this,Pc);De(this,Vi);_e(this,Vi,!1),_e(this,Pc,n.defaultOptions),this.setOptions(n.options),this.observers=[],_e(this,Nn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,_e(this,ia,_j(this.options)),this.state=n.state??H(this,ia),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=H(this,Ut))==null?void 0:n.promise}setOptions(n){this.options={...H(this,Pc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Nn).remove(this)}setData(n,r){const s=dj(this.state.data,n,this.options);return Lt(this,Gn,Vr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Lt(this,Gn,Vr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=H(this,Ut))==null?void 0:s.promise;return(i=H(this,Ut))==null||i.cancel(n),r?r.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,ia))}isActive(){return this.observers.some(n=>cj(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!lj(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,Ut))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,Ut))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),H(this,Nn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(H(this,Ut)&&(H(this,Vi)?H(this,Ut).cancel({revert:!0}):H(this,Ut).cancelRetry()),this.scheduleGc()),H(this,Nn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,Gn,Vr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,Ut))return H(this,Ut).continueRetry(),H(this,Ut).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(_e(this,Vi,!0),s.signal)})},o=()=>{const m=Yb(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return i(y),_e(this,Vi,!1),this.options.persister?this.options.persister(m,y,this):m(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(d=this.options.behavior)==null||d.onFetch(a,this),_e(this,oa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Lt(this,Gn,Vr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=m=>{var y,T,v,E;kp(m)&&m.silent||Lt(this,Gn,Vr).call(this,{type:"error",error:m}),kp(m)||((T=(y=H(this,Nn).config).onError)==null||T.call(y,m,this),(E=(v=H(this,Nn).config).onSettled)==null||E.call(v,this.state.data,m,this)),this.scheduleGc()};return _e(this,Ut,eT({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var y,T,v,E;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(_){l(_);return}(T=(y=H(this,Nn).config).onSuccess)==null||T.call(y,m,this),(E=(v=H(this,Nn).config).onSettled)==null||E.call(v,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,y)=>{Lt(this,Gn,Vr).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Lt(this,Gn,Vr).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Gn,Vr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),H(this,Ut).start()}},ia=new WeakMap,oa=new WeakMap,Nn=new WeakMap,Ut=new WeakMap,Pc=new WeakMap,Vi=new WeakMap,Gn=new WeakSet,Vr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...xj(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return kp(i)&&i.revert&&H(this,oa)?{...H(this,oa),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Yt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),H(this,Nn).notify({query:this,type:"updated",action:n})})},gE);function xj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _j(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var vr,yE,Ej=(yE=class extends Zh{constructor(e={}){super();De(this,vr);this.config=e,_e(this,vr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??qy(s,n);let o=this.get(i);return o||(o=new wj({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){H(this,vr).has(e.queryHash)||(H(this,vr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=H(this,vr).get(e.queryHash);n&&(e.destroy(),n===e&&H(this,vr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,vr).get(e)}getAll(){return[...H(this,vr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Px(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Px(e,r)):n}notify(e){Yt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Yt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},vr=new WeakMap,yE),wr,Kt,Fi,xr,ws,vE,Sj=(vE=class extends tT{constructor(n){super();De(this,xr);De(this,wr);De(this,Kt);De(this,Fi);this.mutationId=n.mutationId,_e(this,Kt,n.mutationCache),_e(this,wr,[]),this.state=n.state||bj(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){H(this,wr).includes(n)||(H(this,wr).push(n),this.clearGcTimeout(),H(this,Kt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){_e(this,wr,H(this,wr).filter(r=>r!==n)),this.scheduleGc(),H(this,Kt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){H(this,wr).length||(this.state.status==="pending"?this.scheduleGc():H(this,Kt).remove(this))}continue(){var n;return((n=H(this,Fi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,d,h,f,m,y,T,v,E,_,w,S,k,O,D,b,C;_e(this,Fi,eT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,N)=>{Lt(this,xr,ws).call(this,{type:"failed",failureCount:I,error:N})},onPause:()=>{Lt(this,xr,ws).call(this,{type:"pause"})},onContinue:()=>{Lt(this,xr,ws).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Kt).canRun(this)}));const r=this.state.status==="pending",s=!H(this,Fi).canStart();try{if(!r){Lt(this,xr,ws).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=H(this,Kt).config).onMutate)==null?void 0:o.call(i,n,this));const N=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));N!==this.state.context&&Lt(this,xr,ws).call(this,{type:"pending",context:N,variables:n,isPaused:s})}const I=await H(this,Fi).start();return await((h=(d=H(this,Kt).config).onSuccess)==null?void 0:h.call(d,I,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,I,n,this.state.context)),await((T=(y=H(this,Kt).config).onSettled)==null?void 0:T.call(y,I,null,this.state.variables,this.state.context,this)),await((E=(v=this.options).onSettled)==null?void 0:E.call(v,I,null,n,this.state.context)),Lt(this,xr,ws).call(this,{type:"success",data:I}),I}catch(I){try{throw await((w=(_=H(this,Kt).config).onError)==null?void 0:w.call(_,I,n,this.state.context,this)),await((k=(S=this.options).onError)==null?void 0:k.call(S,I,n,this.state.context)),await((D=(O=H(this,Kt).config).onSettled)==null?void 0:D.call(O,void 0,I,this.state.variables,this.state.context,this)),await((C=(b=this.options).onSettled)==null?void 0:C.call(b,void 0,I,n,this.state.context)),I}finally{Lt(this,xr,ws).call(this,{type:"error",error:I})}}finally{H(this,Kt).runNext(this)}}},wr=new WeakMap,Kt=new WeakMap,Fi=new WeakMap,xr=new WeakSet,ws=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Yt.batch(()=>{H(this,wr).forEach(s=>{s.onMutationUpdate(n)}),H(this,Kt).notify({mutation:this,type:"updated",action:n})})},vE);function bj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yn,Dc,wE,Tj=(wE=class extends Zh{constructor(e={}){super();De(this,yn);De(this,Dc);this.config=e,_e(this,yn,new Map),_e(this,Dc,Date.now())}build(e,n,r){const s=new Sj({mutationCache:this,mutationId:++_u(this,Dc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Fu(e),r=H(this,yn).get(n)??[];r.push(e),H(this,yn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Fu(e);if(H(this,yn).has(n)){const s=(r=H(this,yn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?H(this,yn).delete(n):H(this,yn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=H(this,yn).get(Fu(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=H(this,yn).get(Fu(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...H(this,yn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Dx(n,r))}findAll(e={}){return this.getAll().filter(n=>Dx(e,n))}notify(e){Yt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Yt.batch(()=>Promise.all(e.map(n=>n.continue().catch(qn))))}},yn=new WeakMap,Dc=new WeakMap,wE);function Fu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Mx(t){return{onFetch:(e,n)=>{var h,f,m,y,T;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const d=async()=>{let v=!1;const E=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},_=Yb(e.options,e.fetchOptions),w=async(S,k,O)=>{if(v)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const D={queryKey:e.queryKey,pageParam:k,direction:O?"backward":"forward",meta:e.options.meta};E(D);const b=await _(D),{maxPages:C}=e.options,I=O?fj:hj;return{pages:I(S.pages,b,C),pageParams:I(S.pageParams,k,C)}};if(s&&i.length){const S=s==="backward",k=S?Cj:Lx,O={pages:i,pageParams:o},D=k(r,O);a=await w(O,D,S)}else{const S=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:Lx(r,a);if(l>0&&k==null)break;a=await w(a,k),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var v,E;return(E=(v=e.options).persister)==null?void 0:E.call(v,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function Lx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Cj(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var nt,Rs,Ps,aa,la,Ds,ca,ua,xE,Ij=(xE=class{constructor(t={}){De(this,nt);De(this,Rs);De(this,Ps);De(this,aa);De(this,la);De(this,Ds);De(this,ca);De(this,ua);_e(this,nt,t.queryCache||new Ej),_e(this,Rs,t.mutationCache||new Tj),_e(this,Ps,t.defaultOptions||{}),_e(this,aa,new Map),_e(this,la,new Map),_e(this,Ds,0)}mount(){_u(this,Ds)._++,H(this,Ds)===1&&(_e(this,ca,Xb.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,nt).onFocus())})),_e(this,ua,eh.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,nt).onOnline())})))}unmount(){var t,e;_u(this,Ds)._--,H(this,Ds)===0&&((t=H(this,ca))==null||t.call(this),_e(this,ca,void 0),(e=H(this,ua))==null||e.call(this),_e(this,ua,void 0))}isFetching(t){return H(this,nt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,Rs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,nt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=H(this,nt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Rx(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return H(this,nt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=H(this,nt).get(r.queryHash),i=s==null?void 0:s.state.data,o=oj(e,i);if(o!==void 0)return H(this,nt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Yt.batch(()=>H(this,nt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,nt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=H(this,nt);Yt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=H(this,nt),r={type:"active",...t};return Yt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Yt.batch(()=>H(this,nt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(qn).catch(qn)}invalidateQueries(t={},e={}){return Yt.batch(()=>{if(H(this,nt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Yt.batch(()=>H(this,nt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(qn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(qn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=H(this,nt).build(this,e);return n.isStaleByTime(Rx(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(qn).catch(qn)}fetchInfiniteQuery(t){return t.behavior=Mx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(qn).catch(qn)}ensureInfiniteQueryData(t){return t.behavior=Mx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return eh.isOnline()?H(this,Rs).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,nt)}getMutationCache(){return H(this,Rs)}getDefaultOptions(){return H(this,Ps)}setDefaultOptions(t){_e(this,Ps,t)}setQueryDefaults(t,e){H(this,aa).set(yc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,aa).values()];let n={};return e.forEach(r=>{vc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){H(this,la).set(yc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,la).values()];let n={};return e.forEach(r=>{vc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,Ps).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=qy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Gy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,Ps).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,nt).clear(),H(this,Rs).clear()}},nt=new WeakMap,Rs=new WeakMap,Ps=new WeakMap,aa=new WeakMap,la=new WeakMap,Ds=new WeakMap,ca=new WeakMap,ua=new WeakMap,xE),Aj=p.createContext(void 0),Nj=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(Aj.Provider,{value:t,children:e}));async function kj(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const Rj=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await kj(n),await n.json())},Pj=new Ij({defaultOptions:{queries:{queryFn:Rj({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Dj=1,jj=1e6;let Rp=0;function Oj(){return Rp=(Rp+1)%Number.MAX_SAFE_INTEGER,Rp.toString()}const Pp=new Map,Vx=t=>{if(Pp.has(t))return;const e=setTimeout(()=>{Pp.delete(t),zl({type:"REMOVE_TOAST",toastId:t})},jj);Pp.set(t,e)},Mj=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Dj)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Vx(n):t.toasts.forEach(r=>{Vx(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},md=[];let gd={toasts:[]};function zl(t){gd=Mj(gd,t),md.forEach(e=>{e(gd)})}function Lj({...t}){const e=Oj(),n=s=>zl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>zl({type:"DISMISS_TOAST",toastId:e});return zl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Ky(){const[t,e]=p.useState(gd);return p.useEffect(()=>(md.push(e),()=>{const n=md.indexOf(e);n>-1&&md.splice(n,1)}),[t]),{...t,toast:Lj,dismiss:n=>zl({type:"DISMISS_TOAST",toastId:n})}}function ge(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Fx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nT(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Fx(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Fx(t[s],null)}}}}function Me(...t){return p.useCallback(nT(...t),t)}function Vj(t,e){const n=p.createContext(e),r=i=>{const{children:o,...a}=i,l=p.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function os(t,e=[]){let n=[];function r(i,o){const a=p.createContext(o),l=n.length;n=[...n,o];const d=f=>{var _;const{scope:m,children:y,...T}=f,v=((_=m==null?void 0:m[t])==null?void 0:_[l])||a,E=p.useMemo(()=>T,Object.values(T));return u.jsx(v.Provider,{value:E,children:y})};d.displayName=i+"Provider";function h(f,m){var v;const y=((v=m==null?void 0:m[t])==null?void 0:v[l])||a,T=p.useContext(y);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Fj(s,...e)]}function Fj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function wa(t){const e=Uj(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,a=p.Children.toArray(i),l=a.find($j);if(l){const d=l.props.children,h=a.map(f=>f===l?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:f);return u.jsx(e,{...o,ref:s,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var zj=wa("Slot");function Uj(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=Hj(s),a=Bj(i,s.props);return s.type!==p.Fragment&&(a.ref=r?nT(r,o):o),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rT=Symbol("radix.slottable");function sT(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=rT,e}function $j(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rT}function Bj(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Hj(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function iT(t){const e=t+"CollectionProvider",[n,r]=os(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:E,children:_}=v,w=Se.useRef(null),S=Se.useRef(new Map).current;return u.jsx(s,{scope:E,itemMap:S,collectionRef:w,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=wa(a),d=Se.forwardRef((v,E)=>{const{scope:_,children:w}=v,S=i(a,_),k=Me(E,S.collectionRef);return u.jsx(l,{ref:k,children:w})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=wa(h),y=Se.forwardRef((v,E)=>{const{scope:_,children:w,...S}=v,k=Se.useRef(null),O=Me(E,k),D=i(h,_);return Se.useEffect(()=>(D.itemMap.set(k,{ref:k,...S}),()=>void D.itemMap.delete(k))),u.jsx(m,{[f]:"",ref:O,children:w})});y.displayName=h;function T(v){const E=i(t+"CollectionConsumer",v);return Se.useCallback(()=>{const w=E.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((D,b)=>S.indexOf(D.ref.current)-S.indexOf(b.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},T,r]}var Wj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ee=Wj.reduce((t,e)=>{const n=wa(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function oT(t,e){t&&Mn.flushSync(()=>t.dispatchEvent(e))}function fn(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function qj(t,e=globalThis==null?void 0:globalThis.document){const n=fn(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Gj="DismissableLayer",tg="dismissableLayer.update",Kj="dismissableLayer.pointerDownOutside",Qj="dismissableLayer.focusOutside",zx,aT=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zc=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,d=p.useContext(aT),[h,f]=p.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),T=Me(e,b=>f(b)),v=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),w=h?v.indexOf(h):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,k=w>=_,O=Xj(b=>{const C=b.target,I=[...d.branches].some(N=>N.contains(C));!k||I||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},m),D=Jj(b=>{const C=b.target;[...d.branches].some(N=>N.contains(C))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},m);return qj(b=>{w===d.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},m),p.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(zx=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Ux(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=zx)}},[h,m,n,d]),p.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Ux())},[h,d]),p.useEffect(()=>{const b=()=>y({});return document.addEventListener(tg,b),()=>document.removeEventListener(tg,b)},[]),u.jsx(Ee.div,{...l,ref:T,style:{pointerEvents:S?k?"auto":"none":void 0,...t.style},onFocusCapture:ge(t.onFocusCapture,D.onFocusCapture),onBlurCapture:ge(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ge(t.onPointerDownCapture,O.onPointerDownCapture)})});zc.displayName=Gj;var Yj="DismissableLayerBranch",lT=p.forwardRef((t,e)=>{const n=p.useContext(aT),r=p.useRef(null),s=Me(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(Ee.div,{...t,ref:s})});lT.displayName=Yj;function Xj(t,e=globalThis==null?void 0:globalThis.document){const n=fn(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){cT(Kj,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Jj(t,e=globalThis==null?void 0:globalThis.document){const n=fn(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&cT(Qj,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ux(){const t=new CustomEvent(tg);document.dispatchEvent(t)}function cT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?oT(s,i):s.dispatchEvent(i)}var Zj=zc,eO=lT,wt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},tO="Portal",tf=p.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=p.useState(!1);wt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?kD.createPortal(u.jsx(Ee.div,{...r,ref:e}),o):null});tf.displayName=tO;function nO(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var La=t=>{const{present:e,children:n}=t,r=rO(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Me(r.ref,sO(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};La.displayName="Presence";function rO(t){const[e,n]=p.useState(),r=p.useRef({}),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[a,l]=nO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=zu(r.current);i.current=a==="mounted"?d:"none"},[a]),wt(()=>{const d=r.current,h=s.current;if(h!==t){const m=i.current,y=zu(d);t?l("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),wt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=y=>{const v=zu(r.current).includes(y.animationName);if(y.target===e&&v&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=y=>{y.target===e&&(i.current=zu(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function zu(t){return(t==null?void 0:t.animationName)||"none"}function sO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function wc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=iO({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=fn(n),l=p.useCallback(d=>{if(i){const f=typeof d=="function"?d(t):d;f!==t&&a(f)}else s(d)},[i,t,s,a]);return[o,l]}function iO({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,s=p.useRef(r),i=fn(e);return p.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var oO="VisuallyHidden",Uc=p.forwardRef((t,e)=>u.jsx(Ee.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Uc.displayName=oO;var aO=Uc,Qy="ToastProvider",[Yy,lO,cO]=iT("Toast"),[uT,pB]=os("Toast",[cO]),[uO,nf]=uT(Qy),dT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=p.useState(null),[d,h]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qy}\`. Expected non-empty \`string\`.`),u.jsx(Yy.Provider,{scope:e,children:u.jsx(uO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>h(y=>y+1),[]),onToastRemove:p.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};dT.displayName=Qy;var hT="ToastViewport",dO=["F8"],ng="toast.viewportPause",rg="toast.viewportResume",fT=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=dO,label:s="Notifications ({hotkey})",...i}=t,o=nf(hT,n),a=lO(n),l=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=p.useRef(null),m=Me(e,f,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;p.useEffect(()=>{const E=_=>{var S;r.length!==0&&r.every(k=>_[k]||_.code===k)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),p.useEffect(()=>{const E=l.current,_=f.current;if(T&&E&&_){const w=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(ng);_.dispatchEvent(D),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(rg);_.dispatchEvent(D),o.isClosePausedRef.current=!1}},k=D=>{!E.contains(D.relatedTarget)&&S()},O=()=>{E.contains(document.activeElement)||S()};return E.addEventListener("focusin",w),E.addEventListener("focusout",k),E.addEventListener("pointermove",w),E.addEventListener("pointerleave",O),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{E.removeEventListener("focusin",w),E.removeEventListener("focusout",k),E.removeEventListener("pointermove",w),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[T,o.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:E})=>{const w=a().map(S=>{const k=S.ref.current,O=[k,...bO(k)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?w.reverse():w).flat()},[a]);return p.useEffect(()=>{const E=f.current;if(E){const _=w=>{var O,D,b;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const C=document.activeElement,I=w.shiftKey;if(w.target===E&&I){(O=d.current)==null||O.focus();return}const j=v({tabbingDirection:I?"backwards":"forwards"}),R=j.findIndex(B=>B===C);Dp(j.slice(R+1))?w.preventDefault():I?(D=d.current)==null||D.focus():(b=h.current)==null||b.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,v]),u.jsxs(eO,{ref:l,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&u.jsx(sg,{ref:d,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Dp(E)}}),u.jsx(Yy.Slot,{scope:n,children:u.jsx(Ee.ol,{tabIndex:-1,...i,ref:m})}),T&&u.jsx(sg,{ref:h,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Dp(E)}})]})});fT.displayName=hT;var pT="ToastFocusProxy",sg=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=nf(pT,n);return u.jsx(Uc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});sg.displayName=pT;var rf="Toast",hO="toast.swipeStart",fO="toast.swipeMove",pO="toast.swipeCancel",mO="toast.swipeEnd",mT=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=wc({prop:r,defaultProp:s,onChange:i});return u.jsx(La,{present:n||a,children:u.jsx(vO,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:fn(t.onPause),onResume:fn(t.onResume),onSwipeStart:ge(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ge(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});mT.displayName=rf;var[gO,yO]=uT(rf,{onClose(){}}),vO=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:y,...T}=t,v=nf(rf,n),[E,_]=p.useState(null),w=Me(e,B=>_(B)),S=p.useRef(null),k=p.useRef(null),O=s||v.duration,D=p.useRef(0),b=p.useRef(O),C=p.useRef(0),{onToastAdd:I,onToastRemove:N}=v,P=fn(()=>{var ie;(E==null?void 0:E.contains(document.activeElement))&&((ie=v.viewport)==null||ie.focus()),o()}),j=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(C.current),D.current=new Date().getTime(),C.current=window.setTimeout(P,B))},[P]);p.useEffect(()=>{const B=v.viewport;if(B){const ie=()=>{j(b.current),d==null||d()},z=()=>{const K=new Date().getTime()-D.current;b.current=b.current-K,window.clearTimeout(C.current),l==null||l()};return B.addEventListener(ng,z),B.addEventListener(rg,ie),()=>{B.removeEventListener(ng,z),B.removeEventListener(rg,ie)}}},[v.viewport,O,l,d,j]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&j(O)},[i,O,v.isClosePausedRef,j]),p.useEffect(()=>(I(),()=>N()),[I,N]);const R=p.useMemo(()=>E?ET(E):null,[E]);return v.viewport?u.jsxs(u.Fragment,{children:[R&&u.jsx(wO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),u.jsx(gO,{scope:n,onClose:P,children:Mn.createPortal(u.jsx(Yy.ItemSlot,{scope:n,children:u.jsx(Zj,{asChild:!0,onEscapeKeyDown:ge(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||P(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...T,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ge(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:ge(t.onPointerDown,B=>{B.button===0&&(S.current={x:B.clientX,y:B.clientY})}),onPointerMove:ge(t.onPointerMove,B=>{if(!S.current)return;const ie=B.clientX-S.current.x,z=B.clientY-S.current.y,K=!!k.current,M=["left","right"].includes(v.swipeDirection),L=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,U=M?L(0,ie):0,Q=M?0:L(0,z),q=B.pointerType==="touch"?10:2,re={x:U,y:Q},ee={originalEvent:B,delta:re};K?(k.current=re,Uu(fO,f,ee,{discrete:!1})):$x(re,v.swipeDirection,q)?(k.current=re,Uu(hO,h,ee,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(ie)>q||Math.abs(z)>q)&&(S.current=null)}),onPointerUp:ge(t.onPointerUp,B=>{const ie=k.current,z=B.target;if(z.hasPointerCapture(B.pointerId)&&z.releasePointerCapture(B.pointerId),k.current=null,S.current=null,ie){const K=B.currentTarget,M={originalEvent:B,delta:ie};$x(ie,v.swipeDirection,v.swipeThreshold)?Uu(mO,y,M,{discrete:!0}):Uu(pO,m,M,{discrete:!0}),K.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),wO=t=>{const{__scopeToast:e,children:n,...r}=t,s=nf(rf,e),[i,o]=p.useState(!1),[a,l]=p.useState(!1);return EO(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:u.jsx(tf,{asChild:!0,children:u.jsx(Uc,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},xO="ToastTitle",gT=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ee.div,{...r,ref:e})});gT.displayName=xO;var _O="ToastDescription",yT=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ee.div,{...r,ref:e})});yT.displayName=_O;var vT="ToastAction",wT=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(_T,{altText:n,asChild:!0,children:u.jsx(Xy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${vT}\`. Expected non-empty \`string\`.`),null)});wT.displayName=vT;var xT="ToastClose",Xy=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=yO(xT,n);return u.jsx(_T,{asChild:!0,children:u.jsx(Ee.button,{type:"button",...r,ref:e,onClick:ge(t.onClick,s.onClose)})})});Xy.displayName=xT;var _T=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function ET(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),SO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...ET(r))}}),e}function Uu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?oT(s,i):s.dispatchEvent(i)}var $x=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function EO(t=()=>{}){const e=fn(t);wt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function SO(t){return t.nodeType===t.ELEMENT_NODE}function bO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Dp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var TO=dT,ST=fT,bT=mT,TT=gT,CT=yT,IT=wT,AT=Xy;function NT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=NT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=NT(t))&&(r&&(r+=" "),r+=e);return r}const Bx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Hx=kT,$c=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Hx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=Bx(h)||Bx(f);return s[d][m]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...y}=h;return Object.entries(y).every(T=>{let[v,E]=T;return Array.isArray(E)?E.includes({...i,...a}[v]):{...i,...a}[v]===E})?[...d,f,m]:d},[]);return Hx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RT=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>p.createElement("svg",{ref:l,...IO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:RT("lucide",s),...a},[...o.map(([d,h])=>p.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(AO,{ref:i,iconNode:e,className:RT(`lucide-${CO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=me("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=me("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=me("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=me("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=me("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=me("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=me("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=me("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=me("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=me("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=me("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=me("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=me("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=me("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jy="-",KO=t=>{const e=YO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Jy);return a[0]===""&&a.length!==1&&a.shift(),$T(a,e)||QO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},$T=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?$T(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Jy);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Yx=/^\[(.+)\]$/,QO=t=>{if(Yx.test(t)){const e=Yx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},YO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return JO(Object.entries(t.classGroups),n).forEach(([i,o])=>{lg(o,r,i,e)}),r},lg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Xx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(XO(s)){lg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{lg(o,Xx(e,i),n,r)})})},Xx=(t,e)=>{let n=t;return e.split(Jy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},XO=t=>t.isThemeGetter,JO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,ZO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},BT="!",eM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let d=0,h=0,f;for(let E=0;E<a.length;E++){let _=a[E];if(d===0){if(_===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(h,E)),h=E+i;continue}if(_==="/"){f=E;continue}}_==="["?d++:_==="]"&&d--}const m=l.length===0?a:a.substring(h),y=m.startsWith(BT),T=y?m.substring(1):m,v=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:T,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},tM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},nM=t=>({cache:ZO(t.cacheSize),parseClassName:eM(t),...KO(t)}),rM=/\s+/,sM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(rM);let a="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}=n(d);let T=!!y,v=r(T?m.substring(0,y):m);if(!v){if(!T){a=d+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=d+(a.length>0?" "+a:a);continue}T=!1}const E=tM(h).join(":"),_=f?E+BT:E,w=_+v;if(i.includes(w))continue;i.push(w);const S=s(v,T);for(let k=0;k<S.length;++k){const O=S[k];i.push(_+O)}a=d+(a.length>0?" "+a:a)}return a};function iM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=HT(e))&&(r&&(r+=" "),r+=n);return r}const HT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=HT(t[r]))&&(n&&(n+=" "),n+=e);return n};function oM(t,...e){let n,r,s,i=o;function o(l){const d=e.reduce((h,f)=>f(h),t());return n=nM(d),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const d=r(l);if(d)return d;const h=sM(l,n);return s(l,h),h}return function(){return i(iM.apply(null,arguments))}}const $e=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},WT=/^\[(?:([a-z-]+):)?(.+)\]$/i,aM=/^\d+\/\d+$/,lM=new Set(["px","full","screen"]),cM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lr=t=>Ho(t)||lM.has(t)||aM.test(t),gs=t=>Va(t,"length",_M),Ho=t=>!!t&&!Number.isNaN(Number(t)),jp=t=>Va(t,"number",Ho),xl=t=>!!t&&Number.isInteger(Number(t)),pM=t=>t.endsWith("%")&&Ho(t.slice(0,-1)),we=t=>WT.test(t),ys=t=>cM.test(t),mM=new Set(["length","size","percentage"]),gM=t=>Va(t,mM,qT),yM=t=>Va(t,"position",qT),vM=new Set(["image","url"]),wM=t=>Va(t,vM,SM),xM=t=>Va(t,"",EM),_l=()=>!0,Va=(t,e,n)=>{const r=WT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},_M=t=>uM.test(t)&&!dM.test(t),qT=()=>!1,EM=t=>hM.test(t),SM=t=>fM.test(t),bM=()=>{const t=$e("colors"),e=$e("spacing"),n=$e("blur"),r=$e("brightness"),s=$e("borderColor"),i=$e("borderRadius"),o=$e("borderSpacing"),a=$e("borderWidth"),l=$e("contrast"),d=$e("grayscale"),h=$e("hueRotate"),f=$e("invert"),m=$e("gap"),y=$e("gradientColorStops"),T=$e("gradientColorStopPositions"),v=$e("inset"),E=$e("margin"),_=$e("opacity"),w=$e("padding"),S=$e("saturate"),k=$e("scale"),O=$e("sepia"),D=$e("skew"),b=$e("space"),C=$e("translate"),I=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",we,e],j=()=>[we,e],R=()=>["",Lr,gs],B=()=>["auto",Ho,we],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",we],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Ho,we];return{cacheSize:500,separator:":",theme:{colors:[_l],spacing:[Lr,gs],blur:["none","",ys,we],brightness:Q(),borderColor:[t],borderRadius:["none","","full",ys,we],borderSpacing:j(),borderWidth:R(),contrast:Q(),grayscale:L(),hueRotate:Q(),invert:L(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[pM,gs],inset:P(),margin:P(),opacity:Q(),padding:j(),saturate:Q(),scale:Q(),sepia:L(),skew:Q(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[ys]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),we]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xl,we]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",xl,we]}],"grid-cols":[{"grid-cols":[_l]}],"col-start-end":[{col:["auto",{span:["full",xl,we]},we]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[_l]}],"row-start-end":[{row:["auto",{span:[xl,we]},we]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,e]}],"min-w":[{"min-w":[we,e,"min","max","fit"]}],"max-w":[{"max-w":[we,e,"none","full","min","max","fit","prose",{screen:[ys]},ys]}],h:[{h:[we,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ys,gs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jp]}],"font-family":[{font:[_l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",Ho,jp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Lr,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Lr,gs]}],"underline-offset":[{"underline-offset":["auto",Lr,we]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),yM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Lr,we]}],"outline-w":[{outline:[Lr,gs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Lr,gs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ys,xM]}],"shadow-color":[{shadow:[_l]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ys,we]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[xl,we]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Lr,gs,jp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TM=oM(bM);function J(...t){return TM(kT(t))}const CM=TO,GT=p.forwardRef(({className:t,...e},n)=>u.jsx(ST,{ref:n,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));GT.displayName=ST.displayName;const IM=$c("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),KT=p.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(bT,{ref:r,className:J(IM({variant:e}),t),...n}));KT.displayName=bT.displayName;const AM=p.forwardRef(({className:t,...e},n)=>u.jsx(IT,{ref:n,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));AM.displayName=IT.displayName;const QT=p.forwardRef(({className:t,...e},n)=>u.jsx(AT,{ref:n,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(of,{className:"h-4 w-4"})}));QT.displayName=AT.displayName;const YT=p.forwardRef(({className:t,...e},n)=>u.jsx(TT,{ref:n,className:J("text-sm font-semibold",t),...e}));YT.displayName=TT.displayName;const XT=p.forwardRef(({className:t,...e},n)=>u.jsx(CT,{ref:n,className:J("text-sm opacity-90",t),...e}));XT.displayName=CT.displayName;function NM(){const{toasts:t}=Ky();return u.jsxs(CM,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(KT,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(YT,{children:n}),r&&u.jsx(XT,{children:r})]}),s,u.jsx(QT,{})]},e)}),u.jsx(GT,{})]})}var kM=PE[" useId ".trim().toString()]||(()=>{}),RM=0;function Wo(t){const[e,n]=p.useState(kM());return wt(()=>{n(r=>r??String(RM++))},[t]),e?`radix-${e}`:""}const PM=["top","right","bottom","left"],ei=Math.min,wn=Math.max,th=Math.round,$u=Math.floor,Tr=t=>({x:t,y:t}),DM={left:"right",right:"left",bottom:"top",top:"bottom"},jM={start:"end",end:"start"};function cg(t,e,n){return wn(t,ei(e,n))}function Zr(t,e){return typeof t=="function"?t(e):t}function es(t){return t.split("-")[0]}function Fa(t){return t.split("-")[1]}function Zy(t){return t==="x"?"y":"x"}function ev(t){return t==="y"?"height":"width"}function ti(t){return["top","bottom"].includes(es(t))?"y":"x"}function tv(t){return Zy(ti(t))}function OM(t,e,n){n===void 0&&(n=!1);const r=Fa(t),s=tv(t),i=ev(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=nh(o)),[o,nh(o)]}function MM(t){const e=nh(t);return[ug(t),e,ug(e)]}function ug(t){return t.replace(/start|end/g,e=>jM[e])}function LM(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function VM(t,e,n,r){const s=Fa(t);let i=LM(es(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(ug)))),i}function nh(t){return t.replace(/left|right|bottom|top/g,e=>DM[e])}function FM(t){return{top:0,right:0,bottom:0,left:0,...t}}function JT(t){return typeof t!="number"?FM(t):{top:t,right:t,bottom:t,left:t}}function rh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Jx(t,e,n){let{reference:r,floating:s}=t;const i=ti(e),o=tv(e),a=ev(o),l=es(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let y;switch(l){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(Fa(e)){case"start":y[o]-=m*(n&&d?-1:1);break;case"end":y[o]+=m*(n&&d?-1:1);break}return y}const zM=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=Jx(d,r,l),m=r,y={},T=0;for(let v=0;v<a.length;v++){const{name:E,fn:_}=a[v],{x:w,y:S,data:k,reset:O}=await _({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=w??h,f=S??f,y={...y,[E]:{...y[E],...k}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(d=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:f}=Jx(d,m,l)),v=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:y}};async function xc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=Zr(e,t),T=JT(y),E=a[m?f==="floating"?"reference":"floating":f],_=rh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:l})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},O=rh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(_.top-O.top+T.top)/k.y,bottom:(O.bottom-_.bottom+T.bottom)/k.y,left:(_.left-O.left+T.left)/k.x,right:(O.right-_.right+T.right)/k.x}}const UM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:d,padding:h=0}=Zr(t,e)||{};if(d==null)return{};const f=JT(h),m={x:n,y:r},y=tv(s),T=ev(y),v=await o.getDimensions(d),E=y==="y",_=E?"top":"left",w=E?"bottom":"right",S=E?"clientHeight":"clientWidth",k=i.reference[T]+i.reference[y]-m[y]-i.floating[T],O=m[y]-i.reference[y],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let b=D?D[S]:0;(!b||!await(o.isElement==null?void 0:o.isElement(D)))&&(b=a.floating[S]||i.floating[T]);const C=k/2-O/2,I=b/2-v[T]/2-1,N=ei(f[_],I),P=ei(f[w],I),j=N,R=b-v[T]-P,B=b/2-v[T]/2+C,ie=cg(j,B,R),z=!l.arrow&&Fa(s)!=null&&B!==ie&&i.reference[T]/2-(B<j?N:P)-v[T]/2<0,K=z?B<j?B-j:B-R:0;return{[y]:m[y]+K,data:{[y]:ie,centerOffset:B-ie-K,...z&&{alignmentOffset:K}},reset:z}}}),$M=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:v=!0,...E}=Zr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=es(s),w=ti(a),S=es(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(d.floating)),O=m||(S||!v?[nh(a)]:MM(a)),D=T!=="none";!m&&D&&O.push(...VM(a,v,T,k));const b=[a,...O],C=await xc(e,E),I=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(C[_]),f){const B=OM(s,o,k);I.push(C[B[0]],C[B[1]])}if(N=[...N,{placement:s,overflows:I}],!I.every(B=>B<=0)){var P,j;const B=(((P=i.flip)==null?void 0:P.index)||0)+1,ie=b[B];if(ie)return{data:{index:B,overflows:N},reset:{placement:ie}};let z=(j=N.filter(K=>K.overflows[0]<=0).sort((K,M)=>K.overflows[1]-M.overflows[1])[0])==null?void 0:j.placement;if(!z)switch(y){case"bestFit":{var R;const K=(R=N.filter(M=>{if(D){const L=ti(M.placement);return L===w||L==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(L=>L>0).reduce((L,U)=>L+U,0)]).sort((M,L)=>M[1]-L[1])[0])==null?void 0:R[0];K&&(z=K);break}case"initialPlacement":z=a;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function Zx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function e_(t){return PM.some(e=>t[e]>=0)}const BM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Zr(t,e);switch(r){case"referenceHidden":{const i=await xc(e,{...s,elementContext:"reference"}),o=Zx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:e_(o)}}}case"escaped":{const i=await xc(e,{...s,altBoundary:!0}),o=Zx(i,n.floating);return{data:{escapedOffsets:o,escaped:e_(o)}}}default:return{}}}}};async function HM(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=es(n),a=Fa(n),l=ti(n)==="y",d=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,f=Zr(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof T=="number"&&(y=a==="end"?T*-1:T),l?{x:y*h,y:m*d}:{x:m*d,y:y*h}}const WM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await HM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},qM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:_,y:w}=E;return{x:_,y:w}}},...l}=Zr(t,e),d={x:n,y:r},h=await xc(e,l),f=ti(es(s)),m=Zy(f);let y=d[m],T=d[f];if(i){const E=m==="y"?"top":"left",_=m==="y"?"bottom":"right",w=y+h[E],S=y-h[_];y=cg(w,y,S)}if(o){const E=f==="y"?"top":"left",_=f==="y"?"bottom":"right",w=T+h[E],S=T-h[_];T=cg(w,T,S)}const v=a.fn({...e,[m]:y,[f]:T});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[f]:o}}}}}},GM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:d=!0}=Zr(t,e),h={x:n,y:r},f=ti(s),m=Zy(f);let y=h[m],T=h[f];const v=Zr(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const S=m==="y"?"height":"width",k=i.reference[m]-i.floating[S]+E.mainAxis,O=i.reference[m]+i.reference[S]-E.mainAxis;y<k?y=k:y>O&&(y=O)}if(d){var _,w;const S=m==="y"?"width":"height",k=["top","left"].includes(es(s)),O=i.reference[f]-i.floating[S]+(k&&((_=o.offset)==null?void 0:_[f])||0)+(k?0:E.crossAxis),D=i.reference[f]+i.reference[S]+(k?0:((w=o.offset)==null?void 0:w[f])||0)-(k?E.crossAxis:0);T<O?T=O:T>D&&(T=D)}return{[m]:y,[f]:T}}}},KM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...d}=Zr(t,e),h=await xc(e,d),f=es(s),m=Fa(s),y=ti(s)==="y",{width:T,height:v}=i.floating;let E,_;f==="top"||f==="bottom"?(E=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,E=m==="end"?"top":"bottom");const w=v-h.top-h.bottom,S=T-h.left-h.right,k=ei(v-h[E],w),O=ei(T-h[_],S),D=!e.middlewareData.shift;let b=k,C=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=w),D&&!m){const N=wn(h.left,0),P=wn(h.right,0),j=wn(h.top,0),R=wn(h.bottom,0);y?C=T-2*(N!==0||P!==0?N+P:wn(h.left,h.right)):b=v-2*(j!==0||R!==0?j+R:wn(h.top,h.bottom))}await l({...e,availableWidth:C,availableHeight:b});const I=await o.getDimensions(a.floating);return T!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function af(){return typeof window<"u"}function za(t){return ZT(t)?(t.nodeName||"").toLowerCase():"#document"}function Sn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Dr(t){var e;return(e=(ZT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ZT(t){return af()?t instanceof Node||t instanceof Sn(t).Node:!1}function ir(t){return af()?t instanceof Element||t instanceof Sn(t).Element:!1}function Nr(t){return af()?t instanceof HTMLElement||t instanceof Sn(t).HTMLElement:!1}function t_(t){return!af()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sn(t).ShadowRoot}function Hc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=or(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function QM(t){return["table","td","th"].includes(za(t))}function lf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function nv(t){const e=rv(),n=ir(t)?or(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function YM(t){let e=ni(t);for(;Nr(e)&&!Ea(e);){if(nv(e))return e;if(lf(e))return null;e=ni(e)}return null}function rv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ea(t){return["html","body","#document"].includes(za(t))}function or(t){return Sn(t).getComputedStyle(t)}function cf(t){return ir(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ni(t){if(za(t)==="html")return t;const e=t.assignedSlot||t.parentNode||t_(t)&&t.host||Dr(t);return t_(e)?e.host:e}function eC(t){const e=ni(t);return Ea(e)?t.ownerDocument?t.ownerDocument.body:t.body:Nr(e)&&Hc(e)?e:eC(e)}function _c(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=eC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Sn(s);if(i){const a=dg(o);return e.concat(o,o.visualViewport||[],Hc(s)?s:[],a&&n?_c(a):[])}return e.concat(s,_c(s,[],n))}function dg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tC(t){const e=or(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Nr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=th(n)!==i||th(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function sv(t){return ir(t)?t:t.contextElement}function qo(t){const e=sv(t);if(!Nr(e))return Tr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=tC(e);let o=(i?th(n.width):n.width)/r,a=(i?th(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const XM=Tr(0);function nC(t){const e=Sn(t);return!rv()||!e.visualViewport?XM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sn(t)?!1:e}function Yi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=sv(t);let o=Tr(1);e&&(r?ir(r)&&(o=qo(r)):o=qo(t));const a=JM(i,n,r)?nC(i):Tr(0);let l=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=Sn(i),y=r&&ir(r)?Sn(r):r;let T=m,v=dg(T);for(;v&&r&&y!==T;){const E=qo(v),_=v.getBoundingClientRect(),w=or(v),S=_.left+(v.clientLeft+parseFloat(w.paddingLeft))*E.x,k=_.top+(v.clientTop+parseFloat(w.paddingTop))*E.y;l*=E.x,d*=E.y,h*=E.x,f*=E.y,l+=S,d+=k,T=Sn(v),v=dg(T)}}return rh({width:h,height:f,x:l,y:d})}function iv(t,e){const n=cf(t).scrollLeft;return e?e.left+n:Yi(Dr(t)).left+n}function rC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:iv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function ZM(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Dr(r),a=e?lf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},d=Tr(1);const h=Tr(0),f=Nr(r);if((f||!f&&!i)&&((za(r)!=="body"||Hc(o))&&(l=cf(r)),Nr(r))){const y=Yi(r);d=qo(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const m=o&&!f&&!i?rC(o,l,!0):Tr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-l.scrollTop*d.y+h.y+m.y}}function eL(t){return Array.from(t.getClientRects())}function tL(t){const e=Dr(t),n=cf(t),r=t.ownerDocument.body,s=wn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=wn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+iv(t);const a=-n.scrollTop;return or(r).direction==="rtl"&&(o+=wn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function nL(t,e){const n=Sn(t),r=Dr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=rv();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function rL(t,e){const n=Yi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Nr(t)?qo(t):Tr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,d=r*i.y;return{width:o,height:a,x:l,y:d}}function n_(t,e,n){let r;if(e==="viewport")r=nL(t,n);else if(e==="document")r=tL(Dr(t));else if(ir(e))r=rL(e,n);else{const s=nC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return rh(r)}function sC(t,e){const n=ni(t);return n===e||!ir(n)||Ea(n)?!1:or(n).position==="fixed"||sC(n,e)}function sL(t,e){const n=e.get(t);if(n)return n;let r=_c(t,[],!1).filter(a=>ir(a)&&za(a)!=="body"),s=null;const i=or(t).position==="fixed";let o=i?ni(t):t;for(;ir(o)&&!Ea(o);){const a=or(o),l=nv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Hc(o)&&!l&&sC(t,o))?r=r.filter(h=>h!==o):s=a,o=ni(o)}return e.set(t,r),r}function iL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?lf(e)?[]:sL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((d,h)=>{const f=n_(e,h,s);return d.top=wn(f.top,d.top),d.right=ei(f.right,d.right),d.bottom=ei(f.bottom,d.bottom),d.left=wn(f.left,d.left),d},n_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function oL(t){const{width:e,height:n}=tC(t);return{width:e,height:n}}function aL(t,e,n){const r=Nr(e),s=Dr(e),i=n==="fixed",o=Yi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Tr(0);if(r||!r&&!i)if((za(e)!=="body"||Hc(s))&&(a=cf(e)),r){const m=Yi(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=iv(s));const d=s&&!r&&!i?rC(s,a):Tr(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Op(t){return or(t).position==="static"}function r_(t,e){if(!Nr(t)||or(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Dr(t)===n&&(n=n.ownerDocument.body),n}function iC(t,e){const n=Sn(t);if(lf(t))return n;if(!Nr(t)){let s=ni(t);for(;s&&!Ea(s);){if(ir(s)&&!Op(s))return s;s=ni(s)}return n}let r=r_(t,e);for(;r&&QM(r)&&Op(r);)r=r_(r,e);return r&&Ea(r)&&Op(r)&&!nv(r)?n:r||YM(t)||n}const lL=async function(t){const e=this.getOffsetParent||iC,n=this.getDimensions,r=await n(t.floating);return{reference:aL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function cL(t){return or(t).direction==="rtl"}const uL={convertOffsetParentRelativeRectToViewportRelativeRect:ZM,getDocumentElement:Dr,getClippingRect:iL,getOffsetParent:iC,getElementRects:lL,getClientRects:eL,getDimensions:oL,getScale:qo,isElement:ir,isRTL:cL};function oC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function dL(t,e){let n=null,r;const s=Dr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:y}=d;if(a||e(),!m||!y)return;const T=$u(f),v=$u(s.clientWidth-(h+m)),E=$u(s.clientHeight-(f+y)),_=$u(h),S={rootMargin:-T+"px "+-v+"px "+-E+"px "+-_+"px",threshold:wn(0,ei(1,l))||1};let k=!0;function O(D){const b=D[0].intersectionRatio;if(b!==l){if(!k)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!oC(d,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(O,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,S)}n.observe(t)}return o(!0),i}function hL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=sv(t),h=s||i?[...d?_c(d):[],..._c(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=d&&a?dL(d,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(_=>{let[w]=_;w&&w.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(e)})),n()}),d&&!l&&y.observe(d),y.observe(e));let T,v=l?Yi(t):null;l&&E();function E(){const _=Yi(t);v&&!oC(v,_)&&n(),v=_,T=requestAnimationFrame(E)}return n(),()=>{var _;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(_=y)==null||_.disconnect(),y=null,l&&cancelAnimationFrame(T)}}const fL=WM,pL=qM,mL=$M,gL=KM,yL=BM,s_=UM,vL=GM,wL=(t,e,n)=>{const r=new Map,s={platform:uL,...n},i={...s.platform,_c:r};return zM(t,e,{...s,platform:i})};var yd=typeof document<"u"?p.useLayoutEffect:p.useEffect;function sh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!sh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!sh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function aC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function i_(t,e){const n=aC(t);return Math.round(e*n)/n}function Mp(t){const e=p.useRef(t);return yd(()=>{e.current=t}),e}function xL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:d}=t,[h,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=p.useState(r);sh(m,r)||y(r);const[T,v]=p.useState(null),[E,_]=p.useState(null),w=p.useCallback(M=>{M!==D.current&&(D.current=M,v(M))},[]),S=p.useCallback(M=>{M!==b.current&&(b.current=M,_(M))},[]),k=i||T,O=o||E,D=p.useRef(null),b=p.useRef(null),C=p.useRef(h),I=l!=null,N=Mp(l),P=Mp(s),j=Mp(d),R=p.useCallback(()=>{if(!D.current||!b.current)return;const M={placement:e,strategy:n,middleware:m};P.current&&(M.platform=P.current),wL(D.current,b.current,M).then(L=>{const U={...L,isPositioned:j.current!==!1};B.current&&!sh(C.current,U)&&(C.current=U,Mn.flushSync(()=>{f(U)}))})},[m,e,n,P,j]);yd(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[d]);const B=p.useRef(!1);yd(()=>(B.current=!0,()=>{B.current=!1}),[]),yd(()=>{if(k&&(D.current=k),O&&(b.current=O),k&&O){if(N.current)return N.current(k,O,R);R()}},[k,O,R,N,I]);const ie=p.useMemo(()=>({reference:D,floating:b,setReference:w,setFloating:S}),[w,S]),z=p.useMemo(()=>({reference:k,floating:O}),[k,O]),K=p.useMemo(()=>{const M={position:n,left:0,top:0};if(!z.floating)return M;const L=i_(z.floating,h.x),U=i_(z.floating,h.y);return a?{...M,transform:"translate("+L+"px, "+U+"px)",...aC(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:U}},[n,a,z.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:R,refs:ie,elements:z,floatingStyles:K}),[h,R,ie,z,K])}const _L=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?s_({element:r.current,padding:s}).fn(n):{}:r?s_({element:r,padding:s}).fn(n):{}}}},EL=(t,e)=>({...fL(t),options:[t,e]}),SL=(t,e)=>({...pL(t),options:[t,e]}),bL=(t,e)=>({...vL(t),options:[t,e]}),TL=(t,e)=>({...mL(t),options:[t,e]}),CL=(t,e)=>({...gL(t),options:[t,e]}),IL=(t,e)=>({...yL(t),options:[t,e]}),AL=(t,e)=>({..._L(t),options:[t,e]});var NL="Arrow",lC=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(Ee.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});lC.displayName=NL;var kL=lC;function cC(t){const[e,n]=p.useState(void 0);return wt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ov="Popper",[uC,uf]=os(ov),[RL,dC]=uC(ov),hC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return u.jsx(RL,{scope:e,anchor:r,onAnchorChange:s,children:n})};hC.displayName=ov;var fC="PopperAnchor",pC=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=dC(fC,n),o=p.useRef(null),a=Me(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(Ee.div,{...s,ref:a})});pC.displayName=fC;var av="PopperContent",[PL,DL]=uC(av),mC=p.forwardRef((t,e)=>{var W,se,ye,ne,fe,ve;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:T,...v}=t,E=dC(av,n),[_,w]=p.useState(null),S=Me(e,qe=>w(qe)),[k,O]=p.useState(null),D=cC(k),b=(D==null?void 0:D.width)??0,C=(D==null?void 0:D.height)??0,I=r+(i!=="center"?"-"+i:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(d)?d:[d],j=P.length>0,R={padding:N,boundary:P.filter(OL),altBoundary:j},{refs:B,floatingStyles:ie,placement:z,isPositioned:K,middlewareData:M}=xL({strategy:"fixed",placement:I,whileElementsMounted:(...qe)=>hL(...qe,{animationFrame:y==="always"}),elements:{reference:E.anchor},middleware:[EL({mainAxis:s+C,alignmentAxis:o}),l&&SL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?bL():void 0,...R}),l&&TL({...R}),CL({...R,apply:({elements:qe,rects:Qe,availableWidth:tn,availableHeight:Ot})=>{const{width:In,height:gi}=Qe.reference,ze=qe.floating.style;ze.setProperty("--radix-popper-available-width",`${tn}px`),ze.setProperty("--radix-popper-available-height",`${Ot}px`),ze.setProperty("--radix-popper-anchor-width",`${In}px`),ze.setProperty("--radix-popper-anchor-height",`${gi}px`)}}),k&&AL({element:k,padding:a}),ML({arrowWidth:b,arrowHeight:C}),m&&IL({strategy:"referenceHidden",...R})]}),[L,U]=vC(z),Q=fn(T);wt(()=>{K&&(Q==null||Q())},[K,Q]);const q=(W=M.arrow)==null?void 0:W.x,re=(se=M.arrow)==null?void 0:se.y,ee=((ye=M.arrow)==null?void 0:ye.centerOffset)!==0,[ue,le]=p.useState();return wt(()=>{_&&le(window.getComputedStyle(_).zIndex)},[_]),u.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:K?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(ne=M.transformOrigin)==null?void 0:ne.x,(fe=M.transformOrigin)==null?void 0:fe.y].join(" "),...((ve=M.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(PL,{scope:n,placedSide:L,onArrowChange:O,arrowX:q,arrowY:re,shouldHideArrow:ee,children:u.jsx(Ee.div,{"data-side":L,"data-align":U,...v,ref:S,style:{...v.style,animation:K?void 0:"none"}})})})});mC.displayName=av;var gC="PopperArrow",jL={top:"bottom",right:"left",bottom:"top",left:"right"},yC=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=DL(gC,r),o=jL[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(kL,{...s,ref:n,style:{...s.style,display:"block"}})})});yC.displayName=gC;function OL(t){return t!==null}var ML=t=>({name:"transformOrigin",options:t,fn(e){var E,_,w;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[d,h]=vC(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,y=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let T="",v="";return d==="bottom"?(T=o?f:`${m}px`,v=`${-l}px`):d==="top"?(T=o?f:`${m}px`,v=`${r.floating.height+l}px`):d==="right"?(T=`${-l}px`,v=o?f:`${y}px`):d==="left"&&(T=`${r.floating.width+l}px`,v=o?f:`${y}px`),{data:{x:T,y:v}}}});function vC(t){const[e,n="center"]=t.split("-");return[e,n]}var LL=hC,wC=pC,xC=mC,_C=yC,[df,mB]=os("Tooltip",[uf]),lv=uf(),EC="TooltipProvider",VL=700,o_="tooltip.open",[FL,SC]=df(EC),bC=t=>{const{__scopeTooltip:e,delayDuration:n=VL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=p.useRef(!0),a=p.useRef(!1),l=p.useRef(0);return p.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),u.jsx(FL,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:p.useCallback(d=>{a.current=d},[]),disableHoverableContent:s,children:i})};bC.displayName=EC;var TC="Tooltip",[gB,hf]=df(TC),hg="TooltipTrigger",zL=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=hf(hg,n),i=SC(hg,n),o=lv(n),a=p.useRef(null),l=Me(e,a,s.onTriggerChange),d=p.useRef(!1),h=p.useRef(!1),f=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(wC,{asChild:!0,...o,children:u.jsx(Ee.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ge(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ge(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ge(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ge(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:ge(t.onBlur,s.onClose),onClick:ge(t.onClick,s.onClose)})})});zL.displayName=hg;var UL="TooltipPortal",[yB,$L]=df(UL,{forceMount:void 0}),Sa="TooltipContent",CC=p.forwardRef((t,e)=>{const n=$L(Sa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=hf(Sa,t.__scopeTooltip);return u.jsx(La,{present:r||o.open,children:o.disableHoverableContent?u.jsx(IC,{side:s,...i,ref:e}):u.jsx(BL,{side:s,...i,ref:e})})}),BL=p.forwardRef((t,e)=>{const n=hf(Sa,t.__scopeTooltip),r=SC(Sa,t.__scopeTooltip),s=p.useRef(null),i=Me(e,s),[o,a]=p.useState(null),{trigger:l,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,m=p.useCallback(()=>{a(null),f(!1)},[f]),y=p.useCallback((T,v)=>{const E=T.currentTarget,_={x:T.clientX,y:T.clientY},w=KL(_,E.getBoundingClientRect()),S=QL(_,w),k=YL(v.getBoundingClientRect()),O=JL([...S,...k]);a(O),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(l&&h){const T=E=>y(E,h),v=E=>y(E,l);return l.addEventListener("pointerleave",T),h.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",T),h.removeEventListener("pointerleave",v)}}},[l,h,y,m]),p.useEffect(()=>{if(o){const T=v=>{const E=v.target,_={x:v.clientX,y:v.clientY},w=(l==null?void 0:l.contains(E))||(h==null?void 0:h.contains(E)),S=!XL(_,o);w?m():S&&(m(),d())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,h,o,d,m]),u.jsx(IC,{...t,ref:i})}),[HL,WL]=df(TC,{isInside:!1}),qL=sT("TooltipContent"),IC=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=hf(Sa,n),d=lv(n),{onClose:h}=l;return p.useEffect(()=>(document.addEventListener(o_,h),()=>document.removeEventListener(o_,h)),[h]),p.useEffect(()=>{if(l.trigger){const f=m=>{const y=m.target;y!=null&&y.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),u.jsx(zc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:u.jsxs(xC,{"data-state":l.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(qL,{children:r}),u.jsx(HL,{scope:n,isInside:!0,children:u.jsx(aO,{id:l.contentId,role:"tooltip",children:s||r})})]})})});CC.displayName=Sa;var AC="TooltipArrow",GL=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=lv(n);return WL(AC,n).isInside?null:u.jsx(_C,{...s,...r,ref:e})});GL.displayName=AC;function KL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function QL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function YL(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function XL(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,d=e[o].x,h=e[o].y;l>r!=h>r&&n<(d-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function JL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ZL(e)}function ZL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var e4=bC,NC=CC;const t4=e4,n4=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(NC,{ref:r,sideOffset:e,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));n4.displayName=NC.displayName;const r4="modulepreload",s4=function(t){return"/trace-classroom-crm/"+t},a_={},l_=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=s4(l),l in a_)return;a_[l]=!0;const d=l.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":r4,d||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((m,y)=>{f.addEventListener("load",m),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},i4=()=>{};var c_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},o4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},RC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,y=d&63;l||(y=64,o||(m=64)),r.push(n[h],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new a4;const m=i<<2|a>>4;if(r.push(m),d!==64){const y=a<<4&240|d>>2;if(r.push(y),f!==64){const T=d<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l4=function(t){const e=kC(t);return RC.encodeByteArray(e,!0)},ih=function(t){return l4(t).replace(/\./g,"")},PC=function(t){try{return RC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=()=>c4().__FIREBASE_DEFAULTS__,d4=()=>{if(typeof process>"u"||typeof c_>"u")return;const t=c_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PC(t[1]);return e&&JSON.parse(e)},ff=()=>{try{return i4()||u4()||d4()||h4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DC=t=>{var e,n;return(n=(e=ff())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},f4=t=>{const e=DC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jC=()=>{var t;return(t=ff())==null?void 0:t.config},OC=t=>{var e;return(e=ff())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ih(JSON.stringify(n)),ih(JSON.stringify(o)),""].join(".")}const $l={};function g4(){const t={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?t.emulator.push(e):t.prod.push(e);return t}function y4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let u_=!1;function LC(t,e){if(typeof window>"u"||typeof document>"u"||!Ua(window.location.host)||$l[t]===e||$l[t]||u_)return;$l[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=g4().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{u_=!0,o()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=y4(r),y=n("text"),T=document.getElementById(y)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),w=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;a(S),h(E,v);const k=d();l(w,_),S.append(w,T,E,k),document.body.appendChild(S)}i?(T.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function w4(){var e;const t=(e=ff())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function E4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S4(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b4(){return!w4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T4(){try{return typeof indexedDB=="object"}catch{return!1}}function C4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="FirebaseError";class as extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=I4,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wc.prototype.create)}}class Wc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?A4(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new as(s,a,r)}}function A4(t,e){return t.replace(N4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const N4=/\{\$([^}]+)}/g;function k4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(d_(i)&&d_(o)){if(!Xi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function d_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function R4(t,e){const n=new P4(t,e);return n.subscribe.bind(n)}class P4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Lp),s.error===void 0&&(s.error=Lp),s.complete===void 0&&(s.complete=Lp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t){return t&&t._delegate?t._delegate:t}class Ji{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new p4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M4(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O4(t){return t===ki?void 0:t}function M4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const V4={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},F4=Te.INFO,z4={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},U4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=z4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cv{constructor(e){this.name=e,this._logLevel=F4,this._logHandler=U4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const $4=(t,e)=>e.some(n=>t instanceof n);let h_,f_;function B4(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H4(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VC=new WeakMap,fg=new WeakMap,FC=new WeakMap,Vp=new WeakMap,uv=new WeakMap;function W4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ws(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VC.set(n,t)}).catch(()=>{}),uv.set(e,t),e}function q4(t){if(fg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});fg.set(t,e)}let pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function G4(t){pg=t(pg)}function K4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fp(this),e,...n);return FC.set(r,e.sort?e.sort():[e]),Ws(r)}:H4().includes(t)?function(...e){return t.apply(Fp(this),e),Ws(VC.get(this))}:function(...e){return Ws(t.apply(Fp(this),e))}}function Q4(t){return typeof t=="function"?K4(t):(t instanceof IDBTransaction&&q4(t),$4(t,B4())?new Proxy(t,pg):t)}function Ws(t){if(t instanceof IDBRequest)return W4(t);if(Vp.has(t))return Vp.get(t);const e=Q4(t);return e!==t&&(Vp.set(t,e),uv.set(e,t)),e}const Fp=t=>uv.get(t);function Y4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ws(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ws(o.result),l.oldVersion,l.newVersion,Ws(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const X4=["get","getKey","getAll","getAllKeys","count"],J4=["put","add","delete","clear"],zp=new Map;function p_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zp.get(e))return zp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=J4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||X4.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return zp.set(e,i),i}G4(t=>({...t,get:(e,n,r)=>p_(e,n)||t.get(e,n,r),has:(e,n)=>!!p_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mg="@firebase/app",m_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new cv("@firebase/app"),tV="@firebase/app-compat",nV="@firebase/analytics-compat",rV="@firebase/analytics",sV="@firebase/app-check-compat",iV="@firebase/app-check",oV="@firebase/auth",aV="@firebase/auth-compat",lV="@firebase/database",cV="@firebase/data-connect",uV="@firebase/database-compat",dV="@firebase/functions",hV="@firebase/functions-compat",fV="@firebase/installations",pV="@firebase/installations-compat",mV="@firebase/messaging",gV="@firebase/messaging-compat",yV="@firebase/performance",vV="@firebase/performance-compat",wV="@firebase/remote-config",xV="@firebase/remote-config-compat",_V="@firebase/storage",EV="@firebase/storage-compat",SV="@firebase/firestore",bV="@firebase/ai",TV="@firebase/firestore-compat",CV="firebase",IV="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="[DEFAULT]",AV={[mg]:"fire-core",[tV]:"fire-core-compat",[rV]:"fire-analytics",[nV]:"fire-analytics-compat",[iV]:"fire-app-check",[sV]:"fire-app-check-compat",[oV]:"fire-auth",[aV]:"fire-auth-compat",[lV]:"fire-rtdb",[cV]:"fire-data-connect",[uV]:"fire-rtdb-compat",[dV]:"fire-fn",[hV]:"fire-fn-compat",[fV]:"fire-iid",[pV]:"fire-iid-compat",[mV]:"fire-fcm",[gV]:"fire-fcm-compat",[yV]:"fire-perf",[vV]:"fire-perf-compat",[wV]:"fire-rc",[xV]:"fire-rc-compat",[_V]:"fire-gcs",[EV]:"fire-gcs-compat",[SV]:"fire-fst",[TV]:"fire-fst-compat",[bV]:"fire-vertex","fire-js":"fire-js",[CV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,NV=new Map,yg=new Map;function g_(t,e){try{t.container.addComponent(e)}catch(n){ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ba(t){const e=t.name;if(yg.has(e))return ts.debug(`There were multiple attempts to register component ${e}.`),!1;yg.set(e,t);for(const n of oh.values())g_(n,t);for(const n of NV.values())g_(n,t);return!0}function dv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Wc("app","Firebase",kV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=IV;function zC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:gg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw qs.create("bad-app-name",{appName:String(s)});if(n||(n=jC()),!n)throw qs.create("no-options");const i=oh.get(s);if(i){if(Xi(n,i.options)&&Xi(r,i.config))return i;throw qs.create("duplicate-app",{appName:s})}const o=new L4(s);for(const l of yg.values())o.addComponent(l);const a=new RV(n,r,o);return oh.set(s,a),a}function UC(t=gg){const e=oh.get(t);if(!e&&t===gg&&jC())return zC();if(!e)throw qs.create("no-app",{appName:t});return e}function Gs(t,e,n){let r=AV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ts.warn(o.join(" "));return}ba(new Ji(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="firebase-heartbeat-database",DV=1,Ec="firebase-heartbeat-store";let Up=null;function $C(){return Up||(Up=Y4(PV,DV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),Up}async function jV(t){try{const n=(await $C()).transaction(Ec),r=await n.objectStore(Ec).get(BC(t));return await n.done,r}catch(e){if(e instanceof as)ts.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ts.warn(n.message)}}}async function y_(t,e){try{const r=(await $C()).transaction(Ec,"readwrite");await r.objectStore(Ec).put(e,BC(t)),await r.done}catch(n){if(n instanceof as)ts.warn(n.message);else{const r=qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ts.warn(r.message)}}}function BC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=1024,MV=30;class LV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=v_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>MV){const o=zV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ts.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=v_(),{heartbeatsToSend:r,unsentEntries:s}=VV(this._heartbeatsCache.heartbeats),i=ih(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ts.warn(n),""}}}function v_(){return new Date().toISOString().substring(0,10)}function VV(t,e=OV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),w_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),w_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T4()?C4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function w_(t){return ih(JSON.stringify({version:2,heartbeats:t})).length}function zV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t){ba(new Ji("platform-logger",e=>new Z4(e),"PRIVATE")),ba(new Ji("heartbeat",e=>new LV(e),"PRIVATE")),Gs(mg,m_,t),Gs(mg,m_,"esm2020"),Gs("fire-js","")}UV("");function HC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $V=HC,WC=new Wc("auth","Firebase",HC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new cv("@firebase/auth");function BV(t,...e){ah.logLevel<=Te.WARN&&ah.warn(`Auth (${$a}): ${t}`,...e)}function vd(t,...e){ah.logLevel<=Te.ERROR&&ah.error(`Auth (${$a}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,...e){throw fv(t,...e)}function tr(t,...e){return fv(t,...e)}function hv(t,e,n){const r={...$V(),[e]:n};return new Wc("auth","Firebase",r).create(e,{appName:t.name})}function $i(t){return hv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&kr(t,"argument-error"),hv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WC.create(t,...e)}function de(t,e,...n){if(!t)throw fv(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vd(e),new Error(e)}function ns(t,e){t||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function WV(){return x_()==="http:"||x_()==="https:"}function x_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WV()||_4()||"connection"in navigator)?navigator.onLine:!0}function GV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ns(n>e,"Short delay should be less than long delay!"),this.isMobile=v4()||E4()}get(){return qV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e){ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YV=new Gc(3e4,6e4);function mv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ba(t,e,n,r,s={}){return GC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=qc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:l,...i};return x4()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ua(t.emulatorConfig.host)&&(d.credentials="include"),qC.fetch()(await KC(t,t.config.apiHost,n,a),d)})}async function GC(t,e,n){t._canInitEmulator=!1;const r={...KV,...e};try{const s=new JV(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Bu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Bu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Bu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw hv(t,h,d);kr(t,h)}}catch(s){if(s instanceof as)throw s;kr(t,"network-request-failed",{message:String(s)})}}async function XV(t,e,n,r,s={}){const i=await Ba(t,e,n,r,s);return"mfaPendingCredential"in i&&kr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function KC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?pv(t.config,s):`${t.config.apiScheme}://${s}`;return QV.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class JV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(tr(this.auth,"network-request-failed")),YV.get())})}}function Bu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=tr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t,e){return Ba(t,"POST","/v1/accounts:delete",e)}async function lh(t,e){return Ba(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e3(t,e=!1){const n=zn(t),r=await n.getIdToken(e),s=gv(r);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Bl($p(s.auth_time)),issuedAtTime:Bl($p(s.iat)),expirationTime:Bl($p(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function $p(t){return Number(t)*1e3}function gv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{const s=PC(n);return s?JSON.parse(s):(vd("Failed to decode base64 JWT payload"),null)}catch(s){return vd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function __(t){const e=gv(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof as&&t3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function t3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Sc(t,lh(e,{idToken:n}));de(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?QC(s.providerUserInfo):[],o=s3(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new wg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function r3(t){const e=zn(t);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function QC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3(t,e){const n=await GC(t,{},async()=>{const r=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await KC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ua(t.emulatorConfig.host)&&(l.credentials="include"),qC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function o3(t,e){return Ba(t,"POST","/v2/accounts:revokeToken",mv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):__(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=__(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await i3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Go;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new n3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Sc(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e3(this,e)}reload(){return r3(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await Sc(this,ZV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:y,providerData:T,stsTokenManager:v}=n;de(f&&v,e,"internal-error");const E=Go.fromJSON(this.name,v);de(typeof f=="string",e,"internal-error"),vs(r,e.name),vs(s,e.name),de(typeof m=="boolean",e,"internal-error"),de(typeof y=="boolean",e,"internal-error"),vs(i,e.name),vs(o,e.name),vs(a,e.name),vs(l,e.name),vs(d,e.name),vs(h,e.name);const _=new Xn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:d,lastLoginAt:h});return T&&Array.isArray(T)&&(_.providerData=T.map(w=>({...w}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Go;s.updateFromServerResponse(n);const i=new Xn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ch(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];de(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?QC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Go;a.updateFromIdToken(r);const l=new Xn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new wg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;function Wr(t){ns(t instanceof Function,"Expected a class definition");let e=E_.get(t);return e?(ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YC.type="NONE";const S_=YC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ko{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=wd(this.userKey,s.apiKey,i),this.fullPersistenceKey=wd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lh(this.auth,{idToken:e}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ko(Wr(S_),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Wr(S_);const o=wd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await lh(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Xn._fromGetAccountInfoResponse(e,m,h)}else f=Xn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ko(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ko(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nI(e))return"Blackberry";if(rI(e))return"Webos";if(JC(e))return"Safari";if((e.includes("chrome/")||ZC(e))&&!e.includes("edge/"))return"Chrome";if(tI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XC(t=qt()){return/firefox\//i.test(t)}function JC(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZC(t=qt()){return/crios\//i.test(t)}function eI(t=qt()){return/iemobile/i.test(t)}function tI(t=qt()){return/android/i.test(t)}function nI(t=qt()){return/blackberry/i.test(t)}function rI(t=qt()){return/webos/i.test(t)}function yv(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a3(t=qt()){var e;return yv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function l3(){return S4()&&document.documentMode===10}function sI(t=qt()){return yv(t)||tI(t)||rI(t)||nI(t)||/windows phone/i.test(t)||eI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t,e=[]){let n;switch(t){case"Browser":n=b_(qt());break;case"Worker":n=`${b_(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$a}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(t,e={}){return Ba(t,"GET","/v2/passwordPolicy",mv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=6;class h3{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??d3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T_(this),this.idTokenSubscription=new T_(this),this.beforeStateQueue=new c3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lh(this,{idToken:e}),r=await Xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Yn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject($i(this));const n=e?zn(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u3(this),n=new h3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await o3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&BV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function pf(t){return zn(t)}class T_{constructor(e){this.auth=e,this.observer=null,this.addObserver=R4(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p3(t){vv=t}function m3(t){return vv.loadJS(t)}function g3(){return vv.gapiScript}function y3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t,e){const n=dv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Xi(i,e??{}))return s;kr(s,"already-initialized")}return n.initialize({options:e})}function w3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function x3(t,e,n){const r=pf(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=oI(e),{host:o,port:a}=_3(e),l=a===null?"":`:${a}`,d={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(Xi(d,r.config.emulator)&&Xi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ua(o)?(MC(`${i}//${o}${l}`),LC("Auth",!0)):E3()}function oI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _3(t){const e=oI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:C_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:C_(o)}}}function C_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function E3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t,e){return XV(t,"POST","/v1/accounts:signInWithIdp",mv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="http://localhost";class Zi extends aI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Zi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qo(e,n)}buildRequest(){const e={requestUri:S3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends wv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Kc{constructor(){super("facebook.com")}static credential(e){return Zi._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn extends Kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zi._fromParams({providerId:Dn.PROVIDER_ID,signInMethod:Dn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dn.credentialFromTaggedObject(e)}static credentialFromError(e){return Dn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Dn.credential(n,r)}catch{return null}}}Dn.GOOGLE_SIGN_IN_METHOD="google.com";Dn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Kc{constructor(){super("github.com")}static credential(e){return Zi._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Kc{constructor(){super("twitter.com")}static credential(e,n){return Zi._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return As.credential(n,r)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Xn._fromIdTokenResponse(e,r,s),o=I_(r);return new Ta({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=I_(r);return new Ta({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function I_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends as{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new uh(e,n,r,s)}}function lI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(t,i,e,r):i})}async function b3(t,e,n=!1){const r=await Sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ta._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(t,e,n=!1){const{auth:r}=t;if(Yn(r.app))return Promise.reject($i(r));const s="reauthenticate";try{const i=await Sc(t,lI(r,s,e,t),n);de(i.idToken,r,"internal-error");const o=gv(i.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),Ta._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&kr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t,e,n=!1){if(Yn(t.app))return Promise.reject($i(t));const r="signIn",s=await lI(t,r,e),i=await Ta._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function I3(t,e,n,r){return zn(t).onIdTokenChanged(e,n,r)}function A3(t,e,n){return zn(t).beforeAuthStateChanged(e,n)}function N3(t,e,n,r){return zn(t).onAuthStateChanged(e,n,r)}function k3(t){return zn(t).signOut()}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=1e3,P3=10;class uI extends cI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);l3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,P3):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},R3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uI.type="LOCAL";const D3=uI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI extends cI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dI.type="SESSION";const hI=dI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new mf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await j3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=xv("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function M3(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function L3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function F3(){return fI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="firebaseLocalStorageDb",z3=1,hh="firebaseLocalStorage",mI="fbase_key";class Qc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(t,e){return t.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function U3(){const t=indexedDB.deleteDatabase(pI);return new Qc(t).toPromise()}function xg(){const t=indexedDB.open(pI,z3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hh,{keyPath:mI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await U3(),e(await xg()))})})}async function A_(t,e,n){const r=gf(t,!0).put({[mI]:e,value:n});return new Qc(r).toPromise()}async function $3(t,e){const n=gf(t,!1).get(e),r=await new Qc(n).toPromise();return r===void 0?null:r.value}function N_(t,e){const n=gf(t,!0).delete(e);return new Qc(n).toPromise()}const B3=800,H3=3;class gI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(F3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await L3(),!this.activeServiceWorker)return;this.sender=new O3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xg();return await A_(e,dh,"1"),await N_(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=gf(s,!1).getAll();return new Qc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gI.type="LOCAL";const W3=gI;new Gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t,e){return e?Wr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends aI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function q3(t){return C3(t.auth,new _v(t),t.bypassAuthState)}function G3(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),T3(n,new _v(t),t.bypassAuthState)}async function K3(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),b3(n,new _v(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q3;case"linkViaPopup":case"linkViaRedirect":return K3;case"reauthViaPopup":case"reauthViaRedirect":return G3;default:kr(this.auth,"internal-error")}}resolve(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new Gc(2e3,1e4);async function k_(t,e,n){if(Yn(t.app))return Promise.reject(tr(t,"operation-not-supported-in-this-environment"));const r=pf(t);HV(t,e,wv);const s=yI(r,n);return new ji(r,"signInViaPopup",e,s).executeNotNull()}class ji extends vI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ji.currentPopupAction&&ji.currentPopupAction.cancel(),ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const e=xv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q3.get())};e()}}ji.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="pendingRedirect",xd=new Map;class X3 extends vI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xd.get(this.auth._key());if(!e){try{const r=await J3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xd.set(this.auth._key(),e)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J3(t,e){const n=t6(e),r=e6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Z3(t,e){xd.set(t._key(),e)}function e6(t){return Wr(t._redirectPersistence)}function t6(t){return wd(Y3,t.config.apiKey,t.name)}async function n6(t,e,n=!1){if(Yn(t.app))return Promise.reject($i(t));const r=pf(t),s=yI(r,e),o=await new X3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=10*60*1e3;class s6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(tr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r6&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(e))}saveEventToCache(e){this.cachedEventUids.add(R_(e)),this.lastProcessedEventTime=Date.now()}}function R_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e={}){return Ba(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l6=/^https?/;async function c6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o6(t);for(const n of e)try{if(u6(n))return}catch{}kr(t,"unauthorized-domain")}function u6(t){const e=vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!l6.test(n))return!1;if(a6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=new Gc(3e4,6e4);function P_(){const t=Cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h6(t){return new Promise((e,n)=>{var s,i,o;function r(){P_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P_(),n(tr(t,"network-request-failed"))},timeout:d6.get()})}if((i=(s=Cr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Cr().gapi)!=null&&o.load)r();else{const a=y3("iframefcb");return Cr()[a]=()=>{gapi.load?r():n(tr(t,"network-request-failed"))},m3(`${g3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw _d=null,e})}let _d=null;function f6(t){return _d=_d||h6(t),_d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=new Gc(5e3,15e3),m6="__/auth/iframe",g6="emulator/auth/iframe",y6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w6(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pv(e,g6):`https://${t.config.authDomain}/${m6}`,r={apiKey:e.apiKey,appName:t.name,v:$a},s=v6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${qc(r).slice(1)}`}async function x6(t){const e=await f6(t),n=Cr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:w6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=tr(t,"network-request-failed"),a=Cr().setTimeout(()=>{i(o)},p6.get());function l(){Cr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E6=500,S6=600,b6="_blank",T6="http://localhost";class D_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C6(t,e,n,r=E6,s=S6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={..._6,width:r.toString(),height:s.toString(),top:i,left:o},d=qt().toLowerCase();n&&(a=ZC(d)?b6:n),XC(d)&&(e=e||T6,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(a3(d)&&a!=="_self")return I6(e||"",a),new D_(null);const f=window.open(e||"",a,h);de(f,t,"popup-blocked");try{f.focus()}catch{}return new D_(f)}function I6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="__/auth/handler",N6="emulator/auth/handler",k6=encodeURIComponent("fac");async function j_(t,e,n,r,s,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$a,eventId:s};if(e instanceof wv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",k4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Kc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${k6}=${encodeURIComponent(l)}`:"";return`${R6(t)}?${qc(a).slice(1)}${d}`}function R6({config:t}){return t.emulator?pv(t,N6):`https://${t.authDomain}/${A6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="webStorageSupport";class P6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hI,this._completeRedirectFn=n6,this._overrideRedirectResult=Z3}async _openPopup(e,n,r,s){var o;ns((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await j_(e,n,r,vg(),s);return C6(e,i,xv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await j_(e,n,r,vg(),s);return M3(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ns(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await x6(e),r=new s6(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bp,{type:Bp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Bp];i!==void 0&&n(!!i),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sI()||JC()||yv()}}const D6=P6;var O_="@firebase/auth",M_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M6(t){ba(new Ji("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iI(t)},d=new f3(r,s,i,l);return w3(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ba(new Ji("auth-internal",e=>{const n=pf(e.getProvider("auth").getImmediate());return(r=>new j6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(O_,M_,O6(t)),Gs(O_,M_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=5*60,V6=OC("authIdTokenMaxAge")||L6;let L_=null;const F6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V6)return;const s=n==null?void 0:n.token;L_!==s&&(L_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function z6(t=UC()){const e=dv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=v3(t,{popupRedirectResolver:D6,persistence:[W3,D3,hI]}),r=OC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=F6(i.toString());A3(n,o,()=>o(n.currentUser)),I3(n,a=>o(a))}}const s=DC("auth");return s&&x3(n,`http://${s}`),n}function U6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}p3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=tr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",U6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M6("Browser");var $6="firebase",B6="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs($6,B6,"app");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,xI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,C){function I(){}I.prototype=C.prototype,b.F=C.prototype,b.prototype=new I,b.prototype.constructor=b,b.D=function(N,P,j){for(var R=Array(arguments.length-2),B=2;B<arguments.length;B++)R[B-2]=arguments[B];return C.prototype[P].apply(N,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,C,I){I||(I=0);const N=Array(16);if(typeof C=="string")for(var P=0;P<16;++P)N[P]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(P=0;P<16;++P)N[P]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=b.g[0],I=b.g[1],P=b.g[2];let j=b.g[3],R;R=C+(j^I&(P^j))+N[0]+3614090360&4294967295,C=I+(R<<7&4294967295|R>>>25),R=j+(P^C&(I^P))+N[1]+3905402710&4294967295,j=C+(R<<12&4294967295|R>>>20),R=P+(I^j&(C^I))+N[2]+606105819&4294967295,P=j+(R<<17&4294967295|R>>>15),R=I+(C^P&(j^C))+N[3]+3250441966&4294967295,I=P+(R<<22&4294967295|R>>>10),R=C+(j^I&(P^j))+N[4]+4118548399&4294967295,C=I+(R<<7&4294967295|R>>>25),R=j+(P^C&(I^P))+N[5]+1200080426&4294967295,j=C+(R<<12&4294967295|R>>>20),R=P+(I^j&(C^I))+N[6]+2821735955&4294967295,P=j+(R<<17&4294967295|R>>>15),R=I+(C^P&(j^C))+N[7]+4249261313&4294967295,I=P+(R<<22&4294967295|R>>>10),R=C+(j^I&(P^j))+N[8]+1770035416&4294967295,C=I+(R<<7&4294967295|R>>>25),R=j+(P^C&(I^P))+N[9]+2336552879&4294967295,j=C+(R<<12&4294967295|R>>>20),R=P+(I^j&(C^I))+N[10]+4294925233&4294967295,P=j+(R<<17&4294967295|R>>>15),R=I+(C^P&(j^C))+N[11]+2304563134&4294967295,I=P+(R<<22&4294967295|R>>>10),R=C+(j^I&(P^j))+N[12]+1804603682&4294967295,C=I+(R<<7&4294967295|R>>>25),R=j+(P^C&(I^P))+N[13]+4254626195&4294967295,j=C+(R<<12&4294967295|R>>>20),R=P+(I^j&(C^I))+N[14]+2792965006&4294967295,P=j+(R<<17&4294967295|R>>>15),R=I+(C^P&(j^C))+N[15]+1236535329&4294967295,I=P+(R<<22&4294967295|R>>>10),R=C+(P^j&(I^P))+N[1]+4129170786&4294967295,C=I+(R<<5&4294967295|R>>>27),R=j+(I^P&(C^I))+N[6]+3225465664&4294967295,j=C+(R<<9&4294967295|R>>>23),R=P+(C^I&(j^C))+N[11]+643717713&4294967295,P=j+(R<<14&4294967295|R>>>18),R=I+(j^C&(P^j))+N[0]+3921069994&4294967295,I=P+(R<<20&4294967295|R>>>12),R=C+(P^j&(I^P))+N[5]+3593408605&4294967295,C=I+(R<<5&4294967295|R>>>27),R=j+(I^P&(C^I))+N[10]+38016083&4294967295,j=C+(R<<9&4294967295|R>>>23),R=P+(C^I&(j^C))+N[15]+3634488961&4294967295,P=j+(R<<14&4294967295|R>>>18),R=I+(j^C&(P^j))+N[4]+3889429448&4294967295,I=P+(R<<20&4294967295|R>>>12),R=C+(P^j&(I^P))+N[9]+568446438&4294967295,C=I+(R<<5&4294967295|R>>>27),R=j+(I^P&(C^I))+N[14]+3275163606&4294967295,j=C+(R<<9&4294967295|R>>>23),R=P+(C^I&(j^C))+N[3]+4107603335&4294967295,P=j+(R<<14&4294967295|R>>>18),R=I+(j^C&(P^j))+N[8]+1163531501&4294967295,I=P+(R<<20&4294967295|R>>>12),R=C+(P^j&(I^P))+N[13]+2850285829&4294967295,C=I+(R<<5&4294967295|R>>>27),R=j+(I^P&(C^I))+N[2]+4243563512&4294967295,j=C+(R<<9&4294967295|R>>>23),R=P+(C^I&(j^C))+N[7]+1735328473&4294967295,P=j+(R<<14&4294967295|R>>>18),R=I+(j^C&(P^j))+N[12]+2368359562&4294967295,I=P+(R<<20&4294967295|R>>>12),R=C+(I^P^j)+N[5]+4294588738&4294967295,C=I+(R<<4&4294967295|R>>>28),R=j+(C^I^P)+N[8]+2272392833&4294967295,j=C+(R<<11&4294967295|R>>>21),R=P+(j^C^I)+N[11]+1839030562&4294967295,P=j+(R<<16&4294967295|R>>>16),R=I+(P^j^C)+N[14]+4259657740&4294967295,I=P+(R<<23&4294967295|R>>>9),R=C+(I^P^j)+N[1]+2763975236&4294967295,C=I+(R<<4&4294967295|R>>>28),R=j+(C^I^P)+N[4]+1272893353&4294967295,j=C+(R<<11&4294967295|R>>>21),R=P+(j^C^I)+N[7]+4139469664&4294967295,P=j+(R<<16&4294967295|R>>>16),R=I+(P^j^C)+N[10]+3200236656&4294967295,I=P+(R<<23&4294967295|R>>>9),R=C+(I^P^j)+N[13]+681279174&4294967295,C=I+(R<<4&4294967295|R>>>28),R=j+(C^I^P)+N[0]+3936430074&4294967295,j=C+(R<<11&4294967295|R>>>21),R=P+(j^C^I)+N[3]+3572445317&4294967295,P=j+(R<<16&4294967295|R>>>16),R=I+(P^j^C)+N[6]+76029189&4294967295,I=P+(R<<23&4294967295|R>>>9),R=C+(I^P^j)+N[9]+3654602809&4294967295,C=I+(R<<4&4294967295|R>>>28),R=j+(C^I^P)+N[12]+3873151461&4294967295,j=C+(R<<11&4294967295|R>>>21),R=P+(j^C^I)+N[15]+530742520&4294967295,P=j+(R<<16&4294967295|R>>>16),R=I+(P^j^C)+N[2]+3299628645&4294967295,I=P+(R<<23&4294967295|R>>>9),R=C+(P^(I|~j))+N[0]+4096336452&4294967295,C=I+(R<<6&4294967295|R>>>26),R=j+(I^(C|~P))+N[7]+1126891415&4294967295,j=C+(R<<10&4294967295|R>>>22),R=P+(C^(j|~I))+N[14]+2878612391&4294967295,P=j+(R<<15&4294967295|R>>>17),R=I+(j^(P|~C))+N[5]+4237533241&4294967295,I=P+(R<<21&4294967295|R>>>11),R=C+(P^(I|~j))+N[12]+1700485571&4294967295,C=I+(R<<6&4294967295|R>>>26),R=j+(I^(C|~P))+N[3]+2399980690&4294967295,j=C+(R<<10&4294967295|R>>>22),R=P+(C^(j|~I))+N[10]+4293915773&4294967295,P=j+(R<<15&4294967295|R>>>17),R=I+(j^(P|~C))+N[1]+2240044497&4294967295,I=P+(R<<21&4294967295|R>>>11),R=C+(P^(I|~j))+N[8]+1873313359&4294967295,C=I+(R<<6&4294967295|R>>>26),R=j+(I^(C|~P))+N[15]+4264355552&4294967295,j=C+(R<<10&4294967295|R>>>22),R=P+(C^(j|~I))+N[6]+2734768916&4294967295,P=j+(R<<15&4294967295|R>>>17),R=I+(j^(P|~C))+N[13]+1309151649&4294967295,I=P+(R<<21&4294967295|R>>>11),R=C+(P^(I|~j))+N[4]+4149444226&4294967295,C=I+(R<<6&4294967295|R>>>26),R=j+(I^(C|~P))+N[11]+3174756917&4294967295,j=C+(R<<10&4294967295|R>>>22),R=P+(C^(j|~I))+N[2]+718787259&4294967295,P=j+(R<<15&4294967295|R>>>17),R=I+(j^(P|~C))+N[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+P&4294967295,b.g[3]=b.g[3]+j&4294967295}r.prototype.v=function(b,C){C===void 0&&(C=b.length);const I=C-this.blockSize,N=this.C;let P=this.h,j=0;for(;j<C;){if(P==0)for(;j<=I;)s(this,b,j),j+=this.blockSize;if(typeof b=="string"){for(;j<C;)if(N[P++]=b.charCodeAt(j++),P==this.blockSize){s(this,N),P=0;break}}else for(;j<C;)if(N[P++]=b[j++],P==this.blockSize){s(this,N),P=0;break}}this.h=P,this.o+=C},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;C=this.o*8;for(var I=b.length-8;I<b.length;++I)b[I]=C&255,C/=256;for(this.v(b),b=Array(16),C=0,I=0;I<4;++I)for(let N=0;N<32;N+=8)b[C++]=this.g[I]>>>N&255;return b};function i(b,C){var I=a;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=C(b)}function o(b,C){this.h=C;const I=[];let N=!0;for(let P=b.length-1;P>=0;P--){const j=b[P]|0;N&&j==C||(I[P]=j,N=!1)}this.g=I}var a={};function l(b){return-128<=b&&b<128?i(b,function(C){return new o([C|0],C<0?-1:0)}):new o([b|0],b<0?-1:0)}function d(b){if(isNaN(b)||!isFinite(b))return f;if(b<0)return E(d(-b));const C=[];let I=1;for(let N=0;b>=I;N++)C[N]=b/I|0,I*=4294967296;return new o(C,0)}function h(b,C){if(b.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(b.charAt(0)=="-")return E(h(b.substring(1),C));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=d(Math.pow(C,8));let N=f;for(let j=0;j<b.length;j+=8){var P=Math.min(8,b.length-j);const R=parseInt(b.substring(j,j+P),C);P<8?(P=d(Math.pow(C,P)),N=N.j(P).add(d(R))):(N=N.j(I),N=N.add(d(R)))}return N}var f=l(0),m=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();let b=0,C=1;for(let I=0;I<this.g.length;I++){const N=this.i(I);b+=(N>=0?N:4294967296+N)*C,C*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(T(this))return"0";if(v(this))return"-"+E(this).toString(b);const C=d(Math.pow(b,6));var I=this;let N="";for(;;){const P=k(I,C).g;I=_(I,P.j(C));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(b);if(I=P,T(I))return j+N;for(;j.length<6;)j="0"+j;N=j+N}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function T(b){if(b.h!=0)return!1;for(let C=0;C<b.g.length;C++)if(b.g[C]!=0)return!1;return!0}function v(b){return b.h==-1}t.l=function(b){return b=_(this,b),v(b)?-1:T(b)?0:1};function E(b){const C=b.g.length,I=[];for(let N=0;N<C;N++)I[N]=~b.g[N];return new o(I,~b.h).add(m)}t.abs=function(){return v(this)?E(this):this},t.add=function(b){const C=Math.max(this.g.length,b.g.length),I=[];let N=0;for(let P=0;P<=C;P++){let j=N+(this.i(P)&65535)+(b.i(P)&65535),R=(j>>>16)+(this.i(P)>>>16)+(b.i(P)>>>16);N=R>>>16,j&=65535,R&=65535,I[P]=R<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(b,C){return b.add(E(C))}t.j=function(b){if(T(this)||T(b))return f;if(v(this))return v(b)?E(this).j(E(b)):E(E(this).j(b));if(v(b))return E(this.j(E(b)));if(this.l(y)<0&&b.l(y)<0)return d(this.m()*b.m());const C=this.g.length+b.g.length,I=[];for(var N=0;N<2*C;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(let P=0;P<b.g.length;P++){const j=this.i(N)>>>16,R=this.i(N)&65535,B=b.i(P)>>>16,ie=b.i(P)&65535;I[2*N+2*P]+=R*ie,w(I,2*N+2*P),I[2*N+2*P+1]+=j*ie,w(I,2*N+2*P+1),I[2*N+2*P+1]+=R*B,w(I,2*N+2*P+1),I[2*N+2*P+2]+=j*B,w(I,2*N+2*P+2)}for(b=0;b<C;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=C;b<2*C;b++)I[b]=0;return new o(I,0)};function w(b,C){for(;(b[C]&65535)!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function S(b,C){this.g=b,this.h=C}function k(b,C){if(T(C))throw Error("division by zero");if(T(b))return new S(f,f);if(v(b))return C=k(E(b),C),new S(E(C.g),E(C.h));if(v(C))return C=k(b,E(C)),new S(E(C.g),C.h);if(b.g.length>30){if(v(b)||v(C))throw Error("slowDivide_ only works with positive integers.");for(var I=m,N=C;N.l(b)<=0;)I=O(I),N=O(N);var P=D(I,1),j=D(N,1);for(N=D(N,2),I=D(I,2);!T(N);){var R=j.add(N);R.l(b)<=0&&(P=P.add(I),j=R),N=D(N,1),I=D(I,1)}return C=_(b,P.j(C)),new S(P,C)}for(P=f;b.l(C)>=0;){for(I=Math.max(1,Math.floor(b.m()/C.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),j=d(I),R=j.j(C);v(R)||R.l(b)>0;)I-=N,j=d(I),R=j.j(C);T(j)&&(j=m),P=P.add(j),b=_(b,R)}return new S(P,b)}t.B=function(b){return k(this,b).h},t.and=function(b){const C=Math.max(this.g.length,b.g.length),I=[];for(let N=0;N<C;N++)I[N]=this.i(N)&b.i(N);return new o(I,this.h&b.h)},t.or=function(b){const C=Math.max(this.g.length,b.g.length),I=[];for(let N=0;N<C;N++)I[N]=this.i(N)|b.i(N);return new o(I,this.h|b.h)},t.xor=function(b){const C=Math.max(this.g.length,b.g.length),I=[];for(let N=0;N<C;N++)I[N]=this.i(N)^b.i(N);return new o(I,this.h^b.h)};function O(b){const C=b.g.length+1,I=[];for(let N=0;N<C;N++)I[N]=b.i(N)<<1|b.i(N-1)>>>31;return new o(I,b.h)}function D(b,C){const I=C>>5;C%=32;const N=b.g.length-I,P=[];for(let j=0;j<N;j++)P[j]=C>0?b.i(j+I)>>>C|b.i(j+I+1)<<32-C:b.i(j+I);return new o(P,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,xI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Ks=o}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _I,Cl,EI,Ed,_g,SI,bI,TI;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var g=0;g<c.length;++g){var x=c[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(c,g){if(g)e:{var x=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var V=c[A];if(!(V in x))break e;x=x[V]}c=c[c.length-1],A=x[c],g=g(A),g!=A&&g!=null&&e(x,c,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(g){var x=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&x.push([A,g[A]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function l(c,g,x){return c.call.apply(c.bind,arguments)}function d(c,g,x){return d=l,d.apply(null,arguments)}function h(c,g){var x=Array.prototype.slice.call(arguments,1);return function(){var A=x.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function f(c,g){function x(){}x.prototype=g.prototype,c.Z=g.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(A,V,F){for(var X=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)X[xe-2]=arguments[xe];return g.prototype[V].apply(A,X)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){const g=c.length;if(g>0){const x=Array(g);for(let A=0;A<g;A++)x[A]=c[A];return x}return[]}function T(c,g){for(let A=1;A<arguments.length;A++){const V=arguments[A];var x=typeof V;if(x=x!="object"?x:V?Array.isArray(V)?"array":x:"null",x=="array"||x=="object"&&typeof V.length=="number"){x=c.length||0;const F=V.length||0;c.length=x+F;for(let X=0;X<F;X++)c[x+X]=V[X]}else c.push(V)}}class v{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function E(c){o.setTimeout(()=>{throw c},0)}function _(){var c=b;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class w{constructor(){this.h=this.g=null}add(g,x){const A=S.get();A.set(g,x),this.h?this.h.next=A:this.g=A,this.h=A}}var S=new v(()=>new k,c=>c.reset());class k{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let O,D=!1,b=new w,C=()=>{const c=Promise.resolve(void 0);O=()=>{c.then(I)}};function I(){for(var c;c=_();){try{c.h.call(c.g)}catch(x){E(x)}var g=S;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}D=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};o.addEventListener("test",x,g),o.removeEventListener("test",x,g)}catch{}return c}();function R(c){return/^[\s\xa0]*$/.test(c)}function B(c,g){P.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}f(B,P),B.prototype.init=function(c,g){const x=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(x=="mouseover"?g=c.fromElement:x=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),z=0;function K(c,g,x,A,V){this.listener=c,this.proxy=null,this.src=g,this.type=x,this.capture=!!A,this.ha=V,this.key=++z,this.da=this.fa=!1}function M(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function L(c,g,x){for(const A in c)g.call(x,c[A],A,c)}function U(c,g){for(const x in c)g.call(void 0,c[x],x,c)}function Q(c){const g={};for(const x in c)g[x]=c[x];return g}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,g){let x,A;for(let V=1;V<arguments.length;V++){A=arguments[V];for(x in A)c[x]=A[x];for(let F=0;F<q.length;F++)x=q[F],Object.prototype.hasOwnProperty.call(A,x)&&(c[x]=A[x])}}function ee(c){this.src=c,this.g={},this.h=0}ee.prototype.add=function(c,g,x,A,V){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const X=le(c,g,A,V);return X>-1?(g=c[X],x||(g.fa=!1)):(g=new K(g,this.src,F,!!A,V),g.fa=x,c.push(g)),g};function ue(c,g){const x=g.type;if(x in c.g){var A=c.g[x],V=Array.prototype.indexOf.call(A,g,void 0),F;(F=V>=0)&&Array.prototype.splice.call(A,V,1),F&&(M(g),c.g[x].length==0&&(delete c.g[x],c.h--))}}function le(c,g,x,A){for(let V=0;V<c.length;++V){const F=c[V];if(!F.da&&F.listener==g&&F.capture==!!x&&F.ha==A)return V}return-1}var W="closure_lm_"+(Math.random()*1e6|0),se={};function ye(c,g,x,A,V){if(Array.isArray(g)){for(let F=0;F<g.length;F++)ye(c,g[F],x,A,V);return null}return x=gi(x),c&&c[ie]?c.J(g,x,a(A)?!!A.capture:!!A,V):ne(c,g,x,!1,A,V)}function ne(c,g,x,A,V,F){if(!g)throw Error("Invalid event type");const X=a(V)?!!V.capture:!!V;let xe=Ot(c);if(xe||(c[W]=xe=new ee(c)),x=xe.add(g,x,A,X,F),x.proxy)return x;if(A=fe(),x.proxy=A,A.src=c,A.listener=x,c.addEventListener)j||(V=X),V===void 0&&(V=!1),c.addEventListener(g.toString(),A,V);else if(c.attachEvent)c.attachEvent(Qe(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return x}function fe(){function c(x){return g.call(c.src,c.listener,x)}const g=tn;return c}function ve(c,g,x,A,V){if(Array.isArray(g))for(var F=0;F<g.length;F++)ve(c,g[F],x,A,V);else A=a(A)?!!A.capture:!!A,x=gi(x),c&&c[ie]?(c=c.i,F=String(g).toString(),F in c.g&&(g=c.g[F],x=le(g,x,A,V),x>-1&&(M(g[x]),Array.prototype.splice.call(g,x,1),g.length==0&&(delete c.g[F],c.h--)))):c&&(c=Ot(c))&&(g=c.g[g.toString()],c=-1,g&&(c=le(g,x,A,V)),(x=c>-1?g[c]:null)&&qe(x))}function qe(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ie])ue(g.i,c);else{var x=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(x,A,c.capture):g.detachEvent?g.detachEvent(Qe(x),A):g.addListener&&g.removeListener&&g.removeListener(A),(x=Ot(g))?(ue(x,c),x.h==0&&(x.src=null,g[W]=null)):M(c)}}}function Qe(c){return c in se?se[c]:se[c]="on"+c}function tn(c,g){if(c.da)c=!0;else{g=new B(g,this);const x=c.listener,A=c.ha||c.src;c.fa&&qe(c),c=x.call(A,g)}return c}function Ot(c){return c=c[W],c instanceof ee?c:null}var In="__closure_events_fn_"+(Math.random()*1e9>>>0);function gi(c){return typeof c=="function"?c:(c[In]||(c[In]=function(g){return c.handleEvent(g)}),c[In])}function ze(){N.call(this),this.i=new ee(this),this.M=this,this.G=null}f(ze,N),ze.prototype[ie]=!0,ze.prototype.removeEventListener=function(c,g,x,A){ve(this,c,g,x,A)};function Ge(c,g){var x,A=c.G;if(A)for(x=[];A;A=A.G)x.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new P(g,c);else if(g instanceof P)g.target=g.target||c;else{var V=g;g=new P(A,c),re(g,V)}V=!0;let F,X;if(x)for(X=x.length-1;X>=0;X--)F=g.g=x[X],V=jr(F,A,!0,g)&&V;if(F=g.g=c,V=jr(F,A,!0,g)&&V,V=jr(F,A,!1,g)&&V,x)for(X=0;X<x.length;X++)F=g.g=x[X],V=jr(F,A,!1,g)&&V}ze.prototype.N=function(){if(ze.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const x=c.g[g];for(let A=0;A<x.length;A++)M(x[A]);delete c.g[g],c.h--}}this.G=null},ze.prototype.J=function(c,g,x,A){return this.i.add(String(c),g,!1,x,A)},ze.prototype.K=function(c,g,x,A){return this.i.add(String(c),g,!0,x,A)};function jr(c,g,x,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let V=!0;for(let F=0;F<g.length;++F){const X=g[F];if(X&&!X.da&&X.capture==x){const xe=X.listener,dt=X.ha||X.src;X.fa&&ue(c.i,X),V=xe.call(dt,A)!==!1&&V}}return V&&!A.defaultPrevented}function fo(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(c,g||0)}function Za(c){c.g=fo(()=>{c.g=null,c.i&&(c.i=!1,Za(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ou extends N{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Za(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(c){N.call(this),this.h=c,this.g={}}f(yi,N);var au=[];function Or(c){L(c.g,function(g,x){this.g.hasOwnProperty(x)&&qe(g)},c),c.g={}}yi.prototype.N=function(){yi.Z.N.call(this),Or(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=o.JSON.stringify,vi=o.JSON.parse,lu=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Un(){}function el(){}var wi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tl(){P.call(this,"d")}f(tl,P);function xi(){P.call(this,"c")}f(xi,P);var dr={},cu=null;function _i(){return cu=cu||new ze}dr.Ia="serverreachability";function uu(c){P.call(this,dr.Ia,c)}f(uu,P);function Ei(c){const g=_i();Ge(g,new uu(g))}dr.STAT_EVENT="statevent";function du(c,g){P.call(this,dr.STAT_EVENT,c),this.stat=g}f(du,P);function ke(c){const g=_i();Ge(g,new du(g,c))}dr.Ja="timingevent";function Mt(c,g){P.call(this,dr.Ja,c),this.size=g}f(Mt,P);function ct(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},g)}function nn(){this.g=!0}nn.prototype.ua=function(){this.g=!1};function rn(c,g,x,A,V,F){c.info(function(){if(c.g)if(F){var X="",xe=F.split("&");for(let Le=0;Le<xe.length;Le++){var dt=xe[Le].split("=");if(dt.length>1){const xt=dt[0];dt=dt[1];const pr=xt.split("_");X=pr.length>=2&&pr[1]=="type"?X+(xt+"="+dt+"&"):X+(xt+"=redacted&")}}}else X=null;else X=F;return"XMLHTTP REQ ("+A+") [attempt "+V+"]: "+g+`
`+x+`
`+X})}function Gt(c,g,x,A,V,F,X){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+V+"]: "+g+`
`+x+`
`+F+" "+X})}function At(c,g,x,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ut(c,x)+(A?" "+A:"")})}function cs(c,g){c.info(function(){return"TIMEOUT: "+g})}nn.prototype.info=function(){};function ut(c,g){if(!c.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var x=F[c];if(!(x.length<2)){var A=x[1];if(Array.isArray(A)&&!(A.length<1)){var V=A[0];if(V!="noop"&&V!="stop"&&V!="close")for(let X=1;X<A.length;X++)A[X]=""}}}}return ur(F)}catch{return g}}var pn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},An;function Mr(){}f(Mr,Un),Mr.prototype.g=function(){return new XMLHttpRequest},An=new Mr;function $n(c){return encodeURIComponent(String(c))}function hr(c){var g=1;c=c.split(":");const x=[];for(;g>0&&c.length;)x.push(c.shift()),g--;return c.length&&x.push(c.join(":")),x}function sn(c,g,x,A){this.j=c,this.i=g,this.l=x,this.S=A||1,this.V=new yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new po}function po(){this.i=null,this.g="",this.h=!1}var j0={},Bf={};function Hf(c,g,x){c.M=1,c.A=fu(fr(g)),c.u=x,c.R=!0,O0(c,null)}function O0(c,g){c.F=Date.now(),hu(c),c.B=fr(c.A);var x=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),K0(x.i,"t",A),c.C=0,x=c.j.L,c.h=new po,c.g=hw(c.j,x?g:null,!c.u),c.P>0&&(c.O=new ou(d(c.Y,c,c.g),c.P)),g=c.V,x=c.g,A=c.ba;var V="readystatechange";Array.isArray(V)||(V&&(au[0]=V.toString()),V=au);for(let F=0;F<V.length;F++){const X=ye(x,V[F],A||g.handleEvent,!1,g.h||g);if(!X)break;g.g[X.key]=X}g=c.J?Q(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),Ei(),rn(c.i,c.v,c.B,c.l,c.S,c.u)}sn.prototype.ba=function(c){c=c.target;const g=this.O;g&&hs(c)==3?g.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=hs(this.g),dt=this.g.ya(),Le=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||tw(this.g)))){this.K||xe!=4||dt==7||(dt==8||Le<=0?Ei(3):Ei(2)),Wf(this);var g=this.g.ca();this.X=g;var x=UR(this);if(this.o=g==200,Gt(this.i,this.v,this.B,this.l,this.S,xe,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,V=this.g;if((A=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var F=A;break t}}F=null}if(c=F)At(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qf(this,c);else{this.o=!1,this.m=3,ke(12),Si(this),nl(this);break e}}if(this.R){c=!0;let xt;for(;!this.K&&this.C<x.length;)if(xt=$R(this,x),xt==Bf){xe==4&&(this.m=4,ke(14),c=!1),At(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==j0){this.m=4,ke(15),At(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else At(this.i,this.l,xt,null),qf(this,xt);if(M0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||x.length!=0||this.h.h||(this.m=1,ke(16),c=!1),this.o=this.o&&c,!c)At(this.i,this.l,x,"[Invalid Chunked Response]"),Si(this),nl(this);else if(x.length>0&&!this.W){this.W=!0;var X=this.j;X.g==this&&X.aa&&!X.P&&(X.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),ep(X),X.P=!0,ke(11))}}else At(this.i,this.l,x,null),qf(this,x);xe==4&&Si(this),this.o&&!this.K&&(xe==4?lw(this.j,this):(this.o=!1,hu(this)))}else nP(this.g),g==400&&x.indexOf("Unknown SID")>0?(this.m=3,ke(12)):(this.m=0,ke(13)),Si(this),nl(this)}}}catch{}finally{}};function UR(c){if(!M0(c))return c.g.la();const g=tw(c.g);if(g==="")return"";let x="";const A=g.length,V=hs(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Si(c),nl(c),"";c.h.i=new o.TextDecoder}for(let F=0;F<A;F++)c.h.h=!0,x+=c.h.i.decode(g[F],{stream:!(V&&F==A-1)});return g.length=0,c.h.g+=x,c.C=0,c.h.g}function M0(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function $R(c,g){var x=c.C,A=g.indexOf(`
`,x);return A==-1?Bf:(x=Number(g.substring(x,A)),isNaN(x)?j0:(A+=1,A+x>g.length?Bf:(g=g.slice(A,A+x),c.C=A+x,g)))}sn.prototype.cancel=function(){this.K=!0,Si(this)};function hu(c){c.T=Date.now()+c.H,L0(c,c.H)}function L0(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ct(d(c.aa,c),g)}function Wf(c){c.D&&(o.clearTimeout(c.D),c.D=null)}sn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(cs(this.i,this.B),this.M!=2&&(Ei(),ke(17)),Si(this),this.m=2,nl(this)):L0(this,this.T-c)};function nl(c){c.j.I==0||c.K||lw(c.j,c)}function Si(c){Wf(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Or(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function qf(c,g){try{var x=c.j;if(x.I!=0&&(x.g==c||Gf(x.h,c))){if(!c.L&&Gf(x.h,c)&&x.I==3){try{var A=x.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var V=A;if(V[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)vu(x),gu(x);else break e;Zf(x),ke(18)}}else x.xa=V[1],0<x.xa-x.K&&V[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=ct(d(x.Va,x),6e3));z0(x.h)<=1&&x.ta&&(x.ta=void 0)}else Ti(x,11)}else if((c.L||x.g==c)&&vu(x),!R(g))for(V=x.Ba.g.parse(g),g=0;g<V.length;g++){let Le=V[g];const xt=Le[0];if(!(xt<=x.K))if(x.K=xt,Le=Le[1],x.I==2)if(Le[0]=="c"){x.M=Le[1],x.ba=Le[2];const pr=Le[3];pr!=null&&(x.ka=pr,x.j.info("VER="+x.ka));const Ci=Le[4];Ci!=null&&(x.za=Ci,x.j.info("SVER="+x.za));const fs=Le[5];fs!=null&&typeof fs=="number"&&fs>0&&(A=1.5*fs,x.O=A,x.j.info("backChannelRequestTimeoutMs_="+A)),A=x;const ps=c.g;if(ps){const xu=ps.g?ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xu){var F=A.h;F.g||xu.indexOf("spdy")==-1&&xu.indexOf("quic")==-1&&xu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Kf(F,F.h),F.h=null))}if(A.G){const tp=ps.g?ps.g.getResponseHeader("X-HTTP-Session-Id"):null;tp&&(A.wa=tp,Ue(A.J,A.G,tp))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),A=x;var X=c;if(A.na=dw(A,A.L?A.ba:null,A.W),X.L){U0(A.h,X);var xe=X,dt=A.O;dt&&(xe.H=dt),xe.D&&(Wf(xe),hu(xe)),A.g=X}else ow(A);x.i.length>0&&yu(x)}else Le[0]!="stop"&&Le[0]!="close"||Ti(x,7);else x.I==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Ti(x,7):Jf(x):Le[0]!="noop"&&x.l&&x.l.qa(Le),x.A=0)}}Ei(4)}catch{}}var BR=class{constructor(c,g){this.g=c,this.map=g}};function V0(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function F0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function z0(c){return c.h?1:c.g?c.g.size:0}function Gf(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Kf(c,g){c.g?c.g.add(g):c.h=g}function U0(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}V0.prototype.cancel=function(){if(this.i=$0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $0(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const x of c.g.values())g=g.concat(x.G);return g}return y(c.i)}var B0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HR(c,g){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const A=c[x].indexOf("=");let V,F=null;A>=0?(V=c[x].substring(0,A),F=c[x].substring(A+1)):V=c[x],g(V,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function us(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof us?(this.l=c.l,rl(this,c.j),this.o=c.o,this.g=c.g,sl(this,c.u),this.h=c.h,Qf(this,Q0(c.i)),this.m=c.m):c&&(g=String(c).match(B0))?(this.l=!1,rl(this,g[1]||"",!0),this.o=il(g[2]||""),this.g=il(g[3]||"",!0),sl(this,g[4]),this.h=il(g[5]||"",!0),Qf(this,g[6]||"",!0),this.m=il(g[7]||"")):(this.l=!1,this.i=new al(null,this.l))}us.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(ol(g,H0,!0),":");var x=this.g;return(x||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ol(g,H0,!0),"@"),c.push($n(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(ol(x,x.charAt(0)=="/"?GR:qR,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",ol(x,QR)),c.join("")},us.prototype.resolve=function(c){const g=fr(this);let x=!!c.j;x?rl(g,c.j):x=!!c.o,x?g.o=c.o:x=!!c.g,x?g.g=c.g:x=c.u!=null;var A=c.h;if(x)sl(g,c.u);else if(x=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var V=g.h.lastIndexOf("/");V!=-1&&(A=g.h.slice(0,V+1)+A)}if(V=A,V==".."||V==".")A="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){A=V.lastIndexOf("/",0)==0,V=V.split("/");const F=[];for(let X=0;X<V.length;){const xe=V[X++];xe=="."?A&&X==V.length&&F.push(""):xe==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&X==V.length&&F.push("")):(F.push(xe),A=!0)}A=F.join("/")}else A=V}return x?g.h=A:x=c.i.toString()!=="",x?Qf(g,Q0(c.i)):x=!!c.m,x&&(g.m=c.m),g};function fr(c){return new us(c)}function rl(c,g,x){c.j=x?il(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function sl(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Qf(c,g,x){g instanceof al?(c.i=g,YR(c.i,c.l)):(x||(g=ol(g,KR)),c.i=new al(g,c.l))}function Ue(c,g,x){c.i.set(g,x)}function fu(c){return Ue(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function il(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ol(c,g,x){return typeof c=="string"?(c=encodeURI(c).replace(g,WR),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function WR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var H0=/[#\/\?@]/g,qR=/[#\?:]/g,GR=/[#\?]/g,KR=/[#\?@]/g,QR=/#/g;function al(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function bi(c){c.g||(c.g=new Map,c.h=0,c.i&&HR(c.i,function(g,x){c.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}t=al.prototype,t.add=function(c,g){bi(this),this.i=null,c=mo(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(g),this.h+=1,this};function W0(c,g){bi(c),g=mo(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function q0(c,g){return bi(c),g=mo(c,g),c.g.has(g)}t.forEach=function(c,g){bi(this),this.g.forEach(function(x,A){x.forEach(function(V){c.call(g,V,A,this)},this)},this)};function G0(c,g){bi(c);let x=[];if(typeof g=="string")q0(c,g)&&(x=x.concat(c.g.get(mo(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)x=x.concat(c[g]);return x}t.set=function(c,g){return bi(this),this.i=null,c=mo(this,c),q0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=G0(this,c),c.length>0?String(c[0]):g):g};function K0(c,g,x){W0(c,g),x.length>0&&(c.i=null,c.g.set(mo(c,g),y(x)),c.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var x=g[A];const V=$n(x);x=G0(this,x);for(let F=0;F<x.length;F++){let X=V;x[F]!==""&&(X+="="+$n(x[F])),c.push(X)}}return this.i=c.join("&")};function Q0(c){const g=new al;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function mo(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function YR(c,g){g&&!c.j&&(bi(c),c.i=null,c.g.forEach(function(x,A){const V=A.toLowerCase();A!=V&&(W0(this,A),K0(this,V,x))},c)),c.j=g}function XR(c,g){const x=new nn;if(o.Image){const A=new Image;A.onload=h(ds,x,"TestLoadImage: loaded",!0,g,A),A.onerror=h(ds,x,"TestLoadImage: error",!1,g,A),A.onabort=h(ds,x,"TestLoadImage: abort",!1,g,A),A.ontimeout=h(ds,x,"TestLoadImage: timeout",!1,g,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function JR(c,g){const x=new nn,A=new AbortController,V=setTimeout(()=>{A.abort(),ds(x,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(V),F.ok?ds(x,"TestPingServer: ok",!0,g):ds(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),ds(x,"TestPingServer: error",!1,g)})}function ds(c,g,x,A,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),A(x)}catch{}}function ZR(){this.g=new lu}function Yf(c){this.i=c.Sb||null,this.h=c.ab||!1}f(Yf,Un),Yf.prototype.g=function(){return new pu(this.i,this.h)};function pu(c,g){ze.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(pu,ze),t=pu.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,cl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ll(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,cl(this)),this.g&&(this.readyState=3,cl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Y0(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Y0(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ll(this):cl(this),this.readyState==3&&Y0(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,ll(this))},t.Na=function(c){this.g&&(this.response=c,ll(this))},t.ga=function(){this.g&&ll(this)};function ll(c){c.readyState=4,c.l=null,c.j=null,c.B=null,cl(c)}t.setRequestHeader=function(c,g){this.A.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=g.next();return c.join(`\r
`)};function cl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function X0(c){let g="";return L(c,function(x,A){g+=A,g+=":",g+=x,g+=`\r
`}),g}function Xf(c,g,x){e:{for(A in x){var A=!1;break e}A=!0}A||(x=X0(x),typeof c=="string"?x!=null&&$n(x):Ue(c,g,x))}function tt(c){ze.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(tt,ze);var eP=/^https?$/i,tP=["POST","PUT"];t=tt.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,g,x,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():An.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){J0(this,F);return}if(c=x||"",x=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var V in A)x.set(V,A[V]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())x.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(x.keys()).find(F=>F.toLowerCase()=="content-type"),V=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(tP,g,void 0)>=0)||A||V||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,X]of x)this.g.setRequestHeader(F,X);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){J0(this,F)}};function J0(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Z0(c),mu(c)}function Z0(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ge(this,"complete"),Ge(this,"abort"),mu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mu(this,!0)),tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ew(this):this.Xa())},t.Xa=function(){ew(this)};function ew(c){if(c.h&&typeof i<"u"){if(c.v&&hs(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ge(c,"readystatechange"),hs(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var A;if(A=F===0){let X=String(c.D).match(B0)[1]||null;!X&&o.self&&o.self.location&&(X=o.self.location.protocol.slice(0,-1)),A=!eP.test(X?X.toLowerCase():"")}x=A}if(x)Ge(c,"complete"),Ge(c,"success");else{c.o=6;try{var V=hs(c)>2?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.ca()+"]",Z0(c)}}finally{mu(c)}}}}function mu(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,g||Ge(c,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function hs(c){return c.g?c.g.readyState:0}t.ca=function(){try{return hs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),vi(g)}};function tw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function nP(c){const g={};c=(c.g&&hs(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var x=hr(c[A]);const V=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const F=g[V]||[];g[V]=F,F.push(x)}U(g,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ul(c,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||g}function nw(c){this.za=0,this.i=[],this.j=new nn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ul("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ul("baseRetryDelayMs",5e3,c),this.Za=ul("retryDelaySeedMs",1e4,c),this.Ta=ul("forwardChannelMaxRetries",2,c),this.va=ul("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new V0(c&&c.concurrentRequestLimit),this.Ba=new ZR,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=nw.prototype,t.ka=8,t.I=1,t.connect=function(c,g,x,A){ke(0),this.W=c,this.H=g||{},x&&A!==void 0&&(this.H.OSID=x,this.H.OAID=A),this.F=this.X,this.J=dw(this,null,this.W),yu(this)};function Jf(c){if(rw(c),c.I==3){var g=c.V++,x=fr(c.J);if(Ue(x,"SID",c.M),Ue(x,"RID",g),Ue(x,"TYPE","terminate"),dl(c,x),g=new sn(c,c.j,g),g.M=2,g.A=fu(fr(x)),x=!1,o.navigator&&o.navigator.sendBeacon)try{x=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!x&&o.Image&&(new Image().src=g.A,x=!0),x||(g.g=hw(g.j,null),g.g.ea(g.A)),g.F=Date.now(),hu(g)}uw(c)}function gu(c){c.g&&(ep(c),c.g.cancel(),c.g=null)}function rw(c){gu(c),c.v&&(o.clearTimeout(c.v),c.v=null),vu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function yu(c){if(!F0(c.h)&&!c.m){c.m=!0;var g=c.Ea;O||C(),D||(O(),D=!0),b.add(g,c),c.D=0}}function rP(c,g){return z0(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ct(d(c.Ea,c,g),cw(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const V=new sn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=Q(F),re(F,this.U)):F=this.U),this.u!==null||this.R||(V.J=F,F=null),this.S)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var A=this.i[x];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=iw(this,V,g),x=fr(this.J),Ue(x,"RID",c),Ue(x,"CVER",22),this.G&&Ue(x,"X-HTTP-Session-Id",this.G),dl(this,x),F&&(this.R?g="headers="+$n(X0(F))+"&"+g:this.u&&Xf(x,this.u,F)),Kf(this.h,V),this.Ra&&Ue(x,"TYPE","init"),this.S?(Ue(x,"$req",g),Ue(x,"SID","null"),V.U=!0,Hf(V,x,null)):Hf(V,x,g),this.I=2}}else this.I==3&&(c?sw(this,c):this.i.length==0||F0(this.h)||sw(this))};function sw(c,g){var x;g?x=g.l:x=c.V++;const A=fr(c.J);Ue(A,"SID",c.M),Ue(A,"RID",x),Ue(A,"AID",c.K),dl(c,A),c.u&&c.o&&Xf(A,c.u,c.o),x=new sn(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),g&&(c.i=g.G.concat(c.i)),g=iw(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Kf(c.h,x),Hf(x,A,g)}function dl(c,g){c.H&&L(c.H,function(x,A){Ue(g,A,x)}),c.l&&L({},function(x,A){Ue(g,A,x)})}function iw(c,g,x){x=Math.min(c.i.length,x);const A=c.l?d(c.l.Ka,c.l,c):null;e:{var V=c.i;let xe=-1;for(;;){const dt=["count="+x];xe==-1?x>0?(xe=V[0].g,dt.push("ofs="+xe)):xe=0:dt.push("ofs="+xe);let Le=!0;for(let xt=0;xt<x;xt++){var F=V[xt].g;const pr=V[xt].map;if(F-=xe,F<0)xe=Math.max(0,V[xt].g-100),Le=!1;else try{F="req"+F+"_"||"";try{var X=pr instanceof Map?pr:Object.entries(pr);for(const[Ci,fs]of X){let ps=fs;a(fs)&&(ps=ur(fs)),dt.push(F+Ci+"="+encodeURIComponent(ps))}}catch(Ci){throw dt.push(F+"type="+encodeURIComponent("_badmap")),Ci}}catch{A&&A(pr)}}if(Le){X=dt.join("&");break e}}X=void 0}return c=c.i.splice(0,x),g.G=c,X}function ow(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;O||C(),D||(O(),D=!0),b.add(g,c),c.A=0}}function Zf(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ct(d(c.Da,c),cw(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,aw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ct(d(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ke(10),gu(this),aw(this))};function ep(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function aw(c){c.g=new sn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=fr(c.na);Ue(g,"RID","rpc"),Ue(g,"SID",c.M),Ue(g,"AID",c.K),Ue(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ue(g,"TO",c.ia),Ue(g,"TYPE","xmlhttp"),dl(c,g),c.u&&c.o&&Xf(g,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=fu(fr(g)),x.u=null,x.R=!0,O0(x,c)}t.Va=function(){this.C!=null&&(this.C=null,gu(this),Zf(this),ke(19))};function vu(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function lw(c,g){var x=null;if(c.g==g){vu(c),ep(c),c.g=null;var A=2}else if(Gf(c.h,g))x=g.G,U0(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){x=g.u?g.u.length:0,g=Date.now()-g.F;var V=c.D;A=_i(),Ge(A,new Mt(A,x)),yu(c)}else ow(c);else if(V=g.m,V==3||V==0&&g.X>0||!(A==1&&rP(c,g)||A==2&&Zf(c)))switch(x&&x.length>0&&(g=c.h,g.i=g.i.concat(x)),V){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function cw(c,g){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*g}function Ti(c,g){if(c.j.info("Error code "+g),g==2){var x=d(c.bb,c),A=c.Ua;const V=!A;A=new us(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||rl(A,"https"),fu(A),V?XR(A.toString(),x):JR(A.toString(),x)}else ke(2);c.I=0,c.l&&c.l.pa(g),uw(c),rw(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function uw(c){if(c.I=0,c.ja=[],c.l){const g=$0(c.h);(g.length!=0||c.i.length!=0)&&(T(c.ja,g),T(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function dw(c,g,x){var A=x instanceof us?fr(x):new us(x);if(A.g!="")g&&(A.g=g+"."+A.g),sl(A,A.u);else{var V=o.location;A=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;const F=new us(null);A&&rl(F,A),g&&(F.g=g),V&&sl(F,V),x&&(F.h=x),A=F}return x=c.G,g=c.wa,x&&g&&Ue(A,x,g),Ue(A,"VER",c.ka),dl(c,A),A}function hw(c,g,x){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new tt(new Yf({ab:x})):new tt(c.ma),g.Fa(c.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fw(){}t=fw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wu(){}wu.prototype.g=function(c,g){return new gn(c,g)};function gn(c,g){ze.call(this),this.g=new nw(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!R(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new go(this)}f(gn,ze),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Jf(this.g)},gn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=ur(c),c=x);g.i.push(new BR(g.Ya++,c)),g.I==3&&yu(g)},gn.prototype.N=function(){this.g.l=null,delete this.j,Jf(this.g),delete this.g,gn.Z.N.call(this)};function pw(c){tl.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const x in g){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}f(pw,tl);function mw(){xi.call(this),this.status=1}f(mw,xi);function go(c){this.g=c}f(go,fw),go.prototype.ra=function(){Ge(this.g,"a")},go.prototype.qa=function(c){Ge(this.g,new pw(c))},go.prototype.pa=function(c){Ge(this.g,new mw)},go.prototype.oa=function(){Ge(this.g,"b")},wu.prototype.createWebChannel=wu.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,TI=function(){return new wu},bI=function(){return _i()},SI=dr,_g={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pn.NO_ERROR=0,pn.TIMEOUT=8,pn.HTTP_ERROR=6,Ed=pn,mn.COMPLETE="complete",EI=mn,el.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",ze.prototype.listen=ze.prototype.J,Cl=el,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,_I=tt}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const F_="@firebase/firestore",z_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new cv("@firebase/firestore");function _o(){return eo.logLevel}function Z(t,...e){if(eo.logLevel<=Te.DEBUG){const n=e.map(Ev);eo.debug(`Firestore (${Ha}): ${t}`,...n)}}function rs(t,...e){if(eo.logLevel<=Te.ERROR){const n=e.map(Ev);eo.error(`Firestore (${Ha}): ${t}`,...n)}}function to(t,...e){if(eo.logLevel<=Te.WARN){const n=e.map(Ev);eo.warn(`Firestore (${Ha}): ${t}`,...n)}}function Ev(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,CI(t,r,n)}function CI(t,e,n){let r=`FIRESTORE (${Ha}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw rs(r),new Error(r)}function je(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||CI(e,s,r)}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends as{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class H6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W6{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string",31837,{l:r}),new II(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class q6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new q6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){je(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new U_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new U_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Q6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function Eg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Hp(s)===Hp(i)?Ce(s,i):Hp(s)?1:-1}return Ce(t.length,e.length)}const Y6=55296,X6=57343;function Hp(t){const e=t.charCodeAt(0);return e>=Y6&&e<=X6}function Ca(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="__name__";class yr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=yr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ce(e.length,n.length)}static compareSegments(e,n){const r=yr.isNumericId(e),s=yr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?yr.extractNumericId(e).compare(yr.extractNumericId(n)):Eg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class Xe extends yr{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const J6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends yr{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return J6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$_}static keyField(){return new Tt([$_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new oe(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new oe(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new oe(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Xe.fromString(e))}static fromName(e){return new ae(Xe.fromString(e).popFirst(5))}static empty(){return new ae(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t,e,n){if(!n)throw new oe(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NI(t,e,n,r){if(e===!0&&r===!0)throw new oe(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function B_(t){if(!ae.isDocumentKey(t))throw new oe(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function Ia(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sv(t);throw new oe(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Yc(t,e){if(!kI(t))throw new oe(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new oe(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=-62135596800,W_=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*W_);return new Ve(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H_)throw new oe(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W_}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yc(e,Ve._jsonSchema))return new Ve(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:lt("string",Ve._jsonSchemaVersion),seconds:lt("number"),nanoseconds:lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new Ve(0,0))}static max(){return new he(new Ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=-1;function e5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new ri(s,ae.empty(),e)}function t5(t){return new ri(t.readTime,t.key,bc)}class ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ri(he.min(),ae.empty(),bc)}static max(){return new ri(he.max(),ae.empty(),bc)}}function n5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==r5)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function i5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=-1;function wf(t){return t==null}function fh(t){return t===0&&1/t==-1/0}function o5(t){return typeof t=="number"&&Number.isInteger(t)&&!fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="";function a5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=q_(e)),e=l5(t.get(n),e);return q_(e)}function l5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case RI:n+="";break;default:n+=i}}return n}function q_(t){return t+RI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??kt.RED,this.left=s??kt.EMPTY,this.right=i??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new kt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return kt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(e){return new K_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class K_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new vt(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new DI("Invalid base64 string: "+i):i}}(e);return new It(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const c5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(t){if(je(!!t,39018),typeof t=="string"){let e=0;const n=c5.exec(t);if(je(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ii(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="server_timestamp",OI="__type__",MI="__previous_value__",LI="__local_write_time__";function Tv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[OI])==null?void 0:r.stringValue)===jI}function xf(t){const e=t.mapValue.fields[MI];return Tv(e)?xf(e):e}function Tc(t){const e=si(t.mapValue.fields[LI].timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n,r,s,i,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=h}}const ph="(default)";class Aa{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new Aa("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof Aa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="__type__",FI="__max__",qu={mapValue:{fields:{__type__:{stringValue:FI}}}},zI="__vector__",mh="value";function oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tv(t)?4:h5(t)?9007199254740991:d5(t)?10:11:ce(28295,{value:t})}function Rr(t,e){if(t===e)return!0;const n=oi(t);if(n!==oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=si(s.timestampValue),a=si(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ii(s.bytesValue).isEqual(ii(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return st(s.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(s.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return st(s.integerValue)===st(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=st(s.doubleValue),a=st(i.doubleValue);return o===a?fh(o)===fh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ca(t.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(G_(o)!==G_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Rr(o[l],a[l])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function Cc(t,e){return(t.values||[]).find(n=>Rr(n,e))!==void 0}function Na(t,e){if(t===e)return 0;const n=oi(t),r=oi(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=st(i.integerValue||i.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Q_(t.timestampValue,e.timestampValue);case 4:return Q_(Tc(t),Tc(e));case 5:return Eg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ii(i),l=ii(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=Ce(a[d],l[d]);if(h!==0)return h}return Ce(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ce(st(i.latitude),st(o.latitude));return a!==0?a:Ce(st(i.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Y_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,y,T,v;const a=i.fields||{},l=o.fields||{},d=(m=a[mh])==null?void 0:m.arrayValue,h=(y=l[mh])==null?void 0:y.arrayValue,f=Ce(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return f!==0?f:Y_(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===qu.mapValue&&o===qu.mapValue)return 0;if(i===qu.mapValue)return 1;if(o===qu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=Eg(l[f],h[f]);if(m!==0)return m;const y=Na(a[l[f]],d[h[f]]);if(y!==0)return y}return Ce(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{he:n})}}function Q_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=si(t),r=si(e),s=Ce(n.seconds,r.seconds);return s!==0?s:Ce(n.nanos,r.nanos)}function Y_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Na(n[s],r[s]);if(i)return i}return Ce(n.length,r.length)}function ka(t){return Sg(t)}function Sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=si(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ii(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Sg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Sg(n.fields[o])}`;return s+"}"}(t.mapValue):ce(61005,{value:t})}function Sd(t){switch(oi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xf(t);return e?16+Sd(e):16;case 5:return 2*t.stringValue.length;case 6:return ii(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Sd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ao(r.fields,(i,o)=>{s+=i.length+Sd(o)}),s}(t.mapValue);default:throw ce(13486,{value:t})}}function bg(t){return!!t&&"integerValue"in t}function Cv(t){return!!t&&"arrayValue"in t}function X_(t){return!!t&&"nullValue"in t}function J_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bd(t){return!!t&&"mapValue"in t}function d5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[VI])==null?void 0:r.stringValue)===zI}function Hl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(t.arrayValue.values[n]);return e}return{...t}}function h5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===FI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=Tt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Hl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];bd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ao(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new jn(Hl(this.value))}}function UI(t){const e=[];return ao(t.fields,(n,r)=>{const s=new Tt([n]);if(bd(r)){const i=UI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,he.min(),he.min(),he.min(),jn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ht(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new Ht(e,2,n,he.min(),he.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,he.min(),he.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function Z_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=Na(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function e1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function f5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{}class mt extends $I{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new m5(e,n,r):n==="array-contains"?new v5(e,r):n==="in"?new w5(e,r):n==="not-in"?new x5(e,r):n==="array-contains-any"?new _5(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new g5(e,r):new y5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Na(n,this.value)):n!==null&&oi(this.value)===oi(n)&&this.matchesComparison(Na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends $I{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pr(e,n)}matches(e){return BI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BI(t){return t.op==="and"}function HI(t){return p5(t)&&BI(t)}function p5(t){for(const e of t.filters)if(e instanceof Pr)return!1;return!0}function Tg(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+ka(t.value);if(HI(t))return t.filters.map(e=>Tg(e)).join(",");{const e=t.filters.map(n=>Tg(n)).join(",");return`${t.op}(${e})`}}function WI(t,e){return t instanceof mt?function(r,s){return s instanceof mt&&r.op===s.op&&r.field.isEqual(s.field)&&Rr(r.value,s.value)}(t,e):t instanceof Pr?function(r,s){return s instanceof Pr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&WI(o,s.filters[a]),!0):!1}(t,e):void ce(19439)}function qI(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${ka(n.value)}`}(t):t instanceof Pr?function(n){return n.op.toString()+" {"+n.getFilters().map(qI).join(" ,")+"}"}(t):"Filter"}class m5 extends mt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class g5 extends mt{constructor(e,n){super(e,"in",n),this.keys=GI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class y5 extends mt{constructor(e,n){super(e,"not-in",n),this.keys=GI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class v5 extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cv(n)&&Cc(n.arrayValue,this.value)}}class w5 extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cc(this.value.arrayValue,n)}}class x5 extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cc(this.value.arrayValue,n)}}class _5 extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function t1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new E5(t,e,n,r,s,i,o)}function Iv(t){const e=pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Tg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),wf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ka(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ka(r)).join(",")),e.Te=n}return e.Te}function Av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!f5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!e1(t.startAt,e.startAt)&&e1(t.endAt,e.endAt)}function Cg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function S5(t,e,n,r,s,i,o,a){return new _f(t,e,n,r,s,i,o,a)}function Nv(t){return new _f(t)}function n1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function b5(t){return t.collectionGroup!==null}function Wl(t){const e=pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(Tt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new yh(i,r))}),n.has(Tt.keyField().canonicalString())||e.Ie.push(new yh(Tt.keyField(),r))}return e.Ie}function Ir(t){const e=pe(t);return e.Ee||(e.Ee=T5(e,Wl(t))),e.Ee}function T5(t,e){if(t.limitType==="F")return t1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new yh(s.field,i)});const n=t.endAt?new gh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gh(t.startAt.position,t.startAt.inclusive):null;return t1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ig(t,e,n){return new _f(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ef(t,e){return Av(Ir(t),Ir(e))&&t.limitType===e.limitType}function KI(t){return`${Iv(Ir(t))}|lt:${t.limitType}`}function Eo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>qI(s)).join(", ")}]`),wf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ka(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ka(s)).join(",")),`Target(${r})`}(Ir(t))}; limitType=${t.limitType})`}function Sf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Wl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=Z_(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,Wl(r),s)||r.endAt&&!function(o,a,l){const d=Z_(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,Wl(r),s))}(t,e)}function C5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QI(t){return(e,n)=>{let r=!1;for(const s of Wl(t)){const i=I5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function I5(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?Na(l,d):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return PI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=new et(ae.comparator);function ss(){return A5}const YI=new et(ae.comparator);function Il(...t){let e=YI;for(const n of t)e=e.insert(n.key,n);return e}function XI(t){let e=YI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oi(){return ql()}function JI(){return ql()}function ql(){return new lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const N5=new et(ae.comparator),k5=new vt(ae.comparator);function Ie(...t){let e=k5;for(const n of t)e=e.add(n);return e}const R5=new vt(Ce);function P5(){return R5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function ZI(t){return{integerValue:""+t}}function D5(t,e){return o5(e)?ZI(e):kv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this._=void 0}}function j5(t,e,n){return t instanceof Ic?function(s,i){const o={fields:{[OI]:{stringValue:jI},[LI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Tv(i)&&(i=xf(i)),i&&(o.fields[MI]=i),{mapValue:o}}(n,e):t instanceof Ac?tA(t,e):t instanceof Nc?nA(t,e):function(s,i){const o=eA(s,i),a=r1(o)+r1(s.Ae);return bg(o)&&bg(s.Ae)?ZI(a):kv(s.serializer,a)}(t,e)}function O5(t,e,n){return t instanceof Ac?tA(t,e):t instanceof Nc?nA(t,e):n}function eA(t,e){return t instanceof vh?function(r){return bg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ic extends bf{}class Ac extends bf{constructor(e){super(),this.elements=e}}function tA(t,e){const n=rA(e);for(const r of t.elements)n.some(s=>Rr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Nc extends bf{constructor(e){super(),this.elements=e}}function nA(t,e){let n=rA(e);for(const r of t.elements)n=n.filter(s=>!Rr(s,r));return{arrayValue:{values:n}}}class vh extends bf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function r1(t){return st(t.integerValue||t.doubleValue)}function rA(t){return Cv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n){this.field=e,this.transform=n}}function L5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ac&&s instanceof Ac||r instanceof Nc&&s instanceof Nc?Ca(r.elements,s.elements,Rr):r instanceof vh&&s instanceof vh?Rr(r.Ae,s.Ae):r instanceof Ic&&s instanceof Ic}(t.transform,e.transform)}class V5{constructor(e,n){this.version=e,this.transformResults=n}}class Kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Td(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tf{}function sA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oA(t.key,Kr.none()):new Xc(t.key,t.data,Kr.none());{const n=t.data,r=jn.empty();let s=new vt(Tt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new co(t.key,r,new Jn(s.toArray()),Kr.none())}}function F5(t,e,n){t instanceof Xc?function(s,i,o){const a=s.value.clone(),l=i1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof co?function(s,i,o){if(!Td(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=i1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(iA(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Gl(t,e,n,r){return t instanceof Xc?function(i,o,a,l){if(!Td(i.precondition,o))return a;const d=i.value.clone(),h=o1(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof co?function(i,o,a,l){if(!Td(i.precondition,o))return a;const d=o1(i.fieldTransforms,l,o),h=o.data;return h.setAll(iA(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Td(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function z5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=eA(r.transform,s||null);i!=null&&(n===null&&(n=jn.empty()),n.set(r.field,i))}return n||null}function s1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ca(r,s,(i,o)=>L5(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xc extends Tf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class co extends Tf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function iA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function i1(t,e,n){const r=new Map;je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,O5(o,a,n[s]))}return r}function o1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,j5(i,o,e))}return r}class oA extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U5 extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&F5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=sA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,(n,r)=>s1(n,r))&&Ca(this.baseMutations,e.baseMutations,(n,r)=>s1(n,r))}}class Rv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return N5}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Rv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B5=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Ae;function W5(t){switch(t){case G.OK:return ce(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function aA(t){if(t===void 0)return rs("GRPC error has no .code"),G.UNKNOWN;switch(t){case ot.OK:return G.OK;case ot.CANCELLED:return G.CANCELLED;case ot.UNKNOWN:return G.UNKNOWN;case ot.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case ot.INTERNAL:return G.INTERNAL;case ot.UNAVAILABLE:return G.UNAVAILABLE;case ot.UNAUTHENTICATED:return G.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case ot.NOT_FOUND:return G.NOT_FOUND;case ot.ALREADY_EXISTS:return G.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return G.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case ot.ABORTED:return G.ABORTED;case ot.OUT_OF_RANGE:return G.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return G.UNIMPLEMENTED;case ot.DATA_LOSS:return G.DATA_LOSS;default:return ce(39323,{code:t})}}(Ae=ot||(ot={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=new Ks([4294967295,4294967295],0);function a1(t){const e=q5().encode(t),n=new xI;return n.update(e),new Uint8Array(n.digest())}function l1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ks([n,r],0),new Ks([s,i],0)]}class Pv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Al(`Invalid padding: ${n}`);if(r<0)throw new Al(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Al(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ks.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ks.fromNumber(r)));return s.compare(G5)===1&&(s=new Ks([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=a1(e),[r,s]=l1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Pv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=a1(e),[r,s]=l1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Jc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cf(he.min(),s,new et(Ce),ss(),Ie())}}class Jc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jc(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class lA{constructor(e,n){this.targetId=e,this.Ce=n}}class cA{constructor(e,n,r=It.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class c1{constructor(){this.ve=0,this.Fe=u1(),this.Me=It.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ie(),n=Ie(),r=Ie();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ce(38017,{changeType:i})}}),new Jc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=u1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class K5{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.Je=Gu(),this.He=Gu(),this.Ye=new et(Ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Cg(i))if(r===0){const o=new ae(i.path);this.et(n,o,Ht.newNoDocument(o,he.min()))}else je(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ii(r).toUint8Array()}catch(l){if(l instanceof DI)return to("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Pv(o,s,i)}catch(l){return to(l instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Cg(a.target)){const l=new ae(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ht.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ie();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.ot(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Cf(e,n,this.Ye,this.je,r);return this.je=ss(),this.Je=Gu(),this.He=Gu(),this.Ye=new et(Ce),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new c1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new vt(Ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new vt(Ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gu(){return new et(ae.comparator)}function u1(){return new et(ae.comparator)}const Q5={asc:"ASCENDING",desc:"DESCENDING"},Y5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X5={and:"AND",or:"OR"};class J5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ag(t,e){return t.useProto3Json||wf(e)?e:{value:e}}function wh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Z5(t,e){return wh(t,e.toTimestamp())}function Ar(t){return je(!!t,49232),he.fromTimestamp(function(n){const r=si(n);return new Ve(r.seconds,r.nanos)}(t))}function Dv(t,e){return Ng(t,e).canonicalString()}function Ng(t,e){const n=function(s){return new Xe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dA(t){const e=Xe.fromString(t);return je(gA(e),10190,{key:e.toString()}),e}function kg(t,e){return Dv(t.databaseId,e.path)}function Wp(t,e){const n=dA(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(fA(n))}function hA(t,e){return Dv(t.databaseId,e)}function eF(t){const e=dA(t);return e.length===4?Xe.emptyPath():fA(e)}function Rg(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fA(t){return je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function d1(t,e,n){return{name:kg(t,e),fields:n.value.mapValue.fields}}function tF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ce(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(je(h===void 0||typeof h=="string",58123),It.fromBase64String(h||"")):(je(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),It.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?G.UNKNOWN:aA(d.code);return new oe(h,d.message||"")}(o);n=new cA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wp(t,r.document.name),i=Ar(r.document.updateTime),o=r.document.createTime?Ar(r.document.createTime):he.min(),a=new jn({mapValue:{fields:r.document.fields}}),l=Ht.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Cd(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wp(t,r.document),i=r.readTime?Ar(r.readTime):he.min(),o=Ht.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Cd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wp(t,r.document),i=r.removedTargetIds||[];n=new Cd([],i,s,null)}else{if(!("filter"in e))return ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new H5(s,i),a=r.targetId;n=new lA(a,o)}}return n}function nF(t,e){let n;if(e instanceof Xc)n={update:d1(t,e.key,e.value)};else if(e instanceof oA)n={delete:kg(t,e.key)};else if(e instanceof co)n={update:d1(t,e.key,e.data),updateMask:dF(e.fieldMask)};else{if(!(e instanceof U5))return ce(16599,{Vt:e.type});n={verify:kg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ic)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ac)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Nc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ce(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Z5(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce(27497)}(t,e.precondition)),n}function rF(t,e){return t&&t.length>0?(je(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Ar(s.updateTime):Ar(i);return o.isEqual(he.min())&&(o=Ar(i)),new V5(o,s.transformResults||[])}(n,e))):[]}function sF(t,e){return{documents:[hA(t,e.path)]}}function iF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hA(t,s);const i=function(d){if(d.length!==0)return mA(Pr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:So(m.field),direction:lF(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ag(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function oF(t){let e=eF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){je(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=pA(f);return m instanceof Pr&&HI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(T){return new yh(bo(T.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,wf(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,y=f.values||[];return new gh(y,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,y=f.values||[];return new gh(y,m)}(n.endAt)),S5(e,s,o,i,a,"F",l,d)}function aF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bo(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=bo(n.unaryFilter.field);return mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=bo(n.unaryFilter.field);return mt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bo(n.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return mt.create(bo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pr.create(n.compositeFilter.filters.map(r=>pA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function lF(t){return Q5[t]}function cF(t){return Y5[t]}function uF(t){return X5[t]}function So(t){return{fieldPath:t.canonicalString()}}function bo(t){return Tt.fromServerFormat(t.fieldPath)}function mA(t){return t instanceof mt?function(n){if(n.op==="=="){if(J_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(X_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(X_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:cF(n.op),value:n.value}}}(t):t instanceof Pr?function(n){const r=n.getFilters().map(s=>mA(s));return r.length===1?r[0]:{compositeFilter:{op:uF(n.op),filters:r}}}(t):ce(54877,{filter:t})}function dF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r,s,i=he.min(),o=he.min(),a=It.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.yt=e}}function fF(t){const e=oF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ig(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.Cn=new mF}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ri.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class mF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new vt(Xe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new vt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yA=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(yA,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ra(0)}static cr(){return new Ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="LruGarbageCollector",gF=1048576;function p1([t,e],[n,r]){const s=Ce(t,n);return s===0?Ce(e,r):s}class yF{constructor(e){this.Ir=e,this.buffer=new vt(p1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();p1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(f1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qa(n)?Z(f1,"Ignoring IndexedDB error during garbage collection: ",n):await Wa(n)}await this.Vr(3e5)})}}class wF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(vf.ce);const r=new yF(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(h1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),_o()<=Te.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function xF(t,e){return new wF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.changes=new lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Gl(r.mutation,s,Jn.empty(),Ve.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Oi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Il();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ss();const o=ql(),a=function(){return ql()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof co)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Gl(h.mutation,d,h.mutation.getFieldMask(),Ve.now())):o.set(d.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new EF(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ql();let s=new et((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||Jn.empty();h=a.applyToLocalView(d,h),r.set(l,h);const f=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,f=JI();h.forEach(m=>{if(!i.has(m)){const y=sA(n.get(m),r.get(m));y!==null&&f.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):b5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Oi());let a=bc,l=i;return o.next(d=>$.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,Ie())).next(h=>({batchId:a,changes:XI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=Il();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Il();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const d=function(f,m){return new _f(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Ht.newInvalidDocument(h)))});let a=Il();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&Gl(h.mutation,d,Jn.empty(),Ve.now()),Sf(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ar(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:fF(s.bundledQuery),readTime:Ar(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.overlays=new et(ae.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oi();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Oi(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new et((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Oi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Oi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new B5(n,r));let i=this.qr.get(n);i===void 0&&(i=Ie(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.Qr=new vt(_t.$r),this.Ur=new vt(_t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new _t(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ae(new Xe([])),r=new _t(n,e),s=new _t(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ae(new Xe([])),r=new _t(n,e),s=new _t(n,e+1);let i=Ie();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new _t(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ae.comparator(e.key,n.key)||Ce(e.Yr,n.Yr)}static Kr(e,n){return Ce(e.Yr,n.Yr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vt(_t.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new _t(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?bv:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),s=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(Ce);return n.forEach(s=>{const i=new _t(s,0),o=new _t(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new _t(new ae(i),0);let a=new vt(Ce);return this.Zr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new _t(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new _t(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.ri=e,this.docs=function(){return new et(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=ss();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ht.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ss();const o=n.path,a=new ae(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||n5(t5(h),r)<=0||(s.has(h.key)||Sf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ce(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NF(this)}getSize(e){return $.resolve(this.size)}}class NF extends _F{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.persistence=e,this.si=new lo(n=>Iv(n),Av),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new jv,this.targetCount=0,this.ai=Ra.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ra(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.ui={},this.overlays={},this.ci=new vf(0),this.li=!1,this.li=!0,this.hi=new CF,this.referenceDelegate=e(this),this.Pi=new kF(this),this.indexManager=new pF,this.remoteDocumentCache=function(s){return new AF(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new hF(n),this.Ii=new bF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new IF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new RF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class RF extends s5{constructor(e){super(),this.currentSequenceNumber=e}}class Ov{constructor(e){this.persistence=e,this.Ri=new jv,this.Vi=null}static mi(e){return new Ov(e)}get fi(){if(this.Vi)return this.Vi;throw ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=ae.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,he.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xh{constructor(e,n){this.persistence=e,this.pi=new lo(r=>a5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=xF(this,n)}static mi(e,n){return new xh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,he.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sd(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Mv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return b4()?8:i5(qt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new PF;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(_o()<=Te.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(_o()<=Te.DEBUG&&Z("QueryEngine","Query:",Eo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(_o()<=Te.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):$.resolve())}ys(e,n){if(n1(n))return $.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ig(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.Ds(n,a);return this.Cs(n,d,o,l.readTime)?this.ys(e,Ig(n,null,"F")):this.vs(e,d,n,l)}))})))}ws(e,n,r,s){return n1(n)||s.isEqual(he.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(_o()<=Te.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Eo(n)),this.vs(e,o,n,e5(s,bc)).next(a=>a))})}Ds(e,n){let r=new vt(QI(e));return n.forEach((s,i)=>{Sf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return _o()<=Te.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.ps.getDocumentsMatchingQuery(e,n,ri.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="LocalStore",jF=3e8;class OF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new et(Ce),this.xs=new lo(i=>Iv(i),Av),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function MF(t,e,n,r){return new OF(t,e,n,r)}async function wA(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ie();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function LF(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const f=d.batch,m=f.keys();let y=$.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(l,T)).next(v=>{const E=d.docVersions.get(T);je(E!==null,48541),v.version.compareTo(E)<0&&(f.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),h.addEntry(v)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function xA(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function VF(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(It.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(v,E,_){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=jF?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,y,h)&&a.push(n.Pi.updateTargetData(i,y))});let l=ss(),d=Ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(FF(i,o,e.documentUpdates).next(h=>{l=h.ks,d=h.qs})),!r.isEqual(he.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.Ms=s,i))}function FF(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ss();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z(Lv,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{ks:o,qs:s}})}function zF(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=bv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UF(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Ms(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Pg(t,e,n){const r=pe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!qa(o))throw o;Z(Lv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function m1(t,e,n){const r=pe(t);let s=he.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const f=pe(l),m=f.xs.get(h);return m!==void 0?$.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,o,Ir(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?i:Ie())).next(a=>($F(r,C5(e),a),{documents:a,Qs:i})))}function $F(t,e,n){let r=t.Os.get(e)||he.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class g1{constructor(){this.activeTargetIds=P5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BF{constructor(){this.Mo=new g1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new g1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="ConnectivityMonitor";class v1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(y1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(y1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function Dg(){return Ku===null?Ku=function(){return 268435456+Math.round(2147483648*Math.random())}():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="RestConnection",WF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===ph?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Dg(),a=this.zo(e,n.toUriEncodedString());Z(qp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:d}=new URL(a),h=Ua(d);return this.Jo(e,a,l,r,h).then(f=>(Z(qp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw to(qp,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ha}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=WF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class KF extends qF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Dg();return new Promise((a,l)=>{const d=new _I;d.setWithCredentials(!0),d.listenOnce(EI.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ed.NO_ERROR:const f=d.getResponseJson();Z(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Ed.TIMEOUT:Z(zt,`RPC '${e}' ${o} timed out`),l(new oe(G.DEADLINE_EXCEEDED,"Request time out"));break;case Ed.HTTP_ERROR:const m=d.getStatus();if(Z(zt,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const T=y==null?void 0:y.error;if(T&&T.status&&T.message){const v=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(w)>=0?w:G.UNKNOWN}(T.status);l(new oe(v,T.message))}else l(new oe(G.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new oe(G.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Z(zt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Z(zt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Dg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TI(),a=bI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Z(zt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let m=!1,y=!1;const T=new GF({Yo:E=>{y?Z(zt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(m||(Z(zt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),Z(zt,`RPC '${e}' stream ${s} sending:`,E),f.send(E))},Zo:()=>f.close()}),v=(E,_,w)=>{E.listen(_,S=>{try{w(S)}catch(k){setTimeout(()=>{throw k},0)}})};return v(f,Cl.EventType.OPEN,()=>{y||(Z(zt,`RPC '${e}' stream ${s} transport opened.`),T.o_())}),v(f,Cl.EventType.CLOSE,()=>{y||(y=!0,Z(zt,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(f))}),v(f,Cl.EventType.ERROR,E=>{y||(y=!0,to(zt,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),T.a_(new oe(G.UNAVAILABLE,"The operation could not be completed")))}),v(f,Cl.EventType.MESSAGE,E=>{var _;if(!y){const w=E.data[0];je(!!w,16349);const S=w,k=(S==null?void 0:S.error)||((_=S[0])==null?void 0:_.error);if(k){Z(zt,`RPC '${e}' stream ${s} received error:`,k);const O=k.status;let D=function(I){const N=ot[I];if(N!==void 0)return aA(N)}(O),b=k.message;D===void 0&&(D=G.INTERNAL,b="Unknown error status: "+O+" with message "+k.message),y=!0,T.a_(new oe(D,b)),f.close()}else Z(zt,`RPC '${e}' stream ${s} received:`,w),T.u_(w)}}),v(a,SI.STAT_EVENT,E=>{E.stat===_g.PROXY?Z(zt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===_g.NOPROXY&&Z(zt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){return new J5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="PersistentStream";class EA{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _A(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(rs(n.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new oe(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(w1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Z(w1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QF extends EA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tF(this.serializer,e),r=function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?Ar(o.readTime):he.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Rg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Cg(l)?{documents:sF(i,l)}:{query:iF(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uA(i,o.resumeToken);const d=Ag(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=wh(i,o.snapshotVersion.toTimestamp());const d=Ag(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=aF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Rg(this.serializer),n.removeTarget=e,this.q_(n)}}class YF extends EA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rF(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Rg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>nF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{}class JF extends XF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new oe(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Ng(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new oe(G.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Ng(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(G.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class ZF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="RemoteStore";class e9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{uo(this)&&(Z(no,"Restarting streams for network reachability change."),await async function(l){const d=pe(l);d.Ea.add(4),await Zc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Af(d)}(this))})}),this.Ra=new ZF(r,s)}}async function Af(t){if(uo(t))for(const e of t.da)await e(!0)}async function Zc(t){for(const e of t.da)await e(!1)}function SA(t,e){const n=pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Uv(n)?zv(n):Ga(n).O_()&&Fv(n,e))}function Vv(t,e){const n=pe(t),r=Ga(n);n.Ia.delete(e),r.O_()&&bA(n,e),n.Ia.size===0&&(r.O_()?r.L_():uo(n)&&n.Ra.set("Unknown"))}function Fv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ga(t).Y_(e)}function bA(t,e){t.Va.Ue(e),Ga(t).Z_(e)}function zv(t){t.Va=new K5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ga(t).start(),t.Ra.ua()}function Uv(t){return uo(t)&&!Ga(t).x_()&&t.Ia.size>0}function uo(t){return pe(t).Ea.size===0}function TA(t){t.Va=void 0}async function t9(t){t.Ra.set("Online")}async function n9(t){t.Ia.forEach((e,n)=>{Fv(t,e)})}async function r9(t,e){TA(t),Uv(t)?(t.Ra.ha(e),zv(t)):t.Ra.set("Unknown")}async function s9(t,e,n){if(t.Ra.set("Online"),e instanceof cA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Z(no,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _h(t,r)}else if(e instanceof Cd?t.Va.Ze(e):e instanceof lA?t.Va.st(e):t.Va.tt(e),!n.isEqual(he.min()))try{const r=await xA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(It.EMPTY_BYTE_STRING,h.snapshotVersion)),bA(i,l);const f=new Ms(h.target,l,d,h.sequenceNumber);Fv(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(no,"Failed to raise snapshot:",r),await _h(t,r)}}async function _h(t,e,n){if(!qa(e))throw e;t.Ea.add(1),await Zc(t),t.Ra.set("Offline"),n||(n=()=>xA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(no,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Af(t)})}function CA(t,e){return e().catch(n=>_h(t,n,e))}async function Nf(t){const e=pe(t),n=ai(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bv;for(;i9(e);)try{const s=await zF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,o9(e,s)}catch(s){await _h(e,s)}IA(e)&&AA(e)}function i9(t){return uo(t)&&t.Ta.length<10}function o9(t,e){t.Ta.push(e);const n=ai(t);n.O_()&&n.X_&&n.ea(e.mutations)}function IA(t){return uo(t)&&!ai(t).x_()&&t.Ta.length>0}function AA(t){ai(t).start()}async function a9(t){ai(t).ra()}async function l9(t){const e=ai(t);for(const n of t.Ta)e.ea(n.mutations)}async function c9(t,e,n){const r=t.Ta.shift(),s=Rv.from(r,e,n);await CA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Nf(t)}async function u9(t,e){e&&ai(t).X_&&await async function(r,s){if(function(o){return W5(o)&&o!==G.ABORTED}(s.code)){const i=r.Ta.shift();ai(r).B_(),await CA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Nf(r)}}(t,e),IA(t)&&AA(t)}async function x1(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),Z(no,"RemoteStore received new credentials");const r=uo(n);n.Ea.add(3),await Zc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Af(n)}async function d9(t,e){const n=pe(t);e?(n.Ea.delete(2),await Af(n)):e||(n.Ea.add(2),await Zc(n),n.Ra.set("Unknown"))}function Ga(t){return t.ma||(t.ma=function(n,r,s){const i=pe(n);return i.sa(),new QF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:t9.bind(null,t),t_:n9.bind(null,t),r_:r9.bind(null,t),H_:s9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Uv(t)?zv(t):t.Ra.set("Unknown")):(await t.ma.stop(),TA(t))})),t.ma}function ai(t){return t.fa||(t.fa=function(n,r,s){const i=pe(n);return i.sa(),new YF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:a9.bind(null,t),r_:u9.bind(null,t),ta:l9.bind(null,t),na:c9.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Nf(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(no,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new $v(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bv(t,e){if(rs("AsyncQueue",`${e}: ${t}`),qa(t))return new oe(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Il(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.ga=new et(ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pa{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Pa(e,n,Yo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class f9{constructor(){this.queries=E1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=pe(n),i=s.queries;s.queries=E1(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new oe(G.ABORTED,"Firestore shutting down"))}}function E1(){return new lo(t=>KI(t),Ef)}async function p9(t,e){const n=pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new h9,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Bv(o,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Hv(n)}async function m9(t,e){const n=pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function g9(t,e){const n=pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Hv(n)}function y9(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Hv(t){t.Ca.forEach(e=>{e.next()})}var jg,S1;(S1=jg||(jg={})).Ma="default",S1.Cache="cache";class v9{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.key=e}}class kA{constructor(e){this.key=e}}class w9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ie(),this.mutatedKeys=Ie(),this.eu=QI(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new _1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),y=Sf(this.query,f)?f:null,T=!!m&&this.mutatedKeys.has(m.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;m&&y?m.data.isEqual(y.data)?T!==v&&(r.track({type:3,doc:y}),E=!0):this.su(m,y)||(r.track({type:2,doc:y}),E=!0,(l&&this.eu(y,l)>0||d&&this.eu(y,d)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),E=!0):m&&!y&&(r.track({type:1,doc:m}),E=!0,(l||d)&&(a=!0)),E&&(y?(o=o.add(y),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,T){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Rt:E})}};return v(y)-v(T)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,d=l!==this.Za;return this.Za=l,o.length!==0||d?{snapshot:new Pa(this.query,e.tu,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new kA(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new NA(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Pa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wv="SyncEngine";class x9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _9{constructor(e){this.key=e,this.hu=!1}}class E9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new lo(a=>KI(a),Ef),this.Iu=new Map,this.Eu=new Set,this.du=new et(ae.comparator),this.Au=new Map,this.Ru=new jv,this.Vu={},this.mu=new Map,this.fu=Ra.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function S9(t,e,n=!0){const r=MA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await RA(r,e,n,!0),s}async function b9(t,e){const n=MA(t);await RA(n,e,!0,!1)}async function RA(t,e,n,r){const s=await UF(t.localStore,Ir(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await T9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&SA(t.remoteStore,s),a}async function T9(t,e,n,r,s){t.pu=(f,m,y)=>async function(v,E,_,w){let S=E.view.ru(_);S.Cs&&(S=await m1(v.localStore,E.query,!1).then(({documents:b})=>E.view.ru(b,S)));const k=w&&w.targetChanges.get(E.targetId),O=w&&w.targetMismatches.get(E.targetId)!=null,D=E.view.applyChanges(S,v.isPrimaryClient,k,O);return T1(v,E.targetId,D.au),D.snapshot}(t,f,m,y);const i=await m1(t.localStore,e,!0),o=new w9(e,i.Qs),a=o.ru(i.documents),l=Jc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);T1(t,n,d.au);const h=new x9(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function C9(t,e,n){const r=pe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Ef(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Pg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Vv(r.remoteStore,s.targetId),Og(r,s.targetId)}).catch(Wa)):(Og(r,s.targetId),await Pg(r.localStore,s.targetId,!0))}async function I9(t,e){const n=pe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vv(n.remoteStore,r.targetId))}async function A9(t,e,n){const r=O9(t);try{const s=await function(o,a){const l=pe(o),d=Ve.now(),h=a.reduce((y,T)=>y.add(T.key),Ie());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=ss(),v=Ie();return l.Ns.getEntries(y,h).next(E=>{T=E,T.forEach((_,w)=>{w.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,T)).next(E=>{f=E;const _=[];for(const w of a){const S=z5(w,f.get(w.key).overlayedDocument);S!=null&&_.push(new co(w.key,S,UI(S.value.mapValue),Kr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,d,_,a)}).next(E=>{m=E;const _=E.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(y,E.batchId,_)})}).then(()=>({batchId:m.batchId,changes:XI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let d=o.Vu[o.currentUser.toKey()];d||(d=new et(Ce)),d=d.insert(a,l),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await eu(r,s.changes),await Nf(r.remoteStore)}catch(s){const i=Bv(s,"Failed to persist write");n.reject(i)}}async function PA(t,e){const n=pe(t);try{const r=await VF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?je(o.hu,14607):s.removedDocuments.size>0&&(je(o.hu,42227),o.hu=!1))}),await eu(n,r,e)}catch(r){await Wa(r)}}function b1(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(d=!0)}),d&&Hv(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N9(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new et(ae.comparator);o=o.insert(i,Ht.newNoDocument(i,he.min()));const a=Ie().add(i),l=new Cf(he.min(),new Map,new et(Ce),o,a);await PA(r,l),r.du=r.du.remove(i),r.Au.delete(e),qv(r)}else await Pg(r.localStore,e,!1).then(()=>Og(r,e,n)).catch(Wa)}async function k9(t,e){const n=pe(t),r=e.batch.batchId;try{const s=await LF(n.localStore,e);jA(n,r,null),DA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eu(n,s)}catch(s){await Wa(s)}}async function R9(t,e,n){const r=pe(t);try{const s=await function(o,a){const l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(je(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);jA(r,e,n),DA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eu(r,s)}catch(s){await Wa(s)}}function DA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function jA(t,e,n){const r=pe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Og(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||OA(t,r)})}function OA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Vv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),qv(t))}function T1(t,e,n){for(const r of n)r instanceof NA?(t.Ru.addReference(r.key,e),P9(t,r)):r instanceof kA?(Z(Wv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||OA(t,r.key)):ce(19791,{wu:r})}function P9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Z(Wv,"New document in limbo: "+n),t.Eu.add(r),qv(t))}function qv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ae(Xe.fromString(e)),r=t.fu.next();t.Au.set(r,new _9(n)),t.du=t.du.insert(n,r),SA(t.remoteStore,new Ms(Ir(Nv(n.path)),r,"TargetPurposeLimboResolution",vf.ce))}}async function eu(t,e,n){const r=pe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Mv.As(l.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,d){const h=pe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(d,m=>$.forEach(m.Es,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>$.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!qa(f))throw f;Z(Lv,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const y=h.Ms.get(m),T=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(T);h.Ms=h.Ms.insert(m,v)}}}(r.localStore,i))}async function D9(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){Z(Wv,"User change. New user:",e.toKey());const r=await wA(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new oe(G.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eu(n,r.Ls)}}function j9(t,e){const n=pe(t),r=n.Au.get(e);if(r&&r.hu)return Ie().add(r.key);{let s=Ie();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function MA(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N9.bind(null,e),e.Pu.H_=g9.bind(null,e.eventManager),e.Pu.yu=y9.bind(null,e.eventManager),e}function O9(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R9.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return MF(this.persistence,new DF,e.initialUser,this.serializer)}Cu(e){return new vA(Ov.mi,this.serializer)}Du(e){return new BF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class M9 extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){je(this.persistence.referenceDelegate instanceof xh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new vF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new vA(r=>xh.mi(r,n),this.serializer)}}class Mg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D9.bind(null,this.syncEngine),await d9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new f9}()}createDatastore(e){const n=If(e.databaseInfo.databaseId),r=function(i){return new KF(i)}(e.databaseInfo);return function(i,o,a,l){return new JF(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new e9(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>b1(this.syncEngine,n,0),function(){return v1.v()?new v1:new HF}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const f=new E9(s,i,o,a,l,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=pe(s);Z(no,"RemoteStore shutting down."),i.Ea.add(5),await Zc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Mg.provider={build:()=>new Mg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="FirestoreClient";class V9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=$t.UNAUTHENTICATED,this.clientId=yf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(li,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(li,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Bv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kp(t,e){t.asyncQueue.verifyOperationInProgress(),Z(li,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await wA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function C1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F9(t);Z(li,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>x1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>x1(e.remoteStore,s)),t._onlineComponents=e}async function F9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(li,"Using user provided OfflineComponentProvider");try{await Kp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===G.FAILED_PRECONDITION||s.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await Kp(t,new Eh)}}else Z(li,"Using default OfflineComponentProvider"),await Kp(t,new M9(void 0));return t._offlineComponents}async function LA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(li,"Using user provided OnlineComponentProvider"),await C1(t,t._uninitializedComponentsProvider._online)):(Z(li,"Using default OnlineComponentProvider"),await C1(t,new Mg))),t._onlineComponents}function z9(t){return LA(t).then(e=>e.syncEngine)}async function U9(t){const e=await LA(t),n=e.eventManager;return n.onListen=S9.bind(null,e.syncEngine),n.onUnlisten=C9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=I9.bind(null,e.syncEngine),n}function $9(t,e,n={}){const r=new Qs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new L9({next:m=>{h.Nu(),o.enqueueAndForget(()=>m9(i,f));const y=m.docs.has(a);!y&&m.fromCache?d.reject(new oe(G.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&l&&l.source==="server"?d.reject(new oe(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new v9(Nv(a.path),h,{includeMetadataChanges:!0,qa:!0});return p9(i,f)}(await U9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="firestore.googleapis.com",A1=!0;class N1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FA,this.ssl=A1}else this.host=e.host,this.ssl=e.ssl??A1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gF)throw new oe(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AI;switch(r.type){case"firstParty":return new G6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=I1.get(n);r&&(Z("ComponentProvider","Removing Datastore"),I1.delete(n),r.terminate())}(this),Promise.resolve()}}function zA(t,e,n,r={}){var d;t=Ia(t,Gv);const s=Ua(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(MC(`https://${a}`),LC("Firestore",!0)),i.host!==FA&&i.host!==a&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Xi(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=$t.MOCK_USER;else{h=m4(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new oe(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $t(m)}t._authCredentials=new H6(new II(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kf(this.firestore,e,this._query)}}class yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Yc(n,yt._jsonSchema))return new yt(e,r||null,new ae(Xe.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:lt("string",yt._jsonSchemaVersion),referencePath:lt("string")};class Da extends kf{constructor(e,n,r){super(e,n,Nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ae(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function Lg(t,e,...n){if(t=zn(t),arguments.length===1&&(e=yf.newId()),Z6("doc","path",e),t instanceof Gv){const r=Xe.fromString(e,...n);return B_(r),new yt(t,null,new ae(r))}{if(!(t instanceof yt||t instanceof Da))throw new oe(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return B_(r),new yt(t.firestore,t instanceof Da?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="AsyncQueue";class R1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _A(this,"async_queue_retry"),this._c=()=>{const r=Gp();r&&Z(k1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Qs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qa(e))throw e;Z(k1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",P1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=$v.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ce(47125,{Pc:P1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function P1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Rf extends Gv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new R1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R1(e),this._firestoreClient=void 0,await e}}}function UA(t,e){const n=typeof t=="object"?t:UC(),r=typeof t=="string"?t:ph,s=dv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=f4("firestore");i&&zA(s,...i)}return s}function Kv(t){if(t._terminated)throw new oe(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B9(t),t._firestoreClient}function B9(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,d,h){return new u5(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,VA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new V9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(It.fromBase64String(e))}catch(n){throw new oe(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xn(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yc(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:lt("string",xn._jsonSchemaVersion),bytes:lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(Yc(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:lt("string",nr._jsonSchemaVersion),latitude:lt("number"),longitude:lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yc(e,rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new rr(e.vectorValues);throw new oe(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:lt("string",rr._jsonSchemaVersion),vectorValues:lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=/^__.*__$/;class W9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xc(e,this.data,n,this.fieldTransforms)}}function $A(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ac:t})}}class Qv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($A(this.Ac)&&H9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class q9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||If(e)}Cc(e,n,r,s=!1){return new Qv({Ac:e,methodName:n,Dc:r,path:Tt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G9(t){const e=t._freezeSettings(),n=If(t._databaseId);return new q9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function K9(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);qA("Data must be an object, but it was:",o,r);const a=HA(r,o);let l,d;if(i.merge)l=new Jn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Q9(e,f,n);if(!o.contains(m))throw new oe(G.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);X9(h,m)||h.push(m)}l=new Jn(h),d=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=o.fieldTransforms;return new W9(new jn(a),l,d)}class Yv extends Df{_toFieldTransform(e){return new M5(e.path,new Ic)}isEqual(e){return e instanceof Yv}}function BA(t,e){if(WA(t=zn(t)))return qA("Unsupported field value:",e,t),HA(t,e);if(t instanceof Df)return function(r,s){if(!$A(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=BA(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ve.fromDate(r);return{timestampValue:wh(s.serializer,i)}}if(r instanceof Ve){const i=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wh(s.serializer,i)}}if(r instanceof nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xn)return{bytesValue:uA(s.serializer,r._byteString)};if(r instanceof yt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Dv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof rr)return function(o,a){return{mapValue:{fields:{[VI]:{stringValue:zI},[mh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return kv(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Sv(r)}`)}(t,e)}function HA(t,e){const n={};return PI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(t,(r,s)=>{const i=BA(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function WA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof nr||t instanceof xn||t instanceof yt||t instanceof Df||t instanceof rr)}function qA(t,e,n){if(!WA(n)||!kI(n)){const r=Sv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Q9(t,e,n){if((e=zn(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return GA(t,e);throw Sh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Y9=new RegExp("[~\\*/\\[\\]]");function GA(t,e,n){if(e.search(Y9)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pf(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new oe(G.INVALID_ARGUMENT,a+t+l)}function X9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(QA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J9 extends KA{data(){return super.data()}}function QA(t,e){return typeof e=="string"?GA(t,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}class YA{convertValue(e,n="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ao(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[mh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>st(o.doubleValue));return new rr(n)}convertGeoPoint(e){return new nr(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=si(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);je(gA(r),9688,{name:e});const s=new Aa(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||rs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Lo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ys extends KA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(QA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ys._jsonSchema={type:lt("string",Ys._jsonSchemaVersion),bundleSource:lt("string","DocumentSnapshot"),bundleName:lt("string"),bundle:lt("string")};class Kl extends Ys{data(e={}){return super.data(e)}}class Xo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Lo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kl(this._firestore,this._userDataWriter,r.key,r,new Lo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Kl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Lo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Kl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Lo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:ez(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ez(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){t=Ia(t,yt);const e=Ia(t.firestore,Rf);return $9(Kv(e),t._key).then(n=>nz(e,t,n))}Xo._jsonSchemaVersion="firestore/querySnapshot/1.0",Xo._jsonSchema={type:lt("string",Xo._jsonSchemaVersion),bundleSource:lt("string","QuerySnapshot"),bundleName:lt("string"),bundle:lt("string")};class tz extends YA{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function JA(t,e,n){t=Ia(t,yt);const r=Ia(t.firestore,Rf),s=Z9(t.converter,e,n);return ZA(r,[K9(G9(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Kr.none())])}function ZA(t,e){return function(r,s){const i=new Qs;return r.asyncQueue.enqueueAndForget(async()=>A9(await z9(r),s,i)),i.promise}(Kv(t),e)}function nz(t,e,n){const r=n.docs.get(e._key),s=new tz(t);return new Ys(t,s,e._key,r,new Lo(n.hasPendingWrites,n.fromCache),e.converter)}function rz(){return new Yv("serverTimestamp")}(function(e,n=!0){(function(s){Ha=s})($a),ba(new Ji("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Rf(new W6(r.getProvider("auth-internal")),new K6(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new oe(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Aa(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Gs(F_,z_,e),Gs(F_,z_,"esm2020")})();const sz=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:YA,Bytes:xn,CollectionReference:Da,DocumentReference:yt,DocumentSnapshot:Ys,FieldPath:Pf,FieldValue:Df,Firestore:Rf,FirestoreError:oe,GeoPoint:nr,Query:kf,QueryDocumentSnapshot:Kl,QuerySnapshot:Xo,SnapshotMetadata:Lo,Timestamp:Ve,VectorValue:rr,_AutoId:yf,_ByteString:It,_DatabaseId:Aa,_DocumentKey:ae,_EmptyAuthCredentialsProvider:AI,_FieldPath:Tt,_cast:Ia,_logWarn:to,_validateIsNotUsedTogether:NI,connectFirestoreEmulator:zA,doc:Lg,ensureFirestoreConfigured:Kv,executeWrite:ZA,getDoc:XA,getFirestore:UA,serverTimestamp:rz,setDoc:JA},Symbol.toStringTag,{value:"Module"})),iz={apiKey:"AIzaSyD4y-0QZLN6Q5wFDoTxIaxR-_hcPWyDcto",authDomain:"trace-6f541.firebaseapp.com",projectId:"trace-6f541",storageBucket:"trace-6f541.firebasestorage.app",appId:"1:30992363510:web:5b61c6861fbcad776121d7"},Xv=zC(iz),Nl=z6(Xv),Vg=UA(Xv),Ka=new Dn;Ka.addScope("https://www.googleapis.com/auth/classroom.courses.readonly");Ka.addScope("https://www.googleapis.com/auth/classroom.coursework.me.readonly");Ka.addScope("https://www.googleapis.com/auth/classroom.student-submissions.me.readonly");Ka.addScope("https://www.googleapis.com/auth/classroom.courseworkmaterials.readonly");const oz=Object.freeze(Object.defineProperty({__proto__:null,app:Xv,auth:Nl,db:Vg,googleProvider:Ka},Symbol.toStringTag,{value:"Module"})),eN=p.createContext(void 0);function az({children:t}){const[e,n]=p.useState(null),[r,s]=p.useState(!0),[i,o]=p.useState(null),[a,l]=p.useState(null);p.useEffect(()=>N3(Nl,y=>{n(y),s(!1)}),[]);const d=async()=>{try{l(null);const m=await k_(Nl,Ka),y=Dn.credentialFromResult(m);y!=null&&y.accessToken&&o(y.accessToken)}catch(m){const y=m instanceof Error?m.message:"Failed to sign in";l(y),console.error("Sign in error:",m)}},h=async()=>{try{l(null);const m=new Dn;m.addScope("https://www.googleapis.com/auth/gmail.send"),m.addScope("https://www.googleapis.com/auth/classroom.courses.readonly"),m.setCustomParameters({access_type:"offline",prompt:"consent"});const y=await k_(Nl,m),T=Dn.credentialFromResult(y),v=y._tokenResponse;if(v!=null&&v.oauthRefreshToken){const{doc:E,setDoc:_,serverTimestamp:w}=await l_(async()=>{const{doc:k,setDoc:O,serverTimestamp:D}=await Promise.resolve().then(()=>sz);return{doc:k,setDoc:O,serverTimestamp:D}},void 0),{db:S}=await l_(async()=>{const{db:k}=await Promise.resolve().then(()=>oz);return{db:k}},void 0);if(e&&v.oauthRefreshToken)return await _(E(S,"users",e.uid,"private_tokens","google"),{refreshToken:v.oauthRefreshToken,updatedAt:w()}),!0}return!!(T!=null&&T.accessToken)}catch(m){const y=m instanceof Error?m.message:"Failed to get Gmail permissions";return l(y),console.error("Permission error:",m),!1}},f=async()=>{try{await k3(Nl),o(null)}catch(m){const y=m instanceof Error?m.message:"Failed to sign out";l(y)}};return u.jsx(eN.Provider,{value:{user:e,loading:r,accessToken:i,signInWithGoogle:d,requestGmailPermissions:h,signOut:f,error:a},children:t})}function fi(){const t=p.useContext(eN);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const tN=p.createContext(void 0);function lz({children:t}){const[e,n]=p.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");return i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});p.useEffect(()=>{const i=document.documentElement;e==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")},s=i=>{n(i)};return u.jsx(tN.Provider,{value:{theme:e,toggleTheme:r,setTheme:s},children:t})}function nN(){const t=p.useContext(tN);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const rN=p.createContext(void 0);function cz(){return Math.random().toString(36).substring(2,15)}async function Bi(t,e,n,r){var o;const s=[];let i;do{const a=e.includes("?")?"&":"?",l=i?`${e}${a}pageToken=${i}`:e;console.log(`Fetching: ${l.substring(0,100)}...`);const d=await fetch(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!d.ok){let m=d.statusText,y={};try{const T=await d.json();y=T,m=((o=T.error)==null?void 0:o.message)||T.message||m,console.error("API Error Response:",T)}catch{const v=await d.text().catch(()=>"");console.error("API Error (non-JSON):",v)}throw new Error(`${m} (Status: ${d.status})`)}const h=await d.json(),f=n(h);s.push(...f),i=r(h)}while(i);return s}async function uz(t,e){const r=await Bi(t,"https://classroom.googleapis.com/v1/courses?studentId=me&courseStates=ACTIVE",i=>i.courses||[],i=>i.nextPageToken),s=new Date().toISOString();return r.map(i=>({id:`course-${i.id}`,userId:e,classroomId:i.id,name:i.name,section:i.section||null,descriptionHeading:i.descriptionHeading||null,room:i.room||null,ownerId:i.ownerId||null,enrollmentCode:i.enrollmentCode||null,courseState:i.courseState||null,alternateLink:i.alternateLink||null,lastSyncedAt:s}))}async function dz(t,e,n,r){var a,l;const s=`https://classroom.googleapis.com/v1/courses/${e}/courseWork?courseWorkStates=PUBLISHED`,i=await Bi(t,s,d=>d.courseWork||[],d=>d.nextPageToken);new Date().toISOString();const o=[];for(const d of i){if(d.workType&&d.workType!=="ASSIGNMENT"&&d.workType!=="MULTIPLE_CHOICE_QUESTION")continue;let h=null;try{const E=`https://classroom.googleapis.com/v1/courses/${e}/courseWork/${d.id}/studentSubmissions?userId=me`;h=(await Bi(t,E,w=>w.studentSubmissions||[],w=>w.nextPageToken))[0]||null}catch(E){console.warn(`Failed to fetch submissions for coursework ${d.id}:`,E)}let f=null,m=null;d.dueDate&&(f=new Date(d.dueDate.year,d.dueDate.month-1,d.dueDate.day,((a=d.dueTime)==null?void 0:a.hours)||23,((l=d.dueTime)==null?void 0:l.minutes)||59).toISOString(),d.dueTime&&(m=`${String(d.dueTime.hours).padStart(2,"0")}:${String(d.dueTime.minutes).padStart(2,"0")}`));const y=new Date;let T="backlog";h?h.state==="RETURNED"||h.returnedGrade!==void 0?T="graded":h.state==="TURNED_IN"||h.turnInTime?T="submitted":h.state==="CREATED"&&(T=f&&new Date(f)<y?"overdue":"backlog"):f&&new Date(f)<y?T="overdue":T="backlog";const v={id:`assign-${d.id}`,uniqueId:`${e}-${d.id}`,userId:r,courseId:`course-${e}`,courseName:n,classroomId:d.id,title:d.title,description:d.description||null,dueDate:f,dueTime:m,maxPoints:d.maxPoints||null,systemStatus:T,userStatus:null,submissionId:(h==null?void 0:h.id)||null,submittedAt:(h==null?void 0:h.turnInTime)||null,gradedAt:h!=null&&h.updateTime&&h.state==="RETURNED"?h.updateTime:null,grade:(h==null?void 0:h.returnedGrade)||(h==null?void 0:h.assignedGrade)||null,alternateLink:d.alternateLink||null,createdAt:y.toISOString(),lastSyncedAt:y.toISOString()};o.push(v)}return o}async function hz(t,e,n,r){const s=`https://classroom.googleapis.com/v1/courses/${e}/courseWorkMaterials?courseWorkMaterialStates=PUBLISHED`;try{const i=await Bi(t,s,a=>a.courseWorkMaterial||[],a=>a.nextPageToken),o=new Date().toISOString();return i.map(a=>({id:`mat-${a.id}`,uniqueId:`${e}-${a.id}`,userId:r,courseId:`course-${e}`,courseName:n,title:a.title,description:a.description||null,alternateLink:a.alternateLink||null,materials:a.materials||null,createdAt:a.updateTime||o,lastSyncedAt:o}))}catch(i){return console.warn(`Failed to fetch materials for course ${e}:`,i),[]}}function fz({children:t}){const{user:e,accessToken:n}=fi(),[r,s]=p.useState(()=>{const z=sessionStorage.getItem("classroom_courses");return z?JSON.parse(z):[]}),[i,o]=p.useState(()=>{const z=sessionStorage.getItem("classroom_assignments");return z?JSON.parse(z):[]}),[a,l]=p.useState(()=>{const z=sessionStorage.getItem("classroom_materials");return z?JSON.parse(z):[]}),[d,h]=p.useState(()=>{const z=sessionStorage.getItem("classroom_notes");return z?new Map(JSON.parse(z)):new Map}),[f,m]=p.useState(()=>!sessionStorage.getItem("classroom_courses")),[y,T]=p.useState(!1),[v,E]=p.useState(()=>{const z=sessionStorage.getItem("classroom_lastSyncedAt");return z?new Date(z):null}),[_,w]=p.useState(null),[S,k]=p.useState(!1),{toast:O}=Ky(),D=p.useCallback(async(z=!1)=>{if(!e){w("Please sign in with Google to sync your Classroom data"),m(!1);return}let K=n;if(!K)try{const M=await e.getIdToken();console.log("Got ID token, but need OAuth access token for Classroom API"),w("Access token expired. Please sign out and sign in again to refresh your token."),m(!1);return}catch{w("Unable to authenticate. Please sign in again."),m(!1);return}T(!0),i.length===0&&m(!0),w(null);try{console.log("Starting sync...",{userId:e.uid,hasToken:!!K});const M=await uz(K,e.uid);if(console.log(`Fetched ${M.length} courses`),M.length===0){w("No active courses found. Make sure you're enrolled in at least one Google Classroom course."),s([]),o([]),E(new Date),T(!1),m(!1);return}const L=[],U=[];for(const Q of M)try{console.log(`Fetching data for course: ${Q.name}`);const[q,re]=await Promise.all([dz(K,Q.classroomId,Q.name,e.uid),hz(K,Q.classroomId,Q.name,e.uid)]);console.log(`Found ${q.length} assignments and ${re.length} materials for ${Q.name}`),L.push(...q),U.push(...re)}catch(q){console.warn(`Failed to fetch data for course ${Q.name}:`,q)}console.log(`Sync complete: ${M.length} courses, ${L.length} assignments, ${U.length} materials`),s(M),o(L),l(U),E(new Date),z||O({title:"Sync Complete",description:`Successfully synced ${M.length} courses, ${L.length} assignments, and ${U.length} materials.`})}catch(M){console.error("Sync error details:",M);let L="Failed to sync";if(M!=null&&M.message){const U=M.message.toLowerCase();U.includes("401")||U.includes("unauthorized")||U.includes("invalid_token")||U.includes("token expired")?L="Authentication failed. Your access token may have expired. Please sign out and sign in again.":U.includes("403")||U.includes("forbidden")||U.includes("permission denied")?L="Permission denied. Please make sure you granted Classroom access permissions when signing in. Sign out and sign in again, then grant all requested permissions.":U.includes("quota")||U.includes("rate")||U.includes("429")?L="API quota exceeded. Please try again later.":U.includes("cors")||U.includes("network")?L="Network error. Please check your internet connection and try again.":L=`Sync failed: ${M.message}`}else M instanceof TypeError&&M.message.includes("fetch")&&(L="Network error. Please check your internet connection.");w(L),console.error("Sync error:",M),z||O({variant:"destructive",title:"Sync Failed",description:L})}finally{T(!1),m(!1)}},[e,n]);p.useEffect(()=>{if(!e){k(!1),m(!1);return}if(!n){m(!1);return}!S&&!y&&(k(!0),D(!0))},[e,n,S,r.length,i.length,y]),p.useEffect(()=>{sessionStorage.setItem("classroom_courses",JSON.stringify(r))},[r]),p.useEffect(()=>{sessionStorage.setItem("classroom_materials",JSON.stringify(a))},[a]),p.useEffect(()=>{sessionStorage.setItem("classroom_notes",JSON.stringify(Array.from(d.entries())))},[d]),p.useEffect(()=>{sessionStorage.setItem("classroom_assignments",JSON.stringify(i))},[i]),p.useEffect(()=>{v?sessionStorage.setItem("classroom_lastSyncedAt",v.toISOString()):sessionStorage.removeItem("classroom_lastSyncedAt")},[v]);const b=p.useCallback((z,K)=>{o(M=>M.map(L=>L.id===z?{...L,userStatus:K}:L))},[]),C=p.useCallback((z,K,M=!1)=>{const L={id:cz(),userId:(e==null?void 0:e.uid)||"",assignmentId:z,content:K,isImportant:M,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};h(U=>{const Q=new Map(U),q=Q.get(z)||[];return Q.set(z,[...q,L]),Q})},[e]),I=p.useCallback((z,K,M)=>{h(L=>{const U=new Map(L);for(const[Q,q]of Array.from(U.entries())){const re=q.findIndex(ee=>ee.id===z);if(re!==-1){const ee=[...q];ee[re]={...ee[re],content:K,isImportant:M??ee[re].isImportant,updatedAt:new Date().toISOString()},U.set(Q,ee);break}}return U})},[]),N=p.useCallback((z,K)=>{h(M=>{const L=new Map(M),U=L.get(K)||[];return L.set(K,U.filter(Q=>Q.id!==z)),L})},[]),P=p.useCallback(()=>{const z=[{id:"backlog",title:"Backlog",assignments:[]},{id:"in_progress",title:"In Progress",assignments:[]},{id:"submitted",title:"Submitted",assignments:[]},{id:"graded",title:"Graded",assignments:[]},{id:"overdue",title:"Overdue",assignments:[]}];return i.forEach(K=>{const M=K.userStatus==="in_progress"?"in_progress":K.systemStatus,L=z.find(U=>U.id===M);L&&L.assignments.push(K)}),z.forEach(K=>{K.assignments.sort((M,L)=>M.dueDate?L.dueDate?new Date(M.dueDate).getTime()-new Date(L.dueDate).getTime():-1:1)}),z},[i]),j=p.useCallback(()=>{const z=new Date,K=new Date(z);K.setDate(K.getDate()+3);const M=new Date(z);M.setDate(M.getDate()+7);const L=i.filter(W=>W.systemStatus!=="graded"&&W.systemStatus!=="submitted"),U=i.filter(W=>{if(!W.dueDate||W.systemStatus==="graded"||W.systemStatus==="submitted")return!1;const se=new Date(W.dueDate);return se>=z&&se<=K}),Q=i.filter(W=>{if(!W.dueDate||W.systemStatus==="graded"||W.systemStatus==="submitted")return!1;const se=new Date(W.dueDate);return se>=z&&se<=M}),q=i.filter(W=>W.systemStatus==="overdue"),re=[],ee=new Date,ue=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let W=0;W<7;W++){const se=new Date(ee);se.setDate(se.getDate()+W);const ye=se.toISOString().split("T")[0],ne=i.filter(fe=>fe.dueDate?fe.dueDate.split("T")[0]===ye:!1).length;re.push({day:ue[se.getDay()],count:ne,isToday:W===0})}const le=[...L].filter(W=>W.dueDate).sort((W,se)=>new Date(W.dueDate).getTime()-new Date(se.dueDate).getTime()).slice(0,5);return{totalActive:L.length,upcoming3Days:U.length,upcoming7Days:Q.length,overdue:q.length,weeklyWorkload:re,nextActions:le}},[i]),R=p.useCallback(z=>{let K=[...i];z!=null&&z.courseId&&(K=K.filter(Q=>Q.courseId===z.courseId)),z!=null&&z.status&&(K=K.filter(Q=>Q.systemStatus===z.status)),K.sort((Q,q)=>Q.dueDate?q.dueDate?new Date(Q.dueDate).getTime()-new Date(q.dueDate).getTime():-1:1);const M=new Map,L=new Date,U=new Date(L);return U.setDate(U.getDate()+1),K.forEach(Q=>{if(!Q.dueDate)return;const q=Q.dueDate.split("T")[0],re=new Date(Q.dueDate);let ee;q===L.toISOString().split("T")[0]?ee="Today":q===U.toISOString().split("T")[0]?ee="Tomorrow":ee=re.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),M.has(q)||M.set(q,{date:q,dateLabel:ee,assignments:[]}),M.get(q).assignments.push(Q)}),Array.from(M.values())},[i]),B=p.useCallback(z=>i.find(K=>K.id===z),[i]),ie=p.useCallback(z=>d.get(z)||[],[d]);return u.jsx(rN.Provider,{value:{courses:r,assignments:i,notes:d,isLoading:f,isSyncing:y,lastSyncedAt:v,error:_,syncClassroom:D,updateAssignmentStatus:b,addNote:C,updateNote:I,deleteNote:N,getPipelineColumns:P,getDashboardMetrics:j,getTimelineGroups:R,getAssignmentById:B,getNotesForAssignment:ie,materials:a},children:t})}function ho(){const t=p.useContext(rN);if(t===void 0)throw new Error("useClassroom must be used within a ClassroomProvider");return t}var Qp="focusScope.autoFocusOnMount",Yp="focusScope.autoFocusOnUnmount",D1={bubbles:!1,cancelable:!0},pz="FocusScope",Jv=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=p.useState(null),d=fn(s),h=fn(i),f=p.useRef(null),m=Me(e,v=>l(v)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(S){if(y.paused||!a)return;const k=S.target;a.contains(k)?f.current=k:xs(f.current,{select:!0})},E=function(S){if(y.paused||!a)return;const k=S.relatedTarget;k!==null&&(a.contains(k)||xs(f.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const O of S)O.removedNodes.length>0&&xs(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const w=new MutationObserver(_);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),w.disconnect()}}},[r,a,y.paused]),p.useEffect(()=>{if(a){O1.add(y);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(Qp,D1);a.addEventListener(Qp,d),a.dispatchEvent(_),_.defaultPrevented||(mz(xz(sN(a)),{select:!0}),document.activeElement===v&&xs(a))}return()=>{a.removeEventListener(Qp,d),setTimeout(()=>{const _=new CustomEvent(Yp,D1);a.addEventListener(Yp,h),a.dispatchEvent(_),_.defaultPrevented||xs(v??document.body,{select:!0}),a.removeEventListener(Yp,h),O1.remove(y)},0)}}},[a,d,h,y]);const T=p.useCallback(v=>{if(!n&&!r||y.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(E&&_){const w=v.currentTarget,[S,k]=gz(w);S&&k?!v.shiftKey&&_===k?(v.preventDefault(),n&&xs(S,{select:!0})):v.shiftKey&&_===S&&(v.preventDefault(),n&&xs(k,{select:!0})):_===w&&v.preventDefault()}},[n,r,y.paused]);return u.jsx(Ee.div,{tabIndex:-1,...o,ref:m,onKeyDown:T})});Jv.displayName=pz;function mz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(xs(r,{select:e}),document.activeElement!==n)return}function gz(t){const e=sN(t),n=j1(e,t),r=j1(e.reverse(),t);return[n,r]}function sN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function j1(t,e){for(const n of t)if(!yz(n,{upTo:e}))return n}function yz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function vz(t){return t instanceof HTMLInputElement&&"select"in t}function xs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&vz(t)&&e&&t.select()}}var O1=wz();function wz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=M1(t,e),t.unshift(e)},remove(e){var n;t=M1(t,e),(n=t[0])==null||n.resume()}}}function M1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function xz(t){return t.filter(e=>e.tagName!=="A")}var Xp=0;function iN(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??L1()),document.body.insertAdjacentElement("beforeend",t[1]??L1()),Xp++,()=>{Xp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xp--}},[])}function L1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Er=function(){return Er=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Er.apply(this,arguments)};function oN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _z(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Id="right-scroll-bar-position",Ad="width-before-scroll-bar",Ez="with-scroll-bars-hidden",Sz="--removed-body-scroll-bar-size";function Jp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function bz(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Tz=typeof window<"u"?p.useLayoutEffect:p.useEffect,V1=new WeakMap;function Cz(t,e){var n=bz(null,function(r){return t.forEach(function(s){return Jp(s,r)})});return Tz(function(){var r=V1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Jp(a,null)}),i.forEach(function(a){s.has(a)||Jp(a,o)})}V1.set(n,t)},[t]),n}function Iz(t){return t}function Az(t,e){e===void 0&&(e=Iz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function Nz(t){t===void 0&&(t={});var e=Az(null);return e.options=Er({async:!0,ssr:!1},t),e}var aN=function(t){var e=t.sideCar,n=oN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Er({},n))};aN.isSideCarExport=!0;function kz(t,e){return t.useMedium(e),aN}var lN=Nz(),Zp=function(){},jf=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Zp,onWheelCapture:Zp,onTouchMoveCapture:Zp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,y=t.noIsolation,T=t.inert,v=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,w=t.gapMode,S=oN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,O=Cz([n,e]),D=Er(Er({},S),s);return p.createElement(p.Fragment,null,h&&p.createElement(k,{sideCar:lN,removeScrollBar:d,shards:f,noIsolation:y,inert:T,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:w}),o?p.cloneElement(p.Children.only(a),Er(Er({},D),{ref:O})):p.createElement(_,Er({},D,{className:l,ref:O}),a))});jf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jf.classNames={fullWidth:Ad,zeroRight:Id};var Rz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Pz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Rz();return e&&t.setAttribute("nonce",e),t}function Dz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function jz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Oz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Pz())&&(Dz(e,n),jz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Mz=function(){var t=Oz();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},cN=function(){var t=Mz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Lz={left:0,top:0,right:0,gap:0},em=function(t){return parseInt(t||"",10)||0},Vz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[em(n),em(r),em(s)]},Fz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Lz;var e=Vz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},zz=cN(),Jo="data-scroll-locked",Uz=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ez,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Jo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Id,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ad,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Id," .").concat(Id,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ad," .").concat(Ad,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Jo,`] {
    `).concat(Sz,": ").concat(a,`px;
  }
`)},F1=function(){var t=parseInt(document.body.getAttribute(Jo)||"0",10);return isFinite(t)?t:0},$z=function(){p.useEffect(function(){return document.body.setAttribute(Jo,(F1()+1).toString()),function(){var t=F1()-1;t<=0?document.body.removeAttribute(Jo):document.body.setAttribute(Jo,t.toString())}},[])},Bz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;$z();var i=p.useMemo(function(){return Fz(s)},[s]);return p.createElement(zz,{styles:Uz(i,!e,s,n?"":"!important")})},Fg=!1;if(typeof window<"u")try{var Qu=Object.defineProperty({},"passive",{get:function(){return Fg=!0,!0}});window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{Fg=!1}var vo=Fg?{passive:!1}:!1,Hz=function(t){return t.tagName==="TEXTAREA"},uN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Hz(t)&&n[e]==="visible")},Wz=function(t){return uN(t,"overflowY")},qz=function(t){return uN(t,"overflowX")},z1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=dN(t,r);if(s){var i=hN(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Gz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Kz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},dN=function(t,e){return t==="v"?Wz(e):qz(e)},hN=function(t,e){return t==="v"?Gz(e):Kz(e)},Qz=function(t,e){return t==="h"&&e==="rtl"?-1:1},Yz=function(t,e,n,r,s){var i=Qz(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),d=!1,h=o>0,f=0,m=0;do{var y=hN(t,a),T=y[0],v=y[1],E=y[2],_=v-E-i*T;(T||_)&&dN(t,a)&&(f+=_,m+=T),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(d=!0),d},Yu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},U1=function(t){return[t.deltaX,t.deltaY]},$1=function(t){return t&&"current"in t?t.current:t},Xz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Jz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Zz=0,wo=[];function eU(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(Zz++)[0],i=p.useState(cN)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=_z([t.lockRef.current],(t.shards||[]).map($1),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=Yu(v),w=n.current,S="deltaX"in v?v.deltaX:w[0]-_[0],k="deltaY"in v?v.deltaY:w[1]-_[1],O,D=v.target,b=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in v&&b==="h"&&D.type==="range")return!1;var C=z1(b,D);if(!C)return!0;if(C?O=b:(O=b==="v"?"h":"v",C=z1(b,D)),!C)return!1;if(!r.current&&"changedTouches"in v&&(S||k)&&(r.current=O),!O)return!0;var I=r.current||O;return Yz(I,E,v,I==="h"?S:k,!0)},[]),l=p.useCallback(function(v){var E=v;if(!(!wo.length||wo[wo.length-1]!==i)){var _="deltaY"in E?U1(E):Yu(E),w=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&Xz(O.delta,_)})[0];if(w&&w.should){E.cancelable&&E.preventDefault();return}if(!w){var S=(o.current.shards||[]).map($1).filter(Boolean).filter(function(O){return O.contains(E.target)}),k=S.length>0?a(E,S[0]):!o.current.noIsolation;k&&E.cancelable&&E.preventDefault()}}},[]),d=p.useCallback(function(v,E,_,w){var S={name:v,delta:E,target:_,should:w,shadowParent:tU(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(k){return k!==S})},1)},[]),h=p.useCallback(function(v){n.current=Yu(v),r.current=void 0},[]),f=p.useCallback(function(v){d(v.type,U1(v),v.target,a(v,t.lockRef.current))},[]),m=p.useCallback(function(v){d(v.type,Yu(v),v.target,a(v,t.lockRef.current))},[]);p.useEffect(function(){return wo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,vo),document.addEventListener("touchmove",l,vo),document.addEventListener("touchstart",h,vo),function(){wo=wo.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,vo),document.removeEventListener("touchmove",l,vo),document.removeEventListener("touchstart",h,vo)}},[]);var y=t.removeScrollBar,T=t.inert;return p.createElement(p.Fragment,null,T?p.createElement(i,{styles:Jz(s)}):null,y?p.createElement(Bz,{gapMode:t.gapMode}):null)}function tU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const nU=kz(lN,eU);var Zv=p.forwardRef(function(t,e){return p.createElement(jf,Er({},t,{ref:e,sideCar:nU}))});Zv.classNames=jf.classNames;var rU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xo=new WeakMap,Xu=new WeakMap,Ju={},tm=0,fN=function(t){return t&&(t.host||fN(t.parentNode))},sU=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=fN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},iU=function(t,e,n,r){var s=sU(e,Array.isArray(t)?t:[t]);Ju[n]||(Ju[n]=new WeakMap);var i=Ju[n],o=[],a=new Set,l=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var y=m.getAttribute(r),T=y!==null&&y!=="false",v=(xo.get(m)||0)+1,E=(i.get(m)||0)+1;xo.set(m,v),i.set(m,E),o.push(m),v===1&&T&&Xu.set(m,!0),E===1&&m.setAttribute(n,"true"),T||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return h(e),a.clear(),tm++,function(){o.forEach(function(f){var m=xo.get(f)-1,y=i.get(f)-1;xo.set(f,m),i.set(f,y),m||(Xu.has(f)||f.removeAttribute(r),Xu.delete(f)),y||f.removeAttribute(n)}),tm--,tm||(xo=new WeakMap,xo=new WeakMap,Xu=new WeakMap,Ju={})}},pN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=rU(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),iU(r,s,n,"aria-hidden")):function(){return null}},e0="Dialog",[mN,gN]=os(e0),[oU,cr]=mN(e0),yN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=p.useRef(null),l=p.useRef(null),[d=!1,h]=wc({prop:r,defaultProp:s,onChange:i});return u.jsx(oU,{scope:e,triggerRef:a,contentRef:l,contentId:Wo(),titleId:Wo(),descriptionId:Wo(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};yN.displayName=e0;var vN="DialogTrigger",wN=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cr(vN,n),i=Me(e,s.triggerRef);return u.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":r0(s.open),...r,ref:i,onClick:ge(t.onClick,s.onOpenToggle)})});wN.displayName=vN;var t0="DialogPortal",[aU,xN]=mN(t0,{forceMount:void 0}),_N=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=cr(t0,e);return u.jsx(aU,{scope:e,forceMount:n,children:p.Children.map(r,o=>u.jsx(La,{present:n||i.open,children:u.jsx(tf,{asChild:!0,container:s,children:o})}))})};_N.displayName=t0;var bh="DialogOverlay",EN=p.forwardRef((t,e)=>{const n=xN(bh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=cr(bh,t.__scopeDialog);return i.modal?u.jsx(La,{present:r||i.open,children:u.jsx(cU,{...s,ref:e})}):null});EN.displayName=bh;var lU=wa("DialogOverlay.RemoveScroll"),cU=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cr(bh,n);return u.jsx(Zv,{as:lU,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Ee.div,{"data-state":r0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ro="DialogContent",SN=p.forwardRef((t,e)=>{const n=xN(ro,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=cr(ro,t.__scopeDialog);return u.jsx(La,{present:r||i.open,children:i.modal?u.jsx(uU,{...s,ref:e}):u.jsx(dU,{...s,ref:e})})});SN.displayName=ro;var uU=p.forwardRef((t,e)=>{const n=cr(ro,t.__scopeDialog),r=p.useRef(null),s=Me(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return pN(i)},[]),u.jsx(bN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ge(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ge(t.onFocusOutside,i=>i.preventDefault())})}),dU=p.forwardRef((t,e)=>{const n=cr(ro,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return u.jsx(bN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,d;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),bN=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=cr(ro,n),l=p.useRef(null),d=Me(e,l);return iN(),u.jsxs(u.Fragment,{children:[u.jsx(Jv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(zc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":r0(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(fU,{titleId:a.titleId}),u.jsx(mU,{contentRef:l,descriptionId:a.descriptionId})]})]})}),n0="DialogTitle",TN=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cr(n0,n);return u.jsx(Ee.h2,{id:s.titleId,...r,ref:e})});TN.displayName=n0;var CN="DialogDescription",IN=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cr(CN,n);return u.jsx(Ee.p,{id:s.descriptionId,...r,ref:e})});IN.displayName=CN;var AN="DialogClose",NN=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cr(AN,n);return u.jsx(Ee.button,{type:"button",...r,ref:e,onClick:ge(t.onClick,()=>s.onOpenChange(!1))})});NN.displayName=AN;function r0(t){return t?"open":"closed"}var kN="DialogTitleWarning",[hU,RN]=Vj(kN,{contentName:ro,titleName:n0,docsSlug:"dialog"}),fU=({titleId:t})=>{const e=RN(kN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},pU="DialogDescriptionWarning",mU=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RN(pU).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},PN=yN,gU=wN,DN=_N,s0=EN,i0=SN,o0=TN,a0=IN,l0=NN,jN="AlertDialog",[yU,xB]=os(jN,[gN]),ls=gN(),ON=t=>{const{__scopeAlertDialog:e,...n}=t,r=ls(e);return u.jsx(PN,{...r,...n,modal:!0})};ON.displayName=jN;var vU="AlertDialogTrigger",MN=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ls(n);return u.jsx(gU,{...s,...r,ref:e})});MN.displayName=vU;var wU="AlertDialogPortal",LN=t=>{const{__scopeAlertDialog:e,...n}=t,r=ls(e);return u.jsx(DN,{...r,...n})};LN.displayName=wU;var xU="AlertDialogOverlay",VN=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ls(n);return u.jsx(s0,{...s,...r,ref:e})});VN.displayName=xU;var Zo="AlertDialogContent",[_U,EU]=yU(Zo),SU=sT("AlertDialogContent"),FN=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=ls(n),o=p.useRef(null),a=Me(e,o),l=p.useRef(null);return u.jsx(hU,{contentName:Zo,titleName:zN,docsSlug:"alert-dialog",children:u.jsx(_U,{scope:n,cancelRef:l,children:u.jsxs(i0,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ge(s.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=l.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[u.jsx(SU,{children:r}),u.jsx(TU,{contentRef:o})]})})})});FN.displayName=Zo;var zN="AlertDialogTitle",UN=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ls(n);return u.jsx(o0,{...s,...r,ref:e})});UN.displayName=zN;var $N="AlertDialogDescription",BN=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ls(n);return u.jsx(a0,{...s,...r,ref:e})});BN.displayName=$N;var bU="AlertDialogAction",HN=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ls(n);return u.jsx(l0,{...s,...r,ref:e})});HN.displayName=bU;var WN="AlertDialogCancel",qN=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=EU(WN,n),i=ls(n),o=Me(e,s);return u.jsx(l0,{...i,...r,ref:o})});qN.displayName=WN;var TU=({contentRef:t})=>{const e=`\`${Zo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Zo}\` by passing a \`${$N}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Zo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},CU=ON,IU=MN,AU=LN,GN=VN,KN=FN,QN=HN,YN=qN,XN=UN,JN=BN;const c0=$c("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Re=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?zj:"button";return u.jsx(o,{className:J(c0({variant:e,size:n,className:t})),ref:i,...s})});Re.displayName="Button";const ZN=CU,ek=IU,NU=AU,tk=p.forwardRef(({className:t,...e},n)=>u.jsx(GN,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));tk.displayName=GN.displayName;const u0=p.forwardRef(({className:t,...e},n)=>u.jsxs(NU,{children:[u.jsx(tk,{}),u.jsx(KN,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));u0.displayName=KN.displayName;const d0=({className:t,...e})=>u.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",t),...e});d0.displayName="AlertDialogHeader";const h0=({className:t,...e})=>u.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});h0.displayName="AlertDialogFooter";const f0=p.forwardRef(({className:t,...e},n)=>u.jsx(XN,{ref:n,className:J("text-lg font-semibold",t),...e}));f0.displayName=XN.displayName;const p0=p.forwardRef(({className:t,...e},n)=>u.jsx(JN,{ref:n,className:J("text-sm text-muted-foreground",t),...e}));p0.displayName=JN.displayName;const m0=p.forwardRef(({className:t,...e},n)=>u.jsx(QN,{ref:n,className:J(c0(),t),...e}));m0.displayName=QN.displayName;const g0=p.forwardRef(({className:t,...e},n)=>u.jsx(YN,{ref:n,className:J(c0({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));g0.displayName=YN.displayName;const nm=768;function y0(){const[t,e]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${nm-1}px)`),r=()=>{e(window.innerWidth<nm)};return n.addEventListener("change",r),e(window.innerWidth<nm),()=>n.removeEventListener("change",r)},[]),!!t}var v0="Avatar",[kU,_B]=os(v0),[RU,nk]=kU(v0),rk=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=p.useState("idle");return u.jsx(RU,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:u.jsx(Ee.span,{...r,ref:e})})});rk.displayName=v0;var sk="AvatarImage",ik=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=nk(sk,n),a=PU(r,i),l=fn(d=>{s(d),o.onImageLoadingStatusChange(d)});return wt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(Ee.img,{...i,ref:e,src:r}):null});ik.displayName=sk;var ok="AvatarFallback",ak=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=nk(ok,n),[o,a]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?u.jsx(Ee.span,{...s,ref:e}):null});ak.displayName=ok;function B1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function PU(t,{referrerPolicy:e,crossOrigin:n}){const r=jU(),s=p.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=p.useState(()=>B1(i,t));return wt(()=>{a(B1(i,t))},[i,t]),wt(()=>{const l=f=>()=>{a(f)};if(!i)return;const d=l("loaded"),h=l("error");return i.addEventListener("load",d),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",h)}},[i,n,e]),o}function DU(){return()=>{}}function jU(){return p.useSyncExternalStore(DU,()=>!0,()=>!1)}var lk=rk,ck=ik,uk=ak;const w0=p.forwardRef(({className:t,...e},n)=>u.jsx(lk,{ref:n,className:J(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));w0.displayName=lk.displayName;const x0=p.forwardRef(({className:t,...e},n)=>u.jsx(ck,{ref:n,className:J("aspect-square h-full w-full",t),...e}));x0.displayName=ck.displayName;const _0=p.forwardRef(({className:t,...e},n)=>u.jsx(uk,{ref:n,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));_0.displayName=uk.displayName;const OU=[{path:"/dashboard",label:"Dashboard",icon:PO},{path:"/",label:"Pipeline",icon:OT},{path:"/timeline",label:"Timeline",icon:xa},{path:"/notes",label:"Notes",icon:Ul}];function MU({mobileOpen:t,onMobileClose:e}){var h,f;const[n]=Wb(),r=y0(),{user:s,signOut:i}=fi(),{theme:o,toggleTheme:a}=nN(),l=((h=s==null?void 0:s.displayName)==null?void 0:h.split(" ").map(m=>m[0]).join("").toUpperCase())||((f=s==null?void 0:s.email)==null?void 0:f[0].toUpperCase())||"U",d=()=>u.jsxs("div",{className:"flex flex-col h-full bg-background",children:[u.jsxs("div",{className:"h-16 flex items-center px-6 border-b shrink-0",children:[u.jsx("img",{src:"/logo.png",alt:"Trace",className:"w-8 h-8 mr-3"}),u.jsx("span",{className:"font-bold text-lg tracking-tight",children:"Trace"}),r&&u.jsx("button",{className:"ml-auto",onClick:e,children:u.jsx(of,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-4 border-b shrink-0",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs(w0,{className:"h-8 w-8",children:[u.jsx(x0,{src:(s==null?void 0:s.photoURL)||void 0,alt:(s==null?void 0:s.displayName)||"User",referrerPolicy:"no-referrer"}),u.jsx(_0,{className:"text-xs",children:l})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium truncate",children:(s==null?void 0:s.displayName)||"User"}),u.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s==null?void 0:s.email})]})]})}),u.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:u.jsxs("div",{className:"mb-6",children:[u.jsx("p",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Views"}),OU.map(m=>{const y=n===m.path,T=m.icon;return u.jsxs(gc,{href:m.path,onClick:e,className:J("w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",y?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${m.label.toLowerCase()}`,children:[u.jsx(T,{className:"w-4 h-4 mr-3"}),m.label]},m.path)})]})}),u.jsxs("div",{className:"p-4 border-t space-y-1 shrink-0",children:[u.jsxs("button",{onClick:a,className:"w-full flex items-center px-3 py-2 text-sm font-medium text-muted-foreground rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",children:[o==="dark"?u.jsx(zT,{className:"w-4 h-4 mr-3"}):u.jsx(LT,{className:"w-4 h-4 mr-3"}),o==="dark"?"Light Mode":"Dark Mode"]}),u.jsxs(gc,{href:"/settings",onClick:e,className:J("w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n==="/settings"?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[u.jsx(BO,{className:"w-4 h-4 mr-3"}),"Settings"]}),u.jsxs(ZN,{children:[u.jsx(ek,{asChild:!0,children:u.jsxs("button",{className:"w-full flex items-center px-3 py-2 text-sm font-medium text-destructive rounded-md hover:bg-destructive/10 transition-colors",children:[u.jsx(ag,{className:"w-4 h-4 mr-3"}),"Sign Out"]})}),u.jsxs(u0,{children:[u.jsxs(d0,{children:[u.jsx(f0,{children:"Are you absolutely sure?"}),u.jsx(p0,{children:"This will sign you out of your account. You will need to sign in again to access your data."})]}),u.jsxs(h0,{children:[u.jsx(g0,{children:"Cancel"}),u.jsx(m0,{onClick:i,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})]})]})]});return u.jsxs(u.Fragment,{children:[u.jsx("aside",{className:J("fixed inset-y-0 left-0 z-50 w-64 border-r bg-background transform transition-transform duration-200 ease-in-out",r?t?"translate-x-0":"-translate-x-full":"relative translate-x-0"),children:u.jsx(d,{})}),r&&t&&u.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden",onClick:e})]})}const dk=p.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:J("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));dk.displayName="Input";function LU({onMobileMenuClick:t}){const{syncClassroom:e,isSyncing:n}=ho(),[r]=Wb(),[s,i]=p.useState(""),o=y0(),l={"/":"Pipeline","/timeline":"Timeline","/dashboard":"Dashboard","/notes":"Notes","/settings":"Settings"}[r]||"Pipeline";return u.jsxs("header",{className:"h-16 bg-background border-b flex items-center px-4 md:px-6 justify-between shrink-0 z-10",children:[u.jsxs("div",{className:"flex items-center flex-1",children:[o&&u.jsx(Re,{variant:"ghost",size:"icon",onClick:t,className:"mr-2",children:u.jsx(FO,{className:"h-5 w-5"})}),u.jsx("span",{className:"md:hidden font-medium text-lg",children:l}),u.jsxs("div",{className:"relative w-full max-w-md hidden md:block",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx($O,{className:"h-4 w-4 text-muted-foreground"})}),u.jsx(dk,{type:"text",value:s,onChange:d=>i(d.target.value),className:"pl-10 bg-muted/50 border-muted focus:bg-background",placeholder:"Search assignments..."})]})]}),u.jsx("div",{className:"flex items-center ml-4",children:u.jsx(Re,{variant:"ghost",size:"icon",onClick:d=>{d.preventDefault(),e().catch(h=>{console.error("Sync failed:",h)})},disabled:n,className:J(n&&"animate-spin"),title:"Sync with Classroom",children:u.jsx(VT,{className:"w-5 h-5"})})})]})}var hk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},H1=Se.createContext&&Se.createContext(hk),VU=["attr","size","title"];function FU(t,e){if(t==null)return{};var n=zU(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Th(){return Th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Th.apply(this,arguments)}function W1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ch(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(n),!0).forEach(function(r){UU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UU(t,e,n){return e=$U(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $U(t){var e=BU(t,"string");return typeof e=="symbol"?e:e+""}function BU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fk(t){return t&&t.map((e,n)=>Se.createElement(e.tag,Ch({key:n},e.attr),fk(e.child)))}function pk(t){return e=>Se.createElement(HU,Th({attr:Ch({},t.attr)},e),fk(t.child))}function HU(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=FU(t,VU),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Se.createElement("svg",Th({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ch(Ch({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Se.createElement("title",null,i),t.children)};return H1!==void 0?Se.createElement(H1.Consumer,null,n=>e(n)):e(hk)}function WU(t){return pk({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(t)}function qU(t){return pk({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.6367 1.6367C.7322 1.6367 0 2.369 0 3.2734v17.4532c0 .9045.7322 1.6367 1.6367 1.6367h20.7266c.9045 0 1.6367-.7322 1.6367-1.6367V3.2734c0-.9045-.7322-1.6367-1.6367-1.6367H1.6367zm.545 2.1817h19.6367v16.3632h-2.7266v-1.0898h-4.9102v1.0898h-12V3.8184zM12 8.1816c-.9046 0-1.6367.7322-1.6367 1.6368 0 .9045.7321 1.6367 1.6367 1.6367.9046 0 1.6367-.7322 1.6367-1.6367 0-.9046-.7321-1.6368-1.6367-1.6368zm-4.3633 1.9102c-.6773 0-1.2285.5493-1.2285 1.2266 0 .6772.5512 1.2265 1.2285 1.2265.6773 0 1.2266-.5493 1.2266-1.2265 0-.6773-.5493-1.2266-1.2266-1.2266zm8.7266 0c-.6773 0-1.2266.5493-1.2266 1.2266 0 .6772.5493 1.2265 1.2266 1.2265.6773 0 1.2285-.5493 1.2285-1.2265 0-.6773-.5512-1.2266-1.2285-1.2266zM12 12.5449c-1.179 0-2.4128.4012-3.1484 1.0059-.384-.1198-.8043-.1875-1.2149-.1875-1.3136 0-2.7285.695-2.7285 1.5586v.8965h14.1836v-.8965c0-.8637-1.4149-1.5586-2.7285-1.5586-.4106 0-.831.0677-1.2149.1875-.7356-.6047-1.9694-1.0059-3.1484-1.0059Z"},child:[]}]})(t)}const GU=[{icon:qU,title:"Classroom Sync",description:"Direct 2-way integration."},{icon:LO,title:"Kanban Board",description:"Visual assignment tracking."},{icon:RO,title:"Linear Timeline",description:"Chronological deadline view."},{icon:DO,title:"Performance Metrics",description:"Grade & workload analytics."}];function KU(){const{signInWithGoogle:t,loading:e,error:n}=fi();return u.jsxs("div",{className:"h-screen w-full bg-white text-zinc-950 flex overflow-hidden font-sans selection:bg-zinc-200",children:[u.jsxs("div",{className:"hidden lg:flex lg:w-1/2 h-full flex-col justify-between border-r border-zinc-200 bg-zinc-50/50 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#e4e4e7_1px,transparent_1px),linear-gradient(to_bottom,#e4e4e7_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_0%,#000_70%,transparent_100%)] pointer-events-none"}),u.jsx("header",{className:"px-10 py-8 z-10",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:"/logo.png",alt:"Trace Logo",className:"h-10 w-10 object-contain rounded-md"}),u.jsxs("div",{children:[u.jsx("span",{className:"font-bold tracking-tight text-lg block leading-none",children:"Trace"}),u.jsx("span",{className:"text-[10px] uppercase tracking-widest text-zinc-500 font-medium",children:"by Kishor Irnak"})]})]})}),u.jsx("div",{className:"flex-1 flex flex-col justify-center px-16 z-10",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h1",{className:"text-5xl font-bold tracking-tight text-zinc-950 leading-[1.05]",children:["Google Classroom, ",u.jsx("br",{}),u.jsx("span",{className:"text-zinc-400",children:"supercharged."})]}),u.jsx("p",{className:"text-lg text-zinc-600 max-w-md leading-relaxed",children:"Trace extracts your assignment data and reorganizes it into a professional project management workflow."}),u.jsx("div",{className:"grid grid-cols-2 gap-px bg-zinc-200 border border-zinc-200 mt-6 rounded-lg overflow-hidden shadow-sm",children:GU.map(r=>u.jsxs("div",{className:"bg-white p-4 hover:bg-zinc-50 transition-colors duration-200",children:[u.jsx(r.icon,{className:"h-5 w-5 text-zinc-950 mb-2"}),u.jsx("h3",{className:"font-semibold text-sm text-zinc-950",children:r.title}),u.jsx("p",{className:"text-xs text-zinc-500 mt-0.5",children:r.description})]},r.title))})]})}),u.jsx("div",{className:"px-10 py-6 border-t border-zinc-200/50 bg-white/50 backdrop-blur-sm z-10",children:u.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-zinc-400 uppercase tracking-wider",children:[u.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-zinc-400"}),"v2.0 Stable Build"]})})]}),u.jsxs("div",{className:"w-full lg:w-1/2 h-full flex flex-col bg-white overflow-y-auto",children:[u.jsxs("div",{className:"lg:hidden p-6 border-b border-zinc-100 flex items-center gap-3 bg-white sticky top-0 z-50",children:[u.jsx("img",{src:"/logo.png",alt:"Trace Logo",className:"h-9 w-9 object-contain rounded-md"}),u.jsxs("div",{children:[u.jsx("span",{className:"font-bold tracking-tight text-lg block leading-none",children:"Trace"}),u.jsx("span",{className:"text-[10px] uppercase tracking-widest text-zinc-500 font-medium",children:"by Kishor Irnak"})]})]}),u.jsx("div",{className:"flex-1 flex flex-col justify-center p-6 sm:p-12 lg:p-24",children:u.jsxs("div",{className:"w-full max-w-sm mx-auto space-y-8",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-2xl font-semibold tracking-tight text-zinc-900",children:"Sign in to Trace"}),u.jsx("p",{className:"text-sm text-zinc-500",children:"Connect your academic account to sync assignments."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-zinc-50 border border-zinc-200 p-4 rounded-md flex gap-3",children:[u.jsx(Zs,{className:"h-5 w-5 text-zinc-900 shrink-0 mt-0.5",strokeWidth:1.5}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-sm font-semibold text-zinc-900",children:"Important"}),u.jsxs("p",{className:"text-xs text-zinc-600 leading-relaxed",children:["You must sign in using your"," ",u.jsx("strong",{className:"text-zinc-900",children:"Google Classroom Email"}),". Personal Gmail accounts without classroom data will not work."]})]})]}),u.jsxs(Re,{onClick:t,disabled:e,className:"w-full h-12 bg-zinc-950 hover:bg-zinc-800 text-white border border-transparent rounded-md transition-all duration-200 flex items-center justify-center gap-3 shadow-sm hover:shadow-md","data-testid":"button-signin-google",children:[u.jsx(WU,{className:"h-4 w-4"}),u.jsx("span",{className:"font-medium",children:"Continue with Google"})]}),n&&u.jsxs("div",{className:"p-3 bg-red-50 border border-red-100 text-red-600 text-sm rounded-md flex gap-3 items-center",children:[u.jsx(Zs,{className:"h-4 w-4 shrink-0"}),u.jsx("p",{children:n})]})]}),u.jsx("div",{className:"pt-8 border-t border-zinc-100",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx(HO,{className:"h-5 w-5 text-zinc-400 shrink-0",strokeWidth:1.5}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs font-medium text-zinc-900",children:"Privacy First"}),u.jsx("p",{className:"text-xs text-zinc-500 leading-relaxed",children:"Trace uses the official Google Classroom API with read-only permission. We cannot edit or delete your coursework."})]})]})})]})}),u.jsx("div",{className:"p-6 sm:p-8 lg:p-12 border-t border-zinc-100",children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 text-xs text-zinc-400",children:[u.jsx("span",{children:" 2024 Trace Inc."}),u.jsxs("div",{className:"flex gap-6",children:[u.jsx("a",{href:"#",className:"hover:text-zinc-900 transition-colors",children:"Privacy"}),u.jsx("a",{href:"#",className:"hover:text-zinc-900 transition-colors",children:"Terms"})]})]})})]})]})}function QU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return p.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Of=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Qa(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function E0(t){return"nodeType"in t}function en(t){var e,n;return t?Qa(t)?t:E0(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function S0(t){const{Document:e}=en(t);return t instanceof e}function tu(t){return Qa(t)?!1:t instanceof en(t).HTMLElement}function mk(t){return t instanceof en(t).SVGElement}function Ya(t){return t?Qa(t)?t.document:E0(t)?S0(t)?t:tu(t)||mk(t)?t.ownerDocument:document:document:document}const ar=Of?p.useLayoutEffect:p.useEffect;function Mf(t){const e=p.useRef(t);return ar(()=>{e.current=t}),p.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function YU(){const t=p.useRef(null),e=p.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=p.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function kc(t,e){e===void 0&&(e=[t]);const n=p.useRef(t);return ar(()=>{n.current!==t&&(n.current=t)},e),n}function nu(t,e){const n=p.useRef();return p.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Ih(t){const e=Mf(t),n=p.useRef(null),r=p.useCallback(s=>{s!==n.current&&(e==null||e(s,n.current)),n.current=s},[]);return[n,r]}function Ah(t){const e=p.useRef();return p.useEffect(()=>{e.current=t},[t]),e.current}let rm={};function ru(t,e){return p.useMemo(()=>{if(e)return e;const n=rm[t]==null?0:rm[t]+1;return rm[t]=n,t+"-"+n},[t,e])}function gk(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[l,d]of a){const h=i[l];h!=null&&(i[l]=h+t*d)}return i},{...e})}}const ea=gk(1),Nh=gk(-1);function XU(t){return"clientX"in t&&"clientY"in t}function Lf(t){if(!t)return!1;const{KeyboardEvent:e}=en(t.target);return e&&t instanceof e}function JU(t){if(!t)return!1;const{TouchEvent:e}=en(t.target);return e&&t instanceof e}function kh(t){if(JU(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return XU(t)?{x:t.clientX,y:t.clientY}:null}const ci=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[ci.Translate.toString(t),ci.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),q1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ZU(t){return t.matches(q1)?t:t.querySelector(q1)}const e7={display:"none"};function t7(t){let{id:e,value:n}=t;return Se.createElement("div",{id:e,style:e7},n)}function n7(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Se.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function r7(){const[t,e]=p.useState("");return{announce:p.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const yk=p.createContext(null);function s7(t){const e=p.useContext(yk);p.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function i7(){const[t]=p.useState(()=>new Set),e=p.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[p.useCallback(r=>{let{type:s,event:i}=r;t.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[t]),e]}const o7={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},a7={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function l7(t){let{announcements:e=a7,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=o7}=t;const{announce:i,announcement:o}=r7(),a=ru("DndLiveRegion"),[l,d]=p.useState(!1);if(p.useEffect(()=>{d(!0)},[]),s7(p.useMemo(()=>({onDragStart(f){let{active:m}=f;i(e.onDragStart({active:m}))},onDragMove(f){let{active:m,over:y}=f;e.onDragMove&&i(e.onDragMove({active:m,over:y}))},onDragOver(f){let{active:m,over:y}=f;i(e.onDragOver({active:m,over:y}))},onDragEnd(f){let{active:m,over:y}=f;i(e.onDragEnd({active:m,over:y}))},onDragCancel(f){let{active:m,over:y}=f;i(e.onDragCancel({active:m,over:y}))}}),[i,e])),!l)return null;const h=Se.createElement(Se.Fragment,null,Se.createElement(t7,{id:r,value:s.draggable}),Se.createElement(n7,{id:a,announcement:o}));return n?Mn.createPortal(h,n):h}var ft;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(ft||(ft={}));function Rh(){}function G1(t,e){return p.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function c7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return p.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const lr=Object.freeze({x:0,y:0});function u7(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function d7(t,e){const n=kh(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function h7(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function f7(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function p7(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function K1(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const m7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=K1(e,e.left,e.top),i=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const d=u7(K1(l),s);i.push({id:a,data:{droppableContainer:o,value:d}})}}return i.sort(h7)};function g7(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-r,a=i-n;if(r<s&&n<i){const l=e.width*e.height,d=t.width*t.height,h=o*a,f=h/(l+d-h);return Number(f.toFixed(4))}return 0}const y7=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const l=g7(a,e);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(f7)};function v7(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function vk(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:lr}function w7(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const x7=w7(1);function wk(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function _7(t,e,n){const r=wk(e);if(!r)return t;const{scaleX:s,scaleY:i,x:o,y:a}=r,l=t.left-o-(1-s)*parseFloat(n),d=t.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),h=s?t.width/s:t.width,f=i?t.height/i:t.height;return{width:h,height:f,top:d,right:l+h,bottom:d+f,left:l}}const E7={ignoreTransform:!1};function Xa(t,e){e===void 0&&(e=E7);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:h}=en(t).getComputedStyle(t);d&&(n=_7(n,d,h))}const{top:r,left:s,width:i,height:o,bottom:a,right:l}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function Q1(t){return Xa(t,{ignoreTransform:!0})}function S7(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function b7(t,e){return e===void 0&&(e=en(t).getComputedStyle(t)),e.position==="fixed"}function T7(t,e){e===void 0&&(e=en(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?n.test(i):!1})}function b0(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(S0(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!tu(s)||mk(s)||n.includes(s))return n;const i=en(t).getComputedStyle(s);return s!==t&&T7(s,i)&&n.push(s),b7(s,i)?n:r(s.parentNode)}return t?r(t):n}function xk(t){const[e]=b0(t,1);return e??null}function sm(t){return!Of||!t?null:Qa(t)?t:E0(t)?S0(t)||t===Ya(t).scrollingElement?window:tu(t)?t:null:null}function _k(t){return Qa(t)?t.scrollX:t.scrollLeft}function Ek(t){return Qa(t)?t.scrollY:t.scrollTop}function zg(t){return{x:_k(t),y:Ek(t)}}var St;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(St||(St={}));function Sk(t){return!Of||!t?!1:t===document.scrollingElement}function bk(t){const e={x:0,y:0},n=Sk(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const C7={x:.2,y:.2};function I7(t,e,n,r,s){let{top:i,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),s===void 0&&(s=C7);const{isTop:d,isBottom:h,isLeft:f,isRight:m}=bk(t),y={x:0,y:0},T={x:0,y:0},v={height:e.height*s.y,width:e.width*s.x};return!d&&i<=e.top+v.height?(y.y=St.Backward,T.y=r*Math.abs((e.top+v.height-i)/v.height)):!h&&l>=e.bottom-v.height&&(y.y=St.Forward,T.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!m&&a>=e.right-v.width?(y.x=St.Forward,T.x=r*Math.abs((e.right-v.width-a)/v.width)):!f&&o<=e.left+v.width&&(y.x=St.Backward,T.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:y,speed:T}}function A7(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function Tk(t){return t.reduce((e,n)=>ea(e,zg(n)),lr)}function N7(t){return t.reduce((e,n)=>e+_k(n),0)}function k7(t){return t.reduce((e,n)=>e+Ek(n),0)}function Ck(t,e){if(e===void 0&&(e=Xa),!t)return;const{top:n,left:r,bottom:s,right:i}=e(t);xk(t)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const R7=[["x",["left","right"],N7],["y",["top","bottom"],k7]];class T0{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=b0(n),s=Tk(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of R7)for(const l of o)Object.defineProperty(this,l,{get:()=>{const d=a(r),h=s[i]-d;return this.rect[l]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ql{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function P7(t){const{EventTarget:e}=en(t);return t instanceof e?t:Ya(t)}function im(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var kn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(kn||(kn={}));function Y1(t){t.preventDefault()}function D7(t){t.stopPropagation()}var Pe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Pe||(Pe={}));const Ik={start:[Pe.Space,Pe.Enter],cancel:[Pe.Esc],end:[Pe.Space,Pe.Enter,Pe.Tab]},j7=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Pe.Right:return{...n,x:n.x+25};case Pe.Left:return{...n,x:n.x-25};case Pe.Down:return{...n,y:n.y+25};case Pe.Up:return{...n,y:n.y-25}}};class C0{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Ql(Ya(n)),this.windowListeners=new Ql(en(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(kn.Resize,this.handleCancel),this.windowListeners.add(kn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(kn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&Ck(r),n(lr)}handleKeyDown(e){if(Lf(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=Ik,coordinateGetter:o=j7,scrollBehavior:a="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:d}=r.current,h=d?{x:d.left,y:d.top}:lr;this.referenceCoordinates||(this.referenceCoordinates=h);const f=o(e,{active:n,context:r.current,currentCoordinates:h});if(f){const m=Nh(f,h),y={x:0,y:0},{scrollableAncestors:T}=r.current;for(const v of T){const E=e.code,{isTop:_,isRight:w,isLeft:S,isBottom:k,maxScroll:O,minScroll:D}=bk(v),b=A7(v),C={x:Math.min(E===Pe.Right?b.right-b.width/2:b.right,Math.max(E===Pe.Right?b.left:b.left+b.width/2,f.x)),y:Math.min(E===Pe.Down?b.bottom-b.height/2:b.bottom,Math.max(E===Pe.Down?b.top:b.top+b.height/2,f.y))},I=E===Pe.Right&&!w||E===Pe.Left&&!S,N=E===Pe.Down&&!k||E===Pe.Up&&!_;if(I&&C.x!==f.x){const P=v.scrollLeft+m.x,j=E===Pe.Right&&P<=O.x||E===Pe.Left&&P>=D.x;if(j&&!m.y){v.scrollTo({left:P,behavior:a});return}j?y.x=v.scrollLeft-P:y.x=E===Pe.Right?v.scrollLeft-O.x:v.scrollLeft-D.x,y.x&&v.scrollBy({left:-y.x,behavior:a});break}else if(N&&C.y!==f.y){const P=v.scrollTop+m.y,j=E===Pe.Down&&P<=O.y||E===Pe.Up&&P>=D.y;if(j&&!m.x){v.scrollTo({top:P,behavior:a});return}j?y.y=v.scrollTop-P:y.y=E===Pe.Down?v.scrollTop-O.y:v.scrollTop-D.y,y.y&&v.scrollBy({top:-y.y,behavior:a});break}}this.handleMove(e,ea(Nh(f,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}C0.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=Ik,onActivation:s}=e,{active:i}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function X1(t){return!!(t&&"distance"in t)}function J1(t){return!!(t&&"delay"in t)}class I0{constructor(e,n,r){var s;r===void 0&&(r=P7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:o}=i;this.props=e,this.events=n,this.document=Ya(o),this.documentListeners=new Ql(this.document),this.listeners=new Ql(r),this.windowListeners=new Ql(en(o)),this.initialCoordinates=(s=kh(i))!=null?s:lr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(kn.Resize,this.handleCancel),this.windowListeners.add(kn.DragStart,Y1),this.windowListeners.add(kn.VisibilityChange,this.handleCancel),this.windowListeners.add(kn.ContextMenu,Y1),this.documentListeners.add(kn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(J1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(X1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(kn.Click,D7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(kn.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(n=kh(e))!=null?n:lr,d=Nh(s,l);if(!r&&a){if(X1(a)){if(a.tolerance!=null&&im(d,a.tolerance))return this.handleCancel();if(im(d,a.distance))return this.handleStart()}if(J1(a)&&im(d,a.tolerance))return this.handleCancel();this.handlePending(a,d);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Pe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const O7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class A0 extends I0{constructor(e){const{event:n}=e,r=Ya(n.target);super(e,O7,r)}}A0.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const M7={move:{name:"mousemove"},end:{name:"mouseup"}};var Ug;(function(t){t[t.RightClick=2]="RightClick"})(Ug||(Ug={}));class L7 extends I0{constructor(e){super(e,M7,Ya(e.event.target))}}L7.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Ug.RightClick?!1:(r==null||r({event:n}),!0)}}];const om={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class V7 extends I0{constructor(e){super(e,om)}static setup(){return window.addEventListener(om.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(om.move.name,e)};function e(){}}}V7.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Yl;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Yl||(Yl={}));var Ph;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ph||(Ph={}));function F7(t){let{acceleration:e,activator:n=Yl.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=Ph.TreeOrder,pointerCoordinates:l,scrollableAncestors:d,scrollableAncestorRects:h,delta:f,threshold:m}=t;const y=U7({delta:f,disabled:!i}),[T,v]=YU(),E=p.useRef({x:0,y:0}),_=p.useRef({x:0,y:0}),w=p.useMemo(()=>{switch(n){case Yl.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Yl.DraggableRect:return s}},[n,s,l]),S=p.useRef(null),k=p.useCallback(()=>{const D=S.current;if(!D)return;const b=E.current.x*_.current.x,C=E.current.y*_.current.y;D.scrollBy(b,C)},[]),O=p.useMemo(()=>a===Ph.TreeOrder?[...d].reverse():d,[a,d]);p.useEffect(()=>{if(!i||!d.length||!w){v();return}for(const D of O){if((r==null?void 0:r(D))===!1)continue;const b=d.indexOf(D),C=h[b];if(!C)continue;const{direction:I,speed:N}=I7(D,C,w,e,m);for(const P of["x","y"])y[P][I[P]]||(N[P]=0,I[P]=0);if(N.x>0||N.y>0){v(),S.current=D,T(k,o),E.current=N,_.current=I;return}}E.current={x:0,y:0},_.current={x:0,y:0},v()},[e,k,r,v,i,o,JSON.stringify(w),JSON.stringify(y),T,d,O,h,JSON.stringify(m)])}const z7={x:{[St.Backward]:!1,[St.Forward]:!1},y:{[St.Backward]:!1,[St.Forward]:!1}};function U7(t){let{delta:e,disabled:n}=t;const r=Ah(e);return nu(s=>{if(n||!r||!s)return z7;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[St.Backward]:s.x[St.Backward]||i.x===-1,[St.Forward]:s.x[St.Forward]||i.x===1},y:{[St.Backward]:s.y[St.Backward]||i.y===-1,[St.Forward]:s.y[St.Forward]||i.y===1}}},[n,e,r])}function $7(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return nu(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function B7(t,e){return p.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...i]},[]),[t,e])}var Rc;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Rc||(Rc={}));var $g;(function(t){t.Optimized="optimized"})($g||($g={}));const Z1=new Map;function H7(t,e){let{dragging:n,dependencies:r,config:s}=e;const[i,o]=p.useState(null),{frequency:a,measure:l,strategy:d}=s,h=p.useRef(t),f=E(),m=kc(f),y=p.useCallback(function(_){_===void 0&&(_=[]),!m.current&&o(w=>w===null?_:w.concat(_.filter(S=>!w.includes(S))))},[m]),T=p.useRef(null),v=nu(_=>{if(f&&!n)return Z1;if(!_||_===Z1||h.current!==t||i!=null){const w=new Map;for(let S of t){if(!S)continue;if(i&&i.length>0&&!i.includes(S.id)&&S.rect.current){w.set(S.id,S.rect.current);continue}const k=S.node.current,O=k?new T0(l(k),k):null;S.rect.current=O,O&&w.set(S.id,O)}return w}return _},[t,i,n,f,l]);return p.useEffect(()=>{h.current=t},[t]),p.useEffect(()=>{f||y()},[n,f]),p.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),p.useEffect(()=>{f||typeof a!="number"||T.current!==null||(T.current=setTimeout(()=>{y(),T.current=null},a))},[a,f,y,...r]),{droppableRects:v,measureDroppableContainers:y,measuringScheduled:i!=null};function E(){switch(d){case Rc.Always:return!1;case Rc.BeforeDragging:return n;default:return!n}}}function N0(t,e){return nu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function W7(t,e){return N0(t,e)}function q7(t){let{callback:e,disabled:n}=t;const r=Mf(e),s=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return p.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Vf(t){let{callback:e,disabled:n}=t;const r=Mf(e),s=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return p.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function G7(t){return new T0(Xa(t),t)}function eE(t,e,n){e===void 0&&(e=G7);const[r,s]=p.useState(null);function i(){s(l=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=l??n)!=null?d:null}const h=e(t);return JSON.stringify(l)===JSON.stringify(h)?l:h})}const o=q7({callback(l){if(t)for(const d of l){const{type:h,target:f}=d;if(h==="childList"&&f instanceof HTMLElement&&f.contains(t)){i();break}}}}),a=Vf({callback:i});return ar(()=>{i(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),r}function K7(t){const e=N0(t);return vk(t,e)}const tE=[];function Q7(t){const e=p.useRef(t),n=nu(r=>t?r&&r!==tE&&t&&e.current&&t.parentNode===e.current.parentNode?r:b0(t):tE,[t]);return p.useEffect(()=>{e.current=t},[t]),n}function Y7(t){const[e,n]=p.useState(null),r=p.useRef(t),s=p.useCallback(i=>{const o=sm(i.target);o&&n(a=>a?(a.set(o,zg(o)),new Map(a)):null)},[]);return p.useEffect(()=>{const i=r.current;if(t!==i){o(i);const a=t.map(l=>{const d=sm(l);return d?(d.addEventListener("scroll",s,{passive:!0}),[d,zg(d)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(i)};function o(a){a.forEach(l=>{const d=sm(l);d==null||d.removeEventListener("scroll",s)})}},[s,t]),p.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>ea(i,o),lr):Tk(t):lr,[t,e])}function nE(t,e){e===void 0&&(e=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},e),p.useEffect(()=>{const r=t!==lr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Nh(t,n.current):lr}function X7(t){p.useEffect(()=>{if(!Of)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function J7(t,e){return p.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,e)},n},{}),[t,e])}function Ak(t){return p.useMemo(()=>t?S7(t):null,[t])}const rE=[];function Z7(t,e){e===void 0&&(e=Xa);const[n]=t,r=Ak(n?en(n):null),[s,i]=p.useState(rE);function o(){i(()=>t.length?t.map(l=>Sk(l)?r:new T0(e(l),l)):rE)}const a=Vf({callback:o});return ar(()=>{a==null||a.disconnect(),o(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),s}function Nk(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return tu(e)?e:t}function e8(t){let{measure:e}=t;const[n,r]=p.useState(null),s=p.useCallback(d=>{for(const{target:h}of d)if(tu(h)){r(f=>{const m=e(h);return f?{...f,width:m.width,height:m.height}:m});break}},[e]),i=Vf({callback:s}),o=p.useCallback(d=>{const h=Nk(d);i==null||i.disconnect(),h&&(i==null||i.observe(h)),r(h?e(h):null)},[e,i]),[a,l]=Ih(o);return p.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const t8=[{sensor:A0,options:{}},{sensor:C0,options:{}}],n8={current:{}},Nd={draggable:{measure:Q1},droppable:{measure:Q1,strategy:Rc.WhileDragging,frequency:$g.Optimized},dragOverlay:{measure:Xa}};class Xl extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const r8={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Xl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Rh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Nd,measureDroppableContainers:Rh,windowRect:null,measuringScheduled:!1},kk={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Rh,draggableNodes:new Map,over:null,measureDroppableContainers:Rh},su=p.createContext(kk),Rk=p.createContext(r8);function s8(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Xl}}}function i8(t,e){switch(e.type){case ft.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ft.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case ft.DragEnd:case ft.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ft.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new Xl(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case ft.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new Xl(t.droppable.containers);return o.set(n,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case ft.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const i=new Xl(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function o8(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=p.useContext(su),i=Ah(r),o=Ah(n==null?void 0:n.id);return p.useEffect(()=>{if(!e&&!r&&i&&o!=null){if(!Lf(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:d}=a;if(!l.current&&!d.current)return;requestAnimationFrame(()=>{for(const h of[l.current,d.current]){if(!h)continue;const f=ZU(h);if(f){f.focus();break}}})}},[r,e,s,o,i]),null}function Pk(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...r}),n):n}function a8(t){return p.useMemo(()=>({draggable:{...Nd.draggable,...t==null?void 0:t.draggable},droppable:{...Nd.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Nd.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function l8(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const i=p.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;ar(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const h=n(d),f=vk(h,r);if(o||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=xk(d);m&&m.scrollBy({top:f.y,left:f.x})}},[e,o,a,r,n])}const Ff=p.createContext({...lr,scaleX:1,scaleY:1});var Ss;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ss||(Ss={}));const c8=p.memo(function(e){var n,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:d,sensors:h=t8,collisionDetection:f=y7,measuring:m,modifiers:y,...T}=e;const v=p.useReducer(i8,void 0,s8),[E,_]=v,[w,S]=i7(),[k,O]=p.useState(Ss.Uninitialized),D=k===Ss.Initialized,{draggable:{active:b,nodes:C,translate:I},droppable:{containers:N}}=E,P=b!=null?C.get(b):null,j=p.useRef({initial:null,translated:null}),R=p.useMemo(()=>{var ke;return b!=null?{id:b,data:(ke=P==null?void 0:P.data)!=null?ke:n8,rect:j}:null},[b,P]),B=p.useRef(null),[ie,z]=p.useState(null),[K,M]=p.useState(null),L=kc(T,Object.values(T)),U=ru("DndDescribedBy",o),Q=p.useMemo(()=>N.getEnabled(),[N]),q=a8(m),{droppableRects:re,measureDroppableContainers:ee,measuringScheduled:ue}=H7(Q,{dragging:D,dependencies:[I.x,I.y],config:q.droppable}),le=$7(C,b),W=p.useMemo(()=>K?kh(K):null,[K]),se=du(),ye=W7(le,q.draggable.measure);l8({activeNode:b!=null?C.get(b):null,config:se.layoutShiftCompensation,initialRect:ye,measure:q.draggable.measure});const ne=eE(le,q.draggable.measure,ye),fe=eE(le?le.parentElement:null),ve=p.useRef({activatorEvent:null,active:null,activeNode:le,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),qe=N.getNodeFor((n=ve.current.over)==null?void 0:n.id),Qe=e8({measure:q.dragOverlay.measure}),tn=(r=Qe.nodeRef.current)!=null?r:le,Ot=D?(s=Qe.rect)!=null?s:ne:null,In=!!(Qe.nodeRef.current&&Qe.rect),gi=K7(In?null:ne),ze=Ak(tn?en(tn):null),Ge=Q7(D?qe??le:null),jr=Z7(Ge),fo=Pk(y,{transform:{x:I.x-gi.x,y:I.y-gi.y,scaleX:1,scaleY:1},activatorEvent:K,active:R,activeNodeRect:ne,containerNodeRect:fe,draggingNodeRect:Ot,over:ve.current.over,overlayNodeRect:Qe.rect,scrollableAncestors:Ge,scrollableAncestorRects:jr,windowRect:ze}),Za=W?ea(W,I):null,ou=Y7(Ge),yi=nE(ou),au=nE(ou,[ne]),Or=ea(fo,yi),ur=Ot?x7(Ot,fo):null,vi=R&&ur?f({active:R,collisionRect:ur,droppableRects:re,droppableContainers:Q,pointerCoordinates:Za}):null,lu=p7(vi,"id"),[Un,el]=p.useState(null),wi=In?fo:ea(fo,au),tl=v7(wi,(i=Un==null?void 0:Un.rect)!=null?i:null,ne),xi=p.useRef(null),dr=p.useCallback((ke,Mt)=>{let{sensor:ct,options:nn}=Mt;if(B.current==null)return;const rn=C.get(B.current);if(!rn)return;const Gt=ke.nativeEvent,At=new ct({active:B.current,activeNode:rn,event:Gt,options:nn,context:ve,onAbort(ut){if(!C.get(ut))return;const{onDragAbort:mn}=L.current,An={id:ut};mn==null||mn(An),w({type:"onDragAbort",event:An})},onPending(ut,pn,mn,An){if(!C.get(ut))return;const{onDragPending:$n}=L.current,hr={id:ut,constraint:pn,initialCoordinates:mn,offset:An};$n==null||$n(hr),w({type:"onDragPending",event:hr})},onStart(ut){const pn=B.current;if(pn==null)return;const mn=C.get(pn);if(!mn)return;const{onDragStart:An}=L.current,Mr={activatorEvent:Gt,active:{id:pn,data:mn.data,rect:j}};Mn.unstable_batchedUpdates(()=>{An==null||An(Mr),O(Ss.Initializing),_({type:ft.DragStart,initialCoordinates:ut,active:pn}),w({type:"onDragStart",event:Mr}),z(xi.current),M(Gt)})},onMove(ut){_({type:ft.DragMove,coordinates:ut})},onEnd:cs(ft.DragEnd),onCancel:cs(ft.DragCancel)});xi.current=At;function cs(ut){return async function(){const{active:mn,collisions:An,over:Mr,scrollAdjustedTranslate:$n}=ve.current;let hr=null;if(mn&&$n){const{cancelDrop:sn}=L.current;hr={activatorEvent:Gt,active:mn,collisions:An,delta:$n,over:Mr},ut===ft.DragEnd&&typeof sn=="function"&&await Promise.resolve(sn(hr))&&(ut=ft.DragCancel)}B.current=null,Mn.unstable_batchedUpdates(()=>{_({type:ut}),O(Ss.Uninitialized),el(null),z(null),M(null),xi.current=null;const sn=ut===ft.DragEnd?"onDragEnd":"onDragCancel";if(hr){const po=L.current[sn];po==null||po(hr),w({type:sn,event:hr})}})}}},[C]),cu=p.useCallback((ke,Mt)=>(ct,nn)=>{const rn=ct.nativeEvent,Gt=C.get(nn);if(B.current!==null||!Gt||rn.dndKit||rn.defaultPrevented)return;const At={active:Gt};ke(ct,Mt.options,At)===!0&&(rn.dndKit={capturedBy:Mt.sensor},B.current=nn,dr(ct,Mt))},[C,dr]),_i=B7(h,cu);X7(h),ar(()=>{ne&&k===Ss.Initializing&&O(Ss.Initialized)},[ne,k]),p.useEffect(()=>{const{onDragMove:ke}=L.current,{active:Mt,activatorEvent:ct,collisions:nn,over:rn}=ve.current;if(!Mt||!ct)return;const Gt={active:Mt,activatorEvent:ct,collisions:nn,delta:{x:Or.x,y:Or.y},over:rn};Mn.unstable_batchedUpdates(()=>{ke==null||ke(Gt),w({type:"onDragMove",event:Gt})})},[Or.x,Or.y]),p.useEffect(()=>{const{active:ke,activatorEvent:Mt,collisions:ct,droppableContainers:nn,scrollAdjustedTranslate:rn}=ve.current;if(!ke||B.current==null||!Mt||!rn)return;const{onDragOver:Gt}=L.current,At=nn.get(lu),cs=At&&At.rect.current?{id:At.id,rect:At.rect.current,data:At.data,disabled:At.disabled}:null,ut={active:ke,activatorEvent:Mt,collisions:ct,delta:{x:rn.x,y:rn.y},over:cs};Mn.unstable_batchedUpdates(()=>{el(cs),Gt==null||Gt(ut),w({type:"onDragOver",event:ut})})},[lu]),ar(()=>{ve.current={activatorEvent:K,active:R,activeNode:le,collisionRect:ur,collisions:vi,droppableRects:re,draggableNodes:C,draggingNode:tn,draggingNodeRect:Ot,droppableContainers:N,over:Un,scrollableAncestors:Ge,scrollAdjustedTranslate:Or},j.current={initial:Ot,translated:ur}},[R,le,vi,ur,C,tn,Ot,re,N,Un,Ge,Or]),F7({...se,delta:I,draggingRect:ur,pointerCoordinates:Za,scrollableAncestors:Ge,scrollableAncestorRects:jr});const uu=p.useMemo(()=>({active:R,activeNode:le,activeNodeRect:ne,activatorEvent:K,collisions:vi,containerNodeRect:fe,dragOverlay:Qe,draggableNodes:C,droppableContainers:N,droppableRects:re,over:Un,measureDroppableContainers:ee,scrollableAncestors:Ge,scrollableAncestorRects:jr,measuringConfiguration:q,measuringScheduled:ue,windowRect:ze}),[R,le,ne,K,vi,fe,Qe,C,N,re,Un,ee,Ge,jr,q,ue,ze]),Ei=p.useMemo(()=>({activatorEvent:K,activators:_i,active:R,activeNodeRect:ne,ariaDescribedById:{draggable:U},dispatch:_,draggableNodes:C,over:Un,measureDroppableContainers:ee}),[K,_i,R,ne,_,U,C,Un,ee]);return Se.createElement(yk.Provider,{value:S},Se.createElement(su.Provider,{value:Ei},Se.createElement(Rk.Provider,{value:uu},Se.createElement(Ff.Provider,{value:tl},d)),Se.createElement(o8,{disabled:(a==null?void 0:a.restoreFocus)===!1})),Se.createElement(l7,{...a,hiddenTextDescribedById:U}));function du(){const ke=(ie==null?void 0:ie.autoScrollEnabled)===!1,Mt=typeof l=="object"?l.enabled===!1:l===!1,ct=D&&!ke&&!Mt;return typeof l=="object"?{...l,enabled:ct}:{enabled:ct}}}),u8=p.createContext(null),sE="button",d8="Draggable";function h8(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const i=ru(d8),{activators:o,activatorEvent:a,active:l,activeNodeRect:d,ariaDescribedById:h,draggableNodes:f,over:m}=p.useContext(su),{role:y=sE,roleDescription:T="draggable",tabIndex:v=0}=s??{},E=(l==null?void 0:l.id)===e,_=p.useContext(E?Ff:u8),[w,S]=Ih(),[k,O]=Ih(),D=J7(o,e),b=kc(n);ar(()=>(f.set(e,{id:e,key:i,node:w,activatorNode:k,data:b}),()=>{const I=f.get(e);I&&I.key===i&&f.delete(e)}),[f,e]);const C=p.useMemo(()=>({role:y,tabIndex:v,"aria-disabled":r,"aria-pressed":E&&y===sE?!0:void 0,"aria-roledescription":T,"aria-describedby":h.draggable}),[r,y,v,E,T,h.draggable]);return{active:l,activatorEvent:a,activeNodeRect:d,attributes:C,isDragging:E,listeners:r?void 0:D,node:w,over:m,setNodeRef:S,setActivatorNodeRef:O,transform:_}}function Dk(){return p.useContext(Rk)}const f8="Droppable",p8={timeout:25};function jk(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const i=ru(f8),{active:o,dispatch:a,over:l,measureDroppableContainers:d}=p.useContext(su),h=p.useRef({disabled:n}),f=p.useRef(!1),m=p.useRef(null),y=p.useRef(null),{disabled:T,updateMeasurementsFor:v,timeout:E}={...p8,...s},_=kc(v??r),w=p.useCallback(()=>{if(!f.current){f.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{d(Array.isArray(_.current)?_.current:[_.current]),y.current=null},E)},[E]),S=Vf({callback:w,disabled:T||!o}),k=p.useCallback((C,I)=>{S&&(I&&(S.unobserve(I),f.current=!1),C&&S.observe(C))},[S]),[O,D]=Ih(k),b=kc(e);return p.useEffect(()=>{!S||!O.current||(S.disconnect(),f.current=!1,S.observe(O.current))},[O,S]),p.useEffect(()=>(a({type:ft.RegisterDroppable,element:{id:r,key:i,disabled:n,node:O,rect:m,data:b}}),()=>a({type:ft.UnregisterDroppable,key:i,id:r})),[r]),p.useEffect(()=>{n!==h.current.disabled&&(a({type:ft.SetDroppableDisabled,id:r,key:i,disabled:n}),h.current.disabled=n)},[r,i,n,a]),{active:o,rect:m,isOver:(l==null?void 0:l.id)===r,node:O,over:l,setNodeRef:D}}function m8(t){let{animation:e,children:n}=t;const[r,s]=p.useState(null),[i,o]=p.useState(null),a=Ah(n);return!n&&!r&&a&&s(a),ar(()=>{if(!i)return;const l=r==null?void 0:r.key,d=r==null?void 0:r.props.id;if(l==null||d==null){s(null);return}Promise.resolve(e(d,i)).then(()=>{s(null)})},[e,r,i]),Se.createElement(Se.Fragment,null,n,r?p.cloneElement(r,{ref:o}):null)}const g8={x:0,y:0,scaleX:1,scaleY:1};function y8(t){let{children:e}=t;return Se.createElement(su.Provider,{value:kk},Se.createElement(Ff.Provider,{value:g8},e))}const v8={position:"fixed",touchAction:"none"},w8=t=>Lf(t)?"transform 250ms ease":void 0,x8=p.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:s,children:i,className:o,rect:a,style:l,transform:d,transition:h=w8}=t;if(!a)return null;const f=s?d:{...d,scaleX:1,scaleY:1},m={...v8,width:a.width,height:a.height,top:a.top,left:a.left,transform:ci.Transform.toString(f),transformOrigin:s&&r?d7(r,a):void 0,transition:typeof h=="function"?h(r):h,...l};return Se.createElement(n,{className:o,style:m,ref:e},i)}),_8=t=>e=>{let{active:n,dragOverlay:r}=e;const s={},{styles:i,className:o}=t;if(i!=null&&i.active)for(const[a,l]of Object.entries(i.active))l!==void 0&&(s[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(i!=null&&i.dragOverlay)for(const[a,l]of Object.entries(i.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[l,d]of Object.entries(s))n.node.style.setProperty(l,d);o!=null&&o.active&&n.node.classList.remove(o.active)}},E8=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:ci.Transform.toString(e)},{transform:ci.Transform.toString(n)}]},S8={duration:250,easing:"ease",keyframes:E8,sideEffects:_8({styles:{active:{opacity:"0"}}})};function b8(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=t;return Mf((i,o)=>{if(e===null)return;const a=n.get(i);if(!a)return;const l=a.node.current;if(!l)return;const d=Nk(o);if(!d)return;const{transform:h}=en(o).getComputedStyle(o),f=wk(h);if(!f)return;const m=typeof e=="function"?e:T8(e);return Ck(l,s.draggable.measure),m({active:{id:i,data:a.data,node:l,rect:s.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:o,rect:s.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:s,transform:f})})}function T8(t){const{duration:e,easing:n,sideEffects:r,keyframes:s}={...S8,...t};return i=>{let{active:o,dragOverlay:a,transform:l,...d}=i;if(!e)return;const h={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},f={scaleX:l.scaleX!==1?o.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?o.rect.height*l.scaleY/a.rect.height:1},m={x:l.x-h.x,y:l.y-h.y,...f},y=s({...d,active:o,dragOverlay:a,transform:{initial:l,final:m}}),[T]=y,v=y[y.length-1];if(JSON.stringify(T)===JSON.stringify(v))return;const E=r==null?void 0:r({active:o,dragOverlay:a,...d}),_=a.node.animate(y,{duration:e,easing:n,fill:"forwards"});return new Promise(w=>{_.onfinish=()=>{E==null||E(),w()}})}}let iE=0;function C8(t){return p.useMemo(()=>{if(t!=null)return iE++,iE},[t])}const I8=Se.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:s,transition:i,modifiers:o,wrapperElement:a="div",className:l,zIndex:d=999}=t;const{activatorEvent:h,active:f,activeNodeRect:m,containerNodeRect:y,draggableNodes:T,droppableContainers:v,dragOverlay:E,over:_,measuringConfiguration:w,scrollableAncestors:S,scrollableAncestorRects:k,windowRect:O}=Dk(),D=p.useContext(Ff),b=C8(f==null?void 0:f.id),C=Pk(o,{activatorEvent:h,active:f,activeNodeRect:m,containerNodeRect:y,draggingNodeRect:E.rect,over:_,overlayNodeRect:E.rect,scrollableAncestors:S,scrollableAncestorRects:k,transform:D,windowRect:O}),I=N0(m),N=b8({config:r,draggableNodes:T,droppableContainers:v,measuringConfiguration:w}),P=I?E.setRef:void 0;return Se.createElement(y8,null,Se.createElement(m8,{animation:N},f&&b?Se.createElement(x8,{key:b,id:f.id,ref:P,as:a,activatorEvent:h,adjustScale:e,className:l,transition:i,rect:I,style:{zIndex:d,...s},transform:C},n):null))});function Ok(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function A8(t,e){return t.reduce((n,r,s)=>{const i=e.get(r);return i&&(n[s]=i),n},Array(t.length))}function Zu(t){return t!==null&&t>=0}function N8(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function k8(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Mk=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const i=Ok(e,r,n),o=e[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},ed={scaleX:1,scaleY:1},R8=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:i,overIndex:o}=t;const a=(e=i[n])!=null?e:r;if(!a)return null;if(s===n){const d=i[o];return d?{x:0,y:n<o?d.top+d.height-(a.top+a.height):d.top-a.top,...ed}:null}const l=P8(i,s,n);return s>n&&s<=o?{x:0,y:-a.height-l,...ed}:s<n&&s>=o?{x:0,y:a.height+l,...ed}:{x:0,y:0,...ed}};function P8(t,e,n){const r=t[e],s=t[e-1],i=t[e+1];return r?n<e?s?r.top-(s.top+s.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const Lk="Sortable",Vk=Se.createContext({activeIndex:-1,containerId:Lk,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Mk,disabled:{draggable:!1,droppable:!1}});function D8(t){let{children:e,id:n,items:r,strategy:s=Mk,disabled:i=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:d,measureDroppableContainers:h}=Dk(),f=ru(Lk,n),m=a.rect!==null,y=p.useMemo(()=>r.map(D=>typeof D=="object"&&"id"in D?D.id:D),[r]),T=o!=null,v=o?y.indexOf(o.id):-1,E=d?y.indexOf(d.id):-1,_=p.useRef(y),w=!N8(y,_.current),S=E!==-1&&v===-1||w,k=k8(i);ar(()=>{w&&T&&h(y)},[w,y,T,h]),p.useEffect(()=>{_.current=y},[y]);const O=p.useMemo(()=>({activeIndex:v,containerId:f,disabled:k,disableTransforms:S,items:y,overIndex:E,useDragOverlay:m,sortedRects:A8(y,l),strategy:s}),[v,f,k.draggable,k.droppable,S,y,E,l,m,s]);return Se.createElement(Vk.Provider,{value:O},e)}const j8=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return Ok(n,r,s).indexOf(e)},O8=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:l,transition:d}=t;return!d||!r||a!==i&&s===o?!1:n?!0:o!==s&&e===l},M8={duration:200,easing:"ease"},Fk="transform",L8=ci.Transition.toString({property:Fk,duration:0,easing:"linear"}),V8={roleDescription:"sortable"};function F8(t){let{disabled:e,index:n,node:r,rect:s}=t;const[i,o]=p.useState(null),a=p.useRef(n);return ar(()=>{if(!e&&n!==a.current&&r.current){const l=s.current;if(l){const d=Xa(r.current,{ignoreTransform:!0}),h={x:l.left-d.left,y:l.top-d.top,scaleX:l.width/d.width,scaleY:l.height/d.height};(h.x||h.y)&&o(h)}}n!==a.current&&(a.current=n)},[e,n,r,s]),p.useEffect(()=>{i&&o(null)},[i]),i}function z8(t){let{animateLayoutChanges:e=O8,attributes:n,disabled:r,data:s,getNewIndex:i=j8,id:o,strategy:a,resizeObserverConfig:l,transition:d=M8}=t;const{items:h,containerId:f,activeIndex:m,disabled:y,disableTransforms:T,sortedRects:v,overIndex:E,useDragOverlay:_,strategy:w}=p.useContext(Vk),S=U8(r,y),k=h.indexOf(o),O=p.useMemo(()=>({sortable:{containerId:f,index:k,items:h},...s}),[f,s,k,h]),D=p.useMemo(()=>h.slice(h.indexOf(o)),[h,o]),{rect:b,node:C,isOver:I,setNodeRef:N}=jk({id:o,data:O,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...l}}),{active:P,activatorEvent:j,activeNodeRect:R,attributes:B,setNodeRef:ie,listeners:z,isDragging:K,over:M,setActivatorNodeRef:L,transform:U}=h8({id:o,data:O,attributes:{...V8,...n},disabled:S.draggable}),Q=QU(N,ie),q=!!P,re=q&&!T&&Zu(m)&&Zu(E),ee=!_&&K,ue=ee&&re?U:null,W=re?ue??(a??w)({rects:v,activeNodeRect:R,activeIndex:m,overIndex:E,index:k}):null,se=Zu(m)&&Zu(E)?i({id:o,items:h,activeIndex:m,overIndex:E}):k,ye=P==null?void 0:P.id,ne=p.useRef({activeId:ye,items:h,newIndex:se,containerId:f}),fe=h!==ne.current.items,ve=e({active:P,containerId:f,isDragging:K,isSorting:q,id:o,index:k,items:h,newIndex:ne.current.newIndex,previousItems:ne.current.items,previousContainerId:ne.current.containerId,transition:d,wasDragging:ne.current.activeId!=null}),qe=F8({disabled:!ve,index:k,node:C,rect:b});return p.useEffect(()=>{q&&ne.current.newIndex!==se&&(ne.current.newIndex=se),f!==ne.current.containerId&&(ne.current.containerId=f),h!==ne.current.items&&(ne.current.items=h)},[q,se,f,h]),p.useEffect(()=>{if(ye===ne.current.activeId)return;if(ye!=null&&ne.current.activeId==null){ne.current.activeId=ye;return}const tn=setTimeout(()=>{ne.current.activeId=ye},50);return()=>clearTimeout(tn)},[ye]),{active:P,activeIndex:m,attributes:B,data:O,rect:b,index:k,newIndex:se,items:h,isOver:I,isSorting:q,isDragging:K,listeners:z,node:C,overIndex:E,over:M,setNodeRef:Q,setActivatorNodeRef:L,setDroppableNodeRef:N,setDraggableNodeRef:ie,transform:qe??W,transition:Qe()};function Qe(){if(qe||fe&&ne.current.newIndex===k)return L8;if(!(ee&&!Lf(j)||!d)&&(q||ve))return ci.Transition.toString({...d,property:Fk})}}function U8(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}Pe.Down,Pe.Right,Pe.Up,Pe.Left;const $8=$c("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function ta({className:t,variant:e,...n}){return u.jsx("div",{className:J($8({variant:e}),t),...n})}function He({className:t,...e}){return u.jsx("div",{className:J("animate-pulse rounded-md bg-muted",t),...e})}const pt=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:J("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));pt.displayName="Card";const Pt=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:J("flex flex-col space-y-1.5 p-6",t),...e}));Pt.displayName="CardHeader";const an=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:J("text-2xl font-semibold leading-none tracking-tight",t),...e}));an.displayName="CardTitle";const zr=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:J("text-sm text-muted-foreground",t),...e}));zr.displayName="CardDescription";const bt=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:J("p-6 pt-0",t),...e}));bt.displayName="CardContent";const zk=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:J("flex items-center p-6 pt-0",t),...e}));zk.displayName="CardFooter";function Uk(t){if(!t)return"No due date";const e=new Date(t),n=new Date,r=new Date(n);r.setDate(r.getDate()+1);const s=e.toISOString().split("T")[0],i=n.toISOString().split("T")[0],o=r.toISOString().split("T")[0];return s===i?"Today":s===o?"Tomorrow":e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function $k(t){if(!t)return null;const e=new Date(t),n=new Date;return Math.ceil((e.getTime()-n.getTime())/(1e3*60*60*24))}function Bk({assignment:t,onClick:e,hasNotes:n,isDragging:r}){const{attributes:s,listeners:i,setNodeRef:o,transform:a,transition:l,isDragging:d}=z8({id:t.id}),h={transform:ci.Transform.toString(a),transition:l},f=$k(t.dueDate),m=f!==null&&f<=1&&f>=0,y=t.systemStatus==="overdue"||f!==null&&f<0;return u.jsx(pt,{ref:o,style:h,className:J("p-4 cursor-pointer transition-all duration-200 hover-elevate group",(r||d)&&"opacity-50 rotate-1 shadow-lg",y&&"border-destructive/30"),onClick:e,"data-testid":`card-assignment-${t.id}`,children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsx(ta,{variant:"secondary",className:"text-[11px] px-2 py-0.5 rounded-full font-normal truncate max-w-[180px]",children:t.courseName}),u.jsx("div",{...s,...i,className:"opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing",onClick:T=>T.stopPropagation(),children:u.jsx(MO,{className:"h-4 w-4 text-muted-foreground"})})]}),u.jsx("h3",{className:"text-sm font-medium leading-snug line-clamp-2",children:t.title}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[u.jsx(xa,{className:"h-3.5 w-3.5"}),u.jsx("span",{className:J(y&&"text-destructive",m&&!y&&"text-foreground font-medium"),children:Uk(t.dueDate)}),y&&u.jsx(Zs,{className:"h-3.5 w-3.5 text-destructive"}),m&&!y&&u.jsx(jT,{className:"h-3.5 w-3.5 text-foreground"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[t.systemStatus==="graded"&&t.grade!==null&&u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx(_a,{className:"h-3.5 w-3.5 text-muted-foreground"}),u.jsxs("span",{className:"font-mono",children:[t.grade,"/",t.maxPoints]})]}),t.systemStatus==="submitted"&&u.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[u.jsx(_a,{className:"h-3.5 w-3.5"}),u.jsx("span",{children:"Submitted"})]})]}),u.jsx("div",{className:"flex items-center gap-1",children:n&&u.jsx(Ul,{className:"h-3.5 w-3.5 text-muted-foreground"})})]})]})})}function B8({assignment:t,onClick:e}){const n=$k(t.dueDate),r=t.systemStatus==="overdue"||n!==null&&n<0,s=n!==null&&n<=1&&n>=0;return u.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-md border hover-elevate cursor-pointer",onClick:e,"data-testid":`card-assignment-compact-${t.id}`,children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium truncate",children:t.title}),u.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.courseName})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs shrink-0",children:[u.jsx("span",{className:J("text-muted-foreground",r&&"text-destructive",s&&!r&&"font-medium text-foreground"),children:Uk(t.dueDate)}),r&&u.jsx(Zs,{className:"h-3.5 w-3.5 text-destructive"})]})]})}const k0=p.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));k0.displayName="Textarea";var H8="Separator",oE="horizontal",W8=["horizontal","vertical"],Hk=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=oE,...s}=t,i=q8(r)?r:oE,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return u.jsx(Ee.div,{"data-orientation":i,...a,...s,ref:e})});Hk.displayName=H8;function q8(t){return W8.includes(t)}var Wk=Hk;const qr=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>u.jsx(Wk,{ref:s,decorative:n,orientation:e,className:J("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));qr.displayName=Wk.displayName;const G8=PN,K8=DN,qk=p.forwardRef(({className:t,...e},n)=>u.jsx(s0,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));qk.displayName=s0.displayName;const Q8=$c("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Gk=p.forwardRef(({side:t="right",className:e,children:n,...r},s)=>u.jsxs(K8,{children:[u.jsx(qk,{}),u.jsxs(i0,{ref:s,className:J(Q8({side:t}),e),...r,children:[n,u.jsxs(l0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(of,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gk.displayName=i0.displayName;const Kk=({className:t,...e})=>u.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",t),...e});Kk.displayName="SheetHeader";const Qk=p.forwardRef(({className:t,...e},n)=>u.jsx(o0,{ref:n,className:J("text-lg font-semibold text-foreground",t),...e}));Qk.displayName=o0.displayName;const Y8=p.forwardRef(({className:t,...e},n)=>u.jsx(a0,{ref:n,className:J("text-sm text-muted-foreground",t),...e}));Y8.displayName=a0.displayName;function X8(t){return t?new Date(t).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}):"Not set"}function J8(t){return t?` at ${t}`:""}function Z8({assignment:t}){const e=[{id:"created",label:"Created",completed:!0,date:t.createdAt},{id:"submitted",label:"Submitted",completed:!!t.submittedAt,date:t.submittedAt},{id:"graded",label:"Graded",completed:!!t.gradedAt,date:t.gradedAt}];return u.jsxs("div",{className:"space-y-3",children:[u.jsx("h4",{className:"text-sm font-medium",children:"Status Timeline"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-[7px] top-3 bottom-3 w-px bg-border"}),u.jsx("div",{className:"space-y-4",children:e.map((n,r)=>u.jsxs("div",{className:"flex items-start gap-3 relative",children:[u.jsx("div",{className:J("h-4 w-4 rounded-full border-2 shrink-0 mt-0.5",n.completed?"bg-foreground border-foreground":"bg-background border-muted-foreground"),children:n.completed&&u.jsx(_a,{className:"h-3 w-3 text-background absolute top-0.5 left-0.5"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:J("text-sm",n.completed?"font-medium":"text-muted-foreground"),children:n.label}),n.date&&n.completed&&u.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(n.date).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]})]},n.id))})]})]})}function e$({note:t,onUpdate:e,onDelete:n}){const[r,s]=p.useState(!1),[i,o]=p.useState(t.content),a=()=>{e(i,t.isImportant),s(!1)};return u.jsxs("div",{className:"p-3 rounded-md border space-y-2",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[t.isImportant&&u.jsx(Kx,{className:"h-3.5 w-3.5 fill-current text-foreground"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(t.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Re,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>e(t.content,!t.isImportant),"data-testid":`button-toggle-important-${t.id}`,children:u.jsx(Kx,{className:J("h-3.5 w-3.5",t.isImportant&&"fill-current")})}),u.jsx(Re,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>s(!r),"data-testid":`button-edit-note-${t.id}`,children:u.jsx(zO,{className:"h-3.5 w-3.5"})}),u.jsx(Re,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive",onClick:n,"data-testid":`button-delete-note-${t.id}`,children:u.jsx(qO,{className:"h-3.5 w-3.5"})})]})]}),r?u.jsxs("div",{className:"space-y-2",children:[u.jsx(k0,{value:i,onChange:l=>o(l.target.value),className:"min-h-[80px] text-sm","data-testid":`textarea-edit-note-${t.id}`}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(Re,{variant:"ghost",size:"sm",onClick:()=>s(!1),children:"Cancel"}),u.jsxs(Re,{size:"sm",onClick:a,"data-testid":`button-save-note-${t.id}`,children:[u.jsx(FT,{className:"h-3.5 w-3.5 mr-1"}),"Save"]})]})]}):u.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.content})]})}function R0({assignment:t,isOpen:e,onClose:n}){const{getNotesForAssignment:r,addNote:s,updateNote:i,deleteNote:o}=ho(),[a,l]=p.useState(""),[d,h]=p.useState(!1);if(!t)return null;const f=r(t.id),m=t.systemStatus==="overdue",y=()=>{a.trim()&&(s(t.id,a.trim()),l(""),h(!1))};return u.jsx(G8,{open:e,onOpenChange:n,children:u.jsxs(Gk,{className:"w-full sm:max-w-[400px] overflow-y-auto",children:[u.jsx(Kk,{className:"space-y-4",children:u.jsx("div",{className:"flex items-start justify-between gap-4",children:u.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[u.jsx(ta,{variant:"secondary",className:"text-xs mb-2",children:t.courseName}),u.jsx(Qk,{className:"text-lg font-semibold leading-tight",children:t.title})]})})}),u.jsxs("div",{className:"mt-6 space-y-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(xa,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("span",{className:J(m&&"text-destructive"),children:[X8(t.dueDate),J8(t.dueTime)]}),m&&u.jsx(Zs,{className:"h-4 w-4 text-destructive"})]}),t.maxPoints&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Points:"}),t.grade!==null?u.jsxs("span",{className:"font-mono font-medium",children:[t.grade," / ",t.maxPoints]}):u.jsx("span",{className:"font-mono",children:t.maxPoints})]})]}),u.jsx(qr,{}),t.description&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"text-sm font-medium",children:"Description"}),u.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:t.description})]}),u.jsx(qr,{})]}),u.jsx(Z8,{assignment:t}),u.jsx(qr,{}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h4",{className:"text-sm font-medium",children:"Notes"}),!d&&u.jsxs(Re,{variant:"ghost",size:"sm",onClick:()=>h(!0),"data-testid":"button-add-note",children:[u.jsx(UO,{className:"h-3.5 w-3.5 mr-1"}),"Add Note"]})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Notes are private and only visible to you."}),d&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(k0,{value:a,onChange:T=>l(T.target.value),placeholder:"Add a note...",className:"min-h-[100px] text-sm","data-testid":"textarea-new-note"}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(Re,{variant:"ghost",size:"sm",onClick:()=>{h(!1),l("")},children:"Cancel"}),u.jsxs(Re,{size:"sm",onClick:y,disabled:!a.trim(),"data-testid":"button-save-new-note",children:[u.jsx(FT,{className:"h-3.5 w-3.5 mr-1"}),"Save"]})]})]}),f.length>0?u.jsx("div",{className:"space-y-2",children:f.map(T=>u.jsx(e$,{note:T,onUpdate:(v,E)=>i(T.id,v,E),onDelete:()=>o(T.id,t.id)},T.id))}):!d&&u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No notes yet"})]}),t.alternateLink&&u.jsxs(u.Fragment,{children:[u.jsx(qr,{}),u.jsxs(Re,{variant:"outline",className:"w-full",onClick:()=>window.open(t.alternateLink,"_blank"),"data-testid":"button-open-classroom",children:[u.jsx(og,{className:"h-4 w-4 mr-2"}),"Open in Google Classroom"]})]})]})]})})}const aE=["Drag and drop assignments between columns to update their status.","Trace automatically syncs changes with your Google Classroom.","Click on any assignment card to view details and add private notes.","Use the Timeline view to visualize deadlines chronologically.","Keep your 'In Progress' column manageable for better focus.","Assignments marked as 'Done' in Classroom appear in the Completed column."];function t$({id:t,title:e,assignments:n,onCardClick:r,notes:s}){const{isOver:i,setNodeRef:o}=jk({id:t});return u.jsxs("div",{ref:o,className:J("flex flex-col min-w-[280px] w-[280px] h-full",i&&"bg-muted/50"),children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 sticky top-0 bg-background z-10 border-b",children:[u.jsx("h3",{className:"text-sm font-medium",children:e}),u.jsx(ta,{variant:"secondary",className:"text-xs font-mono",children:n.length})]}),u.jsx("div",{className:"flex-1 p-3 space-y-3 overflow-y-auto",children:u.jsx(D8,{items:n.map(a=>a.id),strategy:R8,children:n.length>0?n.map(a=>{var l;return u.jsx(Bk,{assignment:a,onClick:()=>r(a),hasNotes:(((l=s.get(a.id))==null?void 0:l.length)||0)>0},a.id)}):u.jsx("div",{className:"flex items-center justify-center h-24 text-sm text-muted-foreground border border-dashed rounded-md",children:"No assignments"})})})]})}function n$(){return u.jsx("div",{className:"flex gap-4 h-full overflow-x-auto p-6 opacity-40 pointer-events-none select-none filter grayscale",children:[1,2,3,4,5].map(t=>u.jsxs("div",{className:"flex flex-col min-w-[280px] w-[280px]",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[u.jsx(He,{className:"h-5 w-24"}),u.jsx(He,{className:"h-5 w-8"})]}),u.jsx("div",{className:"p-3 space-y-3",children:[1,2,3].map(e=>u.jsx(He,{className:"h-32 w-full"},e))})]},t))})}function r$(){const[t,e]=p.useState(10),[n,r]=p.useState(0);return p.useEffect(()=>{const s=setInterval(()=>{e(o=>{if(o===100)return 100;const a=Math.random()*10;return Math.min(o+a,90)})},500),i=setInterval(()=>{r(o=>(o+1)%aE.length)},2500);return()=>{clearInterval(s),clearInterval(i)}},[]),u.jsxs("div",{className:"relative h-full w-full bg-background overflow-hidden",children:[u.jsx(n$,{}),u.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-background/60 backdrop-blur-[2px]",children:u.jsxs("div",{className:"w-full max-w-md p-6 space-y-6",children:[u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"h-10 w-10 bg-zinc-950 rounded flex items-center justify-center text-white",children:u.jsx(Bc,{className:"h-5 w-5 animate-spin"})}),u.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Syncing Workspace"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"h-1 w-full bg-zinc-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-zinc-950 transition-all duration-500 ease-out",style:{width:`${t}%`}})}),u.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-400 font-mono uppercase tracking-wider",children:[u.jsx("span",{children:"Retrieving Assignments"}),u.jsxs("span",{children:[Math.round(t),"%"]})]})]}),u.jsxs("div",{className:"flex gap-3 items-start bg-white border border-zinc-200 p-4 rounded-md shadow-sm max-w-sm mx-auto animate-in fade-in slide-in-from-bottom-2 duration-700",children:[u.jsx(sf,{className:"h-4 w-4 text-zinc-900 shrink-0 mt-0.5"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("span",{className:"text-xs font-bold text-zinc-900 uppercase tracking-wide",children:"Did you know?"}),u.jsx("p",{className:"text-xs text-zinc-500 leading-relaxed min-h-[40px]",children:aE[n]})]})]})]})})]})}function s$(){var E;const{getPipelineColumns:t,updateAssignmentStatus:e,isLoading:n,isSyncing:r,notes:s,assignments:i,syncClassroom:o}=ho(),[a,l]=p.useState(null),[d,h]=p.useState(null),f=c7(G1(A0,{activationConstraint:{distance:8}}),G1(C0)),m=t(),y=d?i.find(_=>_.id===d):null,T=_=>{h(_.active.id)},v=_=>{const{active:w,over:S}=_;if(h(null),!S)return;const k=w.id,O=S.id;if(["backlog","in_progress","submitted","graded","overdue"].includes(O)){const D=i.find(b=>b.id===k);D&&D.systemStatus!==O&&(O==="in_progress"?e(k,"in_progress"):e(k,"backlog"))}};return n||r?u.jsx(r$,{}):i.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 p-6",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h2",{className:"text-lg font-medium",children:"No assignments yet"}),u.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Sync your Google Classroom to see your assignments organized in a Kanban-style board."})]}),u.jsx("button",{onClick:_=>{_.preventDefault(),o().catch(w=>{console.error("Sync failed:",w)})},className:"px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover-elevate","data-testid":"button-sync-empty",children:"Sync Google Classroom"})]}):u.jsxs(u.Fragment,{children:[u.jsxs(c8,{sensors:f,collisionDetection:m7,onDragStart:T,onDragEnd:v,children:[u.jsx("div",{className:"flex gap-4 h-full overflow-x-auto p-6",children:m.map(_=>u.jsx(t$,{id:_.id,title:_.title,assignments:_.assignments,onCardClick:l,notes:s},_.id))}),u.jsx(I8,{children:y&&u.jsx(Bk,{assignment:y,isDragging:!0,hasNotes:(((E=s.get(y.id))==null?void 0:E.length)||0)>0})})]}),u.jsx(R0,{assignment:a,isOpen:!!a,onClose:()=>l(null)})]})}function lE(t,[e,n]){return Math.min(n,Math.max(e,t))}var i$=p.createContext(void 0);function o$(t){const e=p.useContext(i$);return t||e||"ltr"}function Yk(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var a$=[" ","Enter","ArrowUp","ArrowDown"],l$=[" ","Enter"],iu="Select",[zf,Uf,c$]=iT(iu),[Ja,EB]=os(iu,[c$,uf]),$f=uf(),[u$,pi]=Ja(iu),[d$,h$]=Ja(iu),Xk=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:d,name:h,autoComplete:f,disabled:m,required:y,form:T}=t,v=$f(e),[E,_]=p.useState(null),[w,S]=p.useState(null),[k,O]=p.useState(!1),D=o$(d),[b=!1,C]=wc({prop:r,defaultProp:s,onChange:i}),[I,N]=wc({prop:o,defaultProp:a,onChange:l}),P=p.useRef(null),j=E?T||!!E.closest("form"):!0,[R,B]=p.useState(new Set),ie=Array.from(R).map(z=>z.props.value).join(";");return u.jsx(LL,{...v,children:u.jsxs(u$,{required:y,scope:e,trigger:E,onTriggerChange:_,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:O,contentId:Wo(),value:I,onValueChange:N,open:b,onOpenChange:C,dir:D,triggerPointerDownPosRef:P,disabled:m,children:[u.jsx(zf.Provider,{scope:e,children:u.jsx(d$,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(z=>{B(K=>new Set(K).add(z))},[]),onNativeOptionRemove:p.useCallback(z=>{B(K=>{const M=new Set(K);return M.delete(z),M})},[]),children:n})}),j?u.jsxs(ER,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:I,onChange:z=>N(z.target.value),disabled:m,form:T,children:[I===void 0?u.jsx("option",{value:""}):null,Array.from(R)]},ie):null]})})};Xk.displayName=iu;var Jk="SelectTrigger",Zk=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=$f(n),o=pi(Jk,n),a=o.disabled||r,l=Me(e,o.onTriggerChange),d=Uf(n),h=p.useRef("touch"),[f,m,y]=SR(v=>{const E=d().filter(S=>!S.disabled),_=E.find(S=>S.value===o.value),w=bR(E,v,_);w!==void 0&&o.onValueChange(w.value)}),T=v=>{a||(o.onOpenChange(!0),y()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return u.jsx(wC,{asChild:!0,...i,children:u.jsx(Ee.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":_R(o.value)?"":void 0,...s,ref:l,onClick:ge(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&T(v)}),onPointerDown:ge(s.onPointerDown,v=>{h.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(T(v),v.preventDefault())}),onKeyDown:ge(s.onKeyDown,v=>{const E=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(E&&v.key===" ")&&a$.includes(v.key)&&(T(),v.preventDefault())})})})});Zk.displayName=Jk;var eR="SelectValue",tR=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=pi(eR,n),{onValueNodeHasChildrenChange:d}=l,h=i!==void 0,f=Me(e,l.onValueNodeChange);return wt(()=>{d(h)},[d,h]),u.jsx(Ee.span,{...a,ref:f,style:{pointerEvents:"none"},children:_R(l.value)?u.jsx(u.Fragment,{children:o}):i})});tR.displayName=eR;var f$="SelectIcon",nR=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(Ee.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});nR.displayName=f$;var p$="SelectPortal",rR=t=>u.jsx(tf,{asChild:!0,...t});rR.displayName=p$;var so="SelectContent",sR=p.forwardRef((t,e)=>{const n=pi(so,t.__scopeSelect),[r,s]=p.useState();if(wt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Mn.createPortal(u.jsx(iR,{scope:t.__scopeSelect,children:u.jsx(zf.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(oR,{...t,ref:e})});sR.displayName=so;var Hn=10,[iR,mi]=Ja(so),m$="SelectContentImpl",g$=wa("SelectContent.RemoveScroll"),oR=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:T,hideWhenDetached:v,avoidCollisions:E,..._}=t,w=pi(so,n),[S,k]=p.useState(null),[O,D]=p.useState(null),b=Me(e,W=>k(W)),[C,I]=p.useState(null),[N,P]=p.useState(null),j=Uf(n),[R,B]=p.useState(!1),ie=p.useRef(!1);p.useEffect(()=>{if(S)return pN(S)},[S]),iN();const z=p.useCallback(W=>{const[se,...ye]=j().map(ve=>ve.ref.current),[ne]=ye.slice(-1),fe=document.activeElement;for(const ve of W)if(ve===fe||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===se&&O&&(O.scrollTop=0),ve===ne&&O&&(O.scrollTop=O.scrollHeight),ve==null||ve.focus(),document.activeElement!==fe))return},[j,O]),K=p.useCallback(()=>z([C,S]),[z,C,S]);p.useEffect(()=>{R&&K()},[R,K]);const{onOpenChange:M,triggerPointerDownPosRef:L}=w;p.useEffect(()=>{if(S){let W={x:0,y:0};const se=ne=>{var fe,ve;W={x:Math.abs(Math.round(ne.pageX)-(((fe=L.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((ve=L.current)==null?void 0:ve.y)??0))}},ye=ne=>{W.x<=10&&W.y<=10?ne.preventDefault():S.contains(ne.target)||M(!1),document.removeEventListener("pointermove",se),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",ye,{capture:!0})}}},[S,M,L]),p.useEffect(()=>{const W=()=>M(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[M]);const[U,Q]=SR(W=>{const se=j().filter(fe=>!fe.disabled),ye=se.find(fe=>fe.ref.current===document.activeElement),ne=bR(se,W,ye);ne&&setTimeout(()=>ne.ref.current.focus())}),q=p.useCallback((W,se,ye)=>{const ne=!ie.current&&!ye;(w.value!==void 0&&w.value===se||ne)&&(I(W),ne&&(ie.current=!0))},[w.value]),re=p.useCallback(()=>S==null?void 0:S.focus(),[S]),ee=p.useCallback((W,se,ye)=>{const ne=!ie.current&&!ye;(w.value!==void 0&&w.value===se||ne)&&P(W)},[w.value]),ue=r==="popper"?Bg:aR,le=ue===Bg?{side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:T,hideWhenDetached:v,avoidCollisions:E}:{};return u.jsx(iR,{scope:n,content:S,viewport:O,onViewportChange:D,itemRefCallback:q,selectedItem:C,onItemLeave:re,itemTextRefCallback:ee,focusSelectedItem:K,selectedItemText:N,position:r,isPositioned:R,searchRef:U,children:u.jsx(Zv,{as:g$,allowPinchZoom:!0,children:u.jsx(Jv,{asChild:!0,trapped:w.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:ge(s,W=>{var se;(se=w.trigger)==null||se.focus({preventScroll:!0}),W.preventDefault()}),children:u.jsx(zc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:u.jsx(ue,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:W=>W.preventDefault(),..._,...le,onPlaced:()=>B(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ge(_.onKeyDown,W=>{const se=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!se&&W.key.length===1&&Q(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let ne=j().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(W.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const fe=W.target,ve=ne.indexOf(fe);ne=ne.slice(ve+1)}setTimeout(()=>z(ne)),W.preventDefault()}})})})})})})});oR.displayName=m$;var y$="SelectItemAlignedPosition",aR=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=pi(so,n),o=mi(so,n),[a,l]=p.useState(null),[d,h]=p.useState(null),f=Me(e,b=>h(b)),m=Uf(n),y=p.useRef(!1),T=p.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:_,focusSelectedItem:w}=o,S=p.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&v&&E&&_){const b=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),N=_.getBoundingClientRect();if(i.dir!=="rtl"){const fe=N.left-C.left,ve=I.left-fe,qe=b.left-ve,Qe=b.width+qe,tn=Math.max(Qe,C.width),Ot=window.innerWidth-Hn,In=lE(ve,[Hn,Math.max(Hn,Ot-tn)]);a.style.minWidth=Qe+"px",a.style.left=In+"px"}else{const fe=C.right-N.right,ve=window.innerWidth-I.right-fe,qe=window.innerWidth-b.right-ve,Qe=b.width+qe,tn=Math.max(Qe,C.width),Ot=window.innerWidth-Hn,In=lE(ve,[Hn,Math.max(Hn,Ot-tn)]);a.style.minWidth=Qe+"px",a.style.right=In+"px"}const P=m(),j=window.innerHeight-Hn*2,R=v.scrollHeight,B=window.getComputedStyle(d),ie=parseInt(B.borderTopWidth,10),z=parseInt(B.paddingTop,10),K=parseInt(B.borderBottomWidth,10),M=parseInt(B.paddingBottom,10),L=ie+z+R+M+K,U=Math.min(E.offsetHeight*5,L),Q=window.getComputedStyle(v),q=parseInt(Q.paddingTop,10),re=parseInt(Q.paddingBottom,10),ee=b.top+b.height/2-Hn,ue=j-ee,le=E.offsetHeight/2,W=E.offsetTop+le,se=ie+z+W,ye=L-se;if(se<=ee){const fe=P.length>0&&E===P[P.length-1].ref.current;a.style.bottom="0px";const ve=d.clientHeight-v.offsetTop-v.offsetHeight,qe=Math.max(ue,le+(fe?re:0)+ve+K),Qe=se+qe;a.style.height=Qe+"px"}else{const fe=P.length>0&&E===P[0].ref.current;a.style.top="0px";const qe=Math.max(ee,ie+v.offsetTop+(fe?q:0)+le)+ye;a.style.height=qe+"px",v.scrollTop=se-ee+v.offsetTop}a.style.margin=`${Hn}px 0`,a.style.minHeight=U+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,a,d,v,E,_,i.dir,r]);wt(()=>S(),[S]);const[k,O]=p.useState();wt(()=>{d&&O(window.getComputedStyle(d).zIndex)},[d]);const D=p.useCallback(b=>{b&&T.current===!0&&(S(),w==null||w(),T.current=!1)},[S,w]);return u.jsx(w$,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:D,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:u.jsx(Ee.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});aR.displayName=y$;var v$="SelectPopperPosition",Bg=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Hn,...i}=t,o=$f(n);return u.jsx(xC,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bg.displayName=v$;var[w$,P0]=Ja(so,{}),Hg="SelectViewport",lR=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=mi(Hg,n),o=P0(Hg,n),a=Me(e,i.onViewportChange),l=p.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(zf.Slot,{scope:n,children:u.jsx(Ee.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ge(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const y=Math.abs(l.current-h.scrollTop);if(y>0){const T=window.innerHeight-Hn*2,v=parseFloat(f.style.minHeight),E=parseFloat(f.style.height),_=Math.max(v,E);if(_<T){const w=_+y,S=Math.min(T,w),k=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});lR.displayName=Hg;var cR="SelectGroup",[x$,_$]=Ja(cR),E$=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Wo();return u.jsx(x$,{scope:n,id:s,children:u.jsx(Ee.div,{role:"group","aria-labelledby":s,...r,ref:e})})});E$.displayName=cR;var uR="SelectLabel",dR=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_$(uR,n);return u.jsx(Ee.div,{id:s.id,...r,ref:e})});dR.displayName=uR;var Dh="SelectItem",[S$,hR]=Ja(Dh),fR=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=pi(Dh,n),l=mi(Dh,n),d=a.value===r,[h,f]=p.useState(i??""),[m,y]=p.useState(!1),T=Me(e,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,s)}),v=Wo(),E=p.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(S$,{scope:n,value:r,disabled:s,textId:v,isSelected:d,onItemTextChange:p.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:u.jsx(zf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:u.jsx(Ee.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:ge(o.onFocus,()=>y(!0)),onBlur:ge(o.onBlur,()=>y(!1)),onClick:ge(o.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:ge(o.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:ge(o.onPointerDown,w=>{E.current=w.pointerType}),onPointerMove:ge(o.onPointerMove,w=>{var S;E.current=w.pointerType,s?(S=l.onItemLeave)==null||S.call(l):E.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:ge(o.onKeyDown,w=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&w.key===" "||(l$.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})})})})});fR.displayName=Dh;var kl="SelectItemText",pR=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=pi(kl,n),a=mi(kl,n),l=hR(kl,n),d=h$(kl,n),[h,f]=p.useState(null),m=Me(e,_=>f(_),l.onItemTextChange,_=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,_,l.value,l.disabled)}),y=h==null?void 0:h.textContent,T=p.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:y},l.value),[l.disabled,l.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=d;return wt(()=>(v(T),()=>E(T)),[v,E,T]),u.jsxs(u.Fragment,{children:[u.jsx(Ee.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mn.createPortal(i.children,o.valueNode):null]})});pR.displayName=kl;var mR="SelectItemIndicator",gR=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return hR(mR,n).isSelected?u.jsx(Ee.span,{"aria-hidden":!0,...r,ref:e}):null});gR.displayName=mR;var Wg="SelectScrollUpButton",yR=p.forwardRef((t,e)=>{const n=mi(Wg,t.__scopeSelect),r=P0(Wg,t.__scopeSelect),[s,i]=p.useState(!1),o=Me(e,r.onScrollButtonChange);return wt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(wR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});yR.displayName=Wg;var qg="SelectScrollDownButton",vR=p.forwardRef((t,e)=>{const n=mi(qg,t.__scopeSelect),r=P0(qg,t.__scopeSelect),[s,i]=p.useState(!1),o=Me(e,r.onScrollButtonChange);return wt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<d;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(wR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});vR.displayName=qg;var wR=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=mi("SelectScrollButton",n),o=p.useRef(null),a=Uf(n),l=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),wt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),u.jsx(Ee.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ge(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ge(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ge(s.onPointerLeave,()=>{l()})})}),b$="SelectSeparator",xR=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Ee.div,{"aria-hidden":!0,...r,ref:e})});xR.displayName=b$;var Gg="SelectArrow",T$=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$f(n),i=pi(Gg,n),o=mi(Gg,n);return i.open&&o.position==="popper"?u.jsx(_C,{...s,...r,ref:e}):null});T$.displayName=Gg;function _R(t){return t===""||t===void 0}var ER=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=p.useRef(null),i=Me(e,s),o=Yk(n);return p.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(f)}},[o,n]),u.jsx(Uc,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});ER.displayName="BubbleSelect";function SR(t){const e=fn(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const a=n.current+o;e(a),function l(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function bR(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=C$(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const l=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function C$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var I$=Xk,TR=Zk,A$=tR,N$=nR,k$=rR,CR=sR,R$=lR,IR=dR,AR=fR,P$=pR,D$=gR,NR=yR,kR=vR,RR=xR;const Kg=I$,Qg=A$,jh=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(TR,{ref:r,className:J("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(N$,{asChild:!0,children:u.jsx(DT,{className:"h-4 w-4 opacity-50"})})]}));jh.displayName=TR.displayName;const PR=p.forwardRef(({className:t,...e},n)=>u.jsx(NR,{ref:n,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(OO,{className:"h-4 w-4"})}));PR.displayName=NR.displayName;const DR=p.forwardRef(({className:t,...e},n)=>u.jsx(kR,{ref:n,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(DT,{className:"h-4 w-4"})}));DR.displayName=kR.displayName;const Oh=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(k$,{children:u.jsxs(CR,{ref:s,className:J("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(PR,{}),u.jsx(R$,{className:J("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(DR,{})]})}));Oh.displayName=CR.displayName;const j$=p.forwardRef(({className:t,...e},n)=>u.jsx(IR,{ref:n,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));j$.displayName=IR.displayName;const Rt=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(AR,{ref:r,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(D$,{children:u.jsx(ig,{className:"h-4 w-4"})})}),u.jsx(P$,{children:e})]}));Rt.displayName=AR.displayName;const O$=p.forwardRef(({className:t,...e},n)=>u.jsx(RR,{ref:n,className:J("-mx-1 my-1 h-px bg-muted",t),...e}));O$.displayName=RR.displayName;const cE=["Hold 'Right Click' and drag to navigate the timeline quickly.","Switch to Calendar view to see the full monthly schedule.","Use the filters at the top to focus on specific courses.","The 'Today' button in Calendar view jumps you to the current date.","Timeline bars are color-coded based on assignment status.","Hover over an assignment card to see more details."];function M$(){return u.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(He,{className:"h-10 w-40"}),u.jsx(He,{className:"h-10 w-40"})]}),[1,2,3].map(t=>u.jsxs("div",{className:"space-y-3",children:[u.jsx(He,{className:"h-6 w-32"}),u.jsx("div",{className:"space-y-2",children:[1,2].map(e=>u.jsx(He,{className:"h-16 w-full"},e))})]},t))]})}function L$(){const[t,e]=p.useState(10),[n,r]=p.useState(0);return p.useEffect(()=>{const s=setInterval(()=>{e(o=>{if(o===100)return 100;const a=Math.random()*10;return Math.min(o+a,90)})},500),i=setInterval(()=>{r(o=>(o+1)%cE.length)},2500);return()=>{clearInterval(s),clearInterval(i)}},[]),u.jsxs("div",{className:"relative h-full w-full bg-background overflow-hidden",children:[u.jsx("div",{className:"h-full w-full p-6 opacity-40 pointer-events-none select-none filter grayscale",children:u.jsx(M$,{})}),u.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-background/60 backdrop-blur-[2px]",children:u.jsxs("div",{className:"w-full max-w-md p-6 space-y-6",children:[u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"h-10 w-10 bg-zinc-950 rounded flex items-center justify-center text-white",children:u.jsx(Bc,{className:"h-5 w-5 animate-spin"})}),u.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Building Timeline"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"h-1 w-full bg-zinc-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-zinc-950 transition-all duration-500 ease-out",style:{width:`${t}%`}})}),u.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-400 font-mono uppercase tracking-wider",children:[u.jsx("span",{children:"Mapping Schedule"}),u.jsxs("span",{children:[Math.round(t),"%"]})]})]}),u.jsxs("div",{className:"flex gap-3 items-start bg-white border border-zinc-200 p-4 rounded-md shadow-sm max-w-sm mx-auto animate-in fade-in slide-in-from-bottom-2 duration-700",children:[u.jsx(sf,{className:"h-4 w-4 text-zinc-900 shrink-0 mt-0.5"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("span",{className:"text-xs font-bold text-zinc-900 uppercase tracking-wide",children:"Navigation Tip"}),u.jsx("p",{className:"text-xs text-zinc-500 leading-relaxed min-h-[40px]",children:cE[n]})]})]})]})})]})}const td={backlog:{label:"Backlog",color:"bg-slate-100",border:"border-slate-200",timelineStyle:"bg-slate-100 border-slate-300 text-slate-700"},in_progress:{label:"In Progress",color:"bg-blue-50 text-blue-700",border:"border-blue-100",timelineStyle:"bg-blue-100 border-blue-300 text-blue-800"},submitted:{label:"Submitted",color:"bg-purple-50 text-purple-700",border:"border-purple-100",timelineStyle:"bg-purple-100 border-purple-300 text-purple-800"},graded:{label:"Graded",color:"bg-emerald-50 text-emerald-700",border:"border-emerald-100",timelineStyle:"bg-emerald-100 border-emerald-300 text-emerald-800"},overdue:{label:"Overdue",color:"bg-red-50 text-red-700",border:"border-red-100",timelineStyle:"bg-red-100 border-red-300 text-red-800"}},V$=(t,e)=>{const n=[],r=new Date(t);for(;r<=e;)n.push(new Date(r)),r.setDate(r.getDate()+1);return n},F$=(t,e)=>{const n=[],r=new Date(t);r.setDate(1),r.setHours(0,0,0,0);const s=new Date(e);for(s.setDate(1),s.setHours(0,0,0,0);r<=s;)n.push(new Date(r)),r.setMonth(r.getMonth()+1);return n},am=t=>`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`,uE=t=>{const e=new Date;return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()};function z$(){const{getTimelineGroups:t,courses:e,isLoading:n,isSyncing:r,assignments:s,syncClassroom:i}=ho(),{user:o}=fi(),[a,l]=p.useState(null),[d,h]=p.useState(null),[f,m]=p.useState(null),[y,T]=p.useState("timeline"),[v,E]=p.useState([]);p.useEffect(()=>{if(o)try{const D=`trace_email_events_${o.uid}`,C=JSON.parse(localStorage.getItem(D)||"[]").map(I=>({id:I.id,uniqueId:I.id,userId:o.uid,courseId:"system",courseName:"System",classroomId:"system",title:I.title,description:I.body,dueDate:I.timestamp,dueTime:null,maxPoints:null,systemStatus:"submitted",userStatus:null,submissionId:null,submittedAt:null,gradedAt:null,grade:null,alternateLink:null,createdAt:I.timestamp,lastSyncedAt:I.timestamp}));E(C)}catch{}},[o]);const _=p.useMemo(()=>{let D=[...s,...v];return a&&(D=D.filter(b=>b.courseId===a)),d&&(D=D.filter(b=>b.systemStatus===d)),D},[s,v,a,d]),w=()=>{l(null),h(null)},S=a||d;if(n||r)return u.jsx(L$,{});if(s.length===0)return u.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 p-6",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx(xa,{className:"h-12 w-12 mx-auto text-muted-foreground"}),u.jsx("h2",{className:"text-lg font-medium",children:"No assignments yet"}),u.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Sync your Google Classroom to see your assignments organized by date."})]}),u.jsx("button",{onClick:D=>{D.preventDefault(),i().catch(b=>{console.error("Sync failed:",b)})},className:"px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover-elevate","data-testid":"button-sync-empty-timeline",children:"Sync Google Classroom"})]});const k=()=>{const D=p.useRef(null),[b,C]=p.useState(!1),I=p.useRef({x:0,left:0}),N=60,{earliestDate:P,latestDate:j,initialScrollPosition:R}=p.useMemo(()=>{const L=new Date;L.setHours(0,0,0,0);let U=new Date,Q=new Date;if(_.length>0){const le=_.filter(W=>W.dueDate).map(W=>new Date(W.dueDate));le.length>0&&(U=new Date(Math.min(...le.map(W=>W.getTime()))),Q=new Date(Math.max(...le.map(W=>W.getTime()))))}const q=new Date(U);q.setDate(q.getDate()-30);const re=new Date(Q);re.setDate(re.getDate()+30);const ue=Math.ceil((L.getTime()-q.getTime())/(1e3*3600*24))*N+N/2-window.innerWidth/2;return{earliestDate:q,latestDate:re,initialScrollPosition:Math.max(0,ue)}},[_]),B=p.useMemo(()=>V$(P,j),[P,j]);p.useEffect(()=>{D.current&&(D.current.scrollLeft=R)},[R]);const ie=L=>{L.button===2&&D.current&&(L.preventDefault(),C(!0),I.current={x:L.pageX,left:D.current.scrollLeft})},z=p.useCallback(L=>{if(!b||!D.current)return;L.preventDefault();const Q=(L.pageX-I.current.x)*1.5;D.current.scrollLeft=I.current.left-Q},[b]),K=p.useCallback(()=>{C(!1)},[]);p.useEffect(()=>(b?(window.addEventListener("mousemove",z),window.addEventListener("mouseup",K)):(window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",K)),()=>{window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",K)}),[b,z,K]);const M=L=>{if(!L)return{left:"0px",width:"0px"};const U=new Date(L);return U.setHours(0,0,0,0),{left:`${(U.getTime()-P.getTime())/(1e3*3600*24)*N}px`,width:`${N}px`}};return u.jsxs("div",{className:"flex-1 overflow-hidden relative flex flex-col h-full bg-background",children:[u.jsx("div",{ref:D,className:J("flex-1 overflow-auto relative select-none",b?"cursor-grabbing":"cursor-default"),onMouseDown:ie,onContextMenu:L=>L.preventDefault(),children:u.jsxs("div",{className:"min-w-max pb-20 relative",style:{width:`${B.length*N}px`},children:[u.jsx("div",{className:"flex sticky top-0 bg-background/95 backdrop-blur-sm z-40 border-b shadow-sm h-16",children:B.map((L,U)=>{const Q=uE(L);return u.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center justify-end pb-3 relative",style:{width:N},children:[u.jsx("span",{className:J("text-[10px] uppercase font-bold tracking-wider mb-1",Q?"text-blue-600":"text-muted-foreground"),children:L.toLocaleDateString("en-US",{weekday:"narrow"})}),u.jsx("span",{className:J("text-sm font-bold w-8 h-8 flex items-center justify-center rounded-full transition-all",Q?"bg-blue-600 text-white shadow-md z-10 scale-110":"text-foreground"),children:L.getDate()}),u.jsx("div",{className:"absolute right-0 top-2 bottom-2 w-[1px] bg-border/50"})]},U)})}),u.jsxs("div",{className:"relative pt-6 min-h-[500px]",children:[u.jsx("div",{className:"absolute inset-0 flex pointer-events-none h-full z-0",children:B.map((L,U)=>{const Q=uE(L);return u.jsx("div",{className:J("flex-shrink-0 h-full border-r border-border/40 relative",Q?"bg-blue-50/10":""),style:{width:N},children:Q&&u.jsx("div",{className:"absolute top-0 bottom-0 left-1/2 w-[2px] bg-blue-600 -translate-x-1/2 z-20 shadow-[0_0_10px_rgba(37,99,235,0.2)]"})},U)})}),u.jsx("div",{className:"space-y-3 px-0 relative z-10 mt-2",children:_.filter(L=>L.dueDate).map(L=>{const U=M(L.dueDate),Q=td[L.systemStatus]||td.backlog;return u.jsx("div",{className:"relative h-14 group",children:u.jsxs("div",{onClick:()=>m(L),className:J("absolute top-0 h-12 rounded-lg border shadow-sm transition-all cursor-pointer flex flex-col justify-center px-3 overflow-hidden group hover:scale-[1.01] z-10 hover:z-30 hover:shadow-md",Q.timelineStyle),style:{left:U.left,width:U.width,minWidth:"140px"},children:[u.jsx("div",{className:"flex items-center justify-between gap-2 mb-0.5",children:u.jsxs("span",{className:"truncate text-xs font-bold leading-none flex items-center gap-1",children:[L.courseId==="system"&&u.jsx(MT,{className:"h-3 w-3 inline-block"}),L.title]})}),u.jsx("div",{className:"flex items-center justify-between opacity-80",children:u.jsx("span",{className:"text-[10px] font-semibold truncate max-w-[80px]",children:L.courseName})})]})},L.id)})})]})]})}),u.jsxs("div",{className:"flex-none p-2 border-t bg-background/70 backdrop-blur-sm flex items-center justify-center text-xs text-muted-foreground font-medium z-30 relative",children:[u.jsx(Gx,{size:14,className:"mr-2"}),"Tip: Hold"," ",u.jsx("kbd",{className:"mx-1 px-1 py-0.5 rounded-md bg-muted border text-foreground font-bold text-[10px]",children:"Right Click"})," ","to drag timeline"]})]})},O=()=>{const D=p.useRef(null),[b,C]=p.useState(!1),I=p.useRef({y:0,top:0}),N=p.useRef({}),[P,j]=p.useState(!1),{startMonth:R,endMonth:B}=p.useMemo(()=>{let q=new Date,re=new Date;if(_.length>0){const le=_.filter(W=>W.dueDate).map(W=>new Date(W.dueDate));le.length>0&&(q=new Date(Math.min(...le.map(W=>W.getTime()))),re=new Date(Math.max(...le.map(W=>W.getTime()))))}const ee=new Date(q);ee.setMonth(ee.getMonth()-2),ee.setDate(1);const ue=new Date(re);return ue.setMonth(ue.getMonth()+4),ue.setDate(1),{startMonth:ee,endMonth:ue}},[_]),ie=p.useMemo(()=>F$(R,B),[R,B]),z=p.useCallback(()=>{var le;const q=am(new Date),re=N.current[q];if(!re){j(!0);return}const ee=re.getBoundingClientRect(),ue=(le=D.current)==null?void 0:le.getBoundingClientRect();ue&&j(ee.bottom<ue.top||ee.top>ue.bottom)},[ie]);p.useEffect(()=>{const q=D.current;return q&&(q.addEventListener("scroll",z),z()),()=>q==null?void 0:q.removeEventListener("scroll",z)},[z]),p.useEffect(()=>{setTimeout(()=>K(),100)},[]);const K=()=>{const q=am(new Date),re=N.current[q];re&&re.scrollIntoView({behavior:"smooth",block:"center"})},M=q=>{q.button===2&&D.current&&(q.preventDefault(),C(!0),I.current={y:q.pageY,top:D.current.scrollTop})},L=p.useCallback(q=>{if(!b||!D.current)return;q.preventDefault();const ee=(q.pageY-I.current.y)*1.5;D.current.scrollTop=I.current.top-ee},[b]),U=p.useCallback(()=>{C(!1)},[]);p.useEffect(()=>(b?(window.addEventListener("mousemove",L),window.addEventListener("mouseup",U)):(window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",U)),()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",U)}),[b,L,U]);const Q=q=>{const re=q.getFullYear(),ee=q.getMonth(),ue=new Date(re,ee,1),le=new Date(re,ee+1,0),W=[];for(let se=0;se<ue.getDay();se++)W.push({date:new Date(re,ee,-ue.getDay()+1+se),isCurrentMonth:!1});for(let se=1;se<=le.getDate();se++)W.push({date:new Date(re,ee,se),isCurrentMonth:!0});for(;W.length%7!==0;){const se=W.length-(ue.getDay()+le.getDate())+1,ye=new Date(re,ee+1,se);W.push({date:ye,isCurrentMonth:!1})}return W};return u.jsxs("div",{className:"flex flex-col h-full bg-background relative",children:[P&&u.jsx("div",{className:"absolute top-4 right-6 z-20 animate-in fade-in zoom-in duration-300",children:u.jsxs("button",{onClick:K,className:"flex items-center gap-2 text-xs font-bold px-4 py-2 bg-primary text-primary-foreground rounded-full shadow-lg hover:opacity-90 transition-all hover:scale-105",children:[u.jsx(NO,{size:14})," Jump to Today"]})}),u.jsx("div",{ref:D,className:J("flex-1 overflow-y-auto",b?"cursor-grabbing":"cursor-default"),onMouseDown:M,onContextMenu:q=>q.preventDefault(),children:u.jsx("div",{className:"flex flex-col gap-8 p-6 pb-20 max-w-6xl mx-auto",children:ie.map(q=>{const re=Q(q),ee=am(q);return u.jsxs("div",{ref:ue=>N.current[ee]=ue,className:"bg-card rounded-xl shadow-sm border overflow-hidden scroll-mt-6",children:[u.jsx("div",{className:"px-6 py-4 border-b bg-muted/50 flex justify-between items-center",children:u.jsx("h3",{className:"text-lg font-bold",children:q.toLocaleDateString("en-US",{month:"long",year:"numeric"})})}),u.jsx("div",{className:"grid grid-cols-7 border-b bg-muted/30",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(ue=>u.jsx("div",{className:"py-2 text-center text-[10px] font-bold text-muted-foreground uppercase tracking-wide",children:ue},ue))}),u.jsx("div",{className:"grid grid-cols-7 auto-rows-fr",children:re.map((ue,le)=>{const W=_.filter(ye=>{if(!ye.dueDate)return!1;const ne=new Date(ye.dueDate);ne.setHours(0,0,0,0);const fe=new Date(ue.date);return fe.setHours(0,0,0,0),fe.toDateString()===ne.toDateString()}),se=ue.date.toDateString()===new Date().toDateString();return u.jsxs("div",{className:J("min-h-[100px] border-b border-r p-1.5 flex flex-col gap-1 transition-colors",ue.isCurrentMonth?"bg-card":"bg-muted/30 text-muted-foreground"),children:[u.jsx("span",{className:J("text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full mb-1",se?"bg-primary text-primary-foreground shadow-sm":"text-foreground"),children:ue.date.getDate()}),u.jsx("div",{className:"flex-1 flex flex-col gap-1.5",children:W.map(ye=>{const ne=td[ye.systemStatus]||td.backlog;return u.jsx("div",{onClick:fe=>{fe.stopPropagation(),m(ye)},className:J("text-[10px] px-2 py-1 rounded-md border cursor-pointer truncate shadow-sm hover:scale-[1.02] transition-transform font-medium",ne.color,ne.border),title:ye.title,children:ye.title},ye.id)})})]},le)})})]},ee)})})}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-background/90 backdrop-blur-md border-t flex items-center justify-center text-xs text-muted-foreground font-medium z-10",children:[u.jsx(Gx,{size:14,className:"mr-2"}),"Tip: Hold"," ",u.jsx("kbd",{className:"mx-1 px-1 py-0.5 rounded-md bg-muted border text-foreground font-bold text-[10px]",children:"Right Click"})," ","to drag vertically"]})]})};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] overflow-hidden",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3 sticky top-0 bg-background py-3 z-10 border-b px-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Re,{variant:y==="timeline"?"default":"ghost",size:"sm",onClick:()=>T("timeline"),className:"gap-2",children:[u.jsx(xa,{size:14}),"Timeline"]}),u.jsxs(Re,{variant:y==="calendar"?"default":"ghost",size:"sm",onClick:()=>T("calendar"),className:"gap-2",children:[u.jsx(kO,{size:14}),"Calendar"]})]}),u.jsxs(Kg,{value:a||"all",onValueChange:D=>l(D==="all"?null:D),children:[u.jsx(jh,{className:"w-[180px]","data-testid":"select-course-filter",children:u.jsx(Qg,{placeholder:"All Courses"})}),u.jsxs(Oh,{children:[u.jsx(Rt,{value:"all",children:"All Courses"}),e.map(D=>u.jsx(Rt,{value:D.id,children:D.name},D.id))]})]}),u.jsxs(Kg,{value:d||"all",onValueChange:D=>h(D==="all"?null:D),children:[u.jsx(jh,{className:"w-[140px]","data-testid":"select-status-filter",children:u.jsx(Qg,{placeholder:"All Status"})}),u.jsxs(Oh,{children:[u.jsx(Rt,{value:"all",children:"All Status"}),u.jsx(Rt,{value:"backlog",children:"Backlog"}),u.jsx(Rt,{value:"in_progress",children:"In Progress"}),u.jsx(Rt,{value:"submitted",children:"Submitted"}),u.jsx(Rt,{value:"graded",children:"Graded"}),u.jsx(Rt,{value:"overdue",children:"Overdue"})]})]}),S&&u.jsxs(Re,{variant:"ghost",size:"sm",onClick:w,className:"text-muted-foreground","data-testid":"button-clear-filters",children:[u.jsx(of,{className:"h-3.5 w-3.5 mr-1"}),"Clear filters"]})]}),u.jsx("div",{className:"flex-1 overflow-hidden",children:y==="timeline"?u.jsx(k,{}):u.jsx(O,{})})]}),u.jsx(R0,{assignment:f,isOpen:!!f,onClose:()=>m(null)})]})}const dE=["Check the 'Weekly Workload' graph to balance your study schedule.","Assignments due in less than 3 days appear in the warning card.","The 'Next Actions' list prioritizes your most urgent tasks.","Syncing automatically refreshes assignment status from Google Classroom.","Click on any assignment in the list to view full details.","Overdue items are highlighted in red to grab your attention."];function nd({title:t,value:e,icon:n,variant:r="default"}){return u.jsxs(pt,{"data-testid":`card-metric-${t.toLowerCase().replace(/\s+/g,"-")}`,children:[u.jsxs(Pt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[u.jsx(an,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:t}),u.jsx(n,{className:J("h-5 w-5",r==="default"&&"text-muted-foreground",r==="warning"&&"text-foreground",r==="danger"&&"text-destructive")})]}),u.jsx(bt,{children:u.jsx("div",{className:J("text-3xl font-semibold font-mono tracking-tight",r==="danger"&&"text-destructive"),children:e})})]})}function U$({data:t}){const e=Math.max(...t.map(n=>n.count),1);return u.jsxs(pt,{children:[u.jsx(Pt,{className:"pb-2",children:u.jsx(an,{className:"text-sm font-medium",children:"Weekly Workload"})}),u.jsx(bt,{children:u.jsx("div",{className:"flex items-end justify-between gap-2 h-32",children:t.map((n,r)=>u.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[u.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:n.count>0?n.count:""}),u.jsx("div",{className:J("w-full rounded-t-sm transition-all",n.isToday?"bg-foreground":"bg-muted",n.count===0&&"min-h-[4px]"),style:{height:n.count>0?`${n.count/e*80}px`:"4px"}}),u.jsx("span",{className:J("text-xs",n.isToday?"font-medium":"text-muted-foreground"),children:n.day})]},r))})})]})}function $$({courses:t}){const{user:e,accessToken:n}=fi(),[r,s]=p.useState(null),[i,o]=p.useState(!1),[a,l]=p.useState(null);return p.useEffect(()=>{async function d(){if(!e||!n||t.length===0){t.length===0&&l("No courses found");return}const h=t[0].classroomId,f=`activity_rank_v2_${h}_${e.uid}`;try{const m=localStorage.getItem(f);if(m){const y=JSON.parse(m);if(Date.now()-y.timestamp<1e3*60*60){s(y.data);return}}}catch{}o(!0),l(null);try{const m=`https://classroom.googleapis.com/v1/courses/${h}/students`,y=await Bi(n,m,D=>D.students||[],D=>D.nextPageToken),T=`https://classroom.googleapis.com/v1/courses/${h}/courseWork?courseWorkStates=PUBLISHED`,v=await Bi(n,T,D=>D.courseWork||[],D=>D.nextPageToken),E=new Map;y.forEach(D=>E.set(D.userId,0));for(const D of v)try{const b=`https://classroom.googleapis.com/v1/courses/${h}/courseWork/${D.id}/studentSubmissions`;(await Bi(n,b,I=>I.studentSubmissions||[],I=>I.nextPageToken)).forEach(I=>{if(I.state==="TURNED_IN"||I.state==="RETURNED"){const N=E.get(I.userId)||0;E.set(I.userId,N+1)}})}catch{}const _=E.get(e.uid)||0;let w=1,S=0;E.forEach(D=>{S++,D>_&&w++});const k=Math.round((S-w+1)/S*100),O={rank:w,total:S,percentile:k};s(O),localStorage.setItem(f,JSON.stringify({timestamp:Date.now(),data:O}))}catch{l("Not enough activity yet")}finally{o(!1)}}d()},[t,e,n]),a?u.jsxs(pt,{children:[u.jsxs(Pt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[u.jsx(an,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Class Rank"}),u.jsx(Qx,{className:"h-5 w-5 text-muted-foreground"})]}),u.jsx(bt,{children:u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"text-3xl font-semibold font-mono tracking-tight text-muted-foreground",children:"-"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Data unavailable"})]})})]}):u.jsxs(pt,{"data-testid":"card-class-rank",children:[u.jsxs(Pt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[u.jsx(an,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Class Ranking"}),u.jsx(Qx,{className:"h-5 w-5 text-amber-500"})]}),u.jsx(bt,{children:i?u.jsxs("div",{className:"space-y-2",children:[u.jsx(He,{className:"h-8 w-16"}),u.jsx(He,{className:"h-3 w-24"})]}):r?u.jsxs("div",{children:[u.jsxs("div",{className:"text-3xl font-semibold font-mono tracking-tight flex items-baseline gap-2",children:["#",r.rank,u.jsxs("span",{className:"text-base text-muted-foreground font-normal",children:["/ ",r.total]})]}),u.jsxs("div",{className:"mt-1 flex flex-col gap-0.5",children:[u.jsxs("p",{className:"text-xs font-medium bg-gradient-to-r from-amber-500 to-orange-500 bg-clip-text text-transparent",children:["Top ",r.percentile,"% of class"]}),u.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Based on ",r.total===1?"your ":"","submissions"]})]})]}):u.jsx("div",{className:"flex flex-col gap-1",children:u.jsx("span",{className:"text-sm text-muted-foreground",children:"Calculating..."})})})]})}function B$(){return u.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(t=>u.jsxs(pt,{children:[u.jsx(Pt,{className:"pb-2",children:u.jsx(He,{className:"h-4 w-20"})}),u.jsx(bt,{children:u.jsx(He,{className:"h-9 w-12"})})]},t))}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsx(He,{className:"h-48"}),u.jsx(He,{className:"h-48"})]})]})}function H$(){const[t,e]=p.useState(10),[n,r]=p.useState(0);return p.useEffect(()=>{const s=setInterval(()=>{e(o=>{if(o===100)return 100;const a=Math.random()*10;return Math.min(o+a,90)})},500),i=setInterval(()=>{r(o=>(o+1)%dE.length)},2500);return()=>{clearInterval(s),clearInterval(i)}},[]),u.jsxs("div",{className:"relative min-h-[calc(100vh-4rem)] w-full bg-background",children:[u.jsx("div",{className:"opacity-40 pointer-events-none select-none filter grayscale",children:u.jsx(B$,{})}),u.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-background/60 backdrop-blur-[2px]",children:u.jsxs("div",{className:"w-full max-w-md p-6 space-y-6",children:[u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"h-10 w-10 bg-zinc-950 rounded flex items-center justify-center text-white",children:u.jsx(Bc,{className:"h-5 w-5 animate-spin"})}),u.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Analyzing Metrics"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"h-1 w-full bg-zinc-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-zinc-950 transition-all duration-500 ease-out",style:{width:`${t}%`}})}),u.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-400 font-mono uppercase tracking-wider",children:[u.jsx("span",{children:"Calculating Stats"}),u.jsxs("span",{children:[Math.round(t),"%"]})]})]}),u.jsxs("div",{className:"flex gap-3 items-start bg-white border border-zinc-200 p-4 rounded-md shadow-sm max-w-sm mx-auto animate-in fade-in slide-in-from-bottom-2 duration-700",children:[u.jsx(sf,{className:"h-4 w-4 text-zinc-900 shrink-0 mt-0.5"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("span",{className:"text-xs font-bold text-zinc-900 uppercase tracking-wide",children:"Pro Tip"}),u.jsx("p",{className:"text-xs text-zinc-500 leading-relaxed min-h-[40px]",children:dE[n]})]})]})]})})]})}function W$(){const{getDashboardMetrics:t,isLoading:e,isSyncing:n,assignments:r,syncClassroom:s,courses:i}=ho(),[o,a]=p.useState(null),l=t();return e||n?u.jsx(H$,{}):r.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 p-6",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx(GO,{className:"h-12 w-12 mx-auto text-muted-foreground"}),u.jsx("h2",{className:"text-lg font-medium",children:"No data yet"}),u.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Sync your Google Classroom to see your dashboard with metrics and insights."})]}),u.jsx("button",{onClick:d=>{d.preventDefault(),s().catch(h=>{console.error("Sync failed:",h)})},className:"px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover-elevate","data-testid":"button-sync-empty-dashboard",children:"Sync Google Classroom"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[l.upcoming7Days>0&&u.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-lg animate-in slide-in-from-top-2",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/40 rounded-md text-blue-700 dark:text-blue-300",children:u.jsx(Zs,{className:"h-4 w-4"})}),u.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-medium",children:[" ",l.upcoming7Days," assignment",l.upcoming7Days!==1?"s":""," due this week"]})]}),u.jsx(gc,{href:"/settings/notifications",children:u.jsx(Re,{variant:"ghost",size:"sm",className:"text-blue-700 dark:text-blue-300 hover:text-blue-800 hover:bg-blue-100/50 h-8",children:"Enable email reminders"})})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsx(nd,{title:"Due in 3 Days",value:l.upcoming3Days,icon:jT,variant:l.upcoming3Days>3?"warning":"default"}),u.jsx(nd,{title:"Due in 7 Days",value:l.upcoming7Days,icon:xa}),u.jsx(nd,{title:"Overdue",value:l.overdue,icon:Zs,variant:l.overdue>0?"danger":"default"}),u.jsx(nd,{title:"Total Active",value:l.totalActive,icon:_a}),u.jsx($$,{courses:i})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsx(U$,{data:l.weeklyWorkload}),u.jsxs(pt,{children:[u.jsx(Pt,{className:"pb-2",children:u.jsx(an,{className:"text-sm font-medium",children:"Next Actions"})}),u.jsx(bt,{className:"space-y-2",children:l.nextActions.length>0?l.nextActions.map(d=>u.jsx(B8,{assignment:d,onClick:()=>a(d)},d.id)):u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[u.jsx(_a,{className:"h-8 w-8 mb-2"}),u.jsx("p",{className:"text-sm",children:"All caught up!"})]})})]})]})]}),u.jsx(R0,{assignment:o,isOpen:!!o,onClose:()=>a(null)})]})}function q$(){const{courses:t,materials:e,isLoading:n,isSyncing:r,syncClassroom:s}=ho(),[i,o]=p.useState(null),[a,l]=p.useState("grid"),d=y0(),h=t.find(y=>y.id===i),m=e.filter(y=>y.courseId===i).flatMap(y=>y.materials?y.materials.flatMap(T=>{let v=[];return T.driveFile&&v.push({id:T.driveFile.driveFile.id,title:T.driveFile.driveFile.title,link:T.driveFile.driveFile.alternateLink,thumbnail:T.driveFile.driveFile.thumbnailUrl,type:"driveFile"}),v}):[]).filter(y=>y.title&&y.title.toLowerCase().endsWith(".pdf"));return n&&t.length===0?u.jsx(G$,{}):u.jsxs("div",{className:"flex h-full overflow-hidden bg-background",children:[u.jsxs("div",{className:J("w-full md:w-80 border-r bg-muted/20 flex flex-col h-full shrink-0",d&&i?"hidden":"flex"),children:[u.jsx("div",{className:"p-4 border-b flex items-center justify-between bg-white dark:bg-zinc-950",children:u.jsx("h2",{className:"font-semibold text-sm uppercase tracking-wider text-zinc-500",children:"Your Courses"})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:t.map(y=>u.jsxs("button",{onClick:()=>o(y.id),className:J("w-full text-left px-3 py-3 rounded-md transition-all group flex items-center gap-3",i===y.id?"bg-zinc-900 text-white shadow-md dark:bg-white dark:text-zinc-900":"hover:bg-zinc-100 dark:hover:bg-zinc-900 text-muted-foreground hover:text-foreground"),children:[u.jsx("div",{className:J("h-8 w-8 rounded-full flex items-center justify-center shrink-0",i===y.id?"bg-white/20":"bg-zinc-100 dark:bg-zinc-800"),children:u.jsx(qx,{className:J("h-4 w-4",i===y.id?"text-white dark:text-zinc-900":"text-zinc-500")})}),u.jsxs("div",{className:"truncate flex-1",children:[u.jsx("p",{className:"text-sm font-semibold leading-none mb-1 truncate",children:y.name}),u.jsx("p",{className:J("text-[10px] uppercase tracking-wider font-medium",i===y.id?"text-white/70 shadow-sm":"text-zinc-400"),children:y.section||"No Section"})]}),u.jsx(jO,{className:J("h-4 w-4 transition-transform",i===y.id?"translate-x-0":"-translate-x-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-0")})]},y.id))})]}),u.jsxs("div",{className:J("flex-1 overflow-y-auto bg-white dark:bg-zinc-950",d&&!i?"hidden":"flex flex-col"),children:[d&&i&&u.jsx("div",{className:"flex items-center p-4 border-b bg-white dark:bg-zinc-950 sticky top-0 z-10",children:u.jsxs(Re,{variant:"ghost",size:"sm",onClick:()=>o(null),className:"gap-2 pl-2",children:[u.jsx(PT,{className:"h-4 w-4"}),"Back to Courses"]})}),i?u.jsxs("div",{className:"p-4 md:p-8 space-y-6 md:space-y-8 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between border-b pb-6 border-zinc-100 dark:border-zinc-800 gap-4",children:[u.jsxs("div",{className:"space-y-1 max-w-full",children:[u.jsx(ta,{variant:"outline",className:"text-[10px] font-mono tracking-[0.2em] font-bold uppercase py-0 px-2 rounded-sm border-zinc-200",children:"Course Resources"}),u.jsx("h1",{className:"text-lg md:text-xl font-black tracking-tighter uppercase italic break-words leading-tight",children:h==null?void 0:h.name}),u.jsx("p",{className:"text-xs md:text-sm font-medium text-zinc-500 dark:text-zinc-400 line-clamp-2",children:(h==null?void 0:h.descriptionHeading)||"Curated academic materials and notes."})]}),u.jsxs("div",{className:"flex gap-2 shrink-0",children:[u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900 px-3 py-1.5 rounded-md border border-zinc-100 dark:border-zinc-800 flex items-center gap-2",children:[u.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-red-500 animate-pulse shrink-0"}),u.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-widest whitespace-nowrap",children:[m.length," PDF Assets"]})]}),u.jsxs("div",{className:"flex bg-muted rounded-md p-1 border",children:[u.jsx(Re,{variant:"ghost",size:"icon",className:J("h-6 w-6 rounded-sm",a==="grid"&&"bg-background shadow-sm"),onClick:()=>l("grid"),children:u.jsx(OT,{className:"h-4 w-4"})}),u.jsx(Re,{variant:"ghost",size:"icon",className:J("h-6 w-6 rounded-sm",a==="list"&&"bg-background shadow-sm"),onClick:()=>l("list"),children:u.jsx(VO,{className:"h-4 w-4"})})]})]})]}),m.length>0?a==="grid"?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 pb-20",children:m.map((y,T)=>u.jsxs(pt,{className:"group relative overflow-hidden transition-all hover:shadow-2xl hover:-translate-y-1 border-zinc-200 dark:border-zinc-800 rounded-xl bg-white dark:bg-zinc-900 shadow-sm",children:[u.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:u.jsx(Re,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full shadow-lg",asChild:!0,children:u.jsx("a",{href:y.link,target:"_blank",rel:"noopener noreferrer",children:u.jsx(og,{className:"h-4 w-4"})})})}),u.jsx(Pt,{className:"p-0 border-b border-zinc-100 dark:border-zinc-800",children:u.jsxs("div",{className:"aspect-[4/3] bg-zinc-50 dark:bg-zinc-950 flex items-center justify-center overflow-hidden relative group-hover:bg-zinc-100 transition-colors",children:[u.jsx(Ul,{className:"h-16 w-16 text-zinc-200 dark:text-zinc-800 transition-transform group-hover:scale-110 duration-500"}),u.jsxs("div",{className:"absolute bottom-3 left-3 flex gap-1",children:[u.jsx(ta,{className:"bg-red-500 hover:bg-red-600 text-[9px] font-black italic rounded-sm",children:"PDF"}),u.jsx(ta,{variant:"outline",className:"bg-white/80 dark:bg-black/80 backdrop-blur text-[9px] font-black rounded-sm border-zinc-200 dark:border-zinc-700",children:"READONLY"})]})]})}),u.jsxs(bt,{className:"p-5 space-y-4",children:[u.jsx("h4",{className:"font-bold text-sm tracking-tight leading-snug line-clamp-2 min-h-[2.5rem] group-hover:text-primary transition-colors",children:y.title}),u.jsxs("div",{className:"pt-4 flex items-center justify-between border-t border-zinc-5 dark:border-zinc-800/50",children:[u.jsx("span",{className:"text-[10px] font-mono font-bold text-zinc-400 dark:text-zinc-600 uppercase tracking-widest",children:"Secured Asset"}),u.jsx(Re,{size:"sm",variant:"ghost",asChild:!0,className:"h-8 text-[11px] font-black uppercase tracking-tighter hover:bg-zinc-900 hover:text-white dark:hover:bg-white dark:hover:text-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-md",children:u.jsx("a",{href:y.link,target:"_blank",rel:"noopener noreferrer",children:"Open Material"})})]})]})]},`${y.id}-${T}`))}):u.jsx("div",{className:"space-y-2 pb-20",children:m.map((y,T)=>u.jsxs("div",{className:"group flex items-center gap-4 p-4 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[u.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-md bg-zinc-100 dark:bg-zinc-800 text-red-500 shrink-0",children:u.jsx(Ul,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-medium text-sm truncate group-hover:text-primary transition-colors",children:y.title}),u.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"PDF Document  Read Only"})]}),u.jsx(Re,{variant:"ghost",size:"sm",asChild:!0,className:"shrink-0",children:u.jsxs("a",{href:y.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[u.jsx("span",{className:"hidden sm:inline text-xs font-medium",children:"Open"}),u.jsx(og,{className:"h-4 w-4"})]})})]},`${y.id}-${T}`))}):u.jsxs("div",{className:"h-96 flex flex-col items-center justify-center text-center border-4 border-dotted rounded-3xl bg-zinc-50 dark:bg-zinc-900/50 border-zinc-200 dark:border-zinc-800 max-w-2xl mx-auto space-y-4",children:[u.jsx("div",{className:"h-20 w-20 bg-white dark:bg-zinc-900 rounded-full flex items-center justify-center shadow-inner border border-zinc-100 dark:border-zinc-800",children:u.jsx(qx,{className:"h-8 w-8 text-zinc-200 dark:text-zinc-700"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold",children:"No PDF Documents Found"}),u.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-2 max-w-xs mx-auto font-medium",children:"This course has no PDF files uploaded to Classroom yet. Make sure your materials are in .pdf format."})]})]})]}):u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 space-y-6 max-w-md mx-auto",children:[u.jsx("div",{className:"h-24 w-24 bg-zinc-50 dark:bg-zinc-900 rounded-2xl flex items-center justify-center border border-zinc-100 dark:border-zinc-800 shadow-sm",children:u.jsx(Ul,{className:"h-10 w-10 text-zinc-300 dark:text-zinc-700"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-xl font-bold tracking-tight",children:"Select a curriculum"}),u.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed font-medium mt-2",children:"Choose a course from the listing to accessibility your synchronized PDF lecture records and study guides."})]})]})]})]})}function G$(){return u.jsxs("div",{className:"flex h-full overflow-hidden",children:[u.jsxs("div",{className:"w-80 border-r bg-muted/20 p-6 space-y-6",children:[u.jsx(He,{className:"h-6 w-32"}),[1,2,3,4,5].map(t=>u.jsx(He,{className:"h-16 w-full rounded-xl"},t))]}),u.jsxs("div",{className:"flex-1 p-10 space-y-10",children:[u.jsxs("div",{className:"flex justify-between items-end border-b pb-8",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx(He,{className:"h-4 w-20"}),u.jsx(He,{className:"h-10 w-80"}),u.jsx(He,{className:"h-4 w-64"})]}),u.jsx(He,{className:"h-10 w-32 rounded-lg"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3,4,5,6].map(t=>u.jsx(He,{className:"h-64 w-full rounded-2xl"},t))})]})]})}var D0="Switch",[K$,SB]=os(D0),[Q$,Y$]=K$(D0),jR=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:d,form:h,...f}=t,[m,y]=p.useState(null),T=Me(e,S=>y(S)),v=p.useRef(!1),E=m?h||!!m.closest("form"):!0,[_=!1,w]=wc({prop:s,defaultProp:i,onChange:d});return u.jsxs(Q$,{scope:n,checked:_,disabled:a,children:[u.jsx(Ee.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":LR(_),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:T,onClick:ge(t.onClick,S=>{w(k=>!k),E&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),E&&u.jsx(X$,{control:m,bubbles:!v.current,name:r,value:l,checked:_,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});jR.displayName=D0;var OR="SwitchThumb",MR=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=Y$(OR,n);return u.jsx(Ee.span,{"data-state":LR(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});MR.displayName=OR;var X$=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=p.useRef(null),o=Yk(n),a=cC(e);return p.useEffect(()=>{const l=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const m=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(m)}},[o,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function LR(t){return t?"checked":"unchecked"}var VR=jR,J$=MR;const Jl=p.forwardRef(({className:t,...e},n)=>u.jsx(VR,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(J$,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Jl.displayName=VR.displayName;var Z$="Label",FR=p.forwardRef((t,e)=>u.jsx(Ee.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));FR.displayName=Z$;var zR=FR;const eB=$c("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Hi=p.forwardRef(({className:t,...e},n)=>u.jsx(zR,{ref:n,className:J(eB(),t),...e}));Hi.displayName=zR.displayName;function tB(){const[t,e]=p.useState(null),[n,r]=p.useState(!1),[s,i]=p.useState(!1);return p.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}const a=d=>{d.preventDefault(),e(d),r(!0)},l=()=>{i(!0),r(!1),e(null)};return window.addEventListener("beforeinstallprompt",a),window.addEventListener("appinstalled",l),()=>{window.removeEventListener("beforeinstallprompt",a),window.removeEventListener("appinstalled",l)}},[]),{isInstallable:n,isInstalled:s,promptInstall:async()=>{if(!t)return!1;try{await t.prompt();const{outcome:a}=await t.userChoice;return a==="accepted"?(i(!0),r(!1),e(null),!0):!1}catch(a){return console.error("Error showing install prompt:",a),!1}}}}function nB(){return u.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[u.jsxs("div",{children:[u.jsx(He,{className:"h-8 w-32"}),u.jsx(He,{className:"h-4 w-64 mt-2"})]}),[1,2,3,4].map(t=>u.jsxs(pt,{children:[u.jsxs(Pt,{children:[u.jsx(He,{className:"h-5 w-32"}),u.jsx(He,{className:"h-4 w-48 mt-1"})]}),u.jsx(bt,{children:u.jsx(He,{className:"h-20 w-full"})})]},t))]})}const hE=["Customizing your profile makes the experience more personal.","Enable background sync to keep your assignments always up to date.","Dark mode is easier on the eyes during late-night study sessions.","Installing the app gives you valid offline access to your data."];function rB(){const[t,e]=p.useState(10),[n,r]=p.useState(0);return p.useEffect(()=>{const s=setInterval(()=>{e(o=>{if(o===100)return 100;const a=Math.random()*10;return Math.min(o+a,90)})},500),i=setInterval(()=>{r(o=>(o+1)%hE.length)},2500);return()=>{clearInterval(s),clearInterval(i)}},[]),u.jsxs("div",{className:"relative min-h-[calc(100vh-4rem)] w-full bg-background",children:[u.jsx("div",{className:"opacity-40 pointer-events-none select-none filter grayscale",children:u.jsx(nB,{})}),u.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-background/60 backdrop-blur-[2px]",children:u.jsxs("div",{className:"w-full max-w-md p-6 space-y-6",children:[u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("div",{className:"h-10 w-10 bg-zinc-950 rounded flex items-center justify-center text-white",children:u.jsx(Bc,{className:"h-5 w-5 animate-spin"})}),u.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Syncing Settings"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"h-1 w-full bg-zinc-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-zinc-950 transition-all duration-500 ease-out",style:{width:`${t}%`}})}),u.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-400 font-mono uppercase tracking-wider",children:[u.jsx("span",{children:"Updating Preferences"}),u.jsxs("span",{children:[Math.round(t),"%"]})]})]}),u.jsxs("div",{className:"flex gap-3 items-start bg-white border border-zinc-200 p-4 rounded-md shadow-sm max-w-sm mx-auto animate-in fade-in slide-in-from-bottom-2 duration-700",children:[u.jsx(sf,{className:"h-4 w-4 text-zinc-900 shrink-0 mt-0.5"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("span",{className:"text-xs font-bold text-zinc-900 uppercase tracking-wide",children:"Quick Tip"}),u.jsx("p",{className:"text-xs text-zinc-500 leading-relaxed min-h-[40px]",children:hE[n]})]})]})]})})]})}function sB(){var k,O;const{user:t,signOut:e}=fi(),{lastSyncedAt:n,isSyncing:r,syncClassroom:s,isLoading:i}=ho(),{isInstallable:o,isInstalled:a,promptInstall:l}=tB(),{theme:d,setTheme:h}=nN(),[f,m]=p.useState(!0),[y,T]=p.useState("auto"),[v,E]=p.useState(!1);if(i||r)return u.jsx(rB,{});const _=((k=t==null?void 0:t.displayName)==null?void 0:k.split(" ").map(D=>D[0]).join("").toUpperCase())||((O=t==null?void 0:t.email)==null?void 0:O[0].toUpperCase())||"U",w=()=>n?n.toLocaleString():"Never",S=async()=>{E(!0);try{await l()}catch(D){console.error("Install failed:",D)}finally{E(!1)}};return u.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Settings"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your account and preferences"})]}),u.jsxs(pt,{children:[u.jsxs(Pt,{children:[u.jsx(an,{className:"text-base",children:"Connected Account"}),u.jsx(zr,{children:"Your Google account linked to this app"})]}),u.jsxs(bt,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(w0,{className:"h-12 w-12",children:[u.jsx(x0,{src:(t==null?void 0:t.photoURL)||void 0,alt:(t==null?void 0:t.displayName)||"User",referrerPolicy:"no-referrer"}),u.jsx(_0,{children:_})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium truncate",children:t==null?void 0:t.displayName}),u.jsx("p",{className:"text-sm text-muted-foreground truncate",children:t==null?void 0:t.email})]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[u.jsx(ig,{className:"h-3.5 w-3.5"}),"Connected"]})]}),u.jsx(qr,{}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Google Classroom"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last synced: ",w()]})]}),u.jsxs(Re,{variant:"outline",size:"sm",onClick:D=>{D.preventDefault(),s().catch(b=>{console.error("Sync failed:",b)})},disabled:r,"data-testid":"button-sync-settings",children:[u.jsx(VT,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),r?"Syncing...":"Sync Now"]})]})]})]}),u.jsxs(pt,{children:[u.jsxs(Pt,{children:[u.jsx(an,{className:"text-base",children:"Notifications"}),u.jsx(zr,{children:"Manage email alerts and reminders"})]}),u.jsx(bt,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-sm font-medium",children:"Academic Alerts"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about due assignments and missed deadlines"})]}),u.jsx(gc,{href:"/settings/notifications",children:u.jsx(Re,{variant:"secondary",size:"sm",children:"Configure"})})]})})]}),u.jsxs(pt,{children:[u.jsxs(Pt,{children:[u.jsx(an,{className:"text-base",children:"Sync Settings"}),u.jsx(zr,{children:"Configure how your data syncs with Google Classroom"})]}),u.jsx(bt,{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(Hi,{htmlFor:"background-sync",className:"text-sm font-medium",children:"Background Sync"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically refresh assignment data periodically"})]}),u.jsx(Jl,{id:"background-sync",checked:f,onCheckedChange:m,"data-testid":"switch-background-sync"})]})})]}),u.jsxs(pt,{children:[u.jsxs(Pt,{children:[u.jsx(an,{className:"text-base",children:"Theme"}),u.jsx(zr,{children:"Choose your preferred color theme"})]}),u.jsx(bt,{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(Hi,{htmlFor:"theme",className:"text-sm font-medium",children:"Appearance"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Select light or dark mode"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Re,{variant:d==="light"?"default":"outline",size:"sm",onClick:()=>h("light"),className:"flex items-center gap-2",children:[u.jsx(zT,{className:"h-4 w-4"}),"Light"]}),u.jsxs(Re,{variant:d==="dark"?"default":"outline",size:"sm",onClick:()=>h("dark"),className:"flex items-center gap-2",children:[u.jsx(LT,{className:"h-4 w-4"}),"Dark"]})]})]})})]}),u.jsxs(pt,{className:"border-primary/20",children:[u.jsxs(Pt,{children:[u.jsxs(an,{className:"text-base flex items-center gap-2",children:[u.jsx(Wx,{className:"h-4 w-4"}),"Install App"]}),u.jsx(zr,{children:"Install this app on your device for quick access - works on phones and desktops"})]}),u.jsx(bt,{className:"space-y-4",children:a?u.jsxs("div",{className:"flex items-center gap-3 p-4 bg-emerald-50 dark:bg-emerald-950/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[u.jsx(ig,{className:"h-5 w-5 text-emerald-600"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-emerald-900 dark:text-emerald-100",children:"App Installed"}),u.jsx("p",{className:"text-xs text-emerald-700 dark:text-emerald-300",children:"This app is installed on your device. You can access it from your home screen."})]})]}):o?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 rounded-lg border border-primary/20",children:[u.jsx(WO,{className:"h-5 w-5 text-primary"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:"Install Available"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Click the button below to install this app on your device for a better experience."})]})]}),u.jsxs(Re,{onClick:S,disabled:v,className:"w-full",size:"lg","data-testid":"button-install-app",children:[u.jsx(Wx,{className:"h-4 w-4 mr-2"}),v?"Installing...":"Install App"]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"After installation, you can access the app from your home screen or app drawer"})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[u.jsx(UT,{className:"h-5 w-5 text-muted-foreground"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:"Install Not Available"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:typeof window<"u"&&window.matchMedia("(display-mode: standalone)").matches?"This app is already installed.":"Installation prompt will appear when the app meets PWA requirements. Make sure you're using Chrome, Edge, or Safari on a supported device."})]})]}),u.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[u.jsx("p",{className:"text-xs font-medium mb-2",children:"Manual Installation:"}),u.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1 list-disc list-inside",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Chrome/Edge:"})," Click the install icon in the address bar"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"iOS Safari:"})," Tap Share  Add to Home Screen"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Android Chrome:"})," Tap Menu  Install App"]})]})]})]})})]}),u.jsxs(pt,{children:[u.jsxs(Pt,{children:[u.jsx(an,{className:"text-base",children:"Preferences"}),u.jsx(zr,{children:"Customize your experience"})]}),u.jsx(bt,{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(Hi,{htmlFor:"timezone",className:"text-sm font-medium",children:"Time Zone"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for displaying due dates and deadlines"})]}),u.jsxs(Kg,{value:y,onValueChange:T,children:[u.jsx(jh,{className:"w-[180px]","data-testid":"select-timezone",children:u.jsx(Qg,{})}),u.jsxs(Oh,{children:[u.jsx(Rt,{value:"auto",children:"Auto-detect"}),u.jsx(Rt,{value:"America/New_York",children:"Eastern Time"}),u.jsx(Rt,{value:"America/Chicago",children:"Central Time"}),u.jsx(Rt,{value:"America/Denver",children:"Mountain Time"}),u.jsx(Rt,{value:"America/Los_Angeles",children:"Pacific Time"}),u.jsx(Rt,{value:"Europe/London",children:"London"}),u.jsx(Rt,{value:"Europe/Paris",children:"Paris"}),u.jsx(Rt,{value:"Asia/Tokyo",children:"Tokyo"})]})]})]})})]}),u.jsxs(pt,{children:[u.jsxs(Pt,{children:[u.jsxs(an,{className:"text-base flex items-center gap-2",children:[u.jsx(ag,{className:"h-4 w-4"}),"Account Actions"]}),u.jsx(zr,{children:"Manage your session"})]}),u.jsx(bt,{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx("p",{className:"text-sm font-medium",children:"Sign Out"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Sign out of your account on this device"})]}),u.jsxs(ZN,{children:[u.jsx(ek,{asChild:!0,children:u.jsxs(Re,{variant:"outline",size:"sm","data-testid":"button-signout",children:[u.jsx(ag,{className:"h-4 w-4 mr-2"}),"Sign Out"]})}),u.jsxs(u0,{children:[u.jsxs(d0,{children:[u.jsx(f0,{children:"Are you absolutely sure?"}),u.jsx(p0,{children:"This will sign you out of your account. You will need to sign in again to access your data."})]}),u.jsxs(h0,{children:[u.jsx(g0,{children:"Cancel"}),u.jsx(m0,{onClick:e,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})]})]})})]})]})}function iB(){const{user:t,requestGmailPermissions:e,accessToken:n}=fi(),{toast:r}=Ky(),[s,i]=p.useState(!1),[o,a]=p.useState({dueReminder:!0,missedSubmission:!0,workloadWarning:!1}),[l,d]=p.useState(!1),[h,f]=p.useState(!0);p.useEffect(()=>{async function T(){if(t)try{const v=Lg(Vg,"users",t.uid,"settings","notifications"),E=await XA(v);if(E.exists()){const _=E.data();i(_.enabled??!1),a(_.config||{dueReminder:!0,missedSubmission:!0,workloadWarning:!1})}}catch(v){console.error("Failed to load settings from Firestore",v)}finally{f(!1)}}T()},[t]),p.useEffect(()=>{async function T(){if(!(!t||h))try{const E=Lg(Vg,"users",t.uid,"settings","notifications");await JA(E,{enabled:s,config:o,updatedAt:new Date().toISOString()},{merge:!0})}catch(E){console.error("Failed to save settings",E)}}const v=setTimeout(T,1e3);return()=>clearTimeout(v)},[s,o,t,h]);const m=async()=>{d(!0);try{if(await e()){if(i(!0),r({title:"Email alerts enabled",description:"Trace can now send you academic reminders."}),t!=null&&t.uid){const v={id:`email-${Date.now()}`,title:"Assignment due reminder email sent",body:"This is a test alert to confirm your notifications are working.",timestamp:new Date().toISOString(),type:"email"},E=`trace_email_events_${t.uid}`,_=JSON.parse(localStorage.getItem(E)||"[]");localStorage.setItem(E,JSON.stringify([..._,v]))}}else r({title:"Connection failed",description:"Could not connect to Gmail. Please try again.",variant:"destructive"})}catch(T){console.error(T),r({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{d(!1)}},y=T=>{a(v=>({...v,[T]:!v[T]}))};return u.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(gc,{href:"/settings",children:u.jsx(Re,{variant:"ghost",size:"icon",className:"rounded-full",children:u.jsx(PT,{className:"h-5 w-5"})})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage how Trace notifies you about academic activity"})]})]}),u.jsxs(pt,{className:"border-border/60 shadow-sm",children:[u.jsxs(Pt,{className:"pb-4",children:[u.jsxs(an,{className:"flex items-center gap-2 text-lg",children:[u.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-md",children:u.jsx(MT,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"Academic Email Alerts"]}),u.jsxs(zr,{className:"max-w-lg mt-2 leading-relaxed",children:["Trace can send you helpful academic reminders directly to your connected Gmail account (",t==null?void 0:t.email,")."]})]}),u.jsx(qr,{}),u.jsxs(bt,{className:"pt-6 space-y-6",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(Hi,{className:"text-base font-medium",children:"Assignment due reminder"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get an email 24 hours before an assignment is due"})]}),u.jsx(Jl,{checked:o.dueReminder,onCheckedChange:()=>y("dueReminder"),disabled:!s,className:"data-[state=checked]:bg-blue-600"})]}),u.jsx(qr,{className:"opacity-50"}),u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(Hi,{className:"text-base font-medium",children:"Missed submission alert"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive a notification immediately when a deadline is missed"})]}),u.jsx(Jl,{checked:o.missedSubmission,onCheckedChange:()=>y("missedSubmission"),disabled:!s,className:"data-[state=checked]:bg-blue-600"})]}),u.jsx(qr,{className:"opacity-50"}),u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(Hi,{className:"text-base font-medium",children:"Heavy workload warning"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Be notified when you have more than 3 assignments due in a week"})]}),u.jsx(Jl,{checked:o.workloadWarning,onCheckedChange:()=>y("workloadWarning"),disabled:!s,className:"data-[state=checked]:bg-blue-600"})]})]}),u.jsxs(zk,{className:"flex flex-col items-start gap-4 pt-2 pb-6 bg-muted/20 border-t",children:[s?u.jsxs("div",{className:"w-full space-y-4",children:[u.jsxs("div",{className:"flex gap-3 p-3 text-sm text-emerald-600 dark:text-emerald-500 bg-emerald-50 dark:bg-emerald-900/10 rounded border border-emerald-200 dark:border-emerald-800/30 items-center",children:[u.jsx(_a,{className:"h-4 w-4 shrink-0"}),u.jsx("p",{children:"Academic alerts are active."})]}),u.jsx(Re,{variant:"outline",onClick:()=>i(!1),className:"text-muted-foreground hover:text-foreground",children:"Disable Alerts"})]}):u.jsxs("div",{className:"w-full space-y-4",children:[u.jsxs("div",{className:"flex gap-3 p-3 text-sm text-amber-600 dark:text-amber-500 bg-amber-50 dark:bg-amber-900/10 rounded border border-amber-200 dark:border-amber-800/30 items-start",children:[u.jsx(UT,{className:"h-4 w-4 shrink-0 mt-0.5"}),u.jsx("p",{children:"Alerts are currently disabled. You need to grant Trace permission to send emails on your behalf."})]}),u.jsxs(Re,{onClick:m,disabled:l,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white",children:[l&&u.jsx(Bc,{className:"mr-2 h-4 w-4 animate-spin"}),"Connect Gmail & Enable Alerts"]})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Emails are sent only after your consent and can be disabled anytime. We do not read your inbox."})]})]})]})}function oB(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(pt,{className:"w-full max-w-md mx-4",children:u.jsxs(bt,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(Zs,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const aB=()=>{const t="/trace-classroom-crm/";return t.endsWith("/")?t.slice(0,-1):t};function lB(){const[t,e]=p.useState(!1),n=aB();return u.jsx(fz,{children:u.jsx(Gb,{base:n,children:u.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[u.jsx(MU,{mobileOpen:t,onMobileClose:()=>e(!1)}),u.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[u.jsx(LU,{onMobileMenuClick:()=>e(!0)}),u.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden relative scroll-smooth",children:u.jsxs(ij,{children:[u.jsx(Ii,{path:"/",component:s$}),u.jsx(Ii,{path:"/timeline",component:z$}),u.jsx(Ii,{path:"/dashboard",component:W$}),u.jsx(Ii,{path:"/notes",component:q$}),u.jsx(Ii,{path:"/settings",component:sB}),u.jsx(Ii,{path:"/settings/notifications",component:iB}),u.jsx(Ii,{component:oB})]})})]})]})})})}function cB(){const{user:t,loading:e}=fi();return e?u.jsx("div",{className:"h-screen flex items-center justify-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"h-8 w-8 border-2 border-foreground border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})}):t?u.jsx(lB,{}):u.jsx(KU,{})}function uB(){return u.jsx(Nj,{client:Pj,children:u.jsx(lz,{children:u.jsx(az,{children:u.jsxs(t4,{children:[u.jsx(NM,{}),u.jsx(cB,{})]})})})})}Ob(document.getElementById("root")).render(u.jsx(uB,{}));
