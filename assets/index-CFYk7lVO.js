var Ew=t=>{throw TypeError(t)};var cp=(t,e,n)=>e.has(t)||Ew("Cannot "+n);var H=(t,e,n)=>(cp(t,e,"read from private field"),n?n.call(t):e.get(t)),De=(t,e,n)=>e.has(t)?Ew("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),_e=(t,e,n,r)=>(cp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Lt=(t,e,n)=>(cp(t,e,"access private method"),n);var Cu=(t,e,n,r)=>({set _(s){_e(t,e,s,n)},get _(){return H(t,e,r)}});function mP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function NE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var AE={exports:{}},$h={},kE={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=Symbol.for("react.element"),gP=Symbol.for("react.portal"),yP=Symbol.for("react.fragment"),vP=Symbol.for("react.strict_mode"),wP=Symbol.for("react.profiler"),xP=Symbol.for("react.provider"),_P=Symbol.for("react.context"),EP=Symbol.for("react.forward_ref"),bP=Symbol.for("react.suspense"),SP=Symbol.for("react.memo"),TP=Symbol.for("react.lazy"),bw=Symbol.iterator;function CP(t){return t===null||typeof t!="object"?null:(t=bw&&t[bw]||t["@@iterator"],typeof t=="function"?t:null)}var RE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PE=Object.assign,DE={};function Ua(t,e,n){this.props=t,this.context=e,this.refs=DE,this.updater=n||RE}Ua.prototype.isReactComponent={};Ua.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ua.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jE(){}jE.prototype=Ua.prototype;function ry(t,e,n){this.props=t,this.context=e,this.refs=DE,this.updater=n||RE}var sy=ry.prototype=new jE;sy.constructor=ry;PE(sy,Ua.prototype);sy.isPureReactComponent=!0;var Sw=Array.isArray,OE=Object.prototype.hasOwnProperty,iy={current:null},ME={key:!0,ref:!0,__self:!0,__source:!0};function LE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)OE.call(e,r)&&!ME.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Fc,type:t,key:i,ref:o,props:s,_owner:iy.current}}function IP(t,e){return{$$typeof:Fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fc}function NP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tw=/\/+/g;function up(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NP(""+t.key):e.toString(36)}function cd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fc:case gP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+up(o,0):r,Sw(s)?(n="",t!=null&&(n=t.replace(Tw,"$&/")+"/"),cd(s,e,n,"",function(d){return d})):s!=null&&(oy(s)&&(s=IP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Tw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Sw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+up(i,a);o+=cd(i,e,n,l,s)}else if(l=CP(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+up(i,a++),o+=cd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Iu(t,e,n){if(t==null)return t;var r=[],s=0;return cd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function AP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zt={current:null},ud={transition:null},kP={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:ud,ReactCurrentOwner:iy};function VE(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Iu,forEach:function(t,e,n){Iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Iu(t,function(){e++}),e},toArray:function(t){return Iu(t,function(e){return e})||[]},only:function(t){if(!oy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Ua;Te.Fragment=yP;Te.Profiler=wP;Te.PureComponent=ry;Te.StrictMode=vP;Te.Suspense=bP;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kP;Te.act=VE;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=iy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)OE.call(e,l)&&!ME.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Fc,type:t.type,key:s,ref:i,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:_P,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xP,_context:t},t.Consumer=t};Te.createElement=LE;Te.createFactory=function(t){var e=LE.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:EP,render:t}};Te.isValidElement=oy;Te.lazy=function(t){return{$$typeof:TP,_payload:{_status:-1,_result:t},_init:AP}};Te.memo=function(t,e){return{$$typeof:SP,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=ud.transition;ud.transition={};try{t()}finally{ud.transition=e}};Te.unstable_act=VE;Te.useCallback=function(t,e){return Zt.current.useCallback(t,e)};Te.useContext=function(t){return Zt.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Zt.current.useDeferredValue(t)};Te.useEffect=function(t,e){return Zt.current.useEffect(t,e)};Te.useId=function(){return Zt.current.useId()};Te.useImperativeHandle=function(t,e,n){return Zt.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return Zt.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return Zt.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return Zt.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return Zt.current.useReducer(t,e,n)};Te.useRef=function(t){return Zt.current.useRef(t)};Te.useState=function(t){return Zt.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return Zt.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return Zt.current.useTransition()};Te.version="18.3.1";kE.exports=Te;var p=kE.exports;const be=NE(p),FE=mP({__proto__:null,default:be},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP=p,PP=Symbol.for("react.element"),DP=Symbol.for("react.fragment"),jP=Object.prototype.hasOwnProperty,OP=RP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MP={key:!0,ref:!0,__self:!0,__source:!0};function zE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jP.call(e,r)&&!MP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:PP,type:t,key:i,ref:o,props:s,_owner:OP.current}}$h.Fragment=DP;$h.jsx=zE;$h.jsxs=zE;AE.exports=$h;var c=AE.exports,UE={exports:{}},In={},$E={exports:{}},BE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,L){var U=M.length;M.push(L);e:for(;0<U;){var Q=U-1>>>1,q=M[Q];if(0<s(q,L))M[Q]=L,M[U]=q,U=Q;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var L=M[0],U=M.pop();if(U!==L){M[0]=U;e:for(var Q=0,q=M.length,re=q>>>1;Q<re;){var ee=2*(Q+1)-1,ue=M[ee],le=ee+1,W=M[le];if(0>s(ue,U))le<q&&0>s(W,ue)?(M[Q]=W,M[le]=U,Q=le):(M[Q]=ue,M[ee]=U,Q=ee);else if(le<q&&0>s(W,U))M[Q]=W,M[le]=U,Q=le;else break e}}return L}function s(M,L){var U=M.sortIndex-L.sortIndex;return U!==0?U:M.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,f=null,m=3,y=!1,b=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(M){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=M)r(d),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(d)}}function k(M){if(v=!1,S(M),!b)if(n(l)!==null)b=!0,z(O);else{var L=n(d);L!==null&&K(k,L.startTime-M)}}function O(M,L){b=!1,v&&(v=!1,_(C),C=-1),y=!0;var U=m;try{for(S(L),f=n(l);f!==null&&(!(f.expirationTime>L)||M&&!P());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,m=f.priorityLevel;var q=Q(f.expirationTime<=L);L=t.unstable_now(),typeof q=="function"?f.callback=q:f===n(l)&&r(l),S(L)}else r(l);f=n(l)}if(f!==null)var re=!0;else{var ee=n(d);ee!==null&&K(k,ee.startTime-L),re=!1}return re}finally{f=null,m=U,y=!1}}var D=!1,T=null,C=-1,I=5,A=-1;function P(){return!(t.unstable_now()-A<I)}function j(){if(T!==null){var M=t.unstable_now();A=M;var L=!0;try{L=T(!0,M)}finally{L?R():(D=!1,T=null)}}else D=!1}var R;if(typeof w=="function")R=function(){w(j)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ie=B.port2;B.port1.onmessage=j,R=function(){ie.postMessage(null)}}else R=function(){E(j,0)};function z(M){T=M,D||(D=!0,R())}function K(M,L){C=E(function(){M(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,z(O))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var U=m;m=L;try{return M()}finally{m=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,L){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=m;m=M;try{return L()}finally{m=U}},t.unstable_scheduleCallback=function(M,L,U){var Q=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Q+U:Q):U=Q,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=U+q,M={id:h++,callback:L,priorityLevel:M,startTime:U,expirationTime:q,sortIndex:-1},U>Q?(M.sortIndex=U,e(d,M),n(l)===null&&M===n(d)&&(v?(_(C),C=-1):v=!0,K(k,U-Q))):(M.sortIndex=q,e(l,M),b||y||(b=!0,z(O))),M},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(M){var L=m;return function(){var U=m;m=L;try{return M.apply(this,arguments)}finally{m=U}}}})(BE);$E.exports=BE;var LP=$E.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VP=p,Tn=LP;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HE=new Set,ic={};function mo(t,e){wa(t,e),wa(t+"Capture",e)}function wa(t,e){for(ic[t]=e,t=0;t<e.length;t++)HE.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gm=Object.prototype.hasOwnProperty,FP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cw={},Iw={};function zP(t){return gm.call(Iw,t)?!0:gm.call(Cw,t)?!1:FP.test(t)?Iw[t]=!0:(Cw[t]=!0,!1)}function UP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $P(t,e,n,r){if(e===null||typeof e>"u"||UP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function en(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new en(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new en(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new en(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new en(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new en(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new en(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new en(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new en(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new en(t,5,!1,t.toLowerCase(),null,!1,!1)});var ay=/[\-:]([a-z])/g;function ly(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ay,ly);jt[e]=new en(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ay,ly);jt[e]=new en(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ay,ly);jt[e]=new en(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new en(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new en(t,1,!1,t.toLowerCase(),null,!0,!0)});function cy(t,e,n,r){var s=jt.hasOwnProperty(e)?jt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($P(e,n,s,r)&&(n=null),r||s===null?zP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var os=VP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nu=Symbol.for("react.element"),Oo=Symbol.for("react.portal"),Mo=Symbol.for("react.fragment"),uy=Symbol.for("react.strict_mode"),ym=Symbol.for("react.profiler"),WE=Symbol.for("react.provider"),qE=Symbol.for("react.context"),dy=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),wm=Symbol.for("react.suspense_list"),hy=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),GE=Symbol.for("react.offscreen"),Nw=Symbol.iterator;function wl(t){return t===null||typeof t!="object"?null:(t=Nw&&t[Nw]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,dp;function Al(t){if(dp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dp=e&&e[1]||""}return`
`+dp+t}var hp=!1;function fp(t,e){if(!t||hp)return"";hp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{hp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Al(t):""}function BP(t){switch(t.tag){case 5:return Al(t.type);case 16:return Al("Lazy");case 13:return Al("Suspense");case 19:return Al("SuspenseList");case 0:case 2:case 15:return t=fp(t.type,!1),t;case 11:return t=fp(t.type.render,!1),t;case 1:return t=fp(t.type,!0),t;default:return""}}function xm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mo:return"Fragment";case Oo:return"Portal";case ym:return"Profiler";case uy:return"StrictMode";case vm:return"Suspense";case wm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qE:return(t.displayName||"Context")+".Consumer";case WE:return(t._context.displayName||"Context")+".Provider";case dy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hy:return e=t.displayName||null,e!==null?e:xm(t.type)||"Memo";case Ss:e=t._payload,t=t._init;try{return xm(t(e))}catch{}}return null}function HP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xm(e);case 8:return e===uy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WP(t){var e=KE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Au(t){t._valueTracker||(t._valueTracker=WP(t))}function QE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=KE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Md(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _m(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Aw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ni(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YE(t,e){e=e.checked,e!=null&&cy(t,"checked",e,!1)}function Em(t,e){YE(t,e);var n=ni(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bm(t,e.type,n):e.hasOwnProperty("defaultValue")&&bm(t,e.type,ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bm(t,e,n){(e!=="number"||Md(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kl=Array.isArray;function Ko(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ni(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Sm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(kl(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ni(n)}}function XE(t,e){var n=ni(e.value),r=ni(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Pw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ku,ZE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ku=ku||document.createElement("div"),ku.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ku.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qP=["Webkit","ms","Moz","O"];Object.keys(Ll).forEach(function(t){qP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ll[e]=Ll[t]})});function eb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ll.hasOwnProperty(t)&&Ll[t]?(""+e).trim():e+"px"}function tb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=eb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var GP=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cm(t,e){if(e){if(GP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Im(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nm=null;function fy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Am=null,Qo=null,Yo=null;function Dw(t){if(t=$c(t)){if(typeof Am!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Gh(e),Am(t.stateNode,t.type,e))}}function nb(t){Qo?Yo?Yo.push(t):Yo=[t]:Qo=t}function rb(){if(Qo){var t=Qo,e=Yo;if(Yo=Qo=null,Dw(t),e)for(t=0;t<e.length;t++)Dw(e[t])}}function sb(t,e){return t(e)}function ib(){}var pp=!1;function ob(t,e,n){if(pp)return t(e,n);pp=!0;try{return sb(t,e,n)}finally{pp=!1,(Qo!==null||Yo!==null)&&(ib(),rb())}}function ac(t,e){var n=t.stateNode;if(n===null)return null;var r=Gh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var km=!1;if(Yr)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){km=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{km=!1}function KP(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Vl=!1,Ld=null,Vd=!1,Rm=null,QP={onError:function(t){Vl=!0,Ld=t}};function YP(t,e,n,r,s,i,o,a,l){Vl=!1,Ld=null,KP.apply(QP,arguments)}function XP(t,e,n,r,s,i,o,a,l){if(YP.apply(this,arguments),Vl){if(Vl){var d=Ld;Vl=!1,Ld=null}else throw Error(Y(198));Vd||(Vd=!0,Rm=d)}}function go(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ab(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jw(t){if(go(t)!==t)throw Error(Y(188))}function JP(t){var e=t.alternate;if(!e){if(e=go(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return jw(s),t;if(i===r)return jw(s),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function lb(t){return t=JP(t),t!==null?cb(t):null}function cb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cb(t);if(e!==null)return e;t=t.sibling}return null}var ub=Tn.unstable_scheduleCallback,Ow=Tn.unstable_cancelCallback,ZP=Tn.unstable_shouldYield,e2=Tn.unstable_requestPaint,ot=Tn.unstable_now,t2=Tn.unstable_getCurrentPriorityLevel,py=Tn.unstable_ImmediatePriority,db=Tn.unstable_UserBlockingPriority,Fd=Tn.unstable_NormalPriority,n2=Tn.unstable_LowPriority,hb=Tn.unstable_IdlePriority,Bh=null,Tr=null;function r2(t){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(Bh,t,void 0,(t.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:o2,s2=Math.log,i2=Math.LN2;function o2(t){return t>>>=0,t===0?32:31-(s2(t)/i2|0)|0}var Ru=64,Pu=4194304;function Rl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Rl(a):(i&=o,i!==0&&(r=Rl(i)))}else o=n&~s,o!==0?r=Rl(o):i!==0&&(r=Rl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-er(e),s=1<<n,r|=t[n],e&=~s;return r}function a2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-er(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=a2(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Pm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fb(){var t=Ru;return Ru<<=1,!(Ru&4194240)&&(Ru=64),t}function mp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-er(e),t[e]=n}function c2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-er(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function my(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-er(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Oe=0;function pb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mb,gy,gb,yb,vb,Dm=!1,Du=[],zs=null,Us=null,$s=null,lc=new Map,cc=new Map,Is=[],u2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mw(t,e){switch(t){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":lc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(e.pointerId)}}function _l(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=$c(e),e!==null&&gy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function d2(t,e,n,r,s){switch(e){case"focusin":return zs=_l(zs,t,e,n,r,s),!0;case"dragenter":return Us=_l(Us,t,e,n,r,s),!0;case"mouseover":return $s=_l($s,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return lc.set(i,_l(lc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,cc.set(i,_l(cc.get(i)||null,t,e,n,r,s)),!0}return!1}function wb(t){var e=ji(t.target);if(e!==null){var n=go(e);if(n!==null){if(e=n.tag,e===13){if(e=ab(n),e!==null){t.blockedOn=e,vb(t.priority,function(){gb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nm=r,n.target.dispatchEvent(r),Nm=null}else return e=$c(n),e!==null&&gy(e),t.blockedOn=n,!1;e.shift()}return!0}function Lw(t,e,n){dd(t)&&n.delete(e)}function h2(){Dm=!1,zs!==null&&dd(zs)&&(zs=null),Us!==null&&dd(Us)&&(Us=null),$s!==null&&dd($s)&&($s=null),lc.forEach(Lw),cc.forEach(Lw)}function El(t,e){t.blockedOn===e&&(t.blockedOn=null,Dm||(Dm=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,h2)))}function uc(t){function e(s){return El(s,t)}if(0<Du.length){El(Du[0],t);for(var n=1;n<Du.length;n++){var r=Du[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zs!==null&&El(zs,t),Us!==null&&El(Us,t),$s!==null&&El($s,t),lc.forEach(e),cc.forEach(e),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)wb(n),n.blockedOn===null&&Is.shift()}var Xo=os.ReactCurrentBatchConfig,Ud=!0;function f2(t,e,n,r){var s=Oe,i=Xo.transition;Xo.transition=null;try{Oe=1,yy(t,e,n,r)}finally{Oe=s,Xo.transition=i}}function p2(t,e,n,r){var s=Oe,i=Xo.transition;Xo.transition=null;try{Oe=4,yy(t,e,n,r)}finally{Oe=s,Xo.transition=i}}function yy(t,e,n,r){if(Ud){var s=jm(t,e,n,r);if(s===null)Tp(t,e,r,$d,n),Mw(t,r);else if(d2(s,t,e,n,r))r.stopPropagation();else if(Mw(t,r),e&4&&-1<u2.indexOf(t)){for(;s!==null;){var i=$c(s);if(i!==null&&mb(i),i=jm(t,e,n,r),i===null&&Tp(t,e,r,$d,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Tp(t,e,r,null,n)}}var $d=null;function jm(t,e,n,r){if($d=null,t=fy(r),t=ji(t),t!==null)if(e=go(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ab(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $d=t,null}function xb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t2()){case py:return 1;case db:return 4;case Fd:case n2:return 16;case hb:return 536870912;default:return 16}default:return 16}}var Ls=null,vy=null,hd=null;function _b(){if(hd)return hd;var t,e=vy,n=e.length,r,s="value"in Ls?Ls.value:Ls.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return hd=s.slice(t,1<r?1-r:void 0)}function fd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ju(){return!0}function Vw(){return!1}function Nn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ju:Vw,this.isPropagationStopped=Vw,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),e}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wy=Nn($a),Uc=Ze({},$a,{view:0,detail:0}),m2=Nn(Uc),gp,yp,bl,Hh=Ze({},Uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bl&&(bl&&t.type==="mousemove"?(gp=t.screenX-bl.screenX,yp=t.screenY-bl.screenY):yp=gp=0,bl=t),gp)},movementY:function(t){return"movementY"in t?t.movementY:yp}}),Fw=Nn(Hh),g2=Ze({},Hh,{dataTransfer:0}),y2=Nn(g2),v2=Ze({},Uc,{relatedTarget:0}),vp=Nn(v2),w2=Ze({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),x2=Nn(w2),_2=Ze({},$a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),E2=Nn(_2),b2=Ze({},$a,{data:0}),zw=Nn(b2),S2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C2[t])?!!e[t]:!1}function xy(){return I2}var N2=Ze({},Uc,{key:function(t){if(t.key){var e=S2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?T2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xy,charCode:function(t){return t.type==="keypress"?fd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A2=Nn(N2),k2=Ze({},Hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uw=Nn(k2),R2=Ze({},Uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xy}),P2=Nn(R2),D2=Ze({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),j2=Nn(D2),O2=Ze({},Hh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M2=Nn(O2),L2=[9,13,27,32],_y=Yr&&"CompositionEvent"in window,Fl=null;Yr&&"documentMode"in document&&(Fl=document.documentMode);var V2=Yr&&"TextEvent"in window&&!Fl,Eb=Yr&&(!_y||Fl&&8<Fl&&11>=Fl),$w=" ",Bw=!1;function bb(t,e){switch(t){case"keyup":return L2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lo=!1;function F2(t,e){switch(t){case"compositionend":return Sb(e);case"keypress":return e.which!==32?null:(Bw=!0,$w);case"textInput":return t=e.data,t===$w&&Bw?null:t;default:return null}}function z2(t,e){if(Lo)return t==="compositionend"||!_y&&bb(t,e)?(t=_b(),hd=vy=Ls=null,Lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Eb&&e.locale!=="ko"?null:e.data;default:return null}}var U2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U2[t.type]:e==="textarea"}function Tb(t,e,n,r){nb(r),e=Bd(e,"onChange"),0<e.length&&(n=new wy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zl=null,dc=null;function $2(t){Mb(t,0)}function Wh(t){var e=zo(t);if(QE(e))return t}function B2(t,e){if(t==="change")return e}var Cb=!1;if(Yr){var wp;if(Yr){var xp="oninput"in document;if(!xp){var Ww=document.createElement("div");Ww.setAttribute("oninput","return;"),xp=typeof Ww.oninput=="function"}wp=xp}else wp=!1;Cb=wp&&(!document.documentMode||9<document.documentMode)}function qw(){zl&&(zl.detachEvent("onpropertychange",Ib),dc=zl=null)}function Ib(t){if(t.propertyName==="value"&&Wh(dc)){var e=[];Tb(e,dc,t,fy(t)),ob($2,e)}}function H2(t,e,n){t==="focusin"?(qw(),zl=e,dc=n,zl.attachEvent("onpropertychange",Ib)):t==="focusout"&&qw()}function W2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wh(dc)}function q2(t,e){if(t==="click")return Wh(e)}function G2(t,e){if(t==="input"||t==="change")return Wh(e)}function K2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ir=typeof Object.is=="function"?Object.is:K2;function hc(t,e){if(ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gm.call(e,s)||!ir(t[s],e[s]))return!1}return!0}function Gw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kw(t,e){var n=Gw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gw(n)}}function Nb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ab(){for(var t=window,e=Md();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Md(t.document)}return e}function Ey(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Q2(t){var e=Ab(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Nb(n.ownerDocument.documentElement,n)){if(r!==null&&Ey(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Kw(n,i);var o=Kw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y2=Yr&&"documentMode"in document&&11>=document.documentMode,Vo=null,Om=null,Ul=null,Mm=!1;function Qw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mm||Vo==null||Vo!==Md(r)||(r=Vo,"selectionStart"in r&&Ey(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ul&&hc(Ul,r)||(Ul=r,r=Bd(Om,"onSelect"),0<r.length&&(e=new wy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vo)))}function Ou(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fo={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionend:Ou("Transition","TransitionEnd")},_p={},kb={};Yr&&(kb=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function qh(t){if(_p[t])return _p[t];if(!Fo[t])return t;var e=Fo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kb)return _p[t]=e[n];return t}var Rb=qh("animationend"),Pb=qh("animationiteration"),Db=qh("animationstart"),jb=qh("transitionend"),Ob=new Map,Yw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(t,e){Ob.set(t,e),mo(e,[t])}for(var Ep=0;Ep<Yw.length;Ep++){var bp=Yw[Ep],X2=bp.toLowerCase(),J2=bp[0].toUpperCase()+bp.slice(1);mi(X2,"on"+J2)}mi(Rb,"onAnimationEnd");mi(Pb,"onAnimationIteration");mi(Db,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(jb,"onTransitionEnd");wa("onMouseEnter",["mouseout","mouseover"]);wa("onMouseLeave",["mouseout","mouseover"]);wa("onPointerEnter",["pointerout","pointerover"]);wa("onPointerLeave",["pointerout","pointerover"]);mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function Xw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XP(r,e,void 0,t),t.currentTarget=null}function Mb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Xw(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Xw(s,a,d),i=l}}}if(Vd)throw t=Rm,Vd=!1,Rm=null,t}function Be(t,e){var n=e[Um];n===void 0&&(n=e[Um]=new Set);var r=t+"__bubble";n.has(r)||(Lb(e,t,2,!1),n.add(r))}function Sp(t,e,n){var r=0;e&&(r|=4),Lb(n,t,r,e)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function fc(t){if(!t[Mu]){t[Mu]=!0,HE.forEach(function(n){n!=="selectionchange"&&(Z2.has(n)||Sp(n,!1,t),Sp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mu]||(e[Mu]=!0,Sp("selectionchange",!1,e))}}function Lb(t,e,n,r){switch(xb(e)){case 1:var s=f2;break;case 4:s=p2;break;default:s=yy}n=s.bind(null,e,n,t),s=void 0,!km||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Tp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ji(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ob(function(){var d=i,h=fy(n),f=[];e:{var m=Ob.get(t);if(m!==void 0){var y=wy,b=t;switch(t){case"keypress":if(fd(n)===0)break e;case"keydown":case"keyup":y=A2;break;case"focusin":b="focus",y=vp;break;case"focusout":b="blur",y=vp;break;case"beforeblur":case"afterblur":y=vp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=y2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=P2;break;case Rb:case Pb:case Db:y=x2;break;case jb:y=j2;break;case"scroll":y=m2;break;case"wheel":y=M2;break;case"copy":case"cut":case"paste":y=E2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Uw}var v=(e&4)!==0,E=!v&&t==="scroll",_=v?m!==null?m+"Capture":null:m;v=[];for(var w=d,S;w!==null;){S=w;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,_!==null&&(k=ac(w,_),k!=null&&v.push(pc(w,k,S)))),E)break;w=w.return}0<v.length&&(m=new y(m,b,null,n,h),f.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Nm&&(b=n.relatedTarget||n.fromElement)&&(ji(b)||b[Xr]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=d,b=b?ji(b):null,b!==null&&(E=go(b),b!==E||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=d),y!==b)){if(v=Fw,k="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=Uw,k="onPointerLeave",_="onPointerEnter",w="pointer"),E=y==null?m:zo(y),S=b==null?m:zo(b),m=new v(k,w+"leave",y,n,h),m.target=E,m.relatedTarget=S,k=null,ji(h)===d&&(v=new v(_,w+"enter",b,n,h),v.target=S,v.relatedTarget=E,k=v),E=k,y&&b)t:{for(v=y,_=b,w=0,S=v;S;S=Co(S))w++;for(S=0,k=_;k;k=Co(k))S++;for(;0<w-S;)v=Co(v),w--;for(;0<S-w;)_=Co(_),S--;for(;w--;){if(v===_||_!==null&&v===_.alternate)break t;v=Co(v),_=Co(_)}v=null}else v=null;y!==null&&Jw(f,m,y,v,!1),b!==null&&E!==null&&Jw(f,E,b,v,!0)}}e:{if(m=d?zo(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var O=B2;else if(Hw(m))if(Cb)O=G2;else{O=W2;var D=H2}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=q2);if(O&&(O=O(t,d))){Tb(f,O,n,h);break e}D&&D(t,m,d),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&bm(m,"number",m.value)}switch(D=d?zo(d):window,t){case"focusin":(Hw(D)||D.contentEditable==="true")&&(Vo=D,Om=d,Ul=null);break;case"focusout":Ul=Om=Vo=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,Qw(f,n,h);break;case"selectionchange":if(Y2)break;case"keydown":case"keyup":Qw(f,n,h)}var T;if(_y)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Lo?bb(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Eb&&n.locale!=="ko"&&(Lo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Lo&&(T=_b()):(Ls=h,vy="value"in Ls?Ls.value:Ls.textContent,Lo=!0)),D=Bd(d,C),0<D.length&&(C=new zw(C,t,null,n,h),f.push({event:C,listeners:D}),T?C.data=T:(T=Sb(n),T!==null&&(C.data=T)))),(T=V2?F2(t,n):z2(t,n))&&(d=Bd(d,"onBeforeInput"),0<d.length&&(h=new zw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=T))}Mb(f,e)})}function pc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ac(t,n),i!=null&&r.unshift(pc(t,i,s)),i=ac(t,e),i!=null&&r.push(pc(t,i,s))),t=t.return}return r}function Co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=ac(n,i),l!=null&&o.unshift(pc(n,l,a))):s||(l=ac(n,i),l!=null&&o.push(pc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eD=/\r\n?/g,tD=/\u0000|\uFFFD/g;function Zw(t){return(typeof t=="string"?t:""+t).replace(eD,`
`).replace(tD,"")}function Lu(t,e,n){if(e=Zw(e),Zw(t)!==e&&n)throw Error(Y(425))}function Hd(){}var Lm=null,Vm=null;function Fm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zm=typeof setTimeout=="function"?setTimeout:void 0,nD=typeof clearTimeout=="function"?clearTimeout:void 0,ex=typeof Promise=="function"?Promise:void 0,rD=typeof queueMicrotask=="function"?queueMicrotask:typeof ex<"u"?function(t){return ex.resolve(null).then(t).catch(sD)}:zm;function sD(t){setTimeout(function(){throw t})}function Cp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),uc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);uc(e)}function Bs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ba=Math.random().toString(36).slice(2),Er="__reactFiber$"+Ba,mc="__reactProps$"+Ba,Xr="__reactContainer$"+Ba,Um="__reactEvents$"+Ba,iD="__reactListeners$"+Ba,oD="__reactHandles$"+Ba;function ji(t){var e=t[Er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xr]||n[Er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tx(t);t!==null;){if(n=t[Er])return n;t=tx(t)}return e}t=n,n=t.parentNode}return null}function $c(t){return t=t[Er]||t[Xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Gh(t){return t[mc]||null}var $m=[],Uo=-1;function gi(t){return{current:t}}function We(t){0>Uo||(t.current=$m[Uo],$m[Uo]=null,Uo--)}function Fe(t,e){Uo++,$m[Uo]=t.current,t.current=e}var ri={},qt=gi(ri),un=gi(!1),Ji=ri;function xa(t,e){var n=t.type.contextTypes;if(!n)return ri;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dn(t){return t=t.childContextTypes,t!=null}function Wd(){We(un),We(qt)}function nx(t,e,n){if(qt.current!==ri)throw Error(Y(168));Fe(qt,e),Fe(un,n)}function Vb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Y(108,HP(t)||"Unknown",s));return Ze({},n,r)}function qd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ri,Ji=qt.current,Fe(qt,t),Fe(un,un.current),!0}function rx(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=Vb(t,e,Ji),r.__reactInternalMemoizedMergedChildContext=t,We(un),We(qt),Fe(qt,t)):We(un),Fe(un,n)}var $r=null,Kh=!1,Ip=!1;function Fb(t){$r===null?$r=[t]:$r.push(t)}function aD(t){Kh=!0,Fb(t)}function yi(){if(!Ip&&$r!==null){Ip=!0;var t=0,e=Oe;try{var n=$r;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$r=null,Kh=!1}catch(s){throw $r!==null&&($r=$r.slice(t+1)),ub(py,yi),s}finally{Oe=e,Ip=!1}}return null}var $o=[],Bo=0,Gd=null,Kd=0,Dn=[],jn=0,Zi=null,Br=1,Hr="";function Ri(t,e){$o[Bo++]=Kd,$o[Bo++]=Gd,Gd=t,Kd=e}function zb(t,e,n){Dn[jn++]=Br,Dn[jn++]=Hr,Dn[jn++]=Zi,Zi=t;var r=Br;t=Hr;var s=32-er(r)-1;r&=~(1<<s),n+=1;var i=32-er(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Br=1<<32-er(e)+s|n<<s|r,Hr=i+t}else Br=1<<i|n<<s|r,Hr=t}function by(t){t.return!==null&&(Ri(t,1),zb(t,1,0))}function Sy(t){for(;t===Gd;)Gd=$o[--Bo],$o[Bo]=null,Kd=$o[--Bo],$o[Bo]=null;for(;t===Zi;)Zi=Dn[--jn],Dn[jn]=null,Hr=Dn[--jn],Dn[jn]=null,Br=Dn[--jn],Dn[jn]=null}var bn=null,En=null,Ke=!1,Yn=null;function Ub(t,e){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,En=Bs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zi!==null?{id:Br,overflow:Hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,En=null,!0):!1;default:return!1}}function Bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hm(t){if(Ke){var e=En;if(e){var n=e;if(!sx(t,e)){if(Bm(t))throw Error(Y(418));e=Bs(n.nextSibling);var r=bn;e&&sx(t,e)?Ub(r,n):(t.flags=t.flags&-4097|2,Ke=!1,bn=t)}}else{if(Bm(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Ke=!1,bn=t}}}function ix(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function Vu(t){if(t!==bn)return!1;if(!Ke)return ix(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fm(t.type,t.memoizedProps)),e&&(e=En)){if(Bm(t))throw $b(),Error(Y(418));for(;e;)Ub(t,e),e=Bs(e.nextSibling)}if(ix(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=Bs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=bn?Bs(t.stateNode.nextSibling):null;return!0}function $b(){for(var t=En;t;)t=Bs(t.nextSibling)}function _a(){En=bn=null,Ke=!1}function Ty(t){Yn===null?Yn=[t]:Yn.push(t)}var lD=os.ReactCurrentBatchConfig;function Sl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Fu(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ox(t){var e=t._init;return e(t._payload)}function Bb(t){function e(_,w){if(t){var S=_.deletions;S===null?(_.deletions=[w],_.flags|=16):S.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function s(_,w){return _=Gs(_,w),_.index=0,_.sibling=null,_}function i(_,w,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<w?(_.flags|=2,w):S):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,S,k){return w===null||w.tag!==6?(w=jp(S,_.mode,k),w.return=_,w):(w=s(w,S),w.return=_,w)}function l(_,w,S,k){var O=S.type;return O===Mo?h(_,w,S.props.children,k,S.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ss&&ox(O)===w.type)?(k=s(w,S.props),k.ref=Sl(_,w,S),k.return=_,k):(k=xd(S.type,S.key,S.props,null,_.mode,k),k.ref=Sl(_,w,S),k.return=_,k)}function d(_,w,S,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Op(S,_.mode,k),w.return=_,w):(w=s(w,S.children||[]),w.return=_,w)}function h(_,w,S,k,O){return w===null||w.tag!==7?(w=qi(S,_.mode,k,O),w.return=_,w):(w=s(w,S),w.return=_,w)}function f(_,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=jp(""+w,_.mode,S),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nu:return S=xd(w.type,w.key,w.props,null,_.mode,S),S.ref=Sl(_,null,w),S.return=_,S;case Oo:return w=Op(w,_.mode,S),w.return=_,w;case Ss:var k=w._init;return f(_,k(w._payload),S)}if(kl(w)||wl(w))return w=qi(w,_.mode,S,null),w.return=_,w;Fu(_,w)}return null}function m(_,w,S,k){var O=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:a(_,w,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Nu:return S.key===O?l(_,w,S,k):null;case Oo:return S.key===O?d(_,w,S,k):null;case Ss:return O=S._init,m(_,w,O(S._payload),k)}if(kl(S)||wl(S))return O!==null?null:h(_,w,S,k,null);Fu(_,S)}return null}function y(_,w,S,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(S)||null,a(w,_,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Nu:return _=_.get(k.key===null?S:k.key)||null,l(w,_,k,O);case Oo:return _=_.get(k.key===null?S:k.key)||null,d(w,_,k,O);case Ss:var D=k._init;return y(_,w,S,D(k._payload),O)}if(kl(k)||wl(k))return _=_.get(S)||null,h(w,_,k,O,null);Fu(w,k)}return null}function b(_,w,S,k){for(var O=null,D=null,T=w,C=w=0,I=null;T!==null&&C<S.length;C++){T.index>C?(I=T,T=null):I=T.sibling;var A=m(_,T,S[C],k);if(A===null){T===null&&(T=I);break}t&&T&&A.alternate===null&&e(_,T),w=i(A,w,C),D===null?O=A:D.sibling=A,D=A,T=I}if(C===S.length)return n(_,T),Ke&&Ri(_,C),O;if(T===null){for(;C<S.length;C++)T=f(_,S[C],k),T!==null&&(w=i(T,w,C),D===null?O=T:D.sibling=T,D=T);return Ke&&Ri(_,C),O}for(T=r(_,T);C<S.length;C++)I=y(T,_,C,S[C],k),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?C:I.key),w=i(I,w,C),D===null?O=I:D.sibling=I,D=I);return t&&T.forEach(function(P){return e(_,P)}),Ke&&Ri(_,C),O}function v(_,w,S,k){var O=wl(S);if(typeof O!="function")throw Error(Y(150));if(S=O.call(S),S==null)throw Error(Y(151));for(var D=O=null,T=w,C=w=0,I=null,A=S.next();T!==null&&!A.done;C++,A=S.next()){T.index>C?(I=T,T=null):I=T.sibling;var P=m(_,T,A.value,k);if(P===null){T===null&&(T=I);break}t&&T&&P.alternate===null&&e(_,T),w=i(P,w,C),D===null?O=P:D.sibling=P,D=P,T=I}if(A.done)return n(_,T),Ke&&Ri(_,C),O;if(T===null){for(;!A.done;C++,A=S.next())A=f(_,A.value,k),A!==null&&(w=i(A,w,C),D===null?O=A:D.sibling=A,D=A);return Ke&&Ri(_,C),O}for(T=r(_,T);!A.done;C++,A=S.next())A=y(T,_,C,A.value,k),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?C:A.key),w=i(A,w,C),D===null?O=A:D.sibling=A,D=A);return t&&T.forEach(function(j){return e(_,j)}),Ke&&Ri(_,C),O}function E(_,w,S,k){if(typeof S=="object"&&S!==null&&S.type===Mo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Nu:e:{for(var O=S.key,D=w;D!==null;){if(D.key===O){if(O=S.type,O===Mo){if(D.tag===7){n(_,D.sibling),w=s(D,S.props.children),w.return=_,_=w;break e}}else if(D.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ss&&ox(O)===D.type){n(_,D.sibling),w=s(D,S.props),w.ref=Sl(_,D,S),w.return=_,_=w;break e}n(_,D);break}else e(_,D);D=D.sibling}S.type===Mo?(w=qi(S.props.children,_.mode,k,S.key),w.return=_,_=w):(k=xd(S.type,S.key,S.props,null,_.mode,k),k.ref=Sl(_,w,S),k.return=_,_=k)}return o(_);case Oo:e:{for(D=S.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(_,w.sibling),w=s(w,S.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=Op(S,_.mode,k),w.return=_,_=w}return o(_);case Ss:return D=S._init,E(_,w,D(S._payload),k)}if(kl(S))return b(_,w,S,k);if(wl(S))return v(_,w,S,k);Fu(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(_,w.sibling),w=s(w,S),w.return=_,_=w):(n(_,w),w=jp(S,_.mode,k),w.return=_,_=w),o(_)):n(_,w)}return E}var Ea=Bb(!0),Hb=Bb(!1),Qd=gi(null),Yd=null,Ho=null,Cy=null;function Iy(){Cy=Ho=Yd=null}function Ny(t){var e=Qd.current;We(Qd),t._currentValue=e}function Wm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jo(t,e){Yd=t,Cy=Ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cn=!0),t.firstContext=null)}function Fn(t){var e=t._currentValue;if(Cy!==t)if(t={context:t,memoizedValue:e,next:null},Ho===null){if(Yd===null)throw Error(Y(308));Ho=t,Yd.dependencies={lanes:0,firstContext:t}}else Ho=Ho.next=t;return e}var Oi=null;function Ay(t){Oi===null?Oi=[t]:Oi.push(t)}function Wb(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ay(e)):(n.next=s.next,s.next=n),e.interleaved=n,Jr(t,r)}function Jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ts=!1;function ky(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Jr(t,n)}return s=r.interleaved,s===null?(e.next=e,Ay(r)):(e.next=s.next,s.next=e),r.interleaved=e,Jr(t,n)}function pd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,my(t,n)}}function ax(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xd(t,e,n,r){var s=t.updateQueue;Ts=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=d=l=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,v=a;switch(m=e,y=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){f=b.call(y,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,m=typeof b=="function"?b.call(y,f,m):b,m==null)break e;f=Ze({},f,m);break e;case 2:Ts=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=y,l=f):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);to|=o,t.lanes=o,t.memoizedState=f}}function lx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var Bc={},Cr=gi(Bc),gc=gi(Bc),yc=gi(Bc);function Mi(t){if(t===Bc)throw Error(Y(174));return t}function Ry(t,e){switch(Fe(yc,e),Fe(gc,t),Fe(Cr,Bc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tm(e,t)}We(Cr),Fe(Cr,e)}function ba(){We(Cr),We(gc),We(yc)}function Gb(t){Mi(yc.current);var e=Mi(Cr.current),n=Tm(e,t.type);e!==n&&(Fe(gc,t),Fe(Cr,n))}function Py(t){gc.current===t&&(We(Cr),We(gc))}var Ye=gi(0);function Jd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Np=[];function Dy(){for(var t=0;t<Np.length;t++)Np[t]._workInProgressVersionPrimary=null;Np.length=0}var md=os.ReactCurrentDispatcher,Ap=os.ReactCurrentBatchConfig,eo=0,Je=null,mt=null,St=null,Zd=!1,$l=!1,vc=0,cD=0;function Vt(){throw Error(Y(321))}function jy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ir(t[n],e[n]))return!1;return!0}function Oy(t,e,n,r,s,i){if(eo=i,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,md.current=t===null||t.memoizedState===null?fD:pD,t=n(r,s),$l){i=0;do{if($l=!1,vc=0,25<=i)throw Error(Y(301));i+=1,St=mt=null,e.updateQueue=null,md.current=mD,t=n(r,s)}while($l)}if(md.current=eh,e=mt!==null&&mt.next!==null,eo=0,St=mt=Je=null,Zd=!1,e)throw Error(Y(300));return t}function My(){var t=vc!==0;return vc=0,t}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Je.memoizedState=St=t:St=St.next=t,St}function zn(){if(mt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=St===null?Je.memoizedState:St.next;if(e!==null)St=e,mt=t;else{if(t===null)throw Error(Y(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},St===null?Je.memoizedState=St=t:St=St.next=t}return St}function wc(t,e){return typeof e=="function"?e(t):e}function kp(t){var e=zn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=mt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((eo&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Je.lanes|=h,to|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,ir(r,e.memoizedState)||(cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Je.lanes|=i,to|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rp(t){var e=zn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ir(i,e.memoizedState)||(cn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Kb(){}function Qb(t,e){var n=Je,r=zn(),s=e(),i=!ir(r.memoizedState,s);if(i&&(r.memoizedState=s,cn=!0),r=r.queue,Ly(Jb.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,xc(9,Xb.bind(null,n,r,s,e),void 0,null),It===null)throw Error(Y(349));eo&30||Yb(n,e,s)}return s}function Yb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xb(t,e,n,r){e.value=n,e.getSnapshot=r,Zb(e)&&eS(t)}function Jb(t,e,n){return n(function(){Zb(e)&&eS(t)})}function Zb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ir(t,n)}catch{return!0}}function eS(t){var e=Jr(t,1);e!==null&&tr(e,t,1,-1)}function cx(t){var e=yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:t},e.queue=t,t=t.dispatch=hD.bind(null,Je,t),[e.memoizedState,t]}function xc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tS(){return zn().memoizedState}function gd(t,e,n,r){var s=yr();Je.flags|=t,s.memoizedState=xc(1|e,n,void 0,r===void 0?null:r)}function Qh(t,e,n,r){var s=zn();r=r===void 0?null:r;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,r!==null&&jy(r,o.deps)){s.memoizedState=xc(e,n,i,r);return}}Je.flags|=t,s.memoizedState=xc(1|e,n,i,r)}function ux(t,e){return gd(8390656,8,t,e)}function Ly(t,e){return Qh(2048,8,t,e)}function nS(t,e){return Qh(4,2,t,e)}function rS(t,e){return Qh(4,4,t,e)}function sS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iS(t,e,n){return n=n!=null?n.concat([t]):null,Qh(4,4,sS.bind(null,e,t),n)}function Vy(){}function oS(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aS(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lS(t,e,n){return eo&21?(ir(n,e)||(n=fb(),Je.lanes|=n,to|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cn=!0),t.memoizedState=n)}function uD(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=Ap.transition;Ap.transition={};try{t(!1),e()}finally{Oe=n,Ap.transition=r}}function cS(){return zn().memoizedState}function dD(t,e,n){var r=qs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uS(t))dS(e,n);else if(n=Wb(t,e,n,r),n!==null){var s=Jt();tr(n,t,r,s),hS(n,e,r)}}function hD(t,e,n){var r=qs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uS(t))dS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ir(a,o)){var l=e.interleaved;l===null?(s.next=s,Ay(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Wb(t,e,s,r),n!==null&&(s=Jt(),tr(n,t,r,s),hS(n,e,r))}}function uS(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function dS(t,e){$l=Zd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,my(t,n)}}var eh={readContext:Fn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},fD={readContext:Fn,useCallback:function(t,e){return yr().memoizedState=[t,e===void 0?null:e],t},useContext:Fn,useEffect:ux,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gd(4194308,4,sS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gd(4194308,4,t,e)},useInsertionEffect:function(t,e){return gd(4,2,t,e)},useMemo:function(t,e){var n=yr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dD.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=yr();return t={current:t},e.memoizedState=t},useState:cx,useDebugValue:Vy,useDeferredValue:function(t){return yr().memoizedState=t},useTransition:function(){var t=cx(!1),e=t[0];return t=uD.bind(null,t[1]),yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,s=yr();if(Ke){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),It===null)throw Error(Y(349));eo&30||Yb(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ux(Jb.bind(null,r,i,t),[t]),r.flags|=2048,xc(9,Xb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=yr(),e=It.identifierPrefix;if(Ke){var n=Hr,r=Br;n=(r&~(1<<32-er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pD={readContext:Fn,useCallback:oS,useContext:Fn,useEffect:Ly,useImperativeHandle:iS,useInsertionEffect:nS,useLayoutEffect:rS,useMemo:aS,useReducer:kp,useRef:tS,useState:function(){return kp(wc)},useDebugValue:Vy,useDeferredValue:function(t){var e=zn();return lS(e,mt.memoizedState,t)},useTransition:function(){var t=kp(wc)[0],e=zn().memoizedState;return[t,e]},useMutableSource:Kb,useSyncExternalStore:Qb,useId:cS,unstable_isNewReconciler:!1},mD={readContext:Fn,useCallback:oS,useContext:Fn,useEffect:Ly,useImperativeHandle:iS,useInsertionEffect:nS,useLayoutEffect:rS,useMemo:aS,useReducer:Rp,useRef:tS,useState:function(){return Rp(wc)},useDebugValue:Vy,useDeferredValue:function(t){var e=zn();return mt===null?e.memoizedState=t:lS(e,mt.memoizedState,t)},useTransition:function(){var t=Rp(wc)[0],e=zn().memoizedState;return[t,e]},useMutableSource:Kb,useSyncExternalStore:Qb,useId:cS,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yh={isMounted:function(t){return(t=t._reactInternals)?go(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=qs(t),i=Gr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Hs(t,i,s),e!==null&&(tr(e,t,s,r),pd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=qs(t),i=Gr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Hs(t,i,s),e!==null&&(tr(e,t,s,r),pd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=qs(t),s=Gr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Hs(t,s,r),e!==null&&(tr(e,t,r,n),pd(e,t,r))}};function dx(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!hc(n,r)||!hc(s,i):!0}function fS(t,e,n){var r=!1,s=ri,i=e.contextType;return typeof i=="object"&&i!==null?i=Fn(i):(s=dn(e)?Ji:qt.current,r=e.contextTypes,i=(r=r!=null)?xa(t,s):ri),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function hx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yh.enqueueReplaceState(e,e.state,null)}function Gm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ky(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Fn(i):(i=dn(e)?Ji:qt.current,s.context=xa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(qm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Yh.enqueueReplaceState(s,s.state,null),Xd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Sa(t,e){try{var n="",r=e;do n+=BP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Pp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Km(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gD=typeof WeakMap=="function"?WeakMap:Map;function pS(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nh||(nh=!0,sg=r),Km(t,e)},n}function mS(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Km(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Km(t,e),typeof r!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function fx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gD;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=kD.bind(null,t,e,n),e.then(t,t))}function px(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,Hs(n,e,1))),n.lanes|=1),t)}var yD=os.ReactCurrentOwner,cn=!1;function Yt(t,e,n,r){e.child=t===null?Hb(e,null,n,r):Ea(e,t.child,n,r)}function gx(t,e,n,r,s){n=n.render;var i=e.ref;return Jo(e,s),r=Oy(t,e,n,r,i,s),n=My(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zr(t,e,s)):(Ke&&n&&by(e),e.flags|=1,Yt(t,e,r,s),e.child)}function yx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!qy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,gS(t,e,i,r,s)):(t=xd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:hc,n(o,r)&&t.ref===e.ref)return Zr(t,e,s)}return e.flags|=1,t=Gs(i,r),t.ref=e.ref,t.return=e,e.child=t}function gS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(hc(i,r)&&t.ref===e.ref)if(cn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(cn=!0);else return e.lanes=t.lanes,Zr(t,e,s)}return Qm(t,e,n,r,s)}function yS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(qo,vn),vn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(qo,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Fe(qo,vn),vn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Fe(qo,vn),vn|=r;return Yt(t,e,s,n),e.child}function vS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qm(t,e,n,r,s){var i=dn(n)?Ji:qt.current;return i=xa(e,i),Jo(e,s),n=Oy(t,e,n,r,i,s),r=My(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zr(t,e,s)):(Ke&&r&&by(e),e.flags|=1,Yt(t,e,n,s),e.child)}function vx(t,e,n,r,s){if(dn(n)){var i=!0;qd(e)}else i=!1;if(Jo(e,s),e.stateNode===null)yd(t,e),fS(e,n,r),Gm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Fn(d):(d=dn(n)?Ji:qt.current,d=xa(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&hx(e,o,r,d),Ts=!1;var m=e.memoizedState;o.state=m,Xd(e,r,o,s),l=e.memoizedState,a!==r||m!==l||un.current||Ts?(typeof h=="function"&&(qm(e,n,h,r),l=e.memoizedState),(a=Ts||dx(e,n,a,r,m,l,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,qb(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Wn(e.type,a),o.props=d,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fn(l):(l=dn(n)?Ji:qt.current,l=xa(e,l));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&hx(e,o,r,l),Ts=!1,m=e.memoizedState,o.state=m,Xd(e,r,o,s);var b=e.memoizedState;a!==f||m!==b||un.current||Ts?(typeof y=="function"&&(qm(e,n,y,r),b=e.memoizedState),(d=Ts||dx(e,n,d,r,m,b,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ym(t,e,n,r,i,s)}function Ym(t,e,n,r,s,i){vS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&rx(e,n,!1),Zr(t,e,i);r=e.stateNode,yD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ea(e,t.child,null,i),e.child=Ea(e,null,a,i)):Yt(t,e,a,i),e.memoizedState=r.state,s&&rx(e,n,!0),e.child}function wS(t){var e=t.stateNode;e.pendingContext?nx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nx(t,e.context,!1),Ry(t,e.containerInfo)}function wx(t,e,n,r,s){return _a(),Ty(s),e.flags|=256,Yt(t,e,n,r),e.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function Jm(t){return{baseLanes:t,cachePool:null,transitions:null}}function xS(t,e,n){var r=e.pendingProps,s=Ye.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Fe(Ye,s&1),t===null)return Hm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zh(o,r,0,null),t=qi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Jm(n),e.memoizedState=Xm,t):Fy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return vD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Gs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Gs(a,i):(i=qi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Jm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Xm,r}return i=t.child,t=i.sibling,r=Gs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fy(t,e){return e=Zh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zu(t,e,n,r){return r!==null&&Ty(r),Ea(e,t.child,null,n),t=Fy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Pp(Error(Y(422))),zu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Zh({mode:"visible",children:r.children},s,0,null),i=qi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ea(e,t.child,null,o),e.child.memoizedState=Jm(o),e.memoizedState=Xm,i);if(!(e.mode&1))return zu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Y(419)),r=Pp(i,r,void 0),zu(t,e,o,r)}if(a=(o&t.childLanes)!==0,cn||a){if(r=It,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Jr(t,s),tr(r,t,s,-1))}return Wy(),r=Pp(Error(Y(421))),zu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=RD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,En=Bs(s.nextSibling),bn=e,Ke=!0,Yn=null,t!==null&&(Dn[jn++]=Br,Dn[jn++]=Hr,Dn[jn++]=Zi,Br=t.id,Hr=t.overflow,Zi=e),e=Fy(e,r.children),e.flags|=4096,e)}function xx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wm(t.return,e,n)}function Dp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function _S(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Yt(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xx(t,n,e);else if(t.tag===19)xx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Jd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Dp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Dp(e,!0,n,null,i);break;case"together":Dp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),to|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Gs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wD(t,e,n){switch(e.tag){case 3:wS(e),_a();break;case 5:Gb(e);break;case 1:dn(e.type)&&qd(e);break;case 4:Ry(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Fe(Qd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?xS(t,e,n):(Fe(Ye,Ye.current&1),t=Zr(t,e,n),t!==null?t.sibling:null);Fe(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _S(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,yS(t,e,n)}return Zr(t,e,n)}var ES,Zm,bS,SS;ES=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zm=function(){};bS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Mi(Cr.current);var i=null;switch(n){case"input":s=_m(t,s),r=_m(t,r),i=[];break;case"select":s=Ze({},s,{value:void 0}),r=Ze({},r,{value:void 0}),i=[];break;case"textarea":s=Sm(t,s),r=Sm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hd)}Cm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ic.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ic.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Be("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};SS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tl(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xD(t,e,n){var r=e.pendingProps;switch(Sy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return dn(e.type)&&Wd(),Ft(e),null;case 3:return r=e.stateNode,ba(),We(un),We(qt),Dy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yn!==null&&(ag(Yn),Yn=null))),Zm(t,e),Ft(e),null;case 5:Py(e);var s=Mi(yc.current);if(n=e.type,t!==null&&e.stateNode!=null)bS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Ft(e),null}if(t=Mi(Cr.current),Vu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Er]=e,r[mc]=i,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<Pl.length;s++)Be(Pl[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Aw(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":Rw(r,i),Be("invalid",r)}Cm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Lu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Lu(r.textContent,a,t),s=["children",""+a]):ic.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":Au(r),kw(r,i,!0);break;case"textarea":Au(r),Pw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Hd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Er]=e,t[mc]=r,ES(t,e,!1,!1),e.stateNode=t;e:{switch(o=Im(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<Pl.length;s++)Be(Pl[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":Aw(t,r),s=_m(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ze({},r,{value:void 0}),Be("invalid",t);break;case"textarea":Rw(t,r),s=Sm(t,r),Be("invalid",t);break;default:s=r}Cm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?tb(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&oc(t,l):typeof l=="number"&&oc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ic.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Be("scroll",t):l!=null&&cy(t,i,l,o))}switch(n){case"input":Au(t),kw(t,r,!1);break;case"textarea":Au(t),Pw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ni(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ko(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ko(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)SS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Mi(yc.current),Mi(Cr.current),Vu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Er]=e,(i=r.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:Lu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Er]=e,e.stateNode=r}return Ft(e),null;case 13:if(We(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&En!==null&&e.mode&1&&!(e.flags&128))$b(),_a(),e.flags|=98560,i=!1;else if(i=Vu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[Er]=e}else _a(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),i=!1}else Yn!==null&&(ag(Yn),Yn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?wt===0&&(wt=3):Wy())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return ba(),Zm(t,e),t===null&&fc(e.stateNode.containerInfo),Ft(e),null;case 10:return Ny(e.type._context),Ft(e),null;case 17:return dn(e.type)&&Wd(),Ft(e),null;case 19:if(We(Ye),i=e.memoizedState,i===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Tl(i,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jd(t),o!==null){for(e.flags|=128,Tl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ye,Ye.current&1|2),e.child}t=t.sibling}i.tail!==null&&ot()>Ta&&(e.flags|=128,r=!0,Tl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Jd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ke)return Ft(e),null}else 2*ot()-i.renderingStartTime>Ta&&n!==1073741824&&(e.flags|=128,r=!0,Tl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ot(),e.sibling=null,n=Ye.current,Fe(Ye,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return Hy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function _D(t,e){switch(Sy(e),e.tag){case 1:return dn(e.type)&&Wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ba(),We(un),We(qt),Dy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Py(e),null;case 13:if(We(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));_a()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ye),null;case 4:return ba(),null;case 10:return Ny(e.type._context),null;case 22:case 23:return Hy(),null;case 24:return null;default:return null}}var Uu=!1,Ht=!1,ED=typeof WeakSet=="function"?WeakSet:Set,te=null;function Wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function eg(t,e,n){try{n()}catch(r){rt(t,e,r)}}var _x=!1;function bD(t,e){if(Lm=Ud,t=Ab(),Ey(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++d===s&&(a=o),m===i&&++h===r&&(l=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vm={focusedElem:t,selectionRange:n},Ud=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,E=b.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Wn(e.type,v),E);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(k){rt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return b=_x,_x=!1,b}function Bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&eg(e,n,i)}s=s.next}while(s!==r)}}function Xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TS(t){var e=t.alternate;e!==null&&(t.alternate=null,TS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Er],delete e[mc],delete e[Um],delete e[iD],delete e[oD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CS(t){return t.tag===5||t.tag===3||t.tag===4}function Ex(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ng(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hd));else if(r!==4&&(t=t.child,t!==null))for(ng(t,e,n),t=t.sibling;t!==null;)ng(t,e,n),t=t.sibling}function rg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rg(t,e,n),t=t.sibling;t!==null;)rg(t,e,n),t=t.sibling}var kt=null,Qn=!1;function ys(t,e,n){for(n=n.child;n!==null;)IS(t,e,n),n=n.sibling}function IS(t,e,n){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(Bh,n)}catch{}switch(n.tag){case 5:Ht||Wo(n,e);case 6:var r=kt,s=Qn;kt=null,ys(t,e,n),kt=r,Qn=s,kt!==null&&(Qn?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(Qn?(t=kt,n=n.stateNode,t.nodeType===8?Cp(t.parentNode,n):t.nodeType===1&&Cp(t,n),uc(t)):Cp(kt,n.stateNode));break;case 4:r=kt,s=Qn,kt=n.stateNode.containerInfo,Qn=!0,ys(t,e,n),kt=r,Qn=s;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&eg(n,e,o),s=s.next}while(s!==r)}ys(t,e,n);break;case 1:if(!Ht&&(Wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}ys(t,e,n);break;case 21:ys(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,ys(t,e,n),Ht=r):ys(t,e,n);break;default:ys(t,e,n)}}function bx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ED),e.forEach(function(r){var s=PD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,Qn=!1;break e;case 3:kt=a.stateNode.containerInfo,Qn=!0;break e;case 4:kt=a.stateNode.containerInfo,Qn=!0;break e}a=a.return}if(kt===null)throw Error(Y(160));IS(i,o,s),kt=null,Qn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){rt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NS(e,t),e=e.sibling}function NS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),gr(t),r&4){try{Bl(3,t,t.return),Xh(3,t)}catch(v){rt(t,t.return,v)}try{Bl(5,t,t.return)}catch(v){rt(t,t.return,v)}}break;case 1:Bn(e,t),gr(t),r&512&&n!==null&&Wo(n,n.return);break;case 5:if(Bn(e,t),gr(t),r&512&&n!==null&&Wo(n,n.return),t.flags&32){var s=t.stateNode;try{oc(s,"")}catch(v){rt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&YE(s,i),Im(a,o);var d=Im(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?tb(s,f):h==="dangerouslySetInnerHTML"?ZE(s,f):h==="children"?oc(s,f):cy(s,h,f,d)}switch(a){case"input":Em(s,i);break;case"textarea":XE(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ko(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ko(s,!!i.multiple,i.defaultValue,!0):Ko(s,!!i.multiple,i.multiple?[]:"",!1))}s[mc]=i}catch(v){rt(t,t.return,v)}}break;case 6:if(Bn(e,t),gr(t),r&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){rt(t,t.return,v)}}break;case 3:if(Bn(e,t),gr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uc(e.containerInfo)}catch(v){rt(t,t.return,v)}break;case 4:Bn(e,t),gr(t);break;case 13:Bn(e,t),gr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($y=ot())),r&4&&bx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(d=Ht)||h,Bn(e,t),Ht=d):Bn(e,t),gr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(te=t,h=t.child;h!==null;){for(f=te=h;te!==null;){switch(m=te,y=m.child,m.tag){case 0:case 11:case 14:case 15:Bl(4,m,m.return);break;case 1:Wo(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(v){rt(r,n,v)}}break;case 5:Wo(m,m.return);break;case 22:if(m.memoizedState!==null){Tx(f);continue}}y!==null?(y.return=m,te=y):Tx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=eb("display",o))}catch(v){rt(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){rt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bn(e,t),gr(t),r&4&&bx(t);break;case 21:break;default:Bn(e,t),gr(t)}}function gr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CS(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(oc(s,""),r.flags&=-33);var i=Ex(t);rg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ex(t);ng(t,a,o);break;default:throw Error(Y(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SD(t,e,n){te=t,AS(t)}function AS(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Uu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ht;a=Uu;var d=Ht;if(Uu=o,(Ht=l)&&!d)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?Cx(s):l!==null?(l.return=o,te=l):Cx(s);for(;i!==null;)te=i,AS(i),i=i.sibling;te=s,Uu=a,Ht=d}Sx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):Sx(t)}}function Sx(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&lx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&uc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Ht||e.flags&512&&tg(e)}catch(m){rt(e,e.return,m)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Tx(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function Cx(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xh(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){rt(e,s,l)}}var i=e.return;try{tg(e)}catch(l){rt(e,i,l)}break;case 5:var o=e.return;try{tg(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var TD=Math.ceil,th=os.ReactCurrentDispatcher,zy=os.ReactCurrentOwner,Vn=os.ReactCurrentBatchConfig,ke=0,It=null,ct=null,Dt=0,vn=0,qo=gi(0),wt=0,_c=null,to=0,Jh=0,Uy=0,Hl=null,ln=null,$y=0,Ta=1/0,Ur=null,nh=!1,sg=null,Ws=null,$u=!1,Vs=null,rh=0,Wl=0,ig=null,vd=-1,wd=0;function Jt(){return ke&6?ot():vd!==-1?vd:vd=ot()}function qs(t){return t.mode&1?ke&2&&Dt!==0?Dt&-Dt:lD.transition!==null?(wd===0&&(wd=fb()),wd):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:xb(t.type)),t):1}function tr(t,e,n,r){if(50<Wl)throw Wl=0,ig=null,Error(Y(185));zc(t,n,r),(!(ke&2)||t!==It)&&(t===It&&(!(ke&2)&&(Jh|=n),wt===4&&Ns(t,Dt)),hn(t,r),n===1&&ke===0&&!(e.mode&1)&&(Ta=ot()+500,Kh&&yi()))}function hn(t,e){var n=t.callbackNode;l2(t,e);var r=zd(t,t===It?Dt:0);if(r===0)n!==null&&Ow(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ow(n),e===1)t.tag===0?aD(Ix.bind(null,t)):Fb(Ix.bind(null,t)),rD(function(){!(ke&6)&&yi()}),n=null;else{switch(pb(r)){case 1:n=py;break;case 4:n=db;break;case 16:n=Fd;break;case 536870912:n=hb;break;default:n=Fd}n=LS(n,kS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kS(t,e){if(vd=-1,wd=0,ke&6)throw Error(Y(327));var n=t.callbackNode;if(Zo()&&t.callbackNode!==n)return null;var r=zd(t,t===It?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sh(t,r);else{e=r;var s=ke;ke|=2;var i=PS();(It!==t||Dt!==e)&&(Ur=null,Ta=ot()+500,Wi(t,e));do try{ND();break}catch(a){RS(t,a)}while(!0);Iy(),th.current=i,ke=s,ct!==null?e=0:(It=null,Dt=0,e=wt)}if(e!==0){if(e===2&&(s=Pm(t),s!==0&&(r=s,e=og(t,s))),e===1)throw n=_c,Wi(t,0),Ns(t,r),hn(t,ot()),n;if(e===6)Ns(t,r);else{if(s=t.current.alternate,!(r&30)&&!CD(s)&&(e=sh(t,r),e===2&&(i=Pm(t),i!==0&&(r=i,e=og(t,i))),e===1))throw n=_c,Wi(t,0),Ns(t,r),hn(t,ot()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:Pi(t,ln,Ur);break;case 3:if(Ns(t,r),(r&130023424)===r&&(e=$y+500-ot(),10<e)){if(zd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=zm(Pi.bind(null,t,ln,Ur),e);break}Pi(t,ln,Ur);break;case 4:if(Ns(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-er(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TD(r/1960))-r,10<r){t.timeoutHandle=zm(Pi.bind(null,t,ln,Ur),r);break}Pi(t,ln,Ur);break;case 5:Pi(t,ln,Ur);break;default:throw Error(Y(329))}}}return hn(t,ot()),t.callbackNode===n?kS.bind(null,t):null}function og(t,e){var n=Hl;return t.current.memoizedState.isDehydrated&&(Wi(t,e).flags|=256),t=sh(t,e),t!==2&&(e=ln,ln=n,e!==null&&ag(e)),t}function ag(t){ln===null?ln=t:ln.push.apply(ln,t)}function CD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ir(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ns(t,e){for(e&=~Uy,e&=~Jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-er(e),r=1<<n;t[n]=-1,e&=~r}}function Ix(t){if(ke&6)throw Error(Y(327));Zo();var e=zd(t,0);if(!(e&1))return hn(t,ot()),null;var n=sh(t,e);if(t.tag!==0&&n===2){var r=Pm(t);r!==0&&(e=r,n=og(t,r))}if(n===1)throw n=_c,Wi(t,0),Ns(t,e),hn(t,ot()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pi(t,ln,Ur),hn(t,ot()),null}function By(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(Ta=ot()+500,Kh&&yi())}}function no(t){Vs!==null&&Vs.tag===0&&!(ke&6)&&Zo();var e=ke;ke|=1;var n=Vn.transition,r=Oe;try{if(Vn.transition=null,Oe=1,t)return t()}finally{Oe=r,Vn.transition=n,ke=e,!(ke&6)&&yi()}}function Hy(){vn=qo.current,We(qo)}function Wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nD(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Sy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wd();break;case 3:ba(),We(un),We(qt),Dy();break;case 5:Py(r);break;case 4:ba();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:Ny(r.type._context);break;case 22:case 23:Hy()}n=n.return}if(It=t,ct=t=Gs(t.current,null),Dt=vn=e,wt=0,_c=null,Uy=Jh=to=0,ln=Hl=null,Oi!==null){for(e=0;e<Oi.length;e++)if(n=Oi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Oi=null}return t}function RS(t,e){do{var n=ct;try{if(Iy(),md.current=eh,Zd){for(var r=Je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zd=!1}if(eo=0,St=mt=Je=null,$l=!1,vc=0,zy.current=null,n===null||n.return===null){wt=1,_c=e,ct=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=px(o);if(y!==null){y.flags&=-257,mx(y,o,a,i,e),y.mode&1&&fx(i,d,e),e=y,l=d;var b=e.updateQueue;if(b===null){var v=new Set;v.add(l),e.updateQueue=v}else b.add(l);break e}else{if(!(e&1)){fx(i,d,e),Wy();break e}l=Error(Y(426))}}else if(Ke&&a.mode&1){var E=px(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),mx(E,o,a,i,e),Ty(Sa(l,a));break e}}i=l=Sa(l,a),wt!==4&&(wt=2),Hl===null?Hl=[i]:Hl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=pS(i,l,e);ax(i,_);break e;case 1:a=l;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ws===null||!Ws.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=mS(i,a,e);ax(i,k);break e}}i=i.return}while(i!==null)}jS(n)}catch(O){e=O,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function PS(){var t=th.current;return th.current=eh,t===null?eh:t}function Wy(){(wt===0||wt===3||wt===2)&&(wt=4),It===null||!(to&268435455)&&!(Jh&268435455)||Ns(It,Dt)}function sh(t,e){var n=ke;ke|=2;var r=PS();(It!==t||Dt!==e)&&(Ur=null,Wi(t,e));do try{ID();break}catch(s){RS(t,s)}while(!0);if(Iy(),ke=n,th.current=r,ct!==null)throw Error(Y(261));return It=null,Dt=0,wt}function ID(){for(;ct!==null;)DS(ct)}function ND(){for(;ct!==null&&!ZP();)DS(ct)}function DS(t){var e=MS(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?jS(t):ct=e,zy.current=null}function jS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_D(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,ct=null;return}}else if(n=xD(n,e,vn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);wt===0&&(wt=5)}function Pi(t,e,n){var r=Oe,s=Vn.transition;try{Vn.transition=null,Oe=1,AD(t,e,n,r)}finally{Vn.transition=s,Oe=r}return null}function AD(t,e,n,r){do Zo();while(Vs!==null);if(ke&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(c2(t,i),t===It&&(ct=It=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$u||($u=!0,LS(Fd,function(){return Zo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vn.transition,Vn.transition=null;var o=Oe;Oe=1;var a=ke;ke|=4,zy.current=null,bD(t,n),NS(n,t),Q2(Vm),Ud=!!Lm,Vm=Lm=null,t.current=n,SD(n),e2(),ke=a,Oe=o,Vn.transition=i}else t.current=n;if($u&&($u=!1,Vs=t,rh=s),i=t.pendingLanes,i===0&&(Ws=null),r2(n.stateNode),hn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nh)throw nh=!1,t=sg,sg=null,t;return rh&1&&t.tag!==0&&Zo(),i=t.pendingLanes,i&1?t===ig?Wl++:(Wl=0,ig=t):Wl=0,yi(),null}function Zo(){if(Vs!==null){var t=pb(rh),e=Vn.transition,n=Oe;try{if(Vn.transition=null,Oe=16>t?16:t,Vs===null)var r=!1;else{if(t=Vs,Vs=null,rh=0,ke&6)throw Error(Y(331));var s=ke;for(ke|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(te=d;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:Bl(8,h,i)}var f=h.child;if(f!==null)f.return=h,te=f;else for(;te!==null;){h=te;var m=h.sibling,y=h.return;if(TS(h),h===d){te=null;break}if(m!==null){m.return=y,te=m;break}te=y}}}var b=i.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bl(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,te=_;break e}te=i.return}}var w=t.current;for(te=w;te!==null;){o=te;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,te=S;else e:for(o=w;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xh(9,a)}}catch(O){rt(a,a.return,O)}if(a===o){te=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,te=k;break e}te=a.return}}if(ke=s,yi(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(Bh,t)}catch{}r=!0}return r}finally{Oe=n,Vn.transition=e}}return!1}function Nx(t,e,n){e=Sa(n,e),e=pS(t,e,1),t=Hs(t,e,1),e=Jt(),t!==null&&(zc(t,1,e),hn(t,e))}function rt(t,e,n){if(t.tag===3)Nx(t,t,n);else for(;e!==null;){if(e.tag===3){Nx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ws===null||!Ws.has(r))){t=Sa(n,t),t=mS(e,t,1),e=Hs(e,t,1),t=Jt(),e!==null&&(zc(e,1,t),hn(e,t));break}}e=e.return}}function kD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Dt&n)===n&&(wt===4||wt===3&&(Dt&130023424)===Dt&&500>ot()-$y?Wi(t,0):Uy|=n),hn(t,e)}function OS(t,e){e===0&&(t.mode&1?(e=Pu,Pu<<=1,!(Pu&130023424)&&(Pu=4194304)):e=1);var n=Jt();t=Jr(t,e),t!==null&&(zc(t,e,n),hn(t,n))}function RD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),OS(t,n)}function PD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),OS(t,n)}var MS;MS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cn=!1,wD(t,e,n);cn=!!(t.flags&131072)}else cn=!1,Ke&&e.flags&1048576&&zb(e,Kd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yd(t,e),t=e.pendingProps;var s=xa(e,qt.current);Jo(e,n),s=Oy(null,e,r,t,s,n);var i=My();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(i=!0,qd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ky(e),s.updater=Yh,e.stateNode=s,s._reactInternals=e,Gm(e,r,t,n),e=Ym(null,e,r,!0,i,n)):(e.tag=0,Ke&&i&&by(e),Yt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=jD(r),t=Wn(r,t),s){case 0:e=Qm(null,e,r,t,n);break e;case 1:e=vx(null,e,r,t,n);break e;case 11:e=gx(null,e,r,t,n);break e;case 14:e=yx(null,e,r,Wn(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),Qm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),vx(t,e,r,s,n);case 3:e:{if(wS(e),t===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,s=i.element,qb(t,e),Xd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Sa(Error(Y(423)),e),e=wx(t,e,r,n,s);break e}else if(r!==s){s=Sa(Error(Y(424)),e),e=wx(t,e,r,n,s);break e}else for(En=Bs(e.stateNode.containerInfo.firstChild),bn=e,Ke=!0,Yn=null,n=Hb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_a(),r===s){e=Zr(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 5:return Gb(e),t===null&&Hm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Fm(r,s)?o=null:i!==null&&Fm(r,i)&&(e.flags|=32),vS(t,e),Yt(t,e,o,n),e.child;case 6:return t===null&&Hm(e),null;case 13:return xS(t,e,n);case 4:return Ry(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ea(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),gx(t,e,r,s,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Fe(Qd,r._currentValue),r._currentValue=o,i!==null)if(ir(i.value,o)){if(i.children===s.children&&!un.current){e=Zr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Gr(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Wm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Y(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Jo(e,n),s=Fn(s),r=r(s),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return r=e.type,s=Wn(r,e.pendingProps),s=Wn(r.type,s),yx(t,e,r,s,n);case 15:return gS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),yd(t,e),e.tag=1,dn(r)?(t=!0,qd(e)):t=!1,Jo(e,n),fS(e,r,s),Gm(e,r,s,n),Ym(null,e,r,!0,t,n);case 19:return _S(t,e,n);case 22:return yS(t,e,n)}throw Error(Y(156,e.tag))};function LS(t,e){return ub(t,e)}function DD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,r){return new DD(t,e,n,r)}function qy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jD(t){if(typeof t=="function")return qy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dy)return 11;if(t===hy)return 14}return 2}function Gs(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")qy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mo:return qi(n.children,s,i,e);case uy:o=8,s|=8;break;case ym:return t=Mn(12,n,e,s|2),t.elementType=ym,t.lanes=i,t;case vm:return t=Mn(13,n,e,s),t.elementType=vm,t.lanes=i,t;case wm:return t=Mn(19,n,e,s),t.elementType=wm,t.lanes=i,t;case GE:return Zh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WE:o=10;break e;case qE:o=9;break e;case dy:o=11;break e;case hy:o=14;break e;case Ss:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Mn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function qi(t,e,n,r){return t=Mn(7,t,r,e),t.lanes=n,t}function Zh(t,e,n,r){return t=Mn(22,t,r,e),t.elementType=GE,t.lanes=n,t.stateNode={isHidden:!1},t}function jp(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function Op(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mp(0),this.expirationTimes=mp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gy(t,e,n,r,s,i,o,a,l){return t=new OD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Mn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ky(i),t}function MD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function VS(t){if(!t)return ri;t=t._reactInternals;e:{if(go(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(dn(n))return Vb(t,n,e)}return e}function FS(t,e,n,r,s,i,o,a,l){return t=Gy(n,r,!0,t,s,i,o,a,l),t.context=VS(null),n=t.current,r=Jt(),s=qs(n),i=Gr(r,s),i.callback=e??null,Hs(n,i,s),t.current.lanes=s,zc(t,s,r),hn(t,r),t}function ef(t,e,n,r){var s=e.current,i=Jt(),o=qs(s);return n=VS(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hs(s,e,o),t!==null&&(tr(t,s,o,i),pd(t,s,o)),o}function ih(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ax(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ky(t,e){Ax(t,e),(t=t.alternate)&&Ax(t,e)}function LD(){return null}var zS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qy(t){this._internalRoot=t}tf.prototype.render=Qy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));ef(t,e,null,null)};tf.prototype.unmount=Qy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;no(function(){ef(null,t,null,null)}),e[Xr]=null}};function tf(t){this._internalRoot=t}tf.prototype.unstable_scheduleHydration=function(t){if(t){var e=yb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Is.length&&e!==0&&e<Is[n].priority;n++);Is.splice(n,0,t),n===0&&wb(t)}};function Yy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kx(){}function VD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=ih(o);i.call(d)}}var o=FS(e,r,t,0,null,!1,!1,"",kx);return t._reactRootContainer=o,t[Xr]=o.current,fc(t.nodeType===8?t.parentNode:t),no(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=ih(l);a.call(d)}}var l=Gy(t,0,!1,null,null,!1,!1,"",kx);return t._reactRootContainer=l,t[Xr]=l.current,fc(t.nodeType===8?t.parentNode:t),no(function(){ef(e,l,n,r)}),l}function rf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ih(o);a.call(l)}}ef(e,o,t,s)}else o=VD(n,e,t,s,r);return ih(o)}mb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Rl(e.pendingLanes);n!==0&&(my(e,n|1),hn(e,ot()),!(ke&6)&&(Ta=ot()+500,yi()))}break;case 13:no(function(){var r=Jr(t,1);if(r!==null){var s=Jt();tr(r,t,1,s)}}),Ky(t,1)}};gy=function(t){if(t.tag===13){var e=Jr(t,134217728);if(e!==null){var n=Jt();tr(e,t,134217728,n)}Ky(t,134217728)}};gb=function(t){if(t.tag===13){var e=qs(t),n=Jr(t,e);if(n!==null){var r=Jt();tr(n,t,e,r)}Ky(t,e)}};yb=function(){return Oe};vb=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};Am=function(t,e,n){switch(e){case"input":if(Em(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Gh(r);if(!s)throw Error(Y(90));QE(r),Em(r,s)}}}break;case"textarea":XE(t,n);break;case"select":e=n.value,e!=null&&Ko(t,!!n.multiple,e,!1)}};sb=By;ib=no;var FD={usingClientEntryPoint:!1,Events:[$c,zo,Gh,nb,rb,By]},Cl={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zD={bundleType:Cl.bundleType,version:Cl.version,rendererPackageName:Cl.rendererPackageName,rendererConfig:Cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lb(t),t===null?null:t.stateNode},findFiberByHostInstance:Cl.findFiberByHostInstance||LD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Bh=Bu.inject(zD),Tr=Bu}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FD;In.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yy(e))throw Error(Y(200));return MD(t,e,null,n)};In.createRoot=function(t,e){if(!Yy(t))throw Error(Y(299));var n=!1,r="",s=zS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Gy(t,1,!1,null,null,n,!1,r,s),t[Xr]=e.current,fc(t.nodeType===8?t.parentNode:t),new Qy(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=lb(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return no(t)};In.hydrate=function(t,e,n){if(!nf(e))throw Error(Y(200));return rf(null,t,e,!0,n)};In.hydrateRoot=function(t,e,n){if(!Yy(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=zS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=FS(e,null,t,1,n??null,s,!1,i,o),t[Xr]=e.current,fc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new tf(e)};In.render=function(t,e,n){if(!nf(e))throw Error(Y(200));return rf(null,t,e,!1,n)};In.unmountComponentAtNode=function(t){if(!nf(t))throw Error(Y(40));return t._reactRootContainer?(no(function(){rf(null,null,t,!1,function(){t._reactRootContainer=null,t[Xr]=null})}),!0):!1};In.unstable_batchedUpdates=By;In.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nf(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return rf(t,e,n,!1,r)};In.version="18.3.1-next-f1338f8080-20240426";function US(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(US)}catch(t){console.error(t)}}US(),UE.exports=In;var Ln=UE.exports;const UD=NE(Ln);var $S,Rx=Ln;$S=Rx.createRoot,Rx.hydrateRoot;function $D(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var BS={exports:{}},HS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ca=p;function BD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var HD=typeof Object.is=="function"?Object.is:BD,WD=Ca.useState,qD=Ca.useEffect,GD=Ca.useLayoutEffect,KD=Ca.useDebugValue;function QD(t,e){var n=e(),r=WD({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return GD(function(){s.value=n,s.getSnapshot=e,Mp(s)&&i({inst:s})},[t,n,e]),qD(function(){return Mp(s)&&i({inst:s}),t(function(){Mp(s)&&i({inst:s})})},[t]),KD(n),n}function Mp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!HD(t,n)}catch{return!0}}function YD(t,e){return e()}var XD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?YD:QD;HS.useSyncExternalStore=Ca.useSyncExternalStore!==void 0?Ca.useSyncExternalStore:XD;BS.exports=HS;var JD=BS.exports;const ZD=FE.useInsertionEffect,ej=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tj=ej?p.useLayoutEffect:p.useEffect,nj=ZD||tj,WS=t=>{const e=p.useRef([t,(...n)=>e[0](...n)]).current;return nj(()=>{e[0]=t}),e[1]},rj="popstate",Xy="pushState",Jy="replaceState",sj="hashchange",Px=[rj,Xy,Jy,sj],ij=t=>{for(const e of Px)addEventListener(e,t);return()=>{for(const e of Px)removeEventListener(e,t)}},qS=(t,e)=>JD.useSyncExternalStore(ij,t,e),oj=()=>location.search,aj=({ssrSearch:t=""}={})=>qS(oj,()=>t),Dx=()=>location.pathname,lj=({ssrPath:t}={})=>qS(Dx,t?()=>t:Dx),cj=(t,{replace:e=!1,state:n=null}={})=>history[e?Jy:Xy](n,"",t),uj=(t={})=>[lj(t),cj],jx=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[jx]>"u"){for(const t of[Xy,Jy]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,jx,{value:!0})}const dj=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",GS=(t="")=>t==="/"?"":t,hj=(t,e)=>t[0]==="~"?t.slice(1):GS(e)+t,fj=(t="",e)=>dj(Ox(GS(t)),Ox(e)),Ox=t=>{try{return decodeURI(t)}catch{return t}},KS={hook:uj,searchHook:aj,parser:$D,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},QS=p.createContext(KS),Hc=()=>p.useContext(QS),YS={},XS=p.createContext(YS),pj=()=>p.useContext(XS),sf=t=>{const[e,n]=t.hook(t);return[fj(t.base,e),WS((r,s)=>n(hj(r,t.base),s))]},Zy=()=>sf(Hc()),JS=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((f,m)=>[f,l[m]])):o.groups;let h={...l};return d&&Object.assign(h,d),h})(),...r?[a]:[]]:[!1,null]},ZS=({children:t,...e})=>{var h,f;const n=Hc(),r=e.hook?KS:n;let s=r;const[i,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=p.useRef({}),l=a.current,d=l;for(let m in r){const y=m==="base"?r[m]+(e[m]||""):e[m]||r[m];l===d&&y!==d[m]&&(a.current=d={...d}),d[m]=y,y!==r[m]&&(s=d)}return p.createElement(QS.Provider,{value:s,children:t})},Mx=({children:t,component:e},n)=>e?p.createElement(e,{params:n}):typeof t=="function"?t(n):t,mj=t=>{let e=p.useRef(YS),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},vs=({path:t,nest:e,match:n,...r})=>{const s=Hc(),[i]=sf(s),[o,a,l]=n??JS(s.parser,t,i,e),d=mj({...pj(),...a});if(!o)return null;const h=l?p.createElement(ZS,{base:l},Mx(r,d)):Mx(r,d);return p.createElement(XS.Provider,{value:d,children:h})},ro=p.forwardRef((t,e)=>{const n=Hc(),[r,s]=sf(n),{to:i="",href:o=i,onClick:a,asChild:l,children:d,className:h,replace:f,state:m,...y}=t,b=WS(E=>{E.ctrlKey||E.metaKey||E.altKey||E.shiftKey||E.button!==0||(a==null||a(E),E.defaultPrevented||(E.preventDefault(),s(o,t)))}),v=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&p.isValidElement(d)?p.cloneElement(d,{onClick:b,href:v}):p.createElement("a",{...y,onClick:b,href:v,className:h!=null&&h.call?h(r===o):h,children:d,ref:e})}),eT=t=>Array.isArray(t)?t.flatMap(e=>eT(e&&e.type===p.Fragment?e.props.children:e)):[t],gj=({children:t,location:e})=>{const n=Hc(),[r]=sf(n);for(const s of eT(t)){let i=0;if(p.isValidElement(s)&&(i=JS(n.parser,s.props.path,e||r,s.props.nest))[0])return p.cloneElement(s,{match:i})}return null};var of=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},af=typeof window>"u"||"Deno"in globalThis;function qn(){}function yj(t,e){return typeof t=="function"?t(e):t}function vj(t){return typeof t=="number"&&t>=0&&t!==1/0}function wj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Lx(t,e){return typeof t=="function"?t(e):t}function xj(t,e){return typeof t=="function"?t(e):t}function Vx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==ev(o,e.options))return!1}else if(!bc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Fx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ec(e.options.mutationKey)!==Ec(i))return!1}else if(!bc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function ev(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ec)(t)}function Ec(t){return JSON.stringify(t,(e,n)=>lg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function bc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!bc(t[n],e[n])):!1}function tT(t,e){if(t===e)return t;const n=zx(t)&&zx(e);if(n||lg(t)&&lg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=tT(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function zx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function lg(t){if(!Ux(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Ux(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ux(t){return Object.prototype.toString.call(t)==="[object Object]"}function _j(t){return new Promise(e=>{setTimeout(e,t)})}function Ej(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?tT(t,e):e}function bj(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Sj(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var tv=Symbol();function nT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===tv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ui,Ps,ua,xE,Tj=(xE=class extends of{constructor(){super();De(this,Ui);De(this,Ps);De(this,ua);_e(this,ua,e=>{if(!af&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,Ps)||this.setEventListener(H(this,ua))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,Ps))==null||e.call(this),_e(this,Ps,void 0))}setEventListener(e){var n;_e(this,ua,e),(n=H(this,Ps))==null||n.call(this),_e(this,Ps,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,Ui)!==e&&(_e(this,Ui,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof H(this,Ui)=="boolean"?H(this,Ui):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ui=new WeakMap,Ps=new WeakMap,ua=new WeakMap,xE),rT=new Tj,da,Ds,ha,_E,Cj=(_E=class extends of{constructor(){super();De(this,da,!0);De(this,Ds);De(this,ha);_e(this,ha,e=>{if(!af&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,Ds)||this.setEventListener(H(this,ha))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,Ds))==null||e.call(this),_e(this,Ds,void 0))}setEventListener(e){var n;_e(this,ha,e),(n=H(this,Ds))==null||n.call(this),_e(this,Ds,e(this.setOnline.bind(this)))}setOnline(e){H(this,da)!==e&&(_e(this,da,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return H(this,da)}},da=new WeakMap,Ds=new WeakMap,ha=new WeakMap,_E),oh=new Cj;function Ij(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function Nj(t){return Math.min(1e3*2**t,3e4)}function sT(t){return(t??"online")==="online"?oh.isOnline():!0}var iT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Lp(t){return t instanceof iT}function oT(t){let e=!1,n=0,r=!1,s;const i=Ij(),o=v=>{var E;r||(m(new iT(v)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},d=()=>rT.isFocused()&&(t.networkMode==="always"||oh.isOnline())&&t.canRun(),h=()=>sT(t.networkMode)&&t.canRun(),f=v=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,v),s==null||s(),i.reject(v))},y=()=>new Promise(v=>{var E;s=_=>{(r||d())&&v(_)},(E=t.onPause)==null||E.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),b=()=>{if(r)return;let v;const E=n===0?t.initialPromise:void 0;try{v=E??t.fn()}catch(_){v=Promise.reject(_)}Promise.resolve(v).then(f).catch(_=>{var D;if(r)return;const w=t.retry??(af?0:3),S=t.retryDelay??Nj,k=typeof S=="function"?S(n,_):S,O=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,_);if(e||!O){m(_);return}n++,(D=t.onFail)==null||D.call(t,n,_),_j(k).then(()=>d()?void 0:y()).then(()=>{e?m(_):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?b():y().then(b),i)}}function Aj(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Xt=Aj(),$i,EE,aT=(EE=class{constructor(){De(this,$i)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vj(this.gcTime)&&_e(this,$i,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(af?1/0:5*60*1e3))}clearGcTimeout(){H(this,$i)&&(clearTimeout(H(this,$i)),_e(this,$i,void 0))}},$i=new WeakMap,EE),fa,pa,Rn,Ut,Lc,Bi,Kn,zr,bE,kj=(bE=class extends aT{constructor(n){super();De(this,Kn);De(this,fa);De(this,pa);De(this,Rn);De(this,Ut);De(this,Lc);De(this,Bi);_e(this,Bi,!1),_e(this,Lc,n.defaultOptions),this.setOptions(n.options),this.observers=[],_e(this,Rn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,_e(this,fa,Pj(this.options)),this.state=n.state??H(this,fa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=H(this,Ut))==null?void 0:n.promise}setOptions(n){this.options={...H(this,Lc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Rn).remove(this)}setData(n,r){const s=Ej(this.state.data,n,this.options);return Lt(this,Kn,zr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Lt(this,Kn,zr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=H(this,Ut))==null?void 0:s.promise;return(i=H(this,Ut))==null||i.cancel(n),r?r.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,fa))}isActive(){return this.observers.some(n=>xj(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!wj(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,Ut))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,Ut))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),H(this,Rn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(H(this,Ut)&&(H(this,Bi)?H(this,Ut).cancel({revert:!0}):H(this,Ut).cancelRetry()),this.scheduleGc()),H(this,Rn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,Kn,zr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,Ut))return H(this,Ut).continueRetry(),H(this,Ut).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(_e(this,Bi,!0),s.signal)})},o=()=>{const m=nT(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return i(y),_e(this,Bi,!1),this.options.persister?this.options.persister(m,y,this):m(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(d=this.options.behavior)==null||d.onFetch(a,this),_e(this,pa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Lt(this,Kn,zr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=m=>{var y,b,v,E;Lp(m)&&m.silent||Lt(this,Kn,zr).call(this,{type:"error",error:m}),Lp(m)||((b=(y=H(this,Rn).config).onError)==null||b.call(y,m,this),(E=(v=H(this,Rn).config).onSettled)==null||E.call(v,this.state.data,m,this)),this.scheduleGc()};return _e(this,Ut,oT({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var y,b,v,E;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(_){l(_);return}(b=(y=H(this,Rn).config).onSuccess)==null||b.call(y,m,this),(E=(v=H(this,Rn).config).onSettled)==null||E.call(v,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,y)=>{Lt(this,Kn,zr).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Lt(this,Kn,zr).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Kn,zr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),H(this,Ut).start()}},fa=new WeakMap,pa=new WeakMap,Rn=new WeakMap,Ut=new WeakMap,Lc=new WeakMap,Bi=new WeakMap,Kn=new WeakSet,zr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Rj(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Lp(i)&&i.revert&&H(this,pa)?{...H(this,pa),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Xt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),H(this,Rn).notify({query:this,type:"updated",action:n})})},bE);function Rj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Pj(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var wr,SE,Dj=(SE=class extends of{constructor(e={}){super();De(this,wr);this.config=e,_e(this,wr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??ev(s,n);let o=this.get(i);return o||(o=new kj({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){H(this,wr).has(e.queryHash)||(H(this,wr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=H(this,wr).get(e.queryHash);n&&(e.destroy(),n===e&&H(this,wr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,wr).get(e)}getAll(){return[...H(this,wr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Vx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Vx(e,r)):n}notify(e){Xt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},wr=new WeakMap,SE),xr,Qt,Hi,_r,Es,TE,jj=(TE=class extends aT{constructor(n){super();De(this,_r);De(this,xr);De(this,Qt);De(this,Hi);this.mutationId=n.mutationId,_e(this,Qt,n.mutationCache),_e(this,xr,[]),this.state=n.state||Oj(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){H(this,xr).includes(n)||(H(this,xr).push(n),this.clearGcTimeout(),H(this,Qt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){_e(this,xr,H(this,xr).filter(r=>r!==n)),this.scheduleGc(),H(this,Qt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){H(this,xr).length||(this.state.status==="pending"?this.scheduleGc():H(this,Qt).remove(this))}continue(){var n;return((n=H(this,Hi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,d,h,f,m,y,b,v,E,_,w,S,k,O,D,T,C;_e(this,Hi,oT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,A)=>{Lt(this,_r,Es).call(this,{type:"failed",failureCount:I,error:A})},onPause:()=>{Lt(this,_r,Es).call(this,{type:"pause"})},onContinue:()=>{Lt(this,_r,Es).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Qt).canRun(this)}));const r=this.state.status==="pending",s=!H(this,Hi).canStart();try{if(!r){Lt(this,_r,Es).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=H(this,Qt).config).onMutate)==null?void 0:o.call(i,n,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));A!==this.state.context&&Lt(this,_r,Es).call(this,{type:"pending",context:A,variables:n,isPaused:s})}const I=await H(this,Hi).start();return await((h=(d=H(this,Qt).config).onSuccess)==null?void 0:h.call(d,I,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,I,n,this.state.context)),await((b=(y=H(this,Qt).config).onSettled)==null?void 0:b.call(y,I,null,this.state.variables,this.state.context,this)),await((E=(v=this.options).onSettled)==null?void 0:E.call(v,I,null,n,this.state.context)),Lt(this,_r,Es).call(this,{type:"success",data:I}),I}catch(I){try{throw await((w=(_=H(this,Qt).config).onError)==null?void 0:w.call(_,I,n,this.state.context,this)),await((k=(S=this.options).onError)==null?void 0:k.call(S,I,n,this.state.context)),await((D=(O=H(this,Qt).config).onSettled)==null?void 0:D.call(O,void 0,I,this.state.variables,this.state.context,this)),await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,I,n,this.state.context)),I}finally{Lt(this,_r,Es).call(this,{type:"error",error:I})}}finally{H(this,Qt).runNext(this)}}},xr=new WeakMap,Qt=new WeakMap,Hi=new WeakMap,_r=new WeakSet,Es=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Xt.batch(()=>{H(this,xr).forEach(s=>{s.onMutationUpdate(n)}),H(this,Qt).notify({mutation:this,type:"updated",action:n})})},TE);function Oj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yn,Vc,CE,Mj=(CE=class extends of{constructor(e={}){super();De(this,yn);De(this,Vc);this.config=e,_e(this,yn,new Map),_e(this,Vc,Date.now())}build(e,n,r){const s=new jj({mutationCache:this,mutationId:++Cu(this,Vc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Hu(e),r=H(this,yn).get(n)??[];r.push(e),H(this,yn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Hu(e);if(H(this,yn).has(n)){const s=(r=H(this,yn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?H(this,yn).delete(n):H(this,yn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=H(this,yn).get(Hu(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=H(this,yn).get(Hu(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Xt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...H(this,yn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Fx(n,r))}findAll(e={}){return this.getAll().filter(n=>Fx(e,n))}notify(e){Xt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Xt.batch(()=>Promise.all(e.map(n=>n.continue().catch(qn))))}},yn=new WeakMap,Vc=new WeakMap,CE);function Hu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function $x(t){return{onFetch:(e,n)=>{var h,f,m,y,b;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const d=async()=>{let v=!1;const E=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},_=nT(e.options,e.fetchOptions),w=async(S,k,O)=>{if(v)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const D={queryKey:e.queryKey,pageParam:k,direction:O?"backward":"forward",meta:e.options.meta};E(D);const T=await _(D),{maxPages:C}=e.options,I=O?Sj:bj;return{pages:I(S.pages,T,C),pageParams:I(S.pageParams,k,C)}};if(s&&i.length){const S=s==="backward",k=S?Lj:Bx,O={pages:i,pageParams:o},D=k(r,O);a=await w(O,D,S)}else{const S=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:Bx(r,a);if(l>0&&k==null)break;a=await w(a,k),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var v,E;return(E=(v=e.options).persister)==null?void 0:E.call(v,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function Bx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Lj(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var nt,js,Os,ma,ga,Ms,ya,va,IE,Vj=(IE=class{constructor(t={}){De(this,nt);De(this,js);De(this,Os);De(this,ma);De(this,ga);De(this,Ms);De(this,ya);De(this,va);_e(this,nt,t.queryCache||new Dj),_e(this,js,t.mutationCache||new Mj),_e(this,Os,t.defaultOptions||{}),_e(this,ma,new Map),_e(this,ga,new Map),_e(this,Ms,0)}mount(){Cu(this,Ms)._++,H(this,Ms)===1&&(_e(this,ya,rT.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,nt).onFocus())})),_e(this,va,oh.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,nt).onOnline())})))}unmount(){var t,e;Cu(this,Ms)._--,H(this,Ms)===0&&((t=H(this,ya))==null||t.call(this),_e(this,ya,void 0),(e=H(this,va))==null||e.call(this),_e(this,va,void 0))}isFetching(t){return H(this,nt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,js).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,nt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=H(this,nt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Lx(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return H(this,nt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=H(this,nt).get(r.queryHash),i=s==null?void 0:s.state.data,o=yj(e,i);if(o!==void 0)return H(this,nt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Xt.batch(()=>H(this,nt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,nt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=H(this,nt);Xt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=H(this,nt),r={type:"active",...t};return Xt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Xt.batch(()=>H(this,nt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(qn).catch(qn)}invalidateQueries(t={},e={}){return Xt.batch(()=>{if(H(this,nt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Xt.batch(()=>H(this,nt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(qn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(qn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=H(this,nt).build(this,e);return n.isStaleByTime(Lx(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(qn).catch(qn)}fetchInfiniteQuery(t){return t.behavior=$x(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(qn).catch(qn)}ensureInfiniteQueryData(t){return t.behavior=$x(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return oh.isOnline()?H(this,js).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,nt)}getMutationCache(){return H(this,js)}getDefaultOptions(){return H(this,Os)}setDefaultOptions(t){_e(this,Os,t)}setQueryDefaults(t,e){H(this,ma).set(Ec(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,ma).values()];let n={};return e.forEach(r=>{bc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){H(this,ga).set(Ec(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,ga).values()];let n={};return e.forEach(r=>{bc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,Os).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ev(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===tv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,Os).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,nt).clear(),H(this,js).clear()}},nt=new WeakMap,js=new WeakMap,Os=new WeakMap,ma=new WeakMap,ga=new WeakMap,Ms=new WeakMap,ya=new WeakMap,va=new WeakMap,IE),Fj=p.createContext(void 0),zj=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(Fj.Provider,{value:t,children:e}));async function Uj(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const $j=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await Uj(n),await n.json())},Bj=new Vj({defaultOptions:{queries:{queryFn:$j({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Hj=1,Wj=1e6;let Vp=0;function qj(){return Vp=(Vp+1)%Number.MAX_SAFE_INTEGER,Vp.toString()}const Fp=new Map,Hx=t=>{if(Fp.has(t))return;const e=setTimeout(()=>{Fp.delete(t),ql({type:"REMOVE_TOAST",toastId:t})},Wj);Fp.set(t,e)},Gj=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Hj)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Hx(n):t.toasts.forEach(r=>{Hx(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},_d=[];let Ed={toasts:[]};function ql(t){Ed=Gj(Ed,t),_d.forEach(e=>{e(Ed)})}function Kj({...t}){const e=qj(),n=s=>ql({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ql({type:"DISMISS_TOAST",toastId:e});return ql({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function lf(){const[t,e]=p.useState(Ed);return p.useEffect(()=>(_d.push(e),()=>{const n=_d.indexOf(e);n>-1&&_d.splice(n,1)}),[t]),{...t,toast:Kj,dismiss:n=>ql({type:"DISMISS_TOAST",toastId:n})}}function ge(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Wx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lT(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Wx(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Wx(t[s],null)}}}}function Me(...t){return p.useCallback(lT(...t),t)}function Qj(t,e){const n=p.createContext(e),r=i=>{const{children:o,...a}=i,l=p.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function as(t,e=[]){let n=[];function r(i,o){const a=p.createContext(o),l=n.length;n=[...n,o];const d=f=>{var _;const{scope:m,children:y,...b}=f,v=((_=m==null?void 0:m[t])==null?void 0:_[l])||a,E=p.useMemo(()=>b,Object.values(b));return c.jsx(v.Provider,{value:E,children:y})};d.displayName=i+"Provider";function h(f,m){var v;const y=((v=m==null?void 0:m[t])==null?void 0:v[l])||a,b=p.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Yj(s,...e)]}function Yj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ia(t){const e=Jj(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,a=p.Children.toArray(i),l=a.find(Zj);if(l){const d=l.props.children,h=a.map(f=>f===l?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:f);return c.jsx(e,{...o,ref:s,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Xj=Ia("Slot");function Jj(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=tO(s),a=eO(i,s.props);return s.type!==p.Fragment&&(a.ref=r?lT(r,o):o),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cT=Symbol("radix.slottable");function uT(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=cT,e}function Zj(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cT}function eO(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function tO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function dT(t){const e=t+"CollectionProvider",[n,r]=as(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:E,children:_}=v,w=be.useRef(null),S=be.useRef(new Map).current;return c.jsx(s,{scope:E,itemMap:S,collectionRef:w,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=Ia(a),d=be.forwardRef((v,E)=>{const{scope:_,children:w}=v,S=i(a,_),k=Me(E,S.collectionRef);return c.jsx(l,{ref:k,children:w})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=Ia(h),y=be.forwardRef((v,E)=>{const{scope:_,children:w,...S}=v,k=be.useRef(null),O=Me(E,k),D=i(h,_);return be.useEffect(()=>(D.itemMap.set(k,{ref:k,...S}),()=>void D.itemMap.delete(k))),c.jsx(m,{[f]:"",ref:O,children:w})});y.displayName=h;function b(v){const E=i(t+"CollectionConsumer",v);return be.useCallback(()=>{const w=E.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((D,T)=>S.indexOf(D.ref.current)-S.indexOf(T.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},b,r]}var nO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ee=nO.reduce((t,e)=>{const n=Ia(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function hT(t,e){t&&Ln.flushSync(()=>t.dispatchEvent(e))}function fn(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function rO(t,e=globalThis==null?void 0:globalThis.document){const n=fn(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var sO="DismissableLayer",cg="dismissableLayer.update",iO="dismissableLayer.pointerDownOutside",oO="dismissableLayer.focusOutside",qx,fT=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wc=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,d=p.useContext(fT),[h,f]=p.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),b=Me(e,T=>f(T)),v=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),w=h?v.indexOf(h):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,k=w>=_,O=lO(T=>{const C=T.target,I=[...d.branches].some(A=>A.contains(C));!k||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},m),D=cO(T=>{const C=T.target;[...d.branches].some(A=>A.contains(C))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},m);return rO(T=>{w===d.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},m),p.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(qx=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Gx(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=qx)}},[h,m,n,d]),p.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Gx())},[h,d]),p.useEffect(()=>{const T=()=>y({});return document.addEventListener(cg,T),()=>document.removeEventListener(cg,T)},[]),c.jsx(Ee.div,{...l,ref:b,style:{pointerEvents:S?k?"auto":"none":void 0,...t.style},onFocusCapture:ge(t.onFocusCapture,D.onFocusCapture),onBlurCapture:ge(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ge(t.onPointerDownCapture,O.onPointerDownCapture)})});Wc.displayName=sO;var aO="DismissableLayerBranch",pT=p.forwardRef((t,e)=>{const n=p.useContext(fT),r=p.useRef(null),s=Me(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(Ee.div,{...t,ref:s})});pT.displayName=aO;function lO(t,e=globalThis==null?void 0:globalThis.document){const n=fn(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){mT(iO,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function cO(t,e=globalThis==null?void 0:globalThis.document){const n=fn(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&mT(oO,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Gx(){const t=new CustomEvent(cg);document.dispatchEvent(t)}function mT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?hT(s,i):s.dispatchEvent(i)}var uO=Wc,dO=pT,_t=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},hO="Portal",cf=p.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=p.useState(!1);_t(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?UD.createPortal(c.jsx(Ee.div,{...r,ref:e}),o):null});cf.displayName=hO;function fO(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Ha=t=>{const{present:e,children:n}=t,r=pO(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Me(r.ref,mO(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Ha.displayName="Presence";function pO(t){const[e,n]=p.useState(),r=p.useRef({}),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[a,l]=fO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=Wu(r.current);i.current=a==="mounted"?d:"none"},[a]),_t(()=>{const d=r.current,h=s.current;if(h!==t){const m=i.current,y=Wu(d);t?l("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),_t(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=y=>{const v=Wu(r.current).includes(y.animationName);if(y.target===e&&v&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=y=>{y.target===e&&(i.current=Wu(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Wu(t){return(t==null?void 0:t.animationName)||"none"}function mO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Sc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=gO({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=fn(n),l=p.useCallback(d=>{if(i){const f=typeof d=="function"?d(t):d;f!==t&&a(f)}else s(d)},[i,t,s,a]);return[o,l]}function gO({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,s=p.useRef(r),i=fn(e);return p.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var yO="VisuallyHidden",qc=p.forwardRef((t,e)=>c.jsx(Ee.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));qc.displayName=yO;var vO=qc,nv="ToastProvider",[rv,wO,xO]=dT("Toast"),[gT,wB]=as("Toast",[xO]),[_O,uf]=gT(nv),yT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=p.useState(null),[d,h]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${nv}\`. Expected non-empty \`string\`.`),c.jsx(rv.Provider,{scope:e,children:c.jsx(_O,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>h(y=>y+1),[]),onToastRemove:p.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};yT.displayName=nv;var vT="ToastViewport",EO=["F8"],ug="toast.viewportPause",dg="toast.viewportResume",wT=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=EO,label:s="Notifications ({hotkey})",...i}=t,o=uf(vT,n),a=wO(n),l=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=p.useRef(null),m=Me(e,f,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;p.useEffect(()=>{const E=_=>{var S;r.length!==0&&r.every(k=>_[k]||_.code===k)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),p.useEffect(()=>{const E=l.current,_=f.current;if(b&&E&&_){const w=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(ug);_.dispatchEvent(D),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(dg);_.dispatchEvent(D),o.isClosePausedRef.current=!1}},k=D=>{!E.contains(D.relatedTarget)&&S()},O=()=>{E.contains(document.activeElement)||S()};return E.addEventListener("focusin",w),E.addEventListener("focusout",k),E.addEventListener("pointermove",w),E.addEventListener("pointerleave",O),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{E.removeEventListener("focusin",w),E.removeEventListener("focusout",k),E.removeEventListener("pointermove",w),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[b,o.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:E})=>{const w=a().map(S=>{const k=S.ref.current,O=[k,...OO(k)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?w.reverse():w).flat()},[a]);return p.useEffect(()=>{const E=f.current;if(E){const _=w=>{var O,D,T;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const C=document.activeElement,I=w.shiftKey;if(w.target===E&&I){(O=d.current)==null||O.focus();return}const j=v({tabbingDirection:I?"backwards":"forwards"}),R=j.findIndex(B=>B===C);zp(j.slice(R+1))?w.preventDefault():I?(D=d.current)==null||D.focus():(T=h.current)==null||T.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,v]),c.jsxs(dO,{ref:l,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&c.jsx(hg,{ref:d,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});zp(E)}}),c.jsx(rv.Slot,{scope:n,children:c.jsx(Ee.ol,{tabIndex:-1,...i,ref:m})}),b&&c.jsx(hg,{ref:h,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});zp(E)}})]})});wT.displayName=vT;var xT="ToastFocusProxy",hg=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=uf(xT,n);return c.jsx(qc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});hg.displayName=xT;var df="Toast",bO="toast.swipeStart",SO="toast.swipeMove",TO="toast.swipeCancel",CO="toast.swipeEnd",_T=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Sc({prop:r,defaultProp:s,onChange:i});return c.jsx(Ha,{present:n||a,children:c.jsx(AO,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:fn(t.onPause),onResume:fn(t.onResume),onSwipeStart:ge(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ge(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});_T.displayName=df;var[IO,NO]=gT(df,{onClose(){}}),AO=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:y,...b}=t,v=uf(df,n),[E,_]=p.useState(null),w=Me(e,B=>_(B)),S=p.useRef(null),k=p.useRef(null),O=s||v.duration,D=p.useRef(0),T=p.useRef(O),C=p.useRef(0),{onToastAdd:I,onToastRemove:A}=v,P=fn(()=>{var ie;(E==null?void 0:E.contains(document.activeElement))&&((ie=v.viewport)==null||ie.focus()),o()}),j=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(C.current),D.current=new Date().getTime(),C.current=window.setTimeout(P,B))},[P]);p.useEffect(()=>{const B=v.viewport;if(B){const ie=()=>{j(T.current),d==null||d()},z=()=>{const K=new Date().getTime()-D.current;T.current=T.current-K,window.clearTimeout(C.current),l==null||l()};return B.addEventListener(ug,z),B.addEventListener(dg,ie),()=>{B.removeEventListener(ug,z),B.removeEventListener(dg,ie)}}},[v.viewport,O,l,d,j]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&j(O)},[i,O,v.isClosePausedRef,j]),p.useEffect(()=>(I(),()=>A()),[I,A]);const R=p.useMemo(()=>E?NT(E):null,[E]);return v.viewport?c.jsxs(c.Fragment,{children:[R&&c.jsx(kO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),c.jsx(IO,{scope:n,onClose:P,children:Ln.createPortal(c.jsx(rv.ItemSlot,{scope:n,children:c.jsx(uO,{asChild:!0,onEscapeKeyDown:ge(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||P(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...b,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ge(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:ge(t.onPointerDown,B=>{B.button===0&&(S.current={x:B.clientX,y:B.clientY})}),onPointerMove:ge(t.onPointerMove,B=>{if(!S.current)return;const ie=B.clientX-S.current.x,z=B.clientY-S.current.y,K=!!k.current,M=["left","right"].includes(v.swipeDirection),L=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,U=M?L(0,ie):0,Q=M?0:L(0,z),q=B.pointerType==="touch"?10:2,re={x:U,y:Q},ee={originalEvent:B,delta:re};K?(k.current=re,qu(SO,f,ee,{discrete:!1})):Kx(re,v.swipeDirection,q)?(k.current=re,qu(bO,h,ee,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(ie)>q||Math.abs(z)>q)&&(S.current=null)}),onPointerUp:ge(t.onPointerUp,B=>{const ie=k.current,z=B.target;if(z.hasPointerCapture(B.pointerId)&&z.releasePointerCapture(B.pointerId),k.current=null,S.current=null,ie){const K=B.currentTarget,M={originalEvent:B,delta:ie};Kx(ie,v.swipeDirection,v.swipeThreshold)?qu(CO,y,M,{discrete:!0}):qu(TO,m,M,{discrete:!0}),K.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),kO=t=>{const{__scopeToast:e,children:n,...r}=t,s=uf(df,e),[i,o]=p.useState(!1),[a,l]=p.useState(!1);return DO(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:c.jsx(cf,{asChild:!0,children:c.jsx(qc,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},RO="ToastTitle",ET=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Ee.div,{...r,ref:e})});ET.displayName=RO;var PO="ToastDescription",bT=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Ee.div,{...r,ref:e})});bT.displayName=PO;var ST="ToastAction",TT=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(IT,{altText:n,asChild:!0,children:c.jsx(sv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ST}\`. Expected non-empty \`string\`.`),null)});TT.displayName=ST;var CT="ToastClose",sv=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=NO(CT,n);return c.jsx(IT,{asChild:!0,children:c.jsx(Ee.button,{type:"button",...r,ref:e,onClick:ge(t.onClick,s.onClose)})})});sv.displayName=CT;var IT=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function NT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),jO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...NT(r))}}),e}function qu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?hT(s,i):s.dispatchEvent(i)}var Kx=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function DO(t=()=>{}){const e=fn(t);_t(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function jO(t){return t.nodeType===t.ELEMENT_NODE}function OO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function zp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var MO=yT,AT=wT,kT=_T,RT=ET,PT=bT,DT=TT,jT=sv;function OT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=OT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function MT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=OT(t))&&(r&&(r+=" "),r+=e);return r}const Qx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Yx=MT,Gc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Yx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=Qx(h)||Qx(f);return s[d][m]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...y}=h;return Object.entries(y).every(b=>{let[v,E]=b;return Array.isArray(E)?E.includes({...i,...a}[v]):{...i,...a}[v]===E})?[...d,f,m]:d},[]);return Yx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LT=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>p.createElement("svg",{ref:l,...VO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:LT("lucide",s),...a},[...o.map(([d,h])=>p.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(FO,{ref:i,iconNode:e,className:LT(`lucide-${LO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=fe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=fe("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=fe("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=fe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=fe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=fe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=fe("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=fe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=fe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=fe("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=fe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=fe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=fe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=fe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ov="-",oM=t=>{const e=lM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ov);return a[0]===""&&a.length!==1&&a.shift(),GT(a,e)||aM(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},GT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?GT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ov);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},n_=/^\[(.+)\]$/,aM=t=>{if(n_.test(t)){const e=n_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},lM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return uM(Object.entries(t.classGroups),n).forEach(([i,o])=>{gg(o,r,i,e)}),r},gg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:r_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(cM(s)){gg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{gg(o,r_(e,i),n,r)})})},r_=(t,e)=>{let n=t;return e.split(ov).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},cM=t=>t.isThemeGetter,uM=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,dM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},KT="!",hM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let d=0,h=0,f;for(let E=0;E<a.length;E++){let _=a[E];if(d===0){if(_===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(h,E)),h=E+i;continue}if(_==="/"){f=E;continue}}_==="["?d++:_==="]"&&d--}const m=l.length===0?a:a.substring(h),y=m.startsWith(KT),b=y?m.substring(1):m,v=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},fM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},pM=t=>({cache:dM(t.cacheSize),parseClassName:hM(t),...oM(t)}),mM=/\s+/,gM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(mM);let a="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}=n(d);let b=!!y,v=r(b?m.substring(0,y):m);if(!v){if(!b){a=d+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=d+(a.length>0?" "+a:a);continue}b=!1}const E=fM(h).join(":"),_=f?E+KT:E,w=_+v;if(i.includes(w))continue;i.push(w);const S=s(v,b);for(let k=0;k<S.length;++k){const O=S[k];i.push(_+O)}a=d+(a.length>0?" "+a:a)}return a};function yM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=QT(e))&&(r&&(r+=" "),r+=n);return r}const QT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=QT(t[r]))&&(n&&(n+=" "),n+=e);return n};function vM(t,...e){let n,r,s,i=o;function o(l){const d=e.reduce((h,f)=>f(h),t());return n=pM(d),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const d=r(l);if(d)return d;const h=gM(l,n);return s(l,h),h}return function(){return i(yM.apply(null,arguments))}}const $e=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},YT=/^\[(?:([a-z-]+):)?(.+)\]$/i,wM=/^\d+\/\d+$/,xM=new Set(["px","full","screen"]),_M=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fr=t=>ea(t)||xM.has(t)||wM.test(t),ws=t=>Wa(t,"length",DM),ea=t=>!!t&&!Number.isNaN(Number(t)),Up=t=>Wa(t,"number",ea),Il=t=>!!t&&Number.isInteger(Number(t)),CM=t=>t.endsWith("%")&&ea(t.slice(0,-1)),we=t=>YT.test(t),xs=t=>_M.test(t),IM=new Set(["length","size","percentage"]),NM=t=>Wa(t,IM,XT),AM=t=>Wa(t,"position",XT),kM=new Set(["image","url"]),RM=t=>Wa(t,kM,OM),PM=t=>Wa(t,"",jM),Nl=()=>!0,Wa=(t,e,n)=>{const r=YT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},DM=t=>EM.test(t)&&!bM.test(t),XT=()=>!1,jM=t=>SM.test(t),OM=t=>TM.test(t),MM=()=>{const t=$e("colors"),e=$e("spacing"),n=$e("blur"),r=$e("brightness"),s=$e("borderColor"),i=$e("borderRadius"),o=$e("borderSpacing"),a=$e("borderWidth"),l=$e("contrast"),d=$e("grayscale"),h=$e("hueRotate"),f=$e("invert"),m=$e("gap"),y=$e("gradientColorStops"),b=$e("gradientColorStopPositions"),v=$e("inset"),E=$e("margin"),_=$e("opacity"),w=$e("padding"),S=$e("saturate"),k=$e("scale"),O=$e("sepia"),D=$e("skew"),T=$e("space"),C=$e("translate"),I=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",we,e],j=()=>[we,e],R=()=>["",Fr,ws],B=()=>["auto",ea,we],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",we],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[ea,we];return{cacheSize:500,separator:":",theme:{colors:[Nl],spacing:[Fr,ws],blur:["none","",xs,we],brightness:Q(),borderColor:[t],borderRadius:["none","","full",xs,we],borderSpacing:j(),borderWidth:R(),contrast:Q(),grayscale:L(),hueRotate:Q(),invert:L(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[CM,ws],inset:P(),margin:P(),opacity:Q(),padding:j(),saturate:Q(),scale:Q(),sepia:L(),skew:Q(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[xs]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),we]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Il,we]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Il,we]}],"grid-cols":[{"grid-cols":[Nl]}],"col-start-end":[{col:["auto",{span:["full",Il,we]},we]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Nl]}],"row-start-end":[{row:["auto",{span:[Il,we]},we]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,e]}],"min-w":[{"min-w":[we,e,"min","max","fit"]}],"max-w":[{"max-w":[we,e,"none","full","min","max","fit","prose",{screen:[xs]},xs]}],h:[{h:[we,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xs,ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Up]}],"font-family":[{font:[Nl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",ea,Up]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fr,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fr,ws]}],"underline-offset":[{"underline-offset":["auto",Fr,we]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),AM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Fr,we]}],"outline-w":[{outline:[Fr,ws]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Fr,ws]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xs,PM]}],"shadow-color":[{shadow:[Nl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xs,we]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Il,we]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Fr,ws,Up]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LM=vM(MM);function J(...t){return LM(MT(t))}const VM=MO,JT=p.forwardRef(({className:t,...e},n)=>c.jsx(AT,{ref:n,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));JT.displayName=AT.displayName;const FM=Gc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ZT=p.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(kT,{ref:r,className:J(FM({variant:e}),t),...n}));ZT.displayName=kT.displayName;const zM=p.forwardRef(({className:t,...e},n)=>c.jsx(DT,{ref:n,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));zM.displayName=DT.displayName;const eC=p.forwardRef(({className:t,...e},n)=>c.jsx(jT,{ref:n,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(ff,{className:"h-4 w-4"})}));eC.displayName=jT.displayName;const tC=p.forwardRef(({className:t,...e},n)=>c.jsx(RT,{ref:n,className:J("text-sm font-semibold",t),...e}));tC.displayName=RT.displayName;const nC=p.forwardRef(({className:t,...e},n)=>c.jsx(PT,{ref:n,className:J("text-sm opacity-90",t),...e}));nC.displayName=PT.displayName;function UM(){const{toasts:t}=lf();return c.jsxs(VM,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(ZT,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(tC,{children:n}),r&&c.jsx(nC,{children:r})]}),s,c.jsx(eC,{})]},e)}),c.jsx(JT,{})]})}var $M=FE[" useId ".trim().toString()]||(()=>{}),BM=0;function ta(t){const[e,n]=p.useState($M());return _t(()=>{n(r=>r??String(BM++))},[t]),e?`radix-${e}`:""}const HM=["top","right","bottom","left"],ii=Math.min,wn=Math.max,ah=Math.round,Gu=Math.floor,Ir=t=>({x:t,y:t}),WM={left:"right",right:"left",bottom:"top",top:"bottom"},qM={start:"end",end:"start"};function yg(t,e,n){return wn(t,ii(e,n))}function es(t,e){return typeof t=="function"?t(e):t}function ts(t){return t.split("-")[0]}function qa(t){return t.split("-")[1]}function av(t){return t==="x"?"y":"x"}function lv(t){return t==="y"?"height":"width"}function oi(t){return["top","bottom"].includes(ts(t))?"y":"x"}function cv(t){return av(oi(t))}function GM(t,e,n){n===void 0&&(n=!1);const r=qa(t),s=cv(t),i=lv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=lh(o)),[o,lh(o)]}function KM(t){const e=lh(t);return[vg(t),e,vg(e)]}function vg(t){return t.replace(/start|end/g,e=>qM[e])}function QM(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function YM(t,e,n,r){const s=qa(t);let i=QM(ts(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(vg)))),i}function lh(t){return t.replace(/left|right|bottom|top/g,e=>WM[e])}function XM(t){return{top:0,right:0,bottom:0,left:0,...t}}function rC(t){return typeof t!="number"?XM(t):{top:t,right:t,bottom:t,left:t}}function ch(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function s_(t,e,n){let{reference:r,floating:s}=t;const i=oi(e),o=cv(e),a=lv(o),l=ts(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let y;switch(l){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(qa(e)){case"start":y[o]-=m*(n&&d?-1:1);break;case"end":y[o]+=m*(n&&d?-1:1);break}return y}const JM=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=s_(d,r,l),m=r,y={},b=0;for(let v=0;v<a.length;v++){const{name:E,fn:_}=a[v],{x:w,y:S,data:k,reset:O}=await _({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=w??h,f=S??f,y={...y,[E]:{...y[E],...k}},O&&b<=50&&(b++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(d=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:f}=s_(d,m,l)),v=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:y}};async function Tc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=es(e,t),b=rC(y),E=a[m?f==="floating"?"reference":"floating":f],_=ch(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:l})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},O=ch(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(_.top-O.top+b.top)/k.y,bottom:(O.bottom-_.bottom+b.bottom)/k.y,left:(_.left-O.left+b.left)/k.x,right:(O.right-_.right+b.right)/k.x}}const ZM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:d,padding:h=0}=es(t,e)||{};if(d==null)return{};const f=rC(h),m={x:n,y:r},y=cv(s),b=lv(y),v=await o.getDimensions(d),E=y==="y",_=E?"top":"left",w=E?"bottom":"right",S=E?"clientHeight":"clientWidth",k=i.reference[b]+i.reference[y]-m[y]-i.floating[b],O=m[y]-i.reference[y],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let T=D?D[S]:0;(!T||!await(o.isElement==null?void 0:o.isElement(D)))&&(T=a.floating[S]||i.floating[b]);const C=k/2-O/2,I=T/2-v[b]/2-1,A=ii(f[_],I),P=ii(f[w],I),j=A,R=T-v[b]-P,B=T/2-v[b]/2+C,ie=yg(j,B,R),z=!l.arrow&&qa(s)!=null&&B!==ie&&i.reference[b]/2-(B<j?A:P)-v[b]/2<0,K=z?B<j?B-j:B-R:0;return{[y]:m[y]+K,data:{[y]:ie,centerOffset:B-ie-K,...z&&{alignmentOffset:K}},reset:z}}}),eL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...E}=es(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=ts(s),w=oi(a),S=ts(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(d.floating)),O=m||(S||!v?[lh(a)]:KM(a)),D=b!=="none";!m&&D&&O.push(...YM(a,v,b,k));const T=[a,...O],C=await Tc(e,E),I=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(C[_]),f){const B=GM(s,o,k);I.push(C[B[0]],C[B[1]])}if(A=[...A,{placement:s,overflows:I}],!I.every(B=>B<=0)){var P,j;const B=(((P=i.flip)==null?void 0:P.index)||0)+1,ie=T[B];if(ie)return{data:{index:B,overflows:A},reset:{placement:ie}};let z=(j=A.filter(K=>K.overflows[0]<=0).sort((K,M)=>K.overflows[1]-M.overflows[1])[0])==null?void 0:j.placement;if(!z)switch(y){case"bestFit":{var R;const K=(R=A.filter(M=>{if(D){const L=oi(M.placement);return L===w||L==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(L=>L>0).reduce((L,U)=>L+U,0)]).sort((M,L)=>M[1]-L[1])[0])==null?void 0:R[0];K&&(z=K);break}case"initialPlacement":z=a;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function i_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function o_(t){return HM.some(e=>t[e]>=0)}const tL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=es(t,e);switch(r){case"referenceHidden":{const i=await Tc(e,{...s,elementContext:"reference"}),o=i_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:o_(o)}}}case"escaped":{const i=await Tc(e,{...s,altBoundary:!0}),o=i_(i,n.floating);return{data:{escapedOffsets:o,escaped:o_(o)}}}default:return{}}}}};async function nL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ts(n),a=qa(n),l=oi(n)==="y",d=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,f=es(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(y=a==="end"?b*-1:b),l?{x:y*h,y:m*d}:{x:m*d,y:y*h}}const rL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await nL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},sL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:_,y:w}=E;return{x:_,y:w}}},...l}=es(t,e),d={x:n,y:r},h=await Tc(e,l),f=oi(ts(s)),m=av(f);let y=d[m],b=d[f];if(i){const E=m==="y"?"top":"left",_=m==="y"?"bottom":"right",w=y+h[E],S=y-h[_];y=yg(w,y,S)}if(o){const E=f==="y"?"top":"left",_=f==="y"?"bottom":"right",w=b+h[E],S=b-h[_];b=yg(w,b,S)}const v=a.fn({...e,[m]:y,[f]:b});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[f]:o}}}}}},iL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:d=!0}=es(t,e),h={x:n,y:r},f=oi(s),m=av(f);let y=h[m],b=h[f];const v=es(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const S=m==="y"?"height":"width",k=i.reference[m]-i.floating[S]+E.mainAxis,O=i.reference[m]+i.reference[S]-E.mainAxis;y<k?y=k:y>O&&(y=O)}if(d){var _,w;const S=m==="y"?"width":"height",k=["top","left"].includes(ts(s)),O=i.reference[f]-i.floating[S]+(k&&((_=o.offset)==null?void 0:_[f])||0)+(k?0:E.crossAxis),D=i.reference[f]+i.reference[S]+(k?0:((w=o.offset)==null?void 0:w[f])||0)-(k?E.crossAxis:0);b<O?b=O:b>D&&(b=D)}return{[m]:y,[f]:b}}}},oL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...d}=es(t,e),h=await Tc(e,d),f=ts(s),m=qa(s),y=oi(s)==="y",{width:b,height:v}=i.floating;let E,_;f==="top"||f==="bottom"?(E=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,E=m==="end"?"top":"bottom");const w=v-h.top-h.bottom,S=b-h.left-h.right,k=ii(v-h[E],w),O=ii(b-h[_],S),D=!e.middlewareData.shift;let T=k,C=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=w),D&&!m){const A=wn(h.left,0),P=wn(h.right,0),j=wn(h.top,0),R=wn(h.bottom,0);y?C=b-2*(A!==0||P!==0?A+P:wn(h.left,h.right)):T=v-2*(j!==0||R!==0?j+R:wn(h.top,h.bottom))}await l({...e,availableWidth:C,availableHeight:T});const I=await o.getDimensions(a.floating);return b!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function pf(){return typeof window<"u"}function Ga(t){return sC(t)?(t.nodeName||"").toLowerCase():"#document"}function Sn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Or(t){var e;return(e=(sC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function sC(t){return pf()?t instanceof Node||t instanceof Sn(t).Node:!1}function or(t){return pf()?t instanceof Element||t instanceof Sn(t).Element:!1}function Rr(t){return pf()?t instanceof HTMLElement||t instanceof Sn(t).HTMLElement:!1}function a_(t){return!pf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sn(t).ShadowRoot}function Kc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function aL(t){return["table","td","th"].includes(Ga(t))}function mf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function uv(t){const e=dv(),n=or(t)?ar(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function lL(t){let e=ai(t);for(;Rr(e)&&!Aa(e);){if(uv(e))return e;if(mf(e))return null;e=ai(e)}return null}function dv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Aa(t){return["html","body","#document"].includes(Ga(t))}function ar(t){return Sn(t).getComputedStyle(t)}function gf(t){return or(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ai(t){if(Ga(t)==="html")return t;const e=t.assignedSlot||t.parentNode||a_(t)&&t.host||Or(t);return a_(e)?e.host:e}function iC(t){const e=ai(t);return Aa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Rr(e)&&Kc(e)?e:iC(e)}function Cc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=iC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Sn(s);if(i){const a=wg(o);return e.concat(o,o.visualViewport||[],Kc(s)?s:[],a&&n?Cc(a):[])}return e.concat(s,Cc(s,[],n))}function wg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function oC(t){const e=ar(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Rr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=ah(n)!==i||ah(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function hv(t){return or(t)?t:t.contextElement}function na(t){const e=hv(t);if(!Rr(e))return Ir(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=oC(e);let o=(i?ah(n.width):n.width)/r,a=(i?ah(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const cL=Ir(0);function aC(t){const e=Sn(t);return!dv()||!e.visualViewport?cL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sn(t)?!1:e}function io(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=hv(t);let o=Ir(1);e&&(r?or(r)&&(o=na(r)):o=na(t));const a=uL(i,n,r)?aC(i):Ir(0);let l=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=Sn(i),y=r&&or(r)?Sn(r):r;let b=m,v=wg(b);for(;v&&r&&y!==b;){const E=na(v),_=v.getBoundingClientRect(),w=ar(v),S=_.left+(v.clientLeft+parseFloat(w.paddingLeft))*E.x,k=_.top+(v.clientTop+parseFloat(w.paddingTop))*E.y;l*=E.x,d*=E.y,h*=E.x,f*=E.y,l+=S,d+=k,b=Sn(v),v=wg(b)}}return ch({width:h,height:f,x:l,y:d})}function fv(t,e){const n=gf(t).scrollLeft;return e?e.left+n:io(Or(t)).left+n}function lC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:fv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function dL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Or(r),a=e?mf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},d=Ir(1);const h=Ir(0),f=Rr(r);if((f||!f&&!i)&&((Ga(r)!=="body"||Kc(o))&&(l=gf(r)),Rr(r))){const y=io(r);d=na(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const m=o&&!f&&!i?lC(o,l,!0):Ir(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-l.scrollTop*d.y+h.y+m.y}}function hL(t){return Array.from(t.getClientRects())}function fL(t){const e=Or(t),n=gf(t),r=t.ownerDocument.body,s=wn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=wn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+fv(t);const a=-n.scrollTop;return ar(r).direction==="rtl"&&(o+=wn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function pL(t,e){const n=Sn(t),r=Or(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=dv();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function mL(t,e){const n=io(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Rr(t)?na(t):Ir(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,d=r*i.y;return{width:o,height:a,x:l,y:d}}function l_(t,e,n){let r;if(e==="viewport")r=pL(t,n);else if(e==="document")r=fL(Or(t));else if(or(e))r=mL(e,n);else{const s=aC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return ch(r)}function cC(t,e){const n=ai(t);return n===e||!or(n)||Aa(n)?!1:ar(n).position==="fixed"||cC(n,e)}function gL(t,e){const n=e.get(t);if(n)return n;let r=Cc(t,[],!1).filter(a=>or(a)&&Ga(a)!=="body"),s=null;const i=ar(t).position==="fixed";let o=i?ai(t):t;for(;or(o)&&!Aa(o);){const a=ar(o),l=uv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Kc(o)&&!l&&cC(t,o))?r=r.filter(h=>h!==o):s=a,o=ai(o)}return e.set(t,r),r}function yL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?mf(e)?[]:gL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((d,h)=>{const f=l_(e,h,s);return d.top=wn(f.top,d.top),d.right=ii(f.right,d.right),d.bottom=ii(f.bottom,d.bottom),d.left=wn(f.left,d.left),d},l_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function vL(t){const{width:e,height:n}=oC(t);return{width:e,height:n}}function wL(t,e,n){const r=Rr(e),s=Or(e),i=n==="fixed",o=io(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ir(0);if(r||!r&&!i)if((Ga(e)!=="body"||Kc(s))&&(a=gf(e)),r){const m=io(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=fv(s));const d=s&&!r&&!i?lC(s,a):Ir(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function $p(t){return ar(t).position==="static"}function c_(t,e){if(!Rr(t)||ar(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Or(t)===n&&(n=n.ownerDocument.body),n}function uC(t,e){const n=Sn(t);if(mf(t))return n;if(!Rr(t)){let s=ai(t);for(;s&&!Aa(s);){if(or(s)&&!$p(s))return s;s=ai(s)}return n}let r=c_(t,e);for(;r&&aL(r)&&$p(r);)r=c_(r,e);return r&&Aa(r)&&$p(r)&&!uv(r)?n:r||lL(t)||n}const xL=async function(t){const e=this.getOffsetParent||uC,n=this.getDimensions,r=await n(t.floating);return{reference:wL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _L(t){return ar(t).direction==="rtl"}const EL={convertOffsetParentRelativeRectToViewportRelativeRect:dL,getDocumentElement:Or,getClippingRect:yL,getOffsetParent:uC,getElementRects:xL,getClientRects:hL,getDimensions:vL,getScale:na,isElement:or,isRTL:_L};function dC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bL(t,e){let n=null,r;const s=Or(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:y}=d;if(a||e(),!m||!y)return;const b=Gu(f),v=Gu(s.clientWidth-(h+m)),E=Gu(s.clientHeight-(f+y)),_=Gu(h),S={rootMargin:-b+"px "+-v+"px "+-E+"px "+-_+"px",threshold:wn(0,ii(1,l))||1};let k=!0;function O(D){const T=D[0].intersectionRatio;if(T!==l){if(!k)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!dC(d,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(O,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,S)}n.observe(t)}return o(!0),i}function SL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=hv(t),h=s||i?[...d?Cc(d):[],...Cc(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=d&&a?bL(d,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(_=>{let[w]=_;w&&w.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(e)})),n()}),d&&!l&&y.observe(d),y.observe(e));let b,v=l?io(t):null;l&&E();function E(){const _=io(t);v&&!dC(v,_)&&n(),v=_,b=requestAnimationFrame(E)}return n(),()=>{var _;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(_=y)==null||_.disconnect(),y=null,l&&cancelAnimationFrame(b)}}const TL=rL,CL=sL,IL=eL,NL=oL,AL=tL,u_=ZM,kL=iL,RL=(t,e,n)=>{const r=new Map,s={platform:EL,...n},i={...s.platform,_c:r};return JM(t,e,{...s,platform:i})};var bd=typeof document<"u"?p.useLayoutEffect:p.useEffect;function uh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!uh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!uh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function hC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function d_(t,e){const n=hC(t);return Math.round(e*n)/n}function Bp(t){const e=p.useRef(t);return bd(()=>{e.current=t}),e}function PL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:d}=t,[h,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=p.useState(r);uh(m,r)||y(r);const[b,v]=p.useState(null),[E,_]=p.useState(null),w=p.useCallback(M=>{M!==D.current&&(D.current=M,v(M))},[]),S=p.useCallback(M=>{M!==T.current&&(T.current=M,_(M))},[]),k=i||b,O=o||E,D=p.useRef(null),T=p.useRef(null),C=p.useRef(h),I=l!=null,A=Bp(l),P=Bp(s),j=Bp(d),R=p.useCallback(()=>{if(!D.current||!T.current)return;const M={placement:e,strategy:n,middleware:m};P.current&&(M.platform=P.current),RL(D.current,T.current,M).then(L=>{const U={...L,isPositioned:j.current!==!1};B.current&&!uh(C.current,U)&&(C.current=U,Ln.flushSync(()=>{f(U)}))})},[m,e,n,P,j]);bd(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[d]);const B=p.useRef(!1);bd(()=>(B.current=!0,()=>{B.current=!1}),[]),bd(()=>{if(k&&(D.current=k),O&&(T.current=O),k&&O){if(A.current)return A.current(k,O,R);R()}},[k,O,R,A,I]);const ie=p.useMemo(()=>({reference:D,floating:T,setReference:w,setFloating:S}),[w,S]),z=p.useMemo(()=>({reference:k,floating:O}),[k,O]),K=p.useMemo(()=>{const M={position:n,left:0,top:0};if(!z.floating)return M;const L=d_(z.floating,h.x),U=d_(z.floating,h.y);return a?{...M,transform:"translate("+L+"px, "+U+"px)",...hC(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:U}},[n,a,z.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:R,refs:ie,elements:z,floatingStyles:K}),[h,R,ie,z,K])}const DL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?u_({element:r.current,padding:s}).fn(n):{}:r?u_({element:r,padding:s}).fn(n):{}}}},jL=(t,e)=>({...TL(t),options:[t,e]}),OL=(t,e)=>({...CL(t),options:[t,e]}),ML=(t,e)=>({...kL(t),options:[t,e]}),LL=(t,e)=>({...IL(t),options:[t,e]}),VL=(t,e)=>({...NL(t),options:[t,e]}),FL=(t,e)=>({...AL(t),options:[t,e]}),zL=(t,e)=>({...DL(t),options:[t,e]});var UL="Arrow",fC=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(Ee.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});fC.displayName=UL;var $L=fC;function pC(t){const[e,n]=p.useState(void 0);return _t(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var pv="Popper",[mC,yf]=as(pv),[BL,gC]=mC(pv),yC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return c.jsx(BL,{scope:e,anchor:r,onAnchorChange:s,children:n})};yC.displayName=pv;var vC="PopperAnchor",wC=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=gC(vC,n),o=p.useRef(null),a=Me(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(Ee.div,{...s,ref:a})});wC.displayName=vC;var mv="PopperContent",[HL,WL]=mC(mv),xC=p.forwardRef((t,e)=>{var W,se,ye,ne,pe,ve;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:b,...v}=t,E=gC(mv,n),[_,w]=p.useState(null),S=Me(e,qe=>w(qe)),[k,O]=p.useState(null),D=pC(k),T=(D==null?void 0:D.width)??0,C=(D==null?void 0:D.height)??0,I=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(d)?d:[d],j=P.length>0,R={padding:A,boundary:P.filter(GL),altBoundary:j},{refs:B,floatingStyles:ie,placement:z,isPositioned:K,middlewareData:M}=PL({strategy:"fixed",placement:I,whileElementsMounted:(...qe)=>SL(...qe,{animationFrame:y==="always"}),elements:{reference:E.anchor},middleware:[jL({mainAxis:s+C,alignmentAxis:o}),l&&OL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ML():void 0,...R}),l&&LL({...R}),VL({...R,apply:({elements:qe,rects:Qe,availableWidth:nn,availableHeight:Ot})=>{const{width:An,height:xi}=Qe.reference,ze=qe.floating.style;ze.setProperty("--radix-popper-available-width",`${nn}px`),ze.setProperty("--radix-popper-available-height",`${Ot}px`),ze.setProperty("--radix-popper-anchor-width",`${An}px`),ze.setProperty("--radix-popper-anchor-height",`${xi}px`)}}),k&&zL({element:k,padding:a}),KL({arrowWidth:T,arrowHeight:C}),m&&FL({strategy:"referenceHidden",...R})]}),[L,U]=bC(z),Q=fn(b);_t(()=>{K&&(Q==null||Q())},[K,Q]);const q=(W=M.arrow)==null?void 0:W.x,re=(se=M.arrow)==null?void 0:se.y,ee=((ye=M.arrow)==null?void 0:ye.centerOffset)!==0,[ue,le]=p.useState();return _t(()=>{_&&le(window.getComputedStyle(_).zIndex)},[_]),c.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:K?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(ne=M.transformOrigin)==null?void 0:ne.x,(pe=M.transformOrigin)==null?void 0:pe.y].join(" "),...((ve=M.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(HL,{scope:n,placedSide:L,onArrowChange:O,arrowX:q,arrowY:re,shouldHideArrow:ee,children:c.jsx(Ee.div,{"data-side":L,"data-align":U,...v,ref:S,style:{...v.style,animation:K?void 0:"none"}})})})});xC.displayName=mv;var _C="PopperArrow",qL={top:"bottom",right:"left",bottom:"top",left:"right"},EC=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=WL(_C,r),o=qL[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx($L,{...s,ref:n,style:{...s.style,display:"block"}})})});EC.displayName=_C;function GL(t){return t!==null}var KL=t=>({name:"transformOrigin",options:t,fn(e){var E,_,w;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[d,h]=bC(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,y=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let b="",v="";return d==="bottom"?(b=o?f:`${m}px`,v=`${-l}px`):d==="top"?(b=o?f:`${m}px`,v=`${r.floating.height+l}px`):d==="right"?(b=`${-l}px`,v=o?f:`${y}px`):d==="left"&&(b=`${r.floating.width+l}px`,v=o?f:`${y}px`),{data:{x:b,y:v}}}});function bC(t){const[e,n="center"]=t.split("-");return[e,n]}var QL=yC,SC=wC,TC=xC,CC=EC,[vf,xB]=as("Tooltip",[yf]),gv=yf(),IC="TooltipProvider",YL=700,h_="tooltip.open",[XL,NC]=vf(IC),AC=t=>{const{__scopeTooltip:e,delayDuration:n=YL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=p.useRef(!0),a=p.useRef(!1),l=p.useRef(0);return p.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),c.jsx(XL,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:p.useCallback(d=>{a.current=d},[]),disableHoverableContent:s,children:i})};AC.displayName=IC;var kC="Tooltip",[_B,wf]=vf(kC),xg="TooltipTrigger",JL=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=wf(xg,n),i=NC(xg,n),o=gv(n),a=p.useRef(null),l=Me(e,a,s.onTriggerChange),d=p.useRef(!1),h=p.useRef(!1),f=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(SC,{asChild:!0,...o,children:c.jsx(Ee.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ge(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ge(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ge(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ge(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:ge(t.onBlur,s.onClose),onClick:ge(t.onClick,s.onClose)})})});JL.displayName=xg;var ZL="TooltipPortal",[EB,e4]=vf(ZL,{forceMount:void 0}),ka="TooltipContent",RC=p.forwardRef((t,e)=>{const n=e4(ka,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=wf(ka,t.__scopeTooltip);return c.jsx(Ha,{present:r||o.open,children:o.disableHoverableContent?c.jsx(PC,{side:s,...i,ref:e}):c.jsx(t4,{side:s,...i,ref:e})})}),t4=p.forwardRef((t,e)=>{const n=wf(ka,t.__scopeTooltip),r=NC(ka,t.__scopeTooltip),s=p.useRef(null),i=Me(e,s),[o,a]=p.useState(null),{trigger:l,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,m=p.useCallback(()=>{a(null),f(!1)},[f]),y=p.useCallback((b,v)=>{const E=b.currentTarget,_={x:b.clientX,y:b.clientY},w=o4(_,E.getBoundingClientRect()),S=a4(_,w),k=l4(v.getBoundingClientRect()),O=u4([...S,...k]);a(O),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(l&&h){const b=E=>y(E,h),v=E=>y(E,l);return l.addEventListener("pointerleave",b),h.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",v)}}},[l,h,y,m]),p.useEffect(()=>{if(o){const b=v=>{const E=v.target,_={x:v.clientX,y:v.clientY},w=(l==null?void 0:l.contains(E))||(h==null?void 0:h.contains(E)),S=!c4(_,o);w?m():S&&(m(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,h,o,d,m]),c.jsx(PC,{...t,ref:i})}),[n4,r4]=vf(kC,{isInside:!1}),s4=uT("TooltipContent"),PC=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=wf(ka,n),d=gv(n),{onClose:h}=l;return p.useEffect(()=>(document.addEventListener(h_,h),()=>document.removeEventListener(h_,h)),[h]),p.useEffect(()=>{if(l.trigger){const f=m=>{const y=m.target;y!=null&&y.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),c.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:c.jsxs(TC,{"data-state":l.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(s4,{children:r}),c.jsx(n4,{scope:n,isInside:!0,children:c.jsx(vO,{id:l.contentId,role:"tooltip",children:s||r})})]})})});RC.displayName=ka;var DC="TooltipArrow",i4=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=gv(n);return r4(DC,n).isInside?null:c.jsx(CC,{...s,...r,ref:e})});i4.displayName=DC;function o4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function a4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function l4(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function c4(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,d=e[o].x,h=e[o].y;l>r!=h>r&&n<(d-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function u4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),d4(e)}function d4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var h4=AC,jC=RC;const f4=h4,p4=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(jC,{ref:r,sideOffset:e,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));p4.displayName=jC.displayName;const m4="modulepreload",g4=function(t){return"/trace-classroom-crm/"+t},f_={},Ku=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=g4(l),l in f_)return;f_[l]=!0;const d=l.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":m4,d||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((m,y)=>{f.addEventListener("load",m),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},y4=()=>{};var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},v4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},MC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,y=d&63;l||(y=64,o||(m=64)),r.push(n[h],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):v4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new w4;const m=i<<2|a>>4;if(r.push(m),d!==64){const y=a<<4&240|d>>2;if(r.push(y),f!==64){const b=d<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class w4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x4=function(t){const e=OC(t);return MC.encodeByteArray(e,!0)},dh=function(t){return x4(t).replace(/\./g,"")},LC=function(t){try{return MC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=()=>_4().__FIREBASE_DEFAULTS__,b4=()=>{if(typeof process>"u"||typeof p_>"u")return;const t=p_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},S4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LC(t[1]);return e&&JSON.parse(e)},xf=()=>{try{return y4()||E4()||b4()||S4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VC=t=>{var e,n;return(n=(e=xf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},T4=t=>{const e=VC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FC=()=>{var t;return(t=xf())==null?void 0:t.config},zC=t=>{var e;return(e=xf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dh(JSON.stringify(n)),dh(JSON.stringify(o)),""].join(".")}const Kl={};function N4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?t.emulator.push(e):t.prod.push(e);return t}function A4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let m_=!1;function $C(t,e){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||Kl[t]===e||Kl[t]||m_)return;Kl[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=N4().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{m_=!0,o()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=A4(r),y=n("text"),b=document.getElementById(y)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),w=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;a(S),h(E,v);const k=d();l(w,_),S.append(w,b,E,k),document.body.appendChild(S)}i?(b.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function R4(){var e;const t=(e=xf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function D4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O4(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M4(){return!R4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L4(){try{return typeof indexedDB=="object"}catch{return!1}}function V4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="FirebaseError";class ls extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=F4,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?z4(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ls(s,a,r)}}function z4(t,e){return t.replace(U4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const U4=/\{\$([^}]+)}/g;function $4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(g_(i)&&g_(o)){if(!oo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function g_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function B4(t,e){const n=new H4(t,e);return n.subscribe.bind(n)}class H4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Hp),s.error===void 0&&(s.error=Hp),s.complete===void 0&&(s.complete=Hp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t){return t&&t._delegate?t._delegate:t}class ao{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new C4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K4(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:G4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G4(t){return t===Di?void 0:t}function K4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new q4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const Y4={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},X4=Ce.INFO,J4={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},Z4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=J4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yv{constructor(e){this.name=e,this._logLevel=X4,this._logHandler=Z4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const eV=(t,e)=>e.some(n=>t instanceof n);let y_,v_;function tV(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nV(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BC=new WeakMap,_g=new WeakMap,HC=new WeakMap,Wp=new WeakMap,vv=new WeakMap;function rV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Qs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&BC.set(n,t)}).catch(()=>{}),vv.set(e,t),e}function sV(t){if(_g.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});_g.set(t,e)}let Eg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iV(t){Eg=t(Eg)}function oV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qp(this),e,...n);return HC.set(r,e.sort?e.sort():[e]),Qs(r)}:nV().includes(t)?function(...e){return t.apply(qp(this),e),Qs(BC.get(this))}:function(...e){return Qs(t.apply(qp(this),e))}}function aV(t){return typeof t=="function"?oV(t):(t instanceof IDBTransaction&&sV(t),eV(t,tV())?new Proxy(t,Eg):t)}function Qs(t){if(t instanceof IDBRequest)return rV(t);if(Wp.has(t))return Wp.get(t);const e=aV(t);return e!==t&&(Wp.set(t,e),vv.set(e,t)),e}const qp=t=>vv.get(t);function lV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Qs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qs(o.result),l.oldVersion,l.newVersion,Qs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const cV=["get","getKey","getAll","getAllKeys","count"],uV=["put","add","delete","clear"],Gp=new Map;function w_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=uV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||cV.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return Gp.set(e,i),i}iV(t=>({...t,get:(e,n,r)=>w_(e,n)||t.get(e,n,r),has:(e,n)=>!!w_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bg="@firebase/app",x_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new yv("@firebase/app"),fV="@firebase/app-compat",pV="@firebase/analytics-compat",mV="@firebase/analytics",gV="@firebase/app-check-compat",yV="@firebase/app-check",vV="@firebase/auth",wV="@firebase/auth-compat",xV="@firebase/database",_V="@firebase/data-connect",EV="@firebase/database-compat",bV="@firebase/functions",SV="@firebase/functions-compat",TV="@firebase/installations",CV="@firebase/installations-compat",IV="@firebase/messaging",NV="@firebase/messaging-compat",AV="@firebase/performance",kV="@firebase/performance-compat",RV="@firebase/remote-config",PV="@firebase/remote-config-compat",DV="@firebase/storage",jV="@firebase/storage-compat",OV="@firebase/firestore",MV="@firebase/ai",LV="@firebase/firestore-compat",VV="firebase",FV="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="[DEFAULT]",zV={[bg]:"fire-core",[fV]:"fire-core-compat",[mV]:"fire-analytics",[pV]:"fire-analytics-compat",[yV]:"fire-app-check",[gV]:"fire-app-check-compat",[vV]:"fire-auth",[wV]:"fire-auth-compat",[xV]:"fire-rtdb",[_V]:"fire-data-connect",[EV]:"fire-rtdb-compat",[bV]:"fire-fn",[SV]:"fire-fn-compat",[TV]:"fire-iid",[CV]:"fire-iid-compat",[IV]:"fire-fcm",[NV]:"fire-fcm-compat",[AV]:"fire-perf",[kV]:"fire-perf-compat",[RV]:"fire-rc",[PV]:"fire-rc-compat",[DV]:"fire-gcs",[jV]:"fire-gcs-compat",[OV]:"fire-fst",[LV]:"fire-fst-compat",[MV]:"fire-vertex","fire-js":"fire-js",[VV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,UV=new Map,Tg=new Map;function __(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ra(t){const e=t.name;if(Tg.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;Tg.set(e,t);for(const n of hh.values())__(n,t);for(const n of UV.values())__(n,t);return!0}function wv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Qc("app","Firebase",$V);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=FV;function WC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Sg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ys.create("bad-app-name",{appName:String(s)});if(n||(n=FC()),!n)throw Ys.create("no-options");const i=hh.get(s);if(i){if(oo(n,i.options)&&oo(r,i.config))return i;throw Ys.create("duplicate-app",{appName:s})}const o=new Q4(s);for(const l of Tg.values())o.addComponent(l);const a=new BV(n,r,o);return hh.set(s,a),a}function qC(t=Sg){const e=hh.get(t);if(!e&&t===Sg&&FC())return WC();if(!e)throw Ys.create("no-app",{appName:t});return e}function Xs(t,e,n){let r=zV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(o.join(" "));return}Ra(new ao(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="firebase-heartbeat-database",WV=1,Ic="firebase-heartbeat-store";let Kp=null;function GC(){return Kp||(Kp=lV(HV,WV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ic)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),Kp}async function qV(t){try{const n=(await GC()).transaction(Ic),r=await n.objectStore(Ic).get(KC(t));return await n.done,r}catch(e){if(e instanceof ls)ns.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(n.message)}}}async function E_(t,e){try{const r=(await GC()).transaction(Ic,"readwrite");await r.objectStore(Ic).put(e,KC(t)),await r.done}catch(n){if(n instanceof ls)ns.warn(n.message);else{const r=Ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ns.warn(r.message)}}}function KC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=1024,KV=30;class QV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=b_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>KV){const o=JV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ns.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b_(),{heartbeatsToSend:r,unsentEntries:s}=YV(this._heartbeatsCache.heartbeats),i=dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ns.warn(n),""}}}function b_(){return new Date().toISOString().substring(0,10)}function YV(t,e=GV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),S_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),S_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L4()?V4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S_(t){return dh(JSON.stringify({version:2,heartbeats:t})).length}function JV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){Ra(new ao("platform-logger",e=>new dV(e),"PRIVATE")),Ra(new ao("heartbeat",e=>new QV(e),"PRIVATE")),Xs(bg,x_,t),Xs(bg,x_,"esm2020"),Xs("fire-js","")}ZV("");function QC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const e3=QC,YC=new Qc("auth","Firebase",QC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new yv("@firebase/auth");function t3(t,...e){fh.logLevel<=Ce.WARN&&fh.warn(`Auth (${Qa}): ${t}`,...e)}function Sd(t,...e){fh.logLevel<=Ce.ERROR&&fh.error(`Auth (${Qa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,...e){throw _v(t,...e)}function nr(t,...e){return _v(t,...e)}function xv(t,e,n){const r={...e3(),[e]:n};return new Qc("auth","Firebase",r).create(e,{appName:t.name})}function Gi(t){return xv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function n3(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pr(t,"argument-error"),xv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _v(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YC.create(t,...e)}function de(t,e,...n){if(!t)throw _v(e,...n)}function Wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sd(e),new Error(e)}function rs(t,e){t||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function r3(){return T_()==="http:"||T_()==="https:"}function T_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r3()||D4()||"connection"in navigator)?navigator.onLine:!0}function i3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=k4()||j4()}get(){return s3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e){rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],l3=new Xc(3e4,6e4);function bv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ya(t,e,n,r,s={}){return JC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Yc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:l,...i};return P4()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ka(t.emulatorConfig.host)&&(d.credentials="include"),XC.fetch()(await ZC(t,t.config.apiHost,n,a),d)})}async function JC(t,e,n){t._canInitEmulator=!1;const r={...o3,...e};try{const s=new u3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Qu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Qu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Qu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw xv(t,h,d);Pr(t,h)}}catch(s){if(s instanceof ls)throw s;Pr(t,"network-request-failed",{message:String(s)})}}async function c3(t,e,n,r,s={}){const i=await Ya(t,e,n,r,s);return"mfaPendingCredential"in i&&Pr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function ZC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Ev(t.config,s):`${t.config.apiScheme}://${s}`;return a3.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class u3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nr(this.auth,"network-request-failed")),l3.get())})}}function Qu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=nr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e){return Ya(t,"POST","/v1/accounts:delete",e)}async function ph(t,e){return Ya(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h3(t,e=!1){const n=Cn(t),r=await n.getIdToken(e),s=Sv(r);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ql(Qp(s.auth_time)),issuedAtTime:Ql(Qp(s.iat)),expirationTime:Ql(Qp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Qp(t){return Number(t)*1e3}function Sv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sd("JWT malformed, contained fewer than 3 sections"),null;try{const s=LC(n);return s?JSON.parse(s):(Sd("Failed to decode base64 JWT payload"),null)}catch(s){return Sd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function C_(t){const e=Sv(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ls&&f3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Nc(t,ph(e,{idToken:n}));de(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?eI(s.providerUserInfo):[],o=g3(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ig(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function m3(t){const e=Cn(t);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function eI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,e){const n=await JC(t,{},async()=>{const r=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await ZC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ka(t.emulatorConfig.host)&&(l.credentials="include"),XC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function v3(t,e){return Ya(t,"POST","/v2/accounts:revokeToken",bv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=C_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await y3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ra;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ra,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new p3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ig(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Nc(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return h3(this,e)}reload(){return m3(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await Nc(this,d3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:y,providerData:b,stsTokenManager:v}=n;de(f&&v,e,"internal-error");const E=ra.fromJSON(this.name,v);de(typeof f=="string",e,"internal-error"),_s(r,e.name),_s(s,e.name),de(typeof m=="boolean",e,"internal-error"),de(typeof y=="boolean",e,"internal-error"),_s(i,e.name),_s(o,e.name),_s(a,e.name),_s(l,e.name),_s(d,e.name),_s(h,e.name);const _=new Jn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:d,lastLoginAt:h});return b&&Array.isArray(b)&&(_.providerData=b.map(w=>({...w}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new ra;s.updateFromServerResponse(n);const i=new Jn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await mh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];de(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?eI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ra;a.updateFromIdToken(r);const l=new Jn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ig(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;function qr(t){rs(t instanceof Function,"Expected a class definition");let e=I_.get(t);return e?(rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,I_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tI.type="NONE";const N_=tI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t,e,n){return`firebase:${t}:${e}:${n}`}class sa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Td(this.userKey,s.apiKey,i),this.fullPersistenceKey=Td("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ph(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new sa(qr(N_),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||qr(N_);const o=Td(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await ph(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Jn._fromGetAccountInfoResponse(e,m,h)}else f=Jn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new sa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new sa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aI(e))return"Blackberry";if(lI(e))return"Webos";if(rI(e))return"Safari";if((e.includes("chrome/")||sI(e))&&!e.includes("edge/"))return"Chrome";if(oI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nI(t=Gt()){return/firefox\//i.test(t)}function rI(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sI(t=Gt()){return/crios\//i.test(t)}function iI(t=Gt()){return/iemobile/i.test(t)}function oI(t=Gt()){return/android/i.test(t)}function aI(t=Gt()){return/blackberry/i.test(t)}function lI(t=Gt()){return/webos/i.test(t)}function Tv(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function w3(t=Gt()){var e;return Tv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function x3(){return O4()&&document.documentMode===10}function cI(t=Gt()){return Tv(t)||oI(t)||lI(t)||aI(t)||/windows phone/i.test(t)||iI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t,e=[]){let n;switch(t){case"Browser":n=A_(Gt());break;case"Worker":n=`${A_(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e={}){return Ya(t,"GET","/v2/passwordPolicy",bv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=6;class S3{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??b3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k_(this),this.idTokenSubscription=new k_(this),this.beforeStateQueue=new _3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await sa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ph(this,{idToken:e}),r=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(Gi(this));const n=e?Cn(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E3(this),n=new S3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await v3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await sa.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&t3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function _f(t){return Cn(t)}class k_{constructor(e){this.auth=e,this.observer=null,this.addObserver=B4(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C3(t){Cv=t}function I3(t){return Cv.loadJS(t)}function N3(){return Cv.gapiScript}function A3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t,e){const n=wv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(oo(i,e??{}))return s;Pr(s,"already-initialized")}return n.initialize({options:e})}function R3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function P3(t,e,n){const r=_f(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=dI(e),{host:o,port:a}=D3(e),l=a===null?"":`:${a}`,d={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(oo(d,r.config.emulator)&&oo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ka(o)?(UC(`${i}//${o}${l}`),$C("Auth",!0)):j3()}function dI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function D3(t){const e=dI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:R_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:R_(o)}}}function R_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t,e){return c3(t,"POST","/v1/accounts:signInWithIdp",bv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="http://localhost";class lo extends hI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new lo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ia(e,n)}buildRequest(){const e={requestUri:O3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Iv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Jc{constructor(){super("facebook.com")}static credential(e){return lo._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn extends Jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lo._fromParams({providerId:xn.PROVIDER_ID,signInMethod:xn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xn.credentialFromTaggedObject(e)}static credentialFromError(e){return xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xn.credential(n,r)}catch{return null}}}xn.GOOGLE_SIGN_IN_METHOD="google.com";xn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Jc{constructor(){super("github.com")}static credential(e){return lo._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Jc{constructor(){super("twitter.com")}static credential(e,n){return lo._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rs.credential(n,r)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Jn._fromIdTokenResponse(e,r,s),o=P_(r);return new Pa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=P_(r);return new Pa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function P_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends ls{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gh(e,n,r,s)}}function fI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(t,i,e,r):i})}async function M3(t,e,n=!1){const r=await Nc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Pa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(t,e,n=!1){const{auth:r}=t;if(Xn(r.app))return Promise.reject(Gi(r));const s="reauthenticate";try{const i=await Nc(t,fI(r,s,e,t),n);de(i.idToken,r,"internal-error");const o=Sv(i.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),Pa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Pr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(t,e,n=!1){if(Xn(t.app))return Promise.reject(Gi(t));const r="signIn",s=await fI(t,r,e),i=await Pa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function F3(t,e,n,r){return Cn(t).onIdTokenChanged(e,n,r)}function z3(t,e,n){return Cn(t).beforeAuthStateChanged(e,n)}function U3(t,e,n,r){return Cn(t).onAuthStateChanged(e,n,r)}function $3(t){return Cn(t).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=1e3,H3=10;class mI extends pI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);x3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,H3):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mI.type="LOCAL";const W3=mI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI extends pI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gI.type="SESSION";const yI=gI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await q3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=Nv("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function K3(t){Nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function Q3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function X3(){return vI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="firebaseLocalStorageDb",J3=1,vh="firebaseLocalStorage",xI="fbase_key";class Zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bf(t,e){return t.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function Z3(){const t=indexedDB.deleteDatabase(wI);return new Zc(t).toPromise()}function Ng(){const t=indexedDB.open(wI,J3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vh,{keyPath:xI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),await Z3(),e(await Ng()))})})}async function D_(t,e,n){const r=bf(t,!0).put({[xI]:e,value:n});return new Zc(r).toPromise()}async function e6(t,e){const n=bf(t,!1).get(e),r=await new Zc(n).toPromise();return r===void 0?null:r.value}function j_(t,e){const n=bf(t,!0).delete(e);return new Zc(n).toPromise()}const t6=800,n6=3;class _I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>n6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ef._getInstance(X3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Q3(),!this.activeServiceWorker)return;this.sender=new G3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ng();return await D_(e,yh,"1"),await j_(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>D_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>e6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=bf(s,!1).getAll();return new Zc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_I.type="LOCAL";const r6=_I;new Xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t,e){return e?qr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends hI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function s6(t){return V3(t.auth,new Av(t),t.bypassAuthState)}function i6(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),L3(n,new Av(t),t.bypassAuthState)}async function o6(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),M3(n,new Av(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s6;case"linkViaPopup":case"linkViaRedirect":return o6;case"reauthViaPopup":case"reauthViaRedirect":return i6;default:Pr(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=new Xc(2e3,1e4);async function Yp(t,e,n){if(Xn(t.app))return Promise.reject(nr(t,"operation-not-supported-in-this-environment"));const r=_f(t);n3(t,e,Iv);const s=EI(r,n);return new Li(r,"signInViaPopup",e,s).executeNotNull()}class Li extends bI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Li.currentPopupAction&&Li.currentPopupAction.cancel(),Li.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=Nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Li.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a6.get())};e()}}Li.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="pendingRedirect",Cd=new Map;class c6 extends bI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const r=await u6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u6(t,e){const n=f6(e),r=h6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function d6(t,e){Cd.set(t._key(),e)}function h6(t){return qr(t._redirectPersistence)}function f6(t){return Td(l6,t.config.apiKey,t.name)}async function p6(t,e,n=!1){if(Xn(t.app))return Promise.reject(Gi(t));const r=_f(t),s=EI(r,e),o=await new c6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=10*60*1e3;class g6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(nr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m6&&this.cachedEventUids.clear(),this.cachedEventUids.has(O_(e))}saveEventToCache(e){this.cachedEventUids.add(O_(e)),this.lastProcessedEventTime=Date.now()}}function O_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(t,e={}){return Ya(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x6=/^https?/;async function _6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await v6(t);for(const n of e)try{if(E6(n))return}catch{}Pr(t,"unauthorized-domain")}function E6(t){const e=Cg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!x6.test(n))return!1;if(w6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=new Xc(3e4,6e4);function M_(){const t=Nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S6(t){return new Promise((e,n)=>{var s,i,o;function r(){M_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M_(),n(nr(t,"network-request-failed"))},timeout:b6.get()})}if((i=(s=Nr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Nr().gapi)!=null&&o.load)r();else{const a=A3("iframefcb");return Nr()[a]=()=>{gapi.load?r():n(nr(t,"network-request-failed"))},I3(`${N3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Id=null,e})}let Id=null;function T6(t){return Id=Id||S6(t),Id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=new Xc(5e3,15e3),I6="__/auth/iframe",N6="emulator/auth/iframe",A6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R6(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ev(e,N6):`https://${t.config.authDomain}/${I6}`,r={apiKey:e.apiKey,appName:t.name,v:Qa},s=k6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Yc(r).slice(1)}`}async function P6(t){const e=await T6(t),n=Nr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:R6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=nr(t,"network-request-failed"),a=Nr().setTimeout(()=>{i(o)},C6.get());function l(){Nr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j6=500,O6=600,M6="_blank",L6="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V6(t,e,n,r=j6,s=O6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...D6,width:r.toString(),height:s.toString(),top:i,left:o},d=Gt().toLowerCase();n&&(a=sI(d)?M6:n),nI(d)&&(e=e||L6,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[y,b])=>`${m}${y}=${b},`,"");if(w3(d)&&a!=="_self")return F6(e||"",a),new L_(null);const f=window.open(e||"",a,h);de(f,t,"popup-blocked");try{f.focus()}catch{}return new L_(f)}function F6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="__/auth/handler",U6="emulator/auth/handler",$6=encodeURIComponent("fac");async function V_(t,e,n,r,s,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qa,eventId:s};if(e instanceof Iv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Jc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${$6}=${encodeURIComponent(l)}`:"";return`${B6(t)}?${Yc(a).slice(1)}${d}`}function B6({config:t}){return t.emulator?Ev(t,U6):`https://${t.authDomain}/${z6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="webStorageSupport";class H6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yI,this._completeRedirectFn=p6,this._overrideRedirectResult=d6}async _openPopup(e,n,r,s){var o;rs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await V_(e,n,r,Cg(),s);return V6(e,i,Nv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await V_(e,n,r,Cg(),s);return K3(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(rs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await P6(e),r=new g6(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xp,{type:Xp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Xp];i!==void 0&&n(!!i),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cI()||rI()||Tv()}}const W6=H6;var F_="@firebase/auth",z_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K6(t){Ra(new ao("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uI(t)},d=new T3(r,s,i,l);return R3(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ra(new ao("auth-internal",e=>{const n=_f(e.getProvider("auth").getImmediate());return(r=>new q6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(F_,z_,G6(t)),Xs(F_,z_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=5*60,Y6=zC("authIdTokenMaxAge")||Q6;let U_=null;const X6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Y6)return;const s=n==null?void 0:n.token;U_!==s&&(U_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function J6(t=qC()){const e=wv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k3(t,{popupRedirectResolver:W6,persistence:[r6,W3,yI]}),r=zC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=X6(i.toString());z3(n,o,()=>o(n.currentUser)),F3(n,a=>o(a))}}const s=VC("auth");return s&&P3(n,`http://${s}`),n}function Z6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}C3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=nr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Z6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K6("Browser");var e5="firebase",t5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(e5,t5,"app");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,TI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,C){function I(){}I.prototype=C.prototype,T.F=C.prototype,T.prototype=new I,T.prototype.constructor=T,T.D=function(A,P,j){for(var R=Array(arguments.length-2),B=2;B<arguments.length;B++)R[B-2]=arguments[B];return C.prototype[P].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,C,I){I||(I=0);const A=Array(16);if(typeof C=="string")for(var P=0;P<16;++P)A[P]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(P=0;P<16;++P)A[P]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=T.g[0],I=T.g[1],P=T.g[2];let j=T.g[3],R;R=C+(j^I&(P^j))+A[0]+3614090360&4294967295,C=I+(R<<7&4294967295|R>>>25),R=j+(P^C&(I^P))+A[1]+3905402710&4294967295,j=C+(R<<12&4294967295|R>>>20),R=P+(I^j&(C^I))+A[2]+606105819&4294967295,P=j+(R<<17&4294967295|R>>>15),R=I+(C^P&(j^C))+A[3]+3250441966&4294967295,I=P+(R<<22&4294967295|R>>>10),R=C+(j^I&(P^j))+A[4]+4118548399&4294967295,C=I+(R<<7&4294967295|R>>>25),R=j+(P^C&(I^P))+A[5]+1200080426&4294967295,j=C+(R<<12&4294967295|R>>>20),R=P+(I^j&(C^I))+A[6]+2821735955&4294967295,P=j+(R<<17&4294967295|R>>>15),R=I+(C^P&(j^C))+A[7]+4249261313&4294967295,I=P+(R<<22&4294967295|R>>>10),R=C+(j^I&(P^j))+A[8]+1770035416&4294967295,C=I+(R<<7&4294967295|R>>>25),R=j+(P^C&(I^P))+A[9]+2336552879&4294967295,j=C+(R<<12&4294967295|R>>>20),R=P+(I^j&(C^I))+A[10]+4294925233&4294967295,P=j+(R<<17&4294967295|R>>>15),R=I+(C^P&(j^C))+A[11]+2304563134&4294967295,I=P+(R<<22&4294967295|R>>>10),R=C+(j^I&(P^j))+A[12]+1804603682&4294967295,C=I+(R<<7&4294967295|R>>>25),R=j+(P^C&(I^P))+A[13]+4254626195&4294967295,j=C+(R<<12&4294967295|R>>>20),R=P+(I^j&(C^I))+A[14]+2792965006&4294967295,P=j+(R<<17&4294967295|R>>>15),R=I+(C^P&(j^C))+A[15]+1236535329&4294967295,I=P+(R<<22&4294967295|R>>>10),R=C+(P^j&(I^P))+A[1]+4129170786&4294967295,C=I+(R<<5&4294967295|R>>>27),R=j+(I^P&(C^I))+A[6]+3225465664&4294967295,j=C+(R<<9&4294967295|R>>>23),R=P+(C^I&(j^C))+A[11]+643717713&4294967295,P=j+(R<<14&4294967295|R>>>18),R=I+(j^C&(P^j))+A[0]+3921069994&4294967295,I=P+(R<<20&4294967295|R>>>12),R=C+(P^j&(I^P))+A[5]+3593408605&4294967295,C=I+(R<<5&4294967295|R>>>27),R=j+(I^P&(C^I))+A[10]+38016083&4294967295,j=C+(R<<9&4294967295|R>>>23),R=P+(C^I&(j^C))+A[15]+3634488961&4294967295,P=j+(R<<14&4294967295|R>>>18),R=I+(j^C&(P^j))+A[4]+3889429448&4294967295,I=P+(R<<20&4294967295|R>>>12),R=C+(P^j&(I^P))+A[9]+568446438&4294967295,C=I+(R<<5&4294967295|R>>>27),R=j+(I^P&(C^I))+A[14]+3275163606&4294967295,j=C+(R<<9&4294967295|R>>>23),R=P+(C^I&(j^C))+A[3]+4107603335&4294967295,P=j+(R<<14&4294967295|R>>>18),R=I+(j^C&(P^j))+A[8]+1163531501&4294967295,I=P+(R<<20&4294967295|R>>>12),R=C+(P^j&(I^P))+A[13]+2850285829&4294967295,C=I+(R<<5&4294967295|R>>>27),R=j+(I^P&(C^I))+A[2]+4243563512&4294967295,j=C+(R<<9&4294967295|R>>>23),R=P+(C^I&(j^C))+A[7]+1735328473&4294967295,P=j+(R<<14&4294967295|R>>>18),R=I+(j^C&(P^j))+A[12]+2368359562&4294967295,I=P+(R<<20&4294967295|R>>>12),R=C+(I^P^j)+A[5]+4294588738&4294967295,C=I+(R<<4&4294967295|R>>>28),R=j+(C^I^P)+A[8]+2272392833&4294967295,j=C+(R<<11&4294967295|R>>>21),R=P+(j^C^I)+A[11]+1839030562&4294967295,P=j+(R<<16&4294967295|R>>>16),R=I+(P^j^C)+A[14]+4259657740&4294967295,I=P+(R<<23&4294967295|R>>>9),R=C+(I^P^j)+A[1]+2763975236&4294967295,C=I+(R<<4&4294967295|R>>>28),R=j+(C^I^P)+A[4]+1272893353&4294967295,j=C+(R<<11&4294967295|R>>>21),R=P+(j^C^I)+A[7]+4139469664&4294967295,P=j+(R<<16&4294967295|R>>>16),R=I+(P^j^C)+A[10]+3200236656&4294967295,I=P+(R<<23&4294967295|R>>>9),R=C+(I^P^j)+A[13]+681279174&4294967295,C=I+(R<<4&4294967295|R>>>28),R=j+(C^I^P)+A[0]+3936430074&4294967295,j=C+(R<<11&4294967295|R>>>21),R=P+(j^C^I)+A[3]+3572445317&4294967295,P=j+(R<<16&4294967295|R>>>16),R=I+(P^j^C)+A[6]+76029189&4294967295,I=P+(R<<23&4294967295|R>>>9),R=C+(I^P^j)+A[9]+3654602809&4294967295,C=I+(R<<4&4294967295|R>>>28),R=j+(C^I^P)+A[12]+3873151461&4294967295,j=C+(R<<11&4294967295|R>>>21),R=P+(j^C^I)+A[15]+530742520&4294967295,P=j+(R<<16&4294967295|R>>>16),R=I+(P^j^C)+A[2]+3299628645&4294967295,I=P+(R<<23&4294967295|R>>>9),R=C+(P^(I|~j))+A[0]+4096336452&4294967295,C=I+(R<<6&4294967295|R>>>26),R=j+(I^(C|~P))+A[7]+1126891415&4294967295,j=C+(R<<10&4294967295|R>>>22),R=P+(C^(j|~I))+A[14]+2878612391&4294967295,P=j+(R<<15&4294967295|R>>>17),R=I+(j^(P|~C))+A[5]+4237533241&4294967295,I=P+(R<<21&4294967295|R>>>11),R=C+(P^(I|~j))+A[12]+1700485571&4294967295,C=I+(R<<6&4294967295|R>>>26),R=j+(I^(C|~P))+A[3]+2399980690&4294967295,j=C+(R<<10&4294967295|R>>>22),R=P+(C^(j|~I))+A[10]+4293915773&4294967295,P=j+(R<<15&4294967295|R>>>17),R=I+(j^(P|~C))+A[1]+2240044497&4294967295,I=P+(R<<21&4294967295|R>>>11),R=C+(P^(I|~j))+A[8]+1873313359&4294967295,C=I+(R<<6&4294967295|R>>>26),R=j+(I^(C|~P))+A[15]+4264355552&4294967295,j=C+(R<<10&4294967295|R>>>22),R=P+(C^(j|~I))+A[6]+2734768916&4294967295,P=j+(R<<15&4294967295|R>>>17),R=I+(j^(P|~C))+A[13]+1309151649&4294967295,I=P+(R<<21&4294967295|R>>>11),R=C+(P^(I|~j))+A[4]+4149444226&4294967295,C=I+(R<<6&4294967295|R>>>26),R=j+(I^(C|~P))+A[11]+3174756917&4294967295,j=C+(R<<10&4294967295|R>>>22),R=P+(C^(j|~I))+A[2]+718787259&4294967295,P=j+(R<<15&4294967295|R>>>17),R=I+(j^(P|~C))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+C&4294967295,T.g[1]=T.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+j&4294967295}r.prototype.v=function(T,C){C===void 0&&(C=T.length);const I=C-this.blockSize,A=this.C;let P=this.h,j=0;for(;j<C;){if(P==0)for(;j<=I;)s(this,T,j),j+=this.blockSize;if(typeof T=="string"){for(;j<C;)if(A[P++]=T.charCodeAt(j++),P==this.blockSize){s(this,A),P=0;break}}else for(;j<C;)if(A[P++]=T[j++],P==this.blockSize){s(this,A),P=0;break}}this.h=P,this.o+=C},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var C=1;C<T.length-8;++C)T[C]=0;C=this.o*8;for(var I=T.length-8;I<T.length;++I)T[I]=C&255,C/=256;for(this.v(T),T=Array(16),C=0,I=0;I<4;++I)for(let A=0;A<32;A+=8)T[C++]=this.g[I]>>>A&255;return T};function i(T,C){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=C(T)}function o(T,C){this.h=C;const I=[];let A=!0;for(let P=T.length-1;P>=0;P--){const j=T[P]|0;A&&j==C||(I[P]=j,A=!1)}this.g=I}var a={};function l(T){return-128<=T&&T<128?i(T,function(C){return new o([C|0],C<0?-1:0)}):new o([T|0],T<0?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return f;if(T<0)return E(d(-T));const C=[];let I=1;for(let A=0;T>=I;A++)C[A]=T/I|0,I*=4294967296;return new o(C,0)}function h(T,C){if(T.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(T.charAt(0)=="-")return E(h(T.substring(1),C));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=d(Math.pow(C,8));let A=f;for(let j=0;j<T.length;j+=8){var P=Math.min(8,T.length-j);const R=parseInt(T.substring(j,j+P),C);P<8?(P=d(Math.pow(C,P)),A=A.j(P).add(d(R))):(A=A.j(I),A=A.add(d(R)))}return A}var f=l(0),m=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();let T=0,C=1;for(let I=0;I<this.g.length;I++){const A=this.i(I);T+=(A>=0?A:4294967296+A)*C,C*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(b(this))return"0";if(v(this))return"-"+E(this).toString(T);const C=d(Math.pow(T,6));var I=this;let A="";for(;;){const P=k(I,C).g;I=_(I,P.j(C));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(T);if(I=P,b(I))return j+A;for(;j.length<6;)j="0"+j;A=j+A}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function b(T){if(T.h!=0)return!1;for(let C=0;C<T.g.length;C++)if(T.g[C]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=_(this,T),v(T)?-1:b(T)?0:1};function E(T){const C=T.g.length,I=[];for(let A=0;A<C;A++)I[A]=~T.g[A];return new o(I,~T.h).add(m)}t.abs=function(){return v(this)?E(this):this},t.add=function(T){const C=Math.max(this.g.length,T.g.length),I=[];let A=0;for(let P=0;P<=C;P++){let j=A+(this.i(P)&65535)+(T.i(P)&65535),R=(j>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);A=R>>>16,j&=65535,R&=65535,I[P]=R<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(T,C){return T.add(E(C))}t.j=function(T){if(b(this)||b(T))return f;if(v(this))return v(T)?E(this).j(E(T)):E(E(this).j(T));if(v(T))return E(this.j(E(T)));if(this.l(y)<0&&T.l(y)<0)return d(this.m()*T.m());const C=this.g.length+T.g.length,I=[];for(var A=0;A<2*C;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(let P=0;P<T.g.length;P++){const j=this.i(A)>>>16,R=this.i(A)&65535,B=T.i(P)>>>16,ie=T.i(P)&65535;I[2*A+2*P]+=R*ie,w(I,2*A+2*P),I[2*A+2*P+1]+=j*ie,w(I,2*A+2*P+1),I[2*A+2*P+1]+=R*B,w(I,2*A+2*P+1),I[2*A+2*P+2]+=j*B,w(I,2*A+2*P+2)}for(T=0;T<C;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=C;T<2*C;T++)I[T]=0;return new o(I,0)};function w(T,C){for(;(T[C]&65535)!=T[C];)T[C+1]+=T[C]>>>16,T[C]&=65535,C++}function S(T,C){this.g=T,this.h=C}function k(T,C){if(b(C))throw Error("division by zero");if(b(T))return new S(f,f);if(v(T))return C=k(E(T),C),new S(E(C.g),E(C.h));if(v(C))return C=k(T,E(C)),new S(E(C.g),C.h);if(T.g.length>30){if(v(T)||v(C))throw Error("slowDivide_ only works with positive integers.");for(var I=m,A=C;A.l(T)<=0;)I=O(I),A=O(A);var P=D(I,1),j=D(A,1);for(A=D(A,2),I=D(I,2);!b(A);){var R=j.add(A);R.l(T)<=0&&(P=P.add(I),j=R),A=D(A,1),I=D(I,1)}return C=_(T,P.j(C)),new S(P,C)}for(P=f;T.l(C)>=0;){for(I=Math.max(1,Math.floor(T.m()/C.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),j=d(I),R=j.j(C);v(R)||R.l(T)>0;)I-=A,j=d(I),R=j.j(C);b(j)&&(j=m),P=P.add(j),T=_(T,R)}return new S(P,T)}t.B=function(T){return k(this,T).h},t.and=function(T){const C=Math.max(this.g.length,T.g.length),I=[];for(let A=0;A<C;A++)I[A]=this.i(A)&T.i(A);return new o(I,this.h&T.h)},t.or=function(T){const C=Math.max(this.g.length,T.g.length),I=[];for(let A=0;A<C;A++)I[A]=this.i(A)|T.i(A);return new o(I,this.h|T.h)},t.xor=function(T){const C=Math.max(this.g.length,T.g.length),I=[];for(let A=0;A<C;A++)I[A]=this.i(A)^T.i(A);return new o(I,this.h^T.h)};function O(T){const C=T.g.length+1,I=[];for(let A=0;A<C;A++)I[A]=T.i(A)<<1|T.i(A-1)>>>31;return new o(I,T.h)}function D(T,C){const I=C>>5;C%=32;const A=T.g.length-I,P=[];for(let j=0;j<A;j++)P[j]=C>0?T.i(j+I)>>>C|T.i(j+I+1)<<32-C:T.i(j+I);return new o(P,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,TI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Js=o}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CI,Dl,II,Nd,Ag,NI,AI,kI;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var g=0;g<u.length;++g){var x=u[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var x=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var V=u[N];if(!(V in x))break e;x=x[V]}u=u[u.length-1],N=x[u],g=g(N),g!=N&&g!=null&&e(x,u,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(g){var x=[],N;for(N in g)Object.prototype.hasOwnProperty.call(g,N)&&x.push([N,g[N]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function l(u,g,x){return u.call.apply(u.bind,arguments)}function d(u,g,x){return d=l,d.apply(null,arguments)}function h(u,g){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function f(u,g){function x(){}x.prototype=g.prototype,u.Z=g.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(N,V,F){for(var X=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)X[xe-2]=arguments[xe];return g.prototype[V].apply(N,X)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function y(u){const g=u.length;if(g>0){const x=Array(g);for(let N=0;N<g;N++)x[N]=u[N];return x}return[]}function b(u,g){for(let N=1;N<arguments.length;N++){const V=arguments[N];var x=typeof V;if(x=x!="object"?x:V?Array.isArray(V)?"array":x:"null",x=="array"||x=="object"&&typeof V.length=="number"){x=u.length||0;const F=V.length||0;u.length=x+F;for(let X=0;X<F;X++)u[x+X]=V[X]}else u.push(V)}}class v{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function E(u){o.setTimeout(()=>{throw u},0)}function _(){var u=T;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class w{constructor(){this.h=this.g=null}add(g,x){const N=S.get();N.set(g,x),this.h?this.h.next=N:this.g=N,this.h=N}}var S=new v(()=>new k,u=>u.reset());class k{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let O,D=!1,T=new w,C=()=>{const u=Promise.resolve(void 0);O=()=>{u.then(I)}};function I(){for(var u;u=_();){try{u.h.call(u.g)}catch(x){E(x)}var g=S;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}D=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};o.addEventListener("test",x,g),o.removeEventListener("test",x,g)}catch{}return u}();function R(u){return/^[\s\xa0]*$/.test(u)}function B(u,g){P.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}f(B,P),B.prototype.init=function(u,g){const x=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(x=="mouseover"?g=u.fromElement:x=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),z=0;function K(u,g,x,N,V){this.listener=u,this.proxy=null,this.src=g,this.type=x,this.capture=!!N,this.ha=V,this.key=++z,this.da=this.fa=!1}function M(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function L(u,g,x){for(const N in u)g.call(x,u[N],N,u)}function U(u,g){for(const x in u)g.call(void 0,u[x],x,u)}function Q(u){const g={};for(const x in u)g[x]=u[x];return g}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,g){let x,N;for(let V=1;V<arguments.length;V++){N=arguments[V];for(x in N)u[x]=N[x];for(let F=0;F<q.length;F++)x=q[F],Object.prototype.hasOwnProperty.call(N,x)&&(u[x]=N[x])}}function ee(u){this.src=u,this.g={},this.h=0}ee.prototype.add=function(u,g,x,N,V){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const X=le(u,g,N,V);return X>-1?(g=u[X],x||(g.fa=!1)):(g=new K(g,this.src,F,!!N,V),g.fa=x,u.push(g)),g};function ue(u,g){const x=g.type;if(x in u.g){var N=u.g[x],V=Array.prototype.indexOf.call(N,g,void 0),F;(F=V>=0)&&Array.prototype.splice.call(N,V,1),F&&(M(g),u.g[x].length==0&&(delete u.g[x],u.h--))}}function le(u,g,x,N){for(let V=0;V<u.length;++V){const F=u[V];if(!F.da&&F.listener==g&&F.capture==!!x&&F.ha==N)return V}return-1}var W="closure_lm_"+(Math.random()*1e6|0),se={};function ye(u,g,x,N,V){if(Array.isArray(g)){for(let F=0;F<g.length;F++)ye(u,g[F],x,N,V);return null}return x=xi(x),u&&u[ie]?u.J(g,x,a(N)?!!N.capture:!!N,V):ne(u,g,x,!1,N,V)}function ne(u,g,x,N,V,F){if(!g)throw Error("Invalid event type");const X=a(V)?!!V.capture:!!V;let xe=Ot(u);if(xe||(u[W]=xe=new ee(u)),x=xe.add(g,x,N,X,F),x.proxy)return x;if(N=pe(),x.proxy=N,N.src=u,N.listener=x,u.addEventListener)j||(V=X),V===void 0&&(V=!1),u.addEventListener(g.toString(),N,V);else if(u.attachEvent)u.attachEvent(Qe(g.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function pe(){function u(x){return g.call(u.src,u.listener,x)}const g=nn;return u}function ve(u,g,x,N,V){if(Array.isArray(g))for(var F=0;F<g.length;F++)ve(u,g[F],x,N,V);else N=a(N)?!!N.capture:!!N,x=xi(x),u&&u[ie]?(u=u.i,F=String(g).toString(),F in u.g&&(g=u.g[F],x=le(g,x,N,V),x>-1&&(M(g[x]),Array.prototype.splice.call(g,x,1),g.length==0&&(delete u.g[F],u.h--)))):u&&(u=Ot(u))&&(g=u.g[g.toString()],u=-1,g&&(u=le(g,x,N,V)),(x=u>-1?g[u]:null)&&qe(x))}function qe(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ie])ue(g.i,u);else{var x=u.type,N=u.proxy;g.removeEventListener?g.removeEventListener(x,N,u.capture):g.detachEvent?g.detachEvent(Qe(x),N):g.addListener&&g.removeListener&&g.removeListener(N),(x=Ot(g))?(ue(x,u),x.h==0&&(x.src=null,g[W]=null)):M(u)}}}function Qe(u){return u in se?se[u]:se[u]="on"+u}function nn(u,g){if(u.da)u=!0;else{g=new B(g,this);const x=u.listener,N=u.ha||u.src;u.fa&&qe(u),u=x.call(N,g)}return u}function Ot(u){return u=u[W],u instanceof ee?u:null}var An="__closure_events_fn_"+(Math.random()*1e9>>>0);function xi(u){return typeof u=="function"?u:(u[An]||(u[An]=function(g){return u.handleEvent(g)}),u[An])}function ze(){A.call(this),this.i=new ee(this),this.M=this,this.G=null}f(ze,A),ze.prototype[ie]=!0,ze.prototype.removeEventListener=function(u,g,x,N){ve(this,u,g,x,N)};function Ge(u,g){var x,N=u.G;if(N)for(x=[];N;N=N.G)x.push(N);if(u=u.M,N=g.type||g,typeof g=="string")g=new P(g,u);else if(g instanceof P)g.target=g.target||u;else{var V=g;g=new P(N,u),re(g,V)}V=!0;let F,X;if(x)for(X=x.length-1;X>=0;X--)F=g.g=x[X],V=Mr(F,N,!0,g)&&V;if(F=g.g=u,V=Mr(F,N,!0,g)&&V,V=Mr(F,N,!1,g)&&V,x)for(X=0;X<x.length;X++)F=g.g=x[X],V=Mr(F,N,!1,g)&&V}ze.prototype.N=function(){if(ze.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const x=u.g[g];for(let N=0;N<x.length;N++)M(x[N]);delete u.g[g],u.h--}}this.G=null},ze.prototype.J=function(u,g,x,N){return this.i.add(String(u),g,!1,x,N)},ze.prototype.K=function(u,g,x,N){return this.i.add(String(u),g,!0,x,N)};function Mr(u,g,x,N){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let V=!0;for(let F=0;F<g.length;++F){const X=g[F];if(X&&!X.da&&X.capture==x){const xe=X.listener,pt=X.ha||X.src;X.fa&&ue(u.i,X),V=xe.call(pt,N)!==!1&&V}}return V&&!N.defaultPrevented}function Eo(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(u,g||0)}function ol(u){u.g=Eo(()=>{u.g=null,u.i&&(u.i=!1,ol(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class du extends A{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ol(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(u){A.call(this),this.h=u,this.g={}}f(_i,A);var hu=[];function Lr(u){L(u.g,function(g,x){this.g.hasOwnProperty(x)&&qe(g)},u),u.g={}}_i.prototype.N=function(){_i.Z.N.call(this),Lr(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=o.JSON.stringify,Ei=o.JSON.parse,fu=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Un(){}function al(){}var bi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ll(){P.call(this,"d")}f(ll,P);function Si(){P.call(this,"c")}f(Si,P);var hr={},pu=null;function Ti(){return pu=pu||new ze}hr.Ia="serverreachability";function mu(u){P.call(this,hr.Ia,u)}f(mu,P);function Ci(u){const g=Ti();Ge(g,new mu(g))}hr.STAT_EVENT="statevent";function gu(u,g){P.call(this,hr.STAT_EVENT,u),this.stat=g}f(gu,P);function Re(u){const g=Ti();Ge(g,new gu(g,u))}hr.Ja="timingevent";function Mt(u,g){P.call(this,hr.Ja,u),this.size=g}f(Mt,P);function ht(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},g)}function rn(){this.g=!0}rn.prototype.ua=function(){this.g=!1};function sn(u,g,x,N,V,F){u.info(function(){if(u.g)if(F){var X="",xe=F.split("&");for(let Le=0;Le<xe.length;Le++){var pt=xe[Le].split("=");if(pt.length>1){const Et=pt[0];pt=pt[1];const mr=Et.split("_");X=mr.length>=2&&mr[1]=="type"?X+(Et+"="+pt+"&"):X+(Et+"=redacted&")}}}else X=null;else X=F;return"XMLHTTP REQ ("+N+") [attempt "+V+"]: "+g+`
`+x+`
`+X})}function Kt(u,g,x,N,V,F,X){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+V+"]: "+g+`
`+x+`
`+F+" "+X})}function At(u,g,x,N){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+ft(u,x)+(N?" "+N:"")})}function ds(u,g){u.info(function(){return"TIMEOUT: "+g})}rn.prototype.info=function(){};function ft(u,g){if(!u.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var x=F[u];if(!(x.length<2)){var N=x[1];if(Array.isArray(N)&&!(N.length<1)){var V=N[0];if(V!="noop"&&V!="stop"&&V!="close")for(let X=1;X<N.length;X++)N[X]=""}}}}return dr(F)}catch{return g}}var pn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kn;function Vr(){}f(Vr,Un),Vr.prototype.g=function(){return new XMLHttpRequest},kn=new Vr;function $n(u){return encodeURIComponent(String(u))}function fr(u){var g=1;u=u.split(":");const x=[];for(;g>0&&u.length;)x.push(u.shift()),g--;return u.length&&x.push(u.join(":")),x}function on(u,g,x,N){this.j=u,this.i=g,this.l=x,this.S=N||1,this.V=new _i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bo}function bo(){this.i=null,this.g="",this.h=!1}var z0={},Yf={};function Xf(u,g,x){u.M=1,u.A=vu(pr(g)),u.u=x,u.R=!0,U0(u,null)}function U0(u,g){u.F=Date.now(),yu(u),u.B=pr(u.A);var x=u.B,N=u.S;Array.isArray(N)||(N=[String(N)]),ew(x.i,"t",N),u.C=0,x=u.j.L,u.h=new bo,u.g=vw(u.j,x?g:null,!u.u),u.P>0&&(u.O=new du(d(u.Y,u,u.g),u.P)),g=u.V,x=u.g,N=u.ba;var V="readystatechange";Array.isArray(V)||(V&&(hu[0]=V.toString()),V=hu);for(let F=0;F<V.length;F++){const X=ye(x,V[F],N||g.handleEvent,!1,g.h||g);if(!X)break;g.g[X.key]=X}g=u.J?Q(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),Ci(),sn(u.i,u.v,u.B,u.l,u.S,u.u)}on.prototype.ba=function(u){u=u.target;const g=this.O;g&&ps(u)==3?g.j():this.Y(u)},on.prototype.Y=function(u){try{if(u==this.g)e:{const xe=ps(this.g),pt=this.g.ya(),Le=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||aw(this.g)))){this.K||xe!=4||pt==7||(pt==8||Le<=0?Ci(3):Ci(2)),Jf(this);var g=this.g.ca();this.X=g;var x=JR(this);if(this.o=g==200,Kt(this.i,this.v,this.B,this.l,this.S,xe,g),this.o){if(this.U&&!this.L){t:{if(this.g){var N,V=this.g;if((N=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(N)){var F=N;break t}}F=null}if(u=F)At(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zf(this,u);else{this.o=!1,this.m=3,Re(12),Ii(this),cl(this);break e}}if(this.R){u=!0;let Et;for(;!this.K&&this.C<x.length;)if(Et=ZR(this,x),Et==Yf){xe==4&&(this.m=4,Re(14),u=!1),At(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==z0){this.m=4,Re(15),At(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else At(this.i,this.l,Et,null),Zf(this,Et);if($0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||x.length!=0||this.h.h||(this.m=1,Re(16),u=!1),this.o=this.o&&u,!u)At(this.i,this.l,x,"[Invalid Chunked Response]"),Ii(this),cl(this);else if(x.length>0&&!this.W){this.W=!0;var X=this.j;X.g==this&&X.aa&&!X.P&&(X.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),ap(X),X.P=!0,Re(11))}}else At(this.i,this.l,x,null),Zf(this,x);xe==4&&Ii(this),this.o&&!this.K&&(xe==4?pw(this.j,this):(this.o=!1,yu(this)))}else fP(this.g),g==400&&x.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Ii(this),cl(this)}}}catch{}finally{}};function JR(u){if(!$0(u))return u.g.la();const g=aw(u.g);if(g==="")return"";let x="";const N=g.length,V=ps(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ii(u),cl(u),"";u.h.i=new o.TextDecoder}for(let F=0;F<N;F++)u.h.h=!0,x+=u.h.i.decode(g[F],{stream:!(V&&F==N-1)});return g.length=0,u.h.g+=x,u.C=0,u.h.g}function $0(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ZR(u,g){var x=u.C,N=g.indexOf(`
`,x);return N==-1?Yf:(x=Number(g.substring(x,N)),isNaN(x)?z0:(N+=1,N+x>g.length?Yf:(g=g.slice(N,N+x),u.C=N+x,g)))}on.prototype.cancel=function(){this.K=!0,Ii(this)};function yu(u){u.T=Date.now()+u.H,B0(u,u.H)}function B0(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ht(d(u.aa,u),g)}function Jf(u){u.D&&(o.clearTimeout(u.D),u.D=null)}on.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ds(this.i,this.B),this.M!=2&&(Ci(),Re(17)),Ii(this),this.m=2,cl(this)):B0(this,this.T-u)};function cl(u){u.j.I==0||u.K||pw(u.j,u)}function Ii(u){Jf(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Lr(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Zf(u,g){try{var x=u.j;if(x.I!=0&&(x.g==u||ep(x.h,u))){if(!u.L&&ep(x.h,u)&&x.I==3){try{var N=x.Ba.g.parse(g)}catch{N=null}if(Array.isArray(N)&&N.length==3){var V=N;if(V[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)bu(x),_u(x);else break e;op(x),Re(18)}}else x.xa=V[1],0<x.xa-x.K&&V[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=ht(d(x.Va,x),6e3));q0(x.h)<=1&&x.ta&&(x.ta=void 0)}else Ai(x,11)}else if((u.L||x.g==u)&&bu(x),!R(g))for(V=x.Ba.g.parse(g),g=0;g<V.length;g++){let Le=V[g];const Et=Le[0];if(!(Et<=x.K))if(x.K=Et,Le=Le[1],x.I==2)if(Le[0]=="c"){x.M=Le[1],x.ba=Le[2];const mr=Le[3];mr!=null&&(x.ka=mr,x.j.info("VER="+x.ka));const ki=Le[4];ki!=null&&(x.za=ki,x.j.info("SVER="+x.za));const ms=Le[5];ms!=null&&typeof ms=="number"&&ms>0&&(N=1.5*ms,x.O=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const gs=u.g;if(gs){const Tu=gs.g?gs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tu){var F=N.h;F.g||Tu.indexOf("spdy")==-1&&Tu.indexOf("quic")==-1&&Tu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(tp(F,F.h),F.h=null))}if(N.G){const lp=gs.g?gs.g.getResponseHeader("X-HTTP-Session-Id"):null;lp&&(N.wa=lp,Ue(N.J,N.G,lp))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),N=x;var X=u;if(N.na=yw(N,N.L?N.ba:null,N.W),X.L){G0(N.h,X);var xe=X,pt=N.O;pt&&(xe.H=pt),xe.D&&(Jf(xe),yu(xe)),N.g=X}else hw(N);x.i.length>0&&Eu(x)}else Le[0]!="stop"&&Le[0]!="close"||Ai(x,7);else x.I==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Ai(x,7):ip(x):Le[0]!="noop"&&x.l&&x.l.qa(Le),x.A=0)}}Ci(4)}catch{}}var eP=class{constructor(u,g){this.g=u,this.map=g}};function H0(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function W0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function q0(u){return u.h?1:u.g?u.g.size:0}function ep(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function tp(u,g){u.g?u.g.add(g):u.h=g}function G0(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}H0.prototype.cancel=function(){if(this.i=K0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function K0(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const x of u.g.values())g=g.concat(x.G);return g}return y(u.i)}var Q0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tP(u,g){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const N=u[x].indexOf("=");let V,F=null;N>=0?(V=u[x].substring(0,N),F=u[x].substring(N+1)):V=u[x],g(V,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function hs(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof hs?(this.l=u.l,ul(this,u.j),this.o=u.o,this.g=u.g,dl(this,u.u),this.h=u.h,np(this,tw(u.i)),this.m=u.m):u&&(g=String(u).match(Q0))?(this.l=!1,ul(this,g[1]||"",!0),this.o=hl(g[2]||""),this.g=hl(g[3]||"",!0),dl(this,g[4]),this.h=hl(g[5]||"",!0),np(this,g[6]||"",!0),this.m=hl(g[7]||"")):(this.l=!1,this.i=new pl(null,this.l))}hs.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(fl(g,Y0,!0),":");var x=this.g;return(x||g=="file")&&(u.push("//"),(g=this.o)&&u.push(fl(g,Y0,!0),"@"),u.push($n(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(fl(x,x.charAt(0)=="/"?sP:rP,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",fl(x,oP)),u.join("")},hs.prototype.resolve=function(u){const g=pr(this);let x=!!u.j;x?ul(g,u.j):x=!!u.o,x?g.o=u.o:x=!!u.g,x?g.g=u.g:x=u.u!=null;var N=u.h;if(x)dl(g,u.u);else if(x=!!u.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var V=g.h.lastIndexOf("/");V!=-1&&(N=g.h.slice(0,V+1)+N)}if(V=N,V==".."||V==".")N="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){N=V.lastIndexOf("/",0)==0,V=V.split("/");const F=[];for(let X=0;X<V.length;){const xe=V[X++];xe=="."?N&&X==V.length&&F.push(""):xe==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),N&&X==V.length&&F.push("")):(F.push(xe),N=!0)}N=F.join("/")}else N=V}return x?g.h=N:x=u.i.toString()!=="",x?np(g,tw(u.i)):x=!!u.m,x&&(g.m=u.m),g};function pr(u){return new hs(u)}function ul(u,g,x){u.j=x?hl(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function dl(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function np(u,g,x){g instanceof pl?(u.i=g,aP(u.i,u.l)):(x||(g=fl(g,iP)),u.i=new pl(g,u.l))}function Ue(u,g,x){u.i.set(g,x)}function vu(u){return Ue(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hl(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fl(u,g,x){return typeof u=="string"?(u=encodeURI(u).replace(g,nP),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nP(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Y0=/[#\/\?@]/g,rP=/[#\?:]/g,sP=/[#\?]/g,iP=/[#\?@]/g,oP=/#/g;function pl(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ni(u){u.g||(u.g=new Map,u.h=0,u.i&&tP(u.i,function(g,x){u.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}t=pl.prototype,t.add=function(u,g){Ni(this),this.i=null,u=So(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(g),this.h+=1,this};function X0(u,g){Ni(u),g=So(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function J0(u,g){return Ni(u),g=So(u,g),u.g.has(g)}t.forEach=function(u,g){Ni(this),this.g.forEach(function(x,N){x.forEach(function(V){u.call(g,V,N,this)},this)},this)};function Z0(u,g){Ni(u);let x=[];if(typeof g=="string")J0(u,g)&&(x=x.concat(u.g.get(So(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)x=x.concat(u[g]);return x}t.set=function(u,g){return Ni(this),this.i=null,u=So(this,u),J0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=Z0(this,u),u.length>0?String(u[0]):g):g};function ew(u,g,x){X0(u,g),x.length>0&&(u.i=null,u.g.set(So(u,g),y(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let N=0;N<g.length;N++){var x=g[N];const V=$n(x);x=Z0(this,x);for(let F=0;F<x.length;F++){let X=V;x[F]!==""&&(X+="="+$n(x[F])),u.push(X)}}return this.i=u.join("&")};function tw(u){const g=new pl;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function So(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function aP(u,g){g&&!u.j&&(Ni(u),u.i=null,u.g.forEach(function(x,N){const V=N.toLowerCase();N!=V&&(X0(this,N),ew(this,V,x))},u)),u.j=g}function lP(u,g){const x=new rn;if(o.Image){const N=new Image;N.onload=h(fs,x,"TestLoadImage: loaded",!0,g,N),N.onerror=h(fs,x,"TestLoadImage: error",!1,g,N),N.onabort=h(fs,x,"TestLoadImage: abort",!1,g,N),N.ontimeout=h(fs,x,"TestLoadImage: timeout",!1,g,N),o.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else g(!1)}function cP(u,g){const x=new rn,N=new AbortController,V=setTimeout(()=>{N.abort(),fs(x,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:N.signal}).then(F=>{clearTimeout(V),F.ok?fs(x,"TestPingServer: ok",!0,g):fs(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),fs(x,"TestPingServer: error",!1,g)})}function fs(u,g,x,N,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),N(x)}catch{}}function uP(){this.g=new fu}function rp(u){this.i=u.Sb||null,this.h=u.ab||!1}f(rp,Un),rp.prototype.g=function(){return new wu(this.i,this.h)};function wu(u,g){ze.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(wu,ze),t=wu.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,gl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ml(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,gl(this)),this.g&&(this.readyState=3,gl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nw(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function nw(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ml(this):gl(this),this.readyState==3&&nw(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,ml(this))},t.Na=function(u){this.g&&(this.response=u,ml(this))},t.ga=function(){this.g&&ml(this)};function ml(u){u.readyState=4,u.l=null,u.j=null,u.B=null,gl(u)}t.setRequestHeader=function(u,g){this.A.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=g.next();return u.join(`\r
`)};function gl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function rw(u){let g="";return L(u,function(x,N){g+=N,g+=":",g+=x,g+=`\r
`}),g}function sp(u,g,x){e:{for(N in x){var N=!1;break e}N=!0}N||(x=rw(x),typeof u=="string"?x!=null&&$n(x):Ue(u,g,x))}function tt(u){ze.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(tt,ze);var dP=/^https?$/i,hP=["POST","PUT"];t=tt.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,g,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kn.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){sw(this,F);return}if(u=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var V in N)x.set(V,N[V]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const F of N.keys())x.set(F,N.get(F));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(F=>F.toLowerCase()=="content-type"),V=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(hP,g,void 0)>=0)||N||V||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,X]of x)this.g.setRequestHeader(F,X);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){sw(this,F)}};function sw(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,iw(u),xu(u)}function iw(u){u.A||(u.A=!0,Ge(u,"complete"),Ge(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ge(this,"complete"),Ge(this,"abort"),xu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xu(this,!0)),tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ow(this):this.Xa())},t.Xa=function(){ow(this)};function ow(u){if(u.h&&typeof i<"u"){if(u.v&&ps(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ge(u,"readystatechange"),ps(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var N;if(N=F===0){let X=String(u.D).match(Q0)[1]||null;!X&&o.self&&o.self.location&&(X=o.self.location.protocol.slice(0,-1)),N=!dP.test(X?X.toLowerCase():"")}x=N}if(x)Ge(u,"complete"),Ge(u,"success");else{u.o=6;try{var V=ps(u)>2?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.ca()+"]",iw(u)}}finally{xu(u)}}}}function xu(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,g||Ge(u,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ps(u){return u.g?u.g.readyState:0}t.ca=function(){try{return ps(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Ei(g)}};function aw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fP(u){const g={};u=(u.g&&ps(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(R(u[N]))continue;var x=fr(u[N]);const V=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const F=g[V]||[];g[V]=F,F.push(x)}U(g,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yl(u,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||g}function lw(u){this.za=0,this.i=[],this.j=new rn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yl("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yl("baseRetryDelayMs",5e3,u),this.Za=yl("retryDelaySeedMs",1e4,u),this.Ta=yl("forwardChannelMaxRetries",2,u),this.va=yl("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new H0(u&&u.concurrentRequestLimit),this.Ba=new uP,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=lw.prototype,t.ka=8,t.I=1,t.connect=function(u,g,x,N){Re(0),this.W=u,this.H=g||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.J=yw(this,null,this.W),Eu(this)};function ip(u){if(cw(u),u.I==3){var g=u.V++,x=pr(u.J);if(Ue(x,"SID",u.M),Ue(x,"RID",g),Ue(x,"TYPE","terminate"),vl(u,x),g=new on(u,u.j,g),g.M=2,g.A=vu(pr(x)),x=!1,o.navigator&&o.navigator.sendBeacon)try{x=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!x&&o.Image&&(new Image().src=g.A,x=!0),x||(g.g=vw(g.j,null),g.g.ea(g.A)),g.F=Date.now(),yu(g)}gw(u)}function _u(u){u.g&&(ap(u),u.g.cancel(),u.g=null)}function cw(u){_u(u),u.v&&(o.clearTimeout(u.v),u.v=null),bu(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Eu(u){if(!W0(u.h)&&!u.m){u.m=!0;var g=u.Ea;O||C(),D||(O(),D=!0),T.add(g,u),u.D=0}}function pP(u,g){return q0(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ht(d(u.Ea,u,g),mw(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const V=new on(this,this.j,u);let F=this.o;if(this.U&&(F?(F=Q(F),re(F,this.U)):F=this.U),this.u!==null||this.R||(V.J=F,F=null),this.S)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(g+=N,g>4096){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=dw(this,V,g),x=pr(this.J),Ue(x,"RID",u),Ue(x,"CVER",22),this.G&&Ue(x,"X-HTTP-Session-Id",this.G),vl(this,x),F&&(this.R?g="headers="+$n(rw(F))+"&"+g:this.u&&sp(x,this.u,F)),tp(this.h,V),this.Ra&&Ue(x,"TYPE","init"),this.S?(Ue(x,"$req",g),Ue(x,"SID","null"),V.U=!0,Xf(V,x,null)):Xf(V,x,g),this.I=2}}else this.I==3&&(u?uw(this,u):this.i.length==0||W0(this.h)||uw(this))};function uw(u,g){var x;g?x=g.l:x=u.V++;const N=pr(u.J);Ue(N,"SID",u.M),Ue(N,"RID",x),Ue(N,"AID",u.K),vl(u,N),u.u&&u.o&&sp(N,u.u,u.o),x=new on(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),g&&(u.i=g.G.concat(u.i)),g=dw(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),tp(u.h,x),Xf(x,N,g)}function vl(u,g){u.H&&L(u.H,function(x,N){Ue(g,N,x)}),u.l&&L({},function(x,N){Ue(g,N,x)})}function dw(u,g,x){x=Math.min(u.i.length,x);const N=u.l?d(u.l.Ka,u.l,u):null;e:{var V=u.i;let xe=-1;for(;;){const pt=["count="+x];xe==-1?x>0?(xe=V[0].g,pt.push("ofs="+xe)):xe=0:pt.push("ofs="+xe);let Le=!0;for(let Et=0;Et<x;Et++){var F=V[Et].g;const mr=V[Et].map;if(F-=xe,F<0)xe=Math.max(0,V[Et].g-100),Le=!1;else try{F="req"+F+"_"||"";try{var X=mr instanceof Map?mr:Object.entries(mr);for(const[ki,ms]of X){let gs=ms;a(ms)&&(gs=dr(ms)),pt.push(F+ki+"="+encodeURIComponent(gs))}}catch(ki){throw pt.push(F+"type="+encodeURIComponent("_badmap")),ki}}catch{N&&N(mr)}}if(Le){X=pt.join("&");break e}}X=void 0}return u=u.i.splice(0,x),g.G=u,X}function hw(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;O||C(),D||(O(),D=!0),T.add(g,u),u.A=0}}function op(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ht(d(u.Da,u),mw(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,fw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ht(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),_u(this),fw(this))};function ap(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function fw(u){u.g=new on(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=pr(u.na);Ue(g,"RID","rpc"),Ue(g,"SID",u.M),Ue(g,"AID",u.K),Ue(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ue(g,"TO",u.ia),Ue(g,"TYPE","xmlhttp"),vl(u,g),u.u&&u.o&&sp(g,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=vu(pr(g)),x.u=null,x.R=!0,U0(x,u)}t.Va=function(){this.C!=null&&(this.C=null,_u(this),op(this),Re(19))};function bu(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function pw(u,g){var x=null;if(u.g==g){bu(u),ap(u),u.g=null;var N=2}else if(ep(u.h,g))x=g.G,G0(u.h,g),N=1;else return;if(u.I!=0){if(g.o)if(N==1){x=g.u?g.u.length:0,g=Date.now()-g.F;var V=u.D;N=Ti(),Ge(N,new Mt(N,x)),Eu(u)}else hw(u);else if(V=g.m,V==3||V==0&&g.X>0||!(N==1&&pP(u,g)||N==2&&op(u)))switch(x&&x.length>0&&(g=u.h,g.i=g.i.concat(x)),V){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function mw(u,g){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*g}function Ai(u,g){if(u.j.info("Error code "+g),g==2){var x=d(u.bb,u),N=u.Ua;const V=!N;N=new hs(N||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ul(N,"https"),vu(N),V?lP(N.toString(),x):cP(N.toString(),x)}else Re(2);u.I=0,u.l&&u.l.pa(g),gw(u),cw(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function gw(u){if(u.I=0,u.ja=[],u.l){const g=K0(u.h);(g.length!=0||u.i.length!=0)&&(b(u.ja,g),b(u.ja,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.oa()}}function yw(u,g,x){var N=x instanceof hs?pr(x):new hs(x);if(N.g!="")g&&(N.g=g+"."+N.g),dl(N,N.u);else{var V=o.location;N=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;const F=new hs(null);N&&ul(F,N),g&&(F.g=g),V&&dl(F,V),x&&(F.h=x),N=F}return x=u.G,g=u.wa,x&&g&&Ue(N,x,g),Ue(N,"VER",u.ka),vl(u,N),N}function vw(u,g,x){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new tt(new rp({ab:x})):new tt(u.ma),g.Fa(u.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ww(){}t=ww.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Su(){}Su.prototype.g=function(u,g){return new gn(u,g)};function gn(u,g){ze.call(this),this.g=new lw(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!R(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new To(this)}f(gn,ze),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){ip(this.g)},gn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=dr(u),u=x);g.i.push(new eP(g.Ya++,u)),g.I==3&&Eu(g)},gn.prototype.N=function(){this.g.l=null,delete this.j,ip(this.g),delete this.g,gn.Z.N.call(this)};function xw(u){ll.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const x in g){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}f(xw,ll);function _w(){Si.call(this),this.status=1}f(_w,Si);function To(u){this.g=u}f(To,ww),To.prototype.ra=function(){Ge(this.g,"a")},To.prototype.qa=function(u){Ge(this.g,new xw(u))},To.prototype.pa=function(u){Ge(this.g,new _w)},To.prototype.oa=function(){Ge(this.g,"b")},Su.prototype.createWebChannel=Su.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,kI=function(){return new Su},AI=function(){return Ti()},NI=hr,Ag={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pn.NO_ERROR=0,pn.TIMEOUT=8,pn.HTTP_ERROR=6,Nd=pn,mn.COMPLETE="complete",II=mn,al.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",ze.prototype.listen=ze.prototype.J,Dl=al,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,CI=tt}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const B_="@firebase/firestore",H_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new yv("@firebase/firestore");function ko(){return co.logLevel}function Z(t,...e){if(co.logLevel<=Ce.DEBUG){const n=e.map(kv);co.debug(`Firestore (${Xa}): ${t}`,...n)}}function ss(t,...e){if(co.logLevel<=Ce.ERROR){const n=e.map(kv);co.error(`Firestore (${Xa}): ${t}`,...n)}}function uo(t,...e){if(co.logLevel<=Ce.WARN){const n=e.map(kv);co.warn(`Firestore (${Xa}): ${t}`,...n)}}function kv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RI(t,r,n)}function RI(t,e,n){let r=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ss(r),new Error(r)}function je(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||RI(e,s,r)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ls{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class n5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r5{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string",31837,{l:r}),new PI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class s5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class i5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new s5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){je(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new W_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new W_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=a5(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function kg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Jp(s)===Jp(i)?Ie(s,i):Jp(s)?1:-1}return Ie(t.length,e.length)}const l5=55296,c5=57343;function Jp(t){const e=t.charCodeAt(0);return e>=l5&&e<=c5}function Da(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="__name__";class vr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=vr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=vr.isNumericId(e),s=vr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?vr.extractNumericId(e).compare(vr.extractNumericId(n)):kg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class Xe extends vr{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const u5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends vr{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return u5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q_}static keyField(){return new Ct([q_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new oe(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new oe(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new oe(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Xe.fromString(e))}static fromName(e){return new ae(Xe.fromString(e).popFirst(5))}static empty(){return new ae(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t,e,n){if(!n)throw new oe(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jI(t,e,n,r){if(e===!0&&r===!0)throw new oe(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function G_(t){if(!ae.isDocumentKey(t))throw new oe(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Rv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function Kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rv(t);throw new oe(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function eu(t,e){if(!OI(t))throw new oe(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new oe(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=-62135596800,Q_=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Q_);return new Ve(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<K_)throw new oe(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q_}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,Ve._jsonSchema))return new Ve(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-K_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:ut("string",Ve._jsonSchemaVersion),seconds:ut("number"),nanoseconds:ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new Ve(0,0))}static max(){return new he(new Ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=-1;function h5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new li(s,ae.empty(),e)}function f5(t){return new li(t.readTime,t.key,Ac)}class li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new li(he.min(),ae.empty(),Ac)}static max(){return new li(he.max(),ae.empty(),Ac)}}function p5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==m5)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function y5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Za(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=-1;function Cf(t){return t==null}function wh(t){return t===0&&1/t==-1/0}function v5(t){return typeof t=="number"&&Number.isInteger(t)&&!wh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="";function w5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Y_(e)),e=x5(t.get(n),e);return Y_(e)}function x5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case MI:n+="";break;default:n+=i}}return n}function Y_(t){return t+MI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=s??Rt.EMPTY,this.right=i??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new xt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Da(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new VI("Invalid base64 string: "+i):i}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const _5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(t){if(je(!!t,39018),typeof t=="string"){let e=0;const n=_5.exec(t);if(je(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ui(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="server_timestamp",zI="__type__",UI="__previous_value__",$I="__local_write_time__";function Dv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[zI])==null?void 0:r.stringValue)===FI}function If(t){const e=t.mapValue.fields[UI];return Dv(e)?If(e):e}function kc(t){const e=ci(t.mapValue.fields[$I].timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r,s,i,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=h}}const xh="(default)";class ja{constructor(e,n){this.projectId=e,this.database=n||xh}static empty(){return new ja("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="__type__",HI="__max__",Ju={mapValue:{fields:{__type__:{stringValue:HI}}}},WI="__vector__",_h="value";function di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dv(t)?4:S5(t)?9007199254740991:b5(t)?10:11:ce(28295,{value:t})}function Dr(t,e){if(t===e)return!0;const n=di(t);if(n!==di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kc(t).isEqual(kc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ci(s.timestampValue),a=ci(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ui(s.bytesValue).isEqual(ui(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return st(s.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(s.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return st(s.integerValue)===st(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=st(s.doubleValue),a=st(i.doubleValue);return o===a?wh(o)===wh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Da(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(X_(o)!==X_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Dr(o[l],a[l])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function Rc(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function Oa(t,e){if(t===e)return 0;const n=di(t),r=di(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=st(i.integerValue||i.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Z_(t.timestampValue,e.timestampValue);case 4:return Z_(kc(t),kc(e));case 5:return kg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ui(i),l=ui(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=Ie(a[d],l[d]);if(h!==0)return h}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ie(st(i.latitude),st(o.latitude));return a!==0?a:Ie(st(i.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return e1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,y,b,v;const a=i.fields||{},l=o.fields||{},d=(m=a[_h])==null?void 0:m.arrayValue,h=(y=l[_h])==null?void 0:y.arrayValue,f=Ie(((b=d==null?void 0:d.values)==null?void 0:b.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return f!==0?f:e1(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ju.mapValue&&o===Ju.mapValue)return 0;if(i===Ju.mapValue)return 1;if(o===Ju.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=kg(l[f],h[f]);if(m!==0)return m;const y=Oa(a[l[f]],d[h[f]]);if(y!==0)return y}return Ie(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{he:n})}}function Z_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=ci(t),r=ci(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function e1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Oa(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function Ma(t){return Rg(t)}function Rg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ci(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ui(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Rg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Rg(n.fields[o])}`;return s+"}"}(t.mapValue):ce(61005,{value:t})}function Ad(t){switch(di(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=If(t);return e?16+Ad(e):16;case 5:return 2*t.stringValue.length;case 6:return ui(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ad(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return yo(r.fields,(i,o)=>{s+=i.length+Ad(o)}),s}(t.mapValue);default:throw ce(13486,{value:t})}}function Pg(t){return!!t&&"integerValue"in t}function jv(t){return!!t&&"arrayValue"in t}function t1(t){return!!t&&"nullValue"in t}function n1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kd(t){return!!t&&"mapValue"in t}function b5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[BI])==null?void 0:r.stringValue)===WI}function Yl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(t.arrayValue.values[n]);return e}return{...t}}function S5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Ct.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Yl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];kd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){yo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new On(Yl(this.value))}}function qI(t){const e=[];return yo(t.fields,(n,r)=>{const s=new Ct([n]);if(kd(r)){const i=qI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,he.min(),he.min(),he.min(),On.empty(),0)}static newFoundDocument(e,n,r,s){return new Wt(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new Wt(e,2,n,he.min(),he.min(),On.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,he.min(),he.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function r1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=Oa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function s1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function T5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{}class vt extends GI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new I5(e,n,r):n==="array-contains"?new k5(e,r):n==="in"?new R5(e,r):n==="not-in"?new P5(e,r):n==="array-contains-any"?new D5(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new N5(e,r):new A5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oa(n,this.value)):n!==null&&di(this.value)===di(n)&&this.matchesComparison(Oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends GI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new jr(e,n)}matches(e){return KI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KI(t){return t.op==="and"}function QI(t){return C5(t)&&KI(t)}function C5(t){for(const e of t.filters)if(e instanceof jr)return!1;return!0}function Dg(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+Ma(t.value);if(QI(t))return t.filters.map(e=>Dg(e)).join(",");{const e=t.filters.map(n=>Dg(n)).join(",");return`${t.op}(${e})`}}function YI(t,e){return t instanceof vt?function(r,s){return s instanceof vt&&r.op===s.op&&r.field.isEqual(s.field)&&Dr(r.value,s.value)}(t,e):t instanceof jr?function(r,s){return s instanceof jr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&YI(o,s.filters[a]),!0):!1}(t,e):void ce(19439)}function XI(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ma(n.value)}`}(t):t instanceof jr?function(n){return n.op.toString()+" {"+n.getFilters().map(XI).join(" ,")+"}"}(t):"Filter"}class I5 extends vt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class N5 extends vt{constructor(e,n){super(e,"in",n),this.keys=JI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class A5 extends vt{constructor(e,n){super(e,"not-in",n),this.keys=JI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class k5 extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jv(n)&&Rc(n.arrayValue,this.value)}}class R5 extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rc(this.value.arrayValue,n)}}class P5 extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Rc(this.value.arrayValue,n)}}class D5 extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function i1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new j5(t,e,n,r,s,i,o)}function Ov(t){const e=me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ma(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ma(r)).join(",")),e.Te=n}return e.Te}function Mv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!T5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s1(t.startAt,e.startAt)&&s1(t.endAt,e.endAt)}function jg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O5(t,e,n,r,s,i,o,a){return new Nf(t,e,n,r,s,i,o,a)}function Af(t){return new Nf(t)}function o1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M5(t){return t.collectionGroup!==null}function Xl(t){const e=me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xt(Ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new bh(i,r))}),n.has(Ct.keyField().canonicalString())||e.Ie.push(new bh(Ct.keyField(),r))}return e.Ie}function Ar(t){const e=me(t);return e.Ee||(e.Ee=L5(e,Xl(t))),e.Ee}function L5(t,e){if(t.limitType==="F")return i1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new bh(s.field,i)});const n=t.endAt?new Eh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Eh(t.startAt.position,t.startAt.inclusive):null;return i1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Og(t,e,n){return new Nf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kf(t,e){return Mv(Ar(t),Ar(e))&&t.limitType===e.limitType}function ZI(t){return`${Ov(Ar(t))}|lt:${t.limitType}`}function Ro(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>XI(s)).join(", ")}]`),Cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ma(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ma(s)).join(",")),`Target(${r})`}(Ar(t))}; limitType=${t.limitType})`}function Rf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Xl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=r1(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,Xl(r),s)||r.endAt&&!function(o,a,l){const d=r1(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,Xl(r),s))}(t,e)}function V5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eN(t){return(e,n)=>{let r=!1;for(const s of Xl(t)){const i=F5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function F5(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?Oa(l,d):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return LI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=new et(ae.comparator);function is(){return z5}const tN=new et(ae.comparator);function jl(...t){let e=tN;for(const n of t)e=e.insert(n.key,n);return e}function nN(t){let e=tN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vi(){return Jl()}function rN(){return Jl()}function Jl(){return new vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const U5=new et(ae.comparator),$5=new xt(ae.comparator);function Ne(...t){let e=$5;for(const n of t)e=e.add(n);return e}const B5=new xt(Ie);function H5(){return B5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function sN(t){return{integerValue:""+t}}function W5(t,e){return v5(e)?sN(e):Lv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this._=void 0}}function q5(t,e,n){return t instanceof Pc?function(s,i){const o={fields:{[zI]:{stringValue:FI},[$I]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Dv(i)&&(i=If(i)),i&&(o.fields[UI]=i),{mapValue:o}}(n,e):t instanceof Dc?oN(t,e):t instanceof jc?aN(t,e):function(s,i){const o=iN(s,i),a=a1(o)+a1(s.Ae);return Pg(o)&&Pg(s.Ae)?sN(a):Lv(s.serializer,a)}(t,e)}function G5(t,e,n){return t instanceof Dc?oN(t,e):t instanceof jc?aN(t,e):n}function iN(t,e){return t instanceof Sh?function(r){return Pg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Pc extends Pf{}class Dc extends Pf{constructor(e){super(),this.elements=e}}function oN(t,e){const n=lN(e);for(const r of t.elements)n.some(s=>Dr(s,r))||n.push(r);return{arrayValue:{values:n}}}class jc extends Pf{constructor(e){super(),this.elements=e}}function aN(t,e){let n=lN(e);for(const r of t.elements)n=n.filter(s=>!Dr(s,r));return{arrayValue:{values:n}}}class Sh extends Pf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function a1(t){return st(t.integerValue||t.doubleValue)}function lN(t){return jv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n){this.field=e,this.transform=n}}function Q5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Dc&&s instanceof Dc||r instanceof jc&&s instanceof jc?Da(r.elements,s.elements,Dr):r instanceof Sh&&s instanceof Sh?Dr(r.Ae,s.Ae):r instanceof Pc&&s instanceof Pc}(t.transform,e.transform)}class Y5{constructor(e,n){this.version=e,this.transformResults=n}}class Qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Df{}function cN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dN(t.key,Qr.none()):new tu(t.key,t.data,Qr.none());{const n=t.data,r=On.empty();let s=new xt(Ct.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new wo(t.key,r,new Zn(s.toArray()),Qr.none())}}function X5(t,e,n){t instanceof tu?function(s,i,o){const a=s.value.clone(),l=c1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wo?function(s,i,o){if(!Rd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=c1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(uN(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zl(t,e,n,r){return t instanceof tu?function(i,o,a,l){if(!Rd(i.precondition,o))return a;const d=i.value.clone(),h=u1(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof wo?function(i,o,a,l){if(!Rd(i.precondition,o))return a;const d=u1(i.fieldTransforms,l,o),h=o.data;return h.setAll(uN(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Rd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function J5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=iN(r.transform,s||null);i!=null&&(n===null&&(n=On.empty()),n.set(r.field,i))}return n||null}function l1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Da(r,s,(i,o)=>Q5(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tu extends Df{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wo extends Df{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function uN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function c1(t,e,n){const r=new Map;je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,G5(o,a,n[s]))}return r}function u1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,q5(i,o,e))}return r}class dN extends Df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z5 extends Df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&X5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rN();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=cN(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Da(this.mutations,e.mutations,(n,r)=>l1(n,r))&&Da(this.baseMutations,e.baseMutations,(n,r)=>l1(n,r))}}class Vv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return U5}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Vv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Ae;function rF(t){switch(t){case G.OK:return ce(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function hN(t){if(t===void 0)return ss("GRPC error has no .code"),G.UNKNOWN;switch(t){case at.OK:return G.OK;case at.CANCELLED:return G.CANCELLED;case at.UNKNOWN:return G.UNKNOWN;case at.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case at.INTERNAL:return G.INTERNAL;case at.UNAVAILABLE:return G.UNAVAILABLE;case at.UNAUTHENTICATED:return G.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case at.NOT_FOUND:return G.NOT_FOUND;case at.ALREADY_EXISTS:return G.ALREADY_EXISTS;case at.PERMISSION_DENIED:return G.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case at.ABORTED:return G.ABORTED;case at.OUT_OF_RANGE:return G.OUT_OF_RANGE;case at.UNIMPLEMENTED:return G.UNIMPLEMENTED;case at.DATA_LOSS:return G.DATA_LOSS;default:return ce(39323,{code:t})}}(Ae=at||(at={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=new Js([4294967295,4294967295],0);function d1(t){const e=sF().encode(t),n=new TI;return n.update(e),new Uint8Array(n.digest())}function h1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Js([n,r],0),new Js([s,i],0)]}class Fv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Js.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Js.fromNumber(r)));return s.compare(iF)===1&&(s=new Js([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=d1(e),[r,s]=h1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Fv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=d1(e),[r,s]=h1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jf(he.min(),s,new et(Ie),is(),Ne())}}class nu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nu(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class fN{constructor(e,n){this.targetId=e,this.Ce=n}}class pN{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class f1{constructor(){this.ve=0,this.Fe=p1(),this.Me=Nt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),n=Ne(),r=Ne();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ce(38017,{changeType:i})}}),new nu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=p1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oF{constructor(e){this.Ge=e,this.ze=new Map,this.je=is(),this.Je=Zu(),this.He=Zu(),this.Ye=new et(Ie)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(jg(i))if(r===0){const o=new ae(i.path);this.et(n,o,Wt.newNoDocument(o,he.min()))}else je(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ui(r).toUint8Array()}catch(l){if(l instanceof VI)return uo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Fv(o,s,i)}catch(l){return uo(l instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&jg(a.target)){const l=new ae(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Wt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ne();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.ot(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new jf(e,n,this.Ye,this.je,r);return this.je=is(),this.Je=Zu(),this.He=Zu(),this.Ye=new et(Ie),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new f1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xt(Ie),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xt(Ie),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new f1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zu(){return new et(ae.comparator)}function p1(){return new et(ae.comparator)}const aF={asc:"ASCENDING",desc:"DESCENDING"},lF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cF={and:"AND",or:"OR"};class uF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mg(t,e){return t.useProto3Json||Cf(e)?e:{value:e}}function Th(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dF(t,e){return Th(t,e.toTimestamp())}function kr(t){return je(!!t,49232),he.fromTimestamp(function(n){const r=ci(n);return new Ve(r.seconds,r.nanos)}(t))}function zv(t,e){return Lg(t,e).canonicalString()}function Lg(t,e){const n=function(s){return new Xe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gN(t){const e=Xe.fromString(t);return je(_N(e),10190,{key:e.toString()}),e}function Vg(t,e){return zv(t.databaseId,e.path)}function Zp(t,e){const n=gN(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(vN(n))}function yN(t,e){return zv(t.databaseId,e)}function hF(t){const e=gN(t);return e.length===4?Xe.emptyPath():vN(e)}function Fg(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vN(t){return je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function m1(t,e,n){return{name:Vg(t,e),fields:n.value.mapValue.fields}}function fF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ce(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(je(h===void 0||typeof h=="string",58123),Nt.fromBase64String(h||"")):(je(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Nt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?G.UNKNOWN:hN(d.code);return new oe(h,d.message||"")}(o);n=new pN(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Zp(t,r.document.name),i=kr(r.document.updateTime),o=r.document.createTime?kr(r.document.createTime):he.min(),a=new On({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Pd(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Zp(t,r.document),i=r.readTime?kr(r.readTime):he.min(),o=Wt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Pd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Zp(t,r.document),i=r.removedTargetIds||[];n=new Pd([],i,s,null)}else{if(!("filter"in e))return ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new nF(s,i),a=r.targetId;n=new fN(a,o)}}return n}function pF(t,e){let n;if(e instanceof tu)n={update:m1(t,e.key,e.value)};else if(e instanceof dN)n={delete:Vg(t,e.key)};else if(e instanceof wo)n={update:m1(t,e.key,e.data),updateMask:bF(e.fieldMask)};else{if(!(e instanceof Z5))return ce(16599,{Vt:e.type});n={verify:Vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Pc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ce(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:dF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce(27497)}(t,e.precondition)),n}function mF(t,e){return t&&t.length>0?(je(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?kr(s.updateTime):kr(i);return o.isEqual(he.min())&&(o=kr(i)),new Y5(o,s.transformResults||[])}(n,e))):[]}function gF(t,e){return{documents:[yN(t,e.path)]}}function yF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yN(t,s);const i=function(d){if(d.length!==0)return xN(jr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:Po(m.field),direction:xF(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function vF(t){let e=hF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){je(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=wN(f);return m instanceof jr&&QI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(b){return new bh(Do(b.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Cf(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,y=f.values||[];return new Eh(y,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,y=f.values||[];return new Eh(y,m)}(n.endAt)),O5(e,s,o,i,a,"F",l,d)}function wF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Do(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Do(n.unaryFilter.field);return vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Do(n.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Do(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return vt.create(Do(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jr.create(n.compositeFilter.filters.map(r=>wN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function xF(t){return aF[t]}function _F(t){return lF[t]}function EF(t){return cF[t]}function Po(t){return{fieldPath:t.canonicalString()}}function Do(t){return Ct.fromServerFormat(t.fieldPath)}function xN(t){return t instanceof vt?function(n){if(n.op==="=="){if(n1(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(t1(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n1(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(t1(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:_F(n.op),value:n.value}}}(t):t instanceof jr?function(n){const r=n.getFilters().map(s=>xN(s));return r.length===1?r[0]:{compositeFilter:{op:EF(n.op),filters:r}}}(t):ce(54877,{filter:t})}function bF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _N(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r,s,i=he.min(),o=he.min(),a=Nt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.yt=e}}function TF(t){const e=vF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Og(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.Cn=new IF}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(li.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(li.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class IF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new xt(Xe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new xt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EN=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(EN,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new La(0)}static cr(){return new La(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="LruGarbageCollector",NF=1048576;function v1([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class AF{constructor(e){this.Ir=e,this.buffer=new xt(v1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();v1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(y1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Za(n)?Z(y1,"Ignoring IndexedDB error during garbage collection: ",n):await Ja(n)}await this.Vr(3e5)})}}class RF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Tf.ce);const r=new AF(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(g1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),ko()<=Ce.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function PF(t,e){return new RF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.changes=new vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Zl(r.mutation,s,Zn.empty(),Ve.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const s=Vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=jl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=is();const o=Jl(),a=function(){return Jl()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof wo)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Zl(h.mutation,d,h.mutation.getFieldMask(),Ve.now())):o.set(d.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new jF(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Jl();let s=new et((o,a)=>o-a),i=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||Zn.empty();h=a.applyToLocalView(d,h),r.set(l,h);const f=(s.get(a.batchId)||Ne()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,f=rN();h.forEach(m=>{if(!i.has(m)){const y=cN(n.get(m),r.get(m));y!==null&&f.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Vi());let a=Ac,l=i;return o.next(d=>$.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,Ne())).next(h=>({batchId:a,changes:nN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=jl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=jl();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const d=function(f,m){return new Nf(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Wt.newInvalidDocument(h)))});let a=jl();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&Zl(h.mutation,d,Zn.empty(),Ve.now()),Rf(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:kr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:TF(s.bundledQuery),readTime:kr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this.overlays=new et(ae.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vi();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Vi(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new et((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Vi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Vi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tF(n,r));let i=this.qr.get(n);i===void 0&&(i=Ne(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.Qr=new xt(bt.$r),this.Ur=new xt(bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new bt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new bt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ae(new Xe([])),r=new bt(n,e),s=new bt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ae(new Xe([])),r=new bt(n,e),s=new bt(n,e+1);let i=Ne();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new bt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ae.comparator(e.key,n.key)||Ie(e.Yr,n.Yr)}static Kr(e,n){return Ie(e.Yr,n.Yr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xt(bt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eF(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new bt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Pv:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),s=new bt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(Ie);return n.forEach(s=>{const i=new bt(s,0),o=new bt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new bt(new ae(i),0);let a=new xt(Ie);return this.Zr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new bt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new bt(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.ri=e,this.docs=function(){return new et(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=is();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Wt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=is();const o=n.path,a=new ae(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||p5(f5(h),r)<=0||(s.has(h.key)||Rf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ce(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UF(this)}getSize(e){return $.resolve(this.size)}}class UF extends DF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.persistence=e,this.si=new vo(n=>Ov(n),Mv),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new Uv,this.targetCount=0,this.ai=La.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new La(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.ui={},this.overlays={},this.ci=new Tf(0),this.li=!1,this.li=!0,this.hi=new VF,this.referenceDelegate=e(this),this.Pi=new $F(this),this.indexManager=new CF,this.remoteDocumentCache=function(s){return new zF(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new SF(n),this.Ii=new MF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new FF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new BF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class BF extends g5{constructor(e){super(),this.currentSequenceNumber=e}}class $v{constructor(e){this.persistence=e,this.Ri=new Uv,this.Vi=null}static mi(e){return new $v(e)}get fi(){if(this.Vi)return this.Vi;throw ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=ae.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,he.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.pi=new vo(r=>w5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=PF(this,n)}static mi(e,n){return new Ch(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,he.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ad(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ne(),s=Ne();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Bv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return M4()?8:y5(Gt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new HF;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(ko()<=Ce.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(ko()<=Ce.DEBUG&&Z("QueryEngine","Query:",Ro(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ko()<=Ce.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(n))):$.resolve())}ys(e,n){if(o1(n))return $.resolve(null);let r=Ar(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Og(n,null,"F"),r=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ne(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.Ds(n,a);return this.Cs(n,d,o,l.readTime)?this.ys(e,Og(n,null,"F")):this.vs(e,d,n,l)}))})))}ws(e,n,r,s){return o1(n)||s.isEqual(he.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(ko()<=Ce.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ro(n)),this.vs(e,o,n,h5(s,Ac)).next(a=>a))})}Ds(e,n){let r=new xt(eN(e));return n.forEach((s,i)=>{Rf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ko()<=Ce.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.ps.getDocumentsMatchingQuery(e,n,li.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="LocalStore",qF=3e8;class GF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new et(Ie),this.xs=new vo(i=>Ov(i),Mv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function KF(t,e,n,r){return new GF(t,e,n,r)}async function SN(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ne();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function QF(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const f=d.batch,m=f.keys();let y=$.resolve();return m.forEach(b=>{y=y.next(()=>h.getEntry(l,b)).next(v=>{const E=d.docVersions.get(b);je(E!==null,48541),v.version.compareTo(E)<0&&(f.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),h.addEntry(v)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function TN(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function YF(t,e){const n=me(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Nt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(v,E,_){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=qF?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,y,h)&&a.push(n.Pi.updateTargetData(i,y))});let l=is(),d=Ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(XF(i,o,e.documentUpdates).next(h=>{l=h.ks,d=h.qs})),!r.isEqual(he.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.Ms=s,i))}function XF(t,e,n){let r=Ne(),s=Ne();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=is();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z(Hv,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{ks:o,qs:s}})}function JF(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Pv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZF(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Fs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function zg(t,e,n){const r=me(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Za(o))throw o;Z(Hv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function w1(t,e,n){const r=me(t);let s=he.min(),i=Ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const f=me(l),m=f.xs.get(h);return m!==void 0?$.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,o,Ar(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?i:Ne())).next(a=>(e9(r,V5(e),a),{documents:a,Qs:i})))}function e9(t,e,n){let r=t.Os.get(e)||he.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class x1{constructor(){this.activeTargetIds=H5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t9{constructor(){this.Mo=new x1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new x1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="ConnectivityMonitor";class E1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(_1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(_1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed=null;function Ug(){return ed===null?ed=function(){return 268435456+Math.round(2147483648*Math.random())}():ed++,"0x"+ed.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="RestConnection",r9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===xh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Ug(),a=this.zo(e,n.toUriEncodedString());Z(em,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:d}=new URL(a),h=Ka(d);return this.Jo(e,a,l,r,h).then(f=>(Z(em,`Received RPC '${e}' ${o}: `,f),f),f=>{throw uo(em,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=r9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class o9 extends s9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Ug();return new Promise((a,l)=>{const d=new CI;d.setWithCredentials(!0),d.listenOnce(II.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Nd.NO_ERROR:const f=d.getResponseJson();Z(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Nd.TIMEOUT:Z(zt,`RPC '${e}' ${o} timed out`),l(new oe(G.DEADLINE_EXCEEDED,"Request time out"));break;case Nd.HTTP_ERROR:const m=d.getStatus();if(Z(zt,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const v=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(w)>=0?w:G.UNKNOWN}(b.status);l(new oe(v,b.message))}else l(new oe(G.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new oe(G.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Z(zt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Z(zt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Ug(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kI(),a=AI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Z(zt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let m=!1,y=!1;const b=new i9({Yo:E=>{y?Z(zt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(m||(Z(zt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),Z(zt,`RPC '${e}' stream ${s} sending:`,E),f.send(E))},Zo:()=>f.close()}),v=(E,_,w)=>{E.listen(_,S=>{try{w(S)}catch(k){setTimeout(()=>{throw k},0)}})};return v(f,Dl.EventType.OPEN,()=>{y||(Z(zt,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),v(f,Dl.EventType.CLOSE,()=>{y||(y=!0,Z(zt,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(f))}),v(f,Dl.EventType.ERROR,E=>{y||(y=!0,uo(zt,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),b.a_(new oe(G.UNAVAILABLE,"The operation could not be completed")))}),v(f,Dl.EventType.MESSAGE,E=>{var _;if(!y){const w=E.data[0];je(!!w,16349);const S=w,k=(S==null?void 0:S.error)||((_=S[0])==null?void 0:_.error);if(k){Z(zt,`RPC '${e}' stream ${s} received error:`,k);const O=k.status;let D=function(I){const A=at[I];if(A!==void 0)return hN(A)}(O),T=k.message;D===void 0&&(D=G.INTERNAL,T="Unknown error status: "+O+" with message "+k.message),y=!0,b.a_(new oe(D,T)),f.close()}else Z(zt,`RPC '${e}' stream ${s} received:`,w),b.u_(w)}}),v(a,NI.STAT_EVENT,E=>{E.stat===Ag.PROXY?Z(zt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Ag.NOPROXY&&Z(zt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t){return new uF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="PersistentStream";class IN{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new oe(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(b1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Z(b1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a9 extends IN{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fF(this.serializer,e),r=function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?kr(o.readTime):he.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Fg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=jg(l)?{documents:gF(i,l)}:{query:yF(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=mN(i,o.resumeToken);const d=Mg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=Th(i,o.snapshotVersion.toTimestamp());const d=Mg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=wF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Fg(this.serializer),n.removeTarget=e,this.q_(n)}}class l9 extends IN{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mF(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Fg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{}class u9 extends c9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new oe(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Lg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new oe(G.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Lg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(G.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class d9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="RemoteStore";class h9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{xo(this)&&(Z(ho,"Restarting streams for network reachability change."),await async function(l){const d=me(l);d.Ea.add(4),await ru(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Mf(d)}(this))})}),this.Ra=new d9(r,s)}}async function Mf(t){if(xo(t))for(const e of t.da)await e(!0)}async function ru(t){for(const e of t.da)await e(!1)}function NN(t,e){const n=me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kv(n)?Gv(n):el(n).O_()&&qv(n,e))}function Wv(t,e){const n=me(t),r=el(n);n.Ia.delete(e),r.O_()&&AN(n,e),n.Ia.size===0&&(r.O_()?r.L_():xo(n)&&n.Ra.set("Unknown"))}function qv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}el(t).Y_(e)}function AN(t,e){t.Va.Ue(e),el(t).Z_(e)}function Gv(t){t.Va=new oF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),el(t).start(),t.Ra.ua()}function Kv(t){return xo(t)&&!el(t).x_()&&t.Ia.size>0}function xo(t){return me(t).Ea.size===0}function kN(t){t.Va=void 0}async function f9(t){t.Ra.set("Online")}async function p9(t){t.Ia.forEach((e,n)=>{qv(t,e)})}async function m9(t,e){kN(t),Kv(t)?(t.Ra.ha(e),Gv(t)):t.Ra.set("Unknown")}async function g9(t,e,n){if(t.Ra.set("Online"),e instanceof pN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Z(ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ih(t,r)}else if(e instanceof Pd?t.Va.Ze(e):e instanceof fN?t.Va.st(e):t.Va.tt(e),!n.isEqual(he.min()))try{const r=await TN(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(Nt.EMPTY_BYTE_STRING,h.snapshotVersion)),AN(i,l);const f=new Fs(h.target,l,d,h.sequenceNumber);qv(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(ho,"Failed to raise snapshot:",r),await Ih(t,r)}}async function Ih(t,e,n){if(!Za(e))throw e;t.Ea.add(1),await ru(t),t.Ra.set("Offline"),n||(n=()=>TN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(ho,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Mf(t)})}function RN(t,e){return e().catch(n=>Ih(t,n,e))}async function Lf(t){const e=me(t),n=hi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pv;for(;y9(e);)try{const s=await JF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,v9(e,s)}catch(s){await Ih(e,s)}PN(e)&&DN(e)}function y9(t){return xo(t)&&t.Ta.length<10}function v9(t,e){t.Ta.push(e);const n=hi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function PN(t){return xo(t)&&!hi(t).x_()&&t.Ta.length>0}function DN(t){hi(t).start()}async function w9(t){hi(t).ra()}async function x9(t){const e=hi(t);for(const n of t.Ta)e.ea(n.mutations)}async function _9(t,e,n){const r=t.Ta.shift(),s=Vv.from(r,e,n);await RN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Lf(t)}async function E9(t,e){e&&hi(t).X_&&await async function(r,s){if(function(o){return rF(o)&&o!==G.ABORTED}(s.code)){const i=r.Ta.shift();hi(r).B_(),await RN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Lf(r)}}(t,e),PN(t)&&DN(t)}async function S1(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),Z(ho,"RemoteStore received new credentials");const r=xo(n);n.Ea.add(3),await ru(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mf(n)}async function b9(t,e){const n=me(t);e?(n.Ea.delete(2),await Mf(n)):e||(n.Ea.add(2),await ru(n),n.Ra.set("Unknown"))}function el(t){return t.ma||(t.ma=function(n,r,s){const i=me(n);return i.sa(),new a9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:f9.bind(null,t),t_:p9.bind(null,t),r_:m9.bind(null,t),H_:g9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Kv(t)?Gv(t):t.Ra.set("Unknown")):(await t.ma.stop(),kN(t))})),t.ma}function hi(t){return t.fa||(t.fa=function(n,r,s){const i=me(n);return i.sa(),new l9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:w9.bind(null,t),r_:E9.bind(null,t),ta:x9.bind(null,t),na:_9.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Lf(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(ho,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Qv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yv(t,e){if(ss("AsyncQueue",`${e}: ${t}`),Za(t))return new oe(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{static emptySet(e){return new oa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=jl(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.ga=new et(ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Va{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Va(e,n,oa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class T9{constructor(){this.queries=C1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=me(n),i=s.queries;s.queries=C1(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new oe(G.ABORTED,"Firestore shutting down"))}}function C1(){return new vo(t=>ZI(t),kf)}async function jN(t,e){const n=me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new S9,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Yv(o,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Xv(n)}async function ON(t,e){const n=me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C9(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Xv(n)}function I9(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Xv(t){t.Ca.forEach(e=>{e.next()})}var $g,I1;(I1=$g||($g={})).Ma="default",I1.Cache="cache";class MN{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.key=e}}class VN{constructor(e){this.key=e}}class N9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=eN(e),this.tu=new oa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new T1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),y=Rf(this.query,f)?f:null,b=!!m&&this.mutatedKeys.has(m.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;m&&y?m.data.isEqual(y.data)?b!==v&&(r.track({type:3,doc:y}),E=!0):this.su(m,y)||(r.track({type:2,doc:y}),E=!0,(l&&this.eu(y,l)>0||d&&this.eu(y,d)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),E=!0):m&&!y&&(r.track({type:1,doc:m}),E=!0,(l||d)&&(a=!0)),E&&(y?(o=o.add(y),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,b){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Rt:E})}};return v(y)-v(b)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,d=l!==this.Za;return this.Za=l,o.length!==0||d?{snapshot:new Va(this.query,e.tu,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new VN(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new LN(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Va.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jv="SyncEngine";class A9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k9{constructor(e){this.key=e,this.hu=!1}}class R9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new vo(a=>ZI(a),kf),this.Iu=new Map,this.Eu=new Set,this.du=new et(ae.comparator),this.Au=new Map,this.Ru=new Uv,this.Vu={},this.mu=new Map,this.fu=La.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P9(t,e,n=!0){const r=HN(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await FN(r,e,n,!0),s}async function D9(t,e){const n=HN(t);await FN(n,e,!0,!1)}async function FN(t,e,n,r){const s=await ZF(t.localStore,Ar(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await j9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&NN(t.remoteStore,s),a}async function j9(t,e,n,r,s){t.pu=(f,m,y)=>async function(v,E,_,w){let S=E.view.ru(_);S.Cs&&(S=await w1(v.localStore,E.query,!1).then(({documents:T})=>E.view.ru(T,S)));const k=w&&w.targetChanges.get(E.targetId),O=w&&w.targetMismatches.get(E.targetId)!=null,D=E.view.applyChanges(S,v.isPrimaryClient,k,O);return A1(v,E.targetId,D.au),D.snapshot}(t,f,m,y);const i=await w1(t.localStore,e,!0),o=new N9(e,i.Qs),a=o.ru(i.documents),l=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);A1(t,n,d.au);const h=new A9(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function O9(t,e,n){const r=me(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!kf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await zg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Wv(r.remoteStore,s.targetId),Bg(r,s.targetId)}).catch(Ja)):(Bg(r,s.targetId),await zg(r.localStore,s.targetId,!0))}async function M9(t,e){const n=me(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wv(n.remoteStore,r.targetId))}async function L9(t,e,n){const r=H9(t);try{const s=await function(o,a){const l=me(o),d=Ve.now(),h=a.reduce((y,b)=>y.add(b.key),Ne());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=is(),v=Ne();return l.Ns.getEntries(y,h).next(E=>{b=E,b.forEach((_,w)=>{w.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,b)).next(E=>{f=E;const _=[];for(const w of a){const S=J5(w,f.get(w.key).overlayedDocument);S!=null&&_.push(new wo(w.key,S,qI(S.value.mapValue),Qr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,d,_,a)}).next(E=>{m=E;const _=E.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(y,E.batchId,_)})}).then(()=>({batchId:m.batchId,changes:nN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let d=o.Vu[o.currentUser.toKey()];d||(d=new et(Ie)),d=d.insert(a,l),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await su(r,s.changes),await Lf(r.remoteStore)}catch(s){const i=Yv(s,"Failed to persist write");n.reject(i)}}async function zN(t,e){const n=me(t);try{const r=await YF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?je(o.hu,14607):s.removedDocuments.size>0&&(je(o.hu,42227),o.hu=!1))}),await su(n,r,e)}catch(r){await Ja(r)}}function N1(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=me(o);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(d=!0)}),d&&Xv(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function V9(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new et(ae.comparator);o=o.insert(i,Wt.newNoDocument(i,he.min()));const a=Ne().add(i),l=new jf(he.min(),new Map,new et(Ie),o,a);await zN(r,l),r.du=r.du.remove(i),r.Au.delete(e),Zv(r)}else await zg(r.localStore,e,!1).then(()=>Bg(r,e,n)).catch(Ja)}async function F9(t,e){const n=me(t),r=e.batch.batchId;try{const s=await QF(n.localStore,e);$N(n,r,null),UN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await su(n,s)}catch(s){await Ja(s)}}async function z9(t,e,n){const r=me(t);try{const s=await function(o,a){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(je(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);$N(r,e,n),UN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await su(r,s)}catch(s){await Ja(s)}}function UN(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function $N(t,e,n){const r=me(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||BN(t,r)})}function BN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Wv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Zv(t))}function A1(t,e,n){for(const r of n)r instanceof LN?(t.Ru.addReference(r.key,e),U9(t,r)):r instanceof VN?(Z(Jv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||BN(t,r.key)):ce(19791,{wu:r})}function U9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Z(Jv,"New document in limbo: "+n),t.Eu.add(r),Zv(t))}function Zv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ae(Xe.fromString(e)),r=t.fu.next();t.Au.set(r,new k9(n)),t.du=t.du.insert(n,r),NN(t.remoteStore,new Fs(Ar(Af(n.path)),r,"TargetPurposeLimboResolution",Tf.ce))}}async function su(t,e,n){const r=me(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Bv.As(l.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,d){const h=me(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(d,m=>$.forEach(m.Es,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>$.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!Za(f))throw f;Z(Hv,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const y=h.Ms.get(m),b=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(b);h.Ms=h.Ms.insert(m,v)}}}(r.localStore,i))}async function $9(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){Z(Jv,"User change. New user:",e.toKey());const r=await SN(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new oe(G.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await su(n,r.Ls)}}function B9(t,e){const n=me(t),r=n.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let s=Ne();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function HN(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V9.bind(null,e),e.Pu.H_=C9.bind(null,e.eventManager),e.Pu.yu=I9.bind(null,e.eventManager),e}function H9(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z9.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Of(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KF(this.persistence,new WF,e.initialUser,this.serializer)}Cu(e){return new bN($v.mi,this.serializer)}Du(e){return new t9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class W9 extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){je(this.persistence.referenceDelegate instanceof Ch,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new bN(r=>Ch.mi(r,n),this.serializer)}}class Hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$9.bind(null,this.syncEngine),await b9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T9}()}createDatastore(e){const n=Of(e.databaseInfo.databaseId),r=function(i){return new o9(i)}(e.databaseInfo);return function(i,o,a,l){return new u9(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new h9(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>N1(this.syncEngine,n,0),function(){return E1.v()?new E1:new n9}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const f=new R9(s,i,o,a,l,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=me(s);Z(ho,"RemoteStore shutting down."),i.Ea.add(5),await ru(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Hg.provider={build:()=>new Hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="FirestoreClient";class q9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=$t.UNAUTHENTICATED,this.clientId=Sf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(fi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(fi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nm(t,e){t.asyncQueue.verifyOperationInProgress(),Z(fi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await SN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function k1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G9(t);Z(fi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>S1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>S1(e.remoteStore,s)),t._onlineComponents=e}async function G9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(fi,"Using user provided OfflineComponentProvider");try{await nm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===G.FAILED_PRECONDITION||s.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await nm(t,new Nh)}}else Z(fi,"Using default OfflineComponentProvider"),await nm(t,new W9(void 0));return t._offlineComponents}async function qN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(fi,"Using user provided OnlineComponentProvider"),await k1(t,t._uninitializedComponentsProvider._online)):(Z(fi,"Using default OnlineComponentProvider"),await k1(t,new Hg))),t._onlineComponents}function K9(t){return qN(t).then(e=>e.syncEngine)}async function Wg(t){const e=await qN(t),n=e.eventManager;return n.onListen=P9.bind(null,e.syncEngine),n.onUnlisten=O9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=D9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M9.bind(null,e.syncEngine),n}function Q9(t,e,n={}){const r=new Zs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new WN({next:m=>{h.Nu(),o.enqueueAndForget(()=>ON(i,f));const y=m.docs.has(a);!y&&m.fromCache?d.reject(new oe(G.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&l&&l.source==="server"?d.reject(new oe(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new MN(Af(a.path),h,{includeMetadataChanges:!0,qa:!0});return jN(i,f)}(await Wg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="firestore.googleapis.com",P1=!0;class D1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KN,this.ssl=P1}else this.host=e.host,this.ssl=e.ssl??P1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NF)throw new oe(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GN(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class e0{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DI;switch(r.type){case"firstParty":return new i5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=R1.get(n);r&&(Z("ComponentProvider","Removing Datastore"),R1.delete(n),r.terminate())}(this),Promise.resolve()}}function QN(t,e,n,r={}){var d;t=Kr(t,e0);const s=Ka(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(UC(`https://${a}`),$C("Firestore",!0)),i.host!==KN&&i.host!==a&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!oo(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=$t.MOCK_USER;else{h=I4(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new oe(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $t(m)}t._authCredentials=new n5(new PI(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new iu(this.firestore,e,this._query)}}class dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(eu(n,dt._jsonSchema))return new dt(e,r||null,new ae(Xe.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:ut("string",dt._jsonSchemaVersion),referencePath:ut("string")};class Fa extends iu{constructor(e,n,r){super(e,n,Af(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new ae(e))}withConverter(e){return new Fa(this.firestore,e,this._path)}}function Fi(t,e,...n){if(t=Cn(t),arguments.length===1&&(e=Sf.newId()),d5("doc","path",e),t instanceof e0){const r=Xe.fromString(e,...n);return G_(r),new dt(t,null,new ae(r))}{if(!(t instanceof dt||t instanceof Fa))throw new oe(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return G_(r),new dt(t.firestore,t instanceof Fa?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="AsyncQueue";class O1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CN(this,"async_queue_retry"),this._c=()=>{const r=tm();r&&Z(j1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Zs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Za(e))throw e;Z(j1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",M1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Qv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ce(47125,{Pc:M1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function M1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class za extends e0{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new O1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O1(e),this._firestoreClient=void 0,await e}}}function YN(t,e){const n=typeof t=="object"?t:qC(),r=typeof t=="string"?t:xh,s=wv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=T4("firestore");i&&QN(s,...i)}return s}function Vf(t){if(t._terminated)throw new oe(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Y9(t),t._firestoreClient}function Y9(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,d,h){return new E5(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,GN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new q9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _n(Nt.fromBase64String(e))}catch(n){throw new oe(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _n(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,_n._jsonSchema))return _n.fromBase64String(e.bytes)}}_n._jsonSchemaVersion="firestore/bytes/1.0",_n._jsonSchema={type:ut("string",_n._jsonSchemaVersion),bytes:ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(e){if(eu(e,rr._jsonSchema))return new rr(e.latitude,e.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:ut("string",rr._jsonSchemaVersion),latitude:ut("number"),longitude:ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new sr(e.vectorValues);throw new oe(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:ut("string",sr._jsonSchemaVersion),vectorValues:ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=/^__.*__$/;class J9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}function XN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ac:t})}}class t0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XN(this.Ac)&&X9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Z9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Of(e)}Cc(e,n,r,s=!1){return new t0({Ac:e,methodName:n,Dc:r,path:Ct.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ez(t){const e=t._freezeSettings(),n=Of(t._databaseId);return new Z9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tz(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);tA("Data must be an object, but it was:",o,r);const a=ZN(r,o);let l,d;if(i.merge)l=new Zn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=nz(e,f,n);if(!o.contains(m))throw new oe(G.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);sz(h,m)||h.push(m)}l=new Zn(h),d=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=o.fieldTransforms;return new J9(new On(a),l,d)}class n0 extends zf{_toFieldTransform(e){return new K5(e.path,new Pc)}isEqual(e){return e instanceof n0}}function JN(t,e){if(eA(t=Cn(t)))return tA("Unsupported field value:",e,t),ZN(t,e);if(t instanceof zf)return function(r,s){if(!XN(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=JN(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return W5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ve.fromDate(r);return{timestampValue:Th(s.serializer,i)}}if(r instanceof Ve){const i=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(s.serializer,i)}}if(r instanceof rr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _n)return{bytesValue:mN(s.serializer,r._byteString)};if(r instanceof dt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof sr)return function(o,a){return{mapValue:{fields:{[BI]:{stringValue:WI},[_h]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return Lv(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Rv(r)}`)}(t,e)}function ZN(t,e){const n={};return LI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(t,(r,s)=>{const i=JN(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function eA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof rr||t instanceof _n||t instanceof dt||t instanceof zf||t instanceof sr)}function tA(t,e,n){if(!eA(n)||!OI(n)){const r=Rv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function nz(t,e,n){if((e=Cn(e))instanceof Ff)return e._internalPath;if(typeof e=="string")return nA(t,e);throw Ah("Field path arguments must be of type string or ",t,!1,void 0,n)}const rz=new RegExp("[~\\*/\\[\\]]");function nA(t,e,n){if(e.search(rz)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ff(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ah(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new oe(G.INVALID_ARGUMENT,a+t+l)}function sz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iz extends rA{data(){return super.data()}}function sA(t,e){return typeof e=="string"?nA(t,e):e instanceof Ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iA{convertValue(e,n="none"){switch(di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[_h].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>st(o.doubleValue));return new sr(n)}convertGeoPoint(e){return new rr(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=If(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){const n=ci(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);je(_N(r),9688,{name:e});const s=new ja(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||ss(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ei extends rA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ei._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ei._jsonSchemaVersion="firestore/documentSnapshot/1.0",ei._jsonSchema={type:ut("string",ei._jsonSchemaVersion),bundleSource:ut("string","DocumentSnapshot"),bundleName:ut("string"),bundle:ut("string")};class ec extends ei{data(e={}){return super.data(e)}}class Ki{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Go(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ec(this._firestore,this._userDataWriter,r.key,r,new Go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new ec(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Go(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new ec(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Go(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:lz(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ki._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t){t=Kr(t,dt);const e=Kr(t.firestore,za);return Q9(Vf(e),t._key).then(n=>uA(e,t,n))}Ki._jsonSchemaVersion="firestore/querySnapshot/1.0",Ki._jsonSchema={type:ut("string",Ki._jsonSchemaVersion),bundleSource:ut("string","QuerySnapshot"),bundleName:ut("string"),bundle:ut("string")};class aA extends iA{constructor(e){super(),this.firestore=e}convertBytes(e){return new _n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function tc(t,e,n){t=Kr(t,dt);const r=Kr(t.firestore,za),s=az(t.converter,e,n);return cA(r,[tz(ez(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Qr.none())])}function lA(t,...e){var l,d,h;t=Cn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||L1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(L1(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(d=f.error)==null?void 0:d.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,a;if(t instanceof dt)o=Kr(t.firestore,za),a=Af(t._key.path),i={next:f=>{e[r]&&e[r](uA(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Kr(t,iu);o=Kr(f.firestore,za),a=f._query;const m=new aA(o);i={next:y=>{e[r]&&e[r](new Ki(o,m,f,y))},error:e[r+1],complete:e[r+2]},oz(t._query)}return function(m,y,b,v){const E=new WN(v),_=new MN(y,E,b);return m.asyncQueue.enqueueAndForget(async()=>jN(await Wg(m),_)),()=>{E.Nu(),m.asyncQueue.enqueueAndForget(async()=>ON(await Wg(m),_))}}(Vf(o),a,s,i)}function cA(t,e){return function(r,s){const i=new Zs;return r.asyncQueue.enqueueAndForget(async()=>L9(await K9(r),s,i)),i.promise}(Vf(t),e)}function uA(t,e,n){const r=n.docs.get(e._key),s=new aA(t);return new ei(t,s,e._key,r,new Go(n.hasPendingWrites,n.fromCache),e.converter)}function cz(){return new n0("serverTimestamp")}(function(e,n=!0){(function(s){Xa=s})(Qa),Ra(new ao("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new za(new r5(r.getProvider("auth-internal")),new o5(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new oe(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Xs(B_,H_,e),Xs(B_,H_,"esm2020")})();const V1=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:iA,Bytes:_n,CollectionReference:Fa,DocumentReference:dt,DocumentSnapshot:ei,FieldPath:Ff,FieldValue:zf,Firestore:za,FirestoreError:oe,GeoPoint:rr,Query:iu,QueryDocumentSnapshot:ec,QuerySnapshot:Ki,SnapshotMetadata:Go,Timestamp:Ve,VectorValue:sr,_AutoId:Sf,_ByteString:Nt,_DatabaseId:ja,_DocumentKey:ae,_EmptyAuthCredentialsProvider:DI,_FieldPath:Ct,_cast:Kr,_logWarn:uo,_validateIsNotUsedTogether:jI,connectFirestoreEmulator:QN,doc:Fi,ensureFirestoreConfigured:Vf,executeWrite:cA,getDoc:oA,getFirestore:YN,onSnapshot:lA,serverTimestamp:cz,setDoc:tc},Symbol.toStringTag,{value:"Module"})),uz={apiKey:"AIzaSyD4y-0QZLN6Q5wFDoTxIaxR-_hcPWyDcto",authDomain:"trace-6f541.firebaseapp.com",projectId:"trace-6f541",storageBucket:"trace-6f541.firebasestorage.app",appId:"1:30992363510:web:5b61c6861fbcad776121d7"},r0=WC(uz),jo=J6(r0),zi=YN(r0),tl=new xn;tl.addScope("https://www.googleapis.com/auth/classroom.courses.readonly");tl.addScope("https://www.googleapis.com/auth/classroom.coursework.me.readonly");tl.addScope("https://www.googleapis.com/auth/classroom.student-submissions.me.readonly");tl.addScope("https://www.googleapis.com/auth/classroom.courseworkmaterials.readonly");const F1=Object.freeze(Object.defineProperty({__proto__:null,app:r0,auth:jo,db:zi,googleProvider:tl},Symbol.toStringTag,{value:"Module"})),dA=p.createContext(void 0);function dz({children:t}){const[e,n]=p.useState(null),[r,s]=p.useState(!0),[i,o]=p.useState(null),[a,l]=p.useState(null);p.useEffect(()=>U3(jo,b=>{n(b),s(!1)}),[]);const d=async()=>{try{l(null);const y=await Yp(jo,tl),b=xn.credentialFromResult(y);b!=null&&b.accessToken&&o(b.accessToken)}catch(y){const b=y instanceof Error?y.message:"Failed to sign in";l(b),console.error("Sign in error:",y)}},h=async()=>{try{l(null);const y=new xn;y.addScope("https://www.googleapis.com/auth/gmail.send"),y.addScope("https://www.googleapis.com/auth/classroom.courses.readonly"),y.setCustomParameters({access_type:"offline",prompt:"consent"});const b=await Yp(jo,y),v=xn.credentialFromResult(b),E=b._tokenResponse;if(E!=null&&E.oauthRefreshToken){const{doc:_,setDoc:w,serverTimestamp:S}=await Ku(async()=>{const{doc:O,setDoc:D,serverTimestamp:T}=await Promise.resolve().then(()=>V1);return{doc:O,setDoc:D,serverTimestamp:T}},void 0),{db:k}=await Ku(async()=>{const{db:O}=await Promise.resolve().then(()=>F1);return{db:O}},void 0);if(e&&E.oauthRefreshToken)return await w(_(k,"users",e.uid,"private_tokens","google"),{refreshToken:E.oauthRefreshToken,updatedAt:S()}),!0}return!!(v!=null&&v.accessToken)}catch(y){const b=y instanceof Error?y.message:"Failed to get Gmail permissions";return l(b),console.error("Permission error:",y),!1}},f=async()=>{try{l(null);const y=new xn;y.addScope("https://www.googleapis.com/auth/calendar.events"),y.setCustomParameters({access_type:"offline",prompt:"consent"});const v=(await Yp(jo,y))._tokenResponse;if(e&&(v!=null&&v.oauthRefreshToken)){const{doc:E,setDoc:_,serverTimestamp:w}=await Ku(async()=>{const{doc:k,setDoc:O,serverTimestamp:D}=await Promise.resolve().then(()=>V1);return{doc:k,setDoc:O,serverTimestamp:D}},void 0),{db:S}=await Ku(async()=>{const{db:k}=await Promise.resolve().then(()=>F1);return{db:k}},void 0);return await _(E(S,"users",e.uid,"private_tokens","calendar"),{refreshToken:v.oauthRefreshToken,updatedAt:w(),scopes:["https://www.googleapis.com/auth/calendar.events"]},{merge:!0}),!0}return!0}catch(y){const b=y instanceof Error?y.message:"Failed to get Calendar permissions";return l(b),console.error("Permission error:",y),!1}},m=async()=>{try{await $3(jo),o(null)}catch(y){const b=y instanceof Error?y.message:"Failed to sign out";l(b)}};return c.jsx(dA.Provider,{value:{user:e,loading:r,accessToken:i,signInWithGoogle:d,requestGmailPermissions:h,requestCalendarPermissions:f,signOut:m,error:a},children:t})}function cs(){const t=p.useContext(dA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const hA=p.createContext(void 0);function hz({children:t}){const[e,n]=p.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");return i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});p.useEffect(()=>{const i=document.documentElement;e==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")},s=i=>{n(i)};return c.jsx(hA.Provider,{value:{theme:e,toggleTheme:r,setTheme:s},children:t})}function fA(){const t=p.useContext(hA);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const pA=p.createContext(void 0);function fz(){return Math.random().toString(36).substring(2,15)}async function Qi(t,e,n,r){var o;const s=[];let i;do{const a=e.includes("?")?"&":"?",l=i?`${e}${a}pageToken=${i}`:e;console.log(`Fetching: ${l.substring(0,100)}...`);const d=await fetch(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!d.ok){let m=d.statusText,y={};try{const b=await d.json();y=b,m=((o=b.error)==null?void 0:o.message)||b.message||m,console.error("API Error Response:",b)}catch{const v=await d.text().catch(()=>"");console.error("API Error (non-JSON):",v)}throw new Error(`${m} (Status: ${d.status})`)}const h=await d.json(),f=n(h);s.push(...f),i=r(h)}while(i);return s}async function pz(t,e){const r=await Qi(t,"https://classroom.googleapis.com/v1/courses?studentId=me&courseStates=ACTIVE",i=>i.courses||[],i=>i.nextPageToken),s=new Date().toISOString();return r.map(i=>({id:`course-${i.id}`,userId:e,classroomId:i.id,name:i.name,section:i.section||null,descriptionHeading:i.descriptionHeading||null,room:i.room||null,ownerId:i.ownerId||null,enrollmentCode:i.enrollmentCode||null,courseState:i.courseState||null,alternateLink:i.alternateLink||null,lastSyncedAt:s}))}async function mz(t,e,n,r){var a,l;const s=`https://classroom.googleapis.com/v1/courses/${e}/courseWork?courseWorkStates=PUBLISHED`,i=await Qi(t,s,d=>d.courseWork||[],d=>d.nextPageToken);new Date().toISOString();const o=[];for(const d of i){if(d.workType&&d.workType!=="ASSIGNMENT"&&d.workType!=="MULTIPLE_CHOICE_QUESTION")continue;let h=null;try{const E=`https://classroom.googleapis.com/v1/courses/${e}/courseWork/${d.id}/studentSubmissions?userId=me`;h=(await Qi(t,E,w=>w.studentSubmissions||[],w=>w.nextPageToken))[0]||null}catch(E){console.warn(`Failed to fetch submissions for coursework ${d.id}:`,E)}let f=null,m=null;d.dueDate&&(f=new Date(d.dueDate.year,d.dueDate.month-1,d.dueDate.day,((a=d.dueTime)==null?void 0:a.hours)||23,((l=d.dueTime)==null?void 0:l.minutes)||59).toISOString(),d.dueTime&&(m=`${String(d.dueTime.hours).padStart(2,"0")}:${String(d.dueTime.minutes).padStart(2,"0")}`));const y=new Date;let b="backlog";h?h.state==="RETURNED"||h.returnedGrade!==void 0?b="graded":h.state==="TURNED_IN"||h.turnInTime?b="submitted":h.state==="CREATED"&&(b=f&&new Date(f)<y?"overdue":"backlog"):f&&new Date(f)<y?b="overdue":b="backlog";const v={id:`assign-${d.id}`,uniqueId:`${e}-${d.id}`,userId:r,courseId:`course-${e}`,courseName:n,classroomId:d.id,title:d.title,description:d.description||null,dueDate:f,dueTime:m,maxPoints:d.maxPoints||null,systemStatus:b,userStatus:null,submissionId:(h==null?void 0:h.id)||null,submittedAt:(h==null?void 0:h.turnInTime)||null,gradedAt:h!=null&&h.updateTime&&h.state==="RETURNED"?h.updateTime:null,grade:(h==null?void 0:h.returnedGrade)||(h==null?void 0:h.assignedGrade)||null,alternateLink:d.alternateLink||null,createdAt:y.toISOString(),lastSyncedAt:y.toISOString()};o.push(v)}return o}async function gz(t,e,n,r){const s=`https://classroom.googleapis.com/v1/courses/${e}/courseWorkMaterials?courseWorkMaterialStates=PUBLISHED`;try{const i=await Qi(t,s,a=>a.courseWorkMaterial||[],a=>a.nextPageToken),o=new Date().toISOString();return i.map(a=>({id:`mat-${a.id}`,uniqueId:`${e}-${a.id}`,userId:r,courseId:`course-${e}`,courseName:n,title:a.title,description:a.description||null,alternateLink:a.alternateLink||null,materials:a.materials||null,createdAt:a.updateTime||o,lastSyncedAt:o}))}catch(i){return console.warn(`Failed to fetch materials for course ${e}:`,i),[]}}function yz({children:t}){const{user:e,accessToken:n}=cs(),[r,s]=p.useState(()=>{const z=sessionStorage.getItem("classroom_courses");return z?JSON.parse(z):[]}),[i,o]=p.useState(()=>{const z=sessionStorage.getItem("classroom_assignments");return z?JSON.parse(z):[]}),[a,l]=p.useState(()=>{const z=sessionStorage.getItem("classroom_materials");return z?JSON.parse(z):[]}),[d,h]=p.useState(()=>{const z=sessionStorage.getItem("classroom_notes");return z?new Map(JSON.parse(z)):new Map}),[f,m]=p.useState(()=>!sessionStorage.getItem("classroom_courses")),[y,b]=p.useState(!1),[v,E]=p.useState(()=>{const z=sessionStorage.getItem("classroom_lastSyncedAt");return z?new Date(z):null}),[_,w]=p.useState(null),[S,k]=p.useState(!1),{toast:O}=lf(),D=p.useCallback(async(z=!1)=>{if(!e){w("Please sign in with Google to sync your Classroom data"),m(!1);return}let K=n;if(!K)try{const M=await e.getIdToken();console.log("Got ID token, but need OAuth access token for Classroom API"),w("Access token expired. Please sign out and sign in again to refresh your token."),m(!1);return}catch{w("Unable to authenticate. Please sign in again."),m(!1);return}b(!0),i.length===0&&m(!0),w(null);try{console.log("Starting sync...",{userId:e.uid,hasToken:!!K});const M=await pz(K,e.uid);if(console.log(`Fetched ${M.length} courses`),M.length===0){w("No active courses found. Make sure you're enrolled in at least one Google Classroom course."),s([]),o([]),E(new Date),b(!1),m(!1);return}const L=[],U=[];for(const Q of M)try{console.log(`Fetching data for course: ${Q.name}`);const[q,re]=await Promise.all([mz(K,Q.classroomId,Q.name,e.uid),gz(K,Q.classroomId,Q.name,e.uid)]);console.log(`Found ${q.length} assignments and ${re.length} materials for ${Q.name}`),L.push(...q),U.push(...re)}catch(q){console.warn(`Failed to fetch data for course ${Q.name}:`,q)}console.log(`Sync complete: ${M.length} courses, ${L.length} assignments, ${U.length} materials`),s(M),o(L),l(U),E(new Date),z||O({title:"Sync Complete",description:`Successfully synced ${M.length} courses, ${L.length} assignments, and ${U.length} materials.`})}catch(M){console.error("Sync error details:",M);let L="Failed to sync";if(M!=null&&M.message){const U=M.message.toLowerCase();U.includes("401")||U.includes("unauthorized")||U.includes("invalid_token")||U.includes("token expired")?L="Authentication failed. Your access token may have expired. Please sign out and sign in again.":U.includes("403")||U.includes("forbidden")||U.includes("permission denied")?L="Permission denied. Please make sure you granted Classroom access permissions when signing in. Sign out and sign in again, then grant all requested permissions.":U.includes("quota")||U.includes("rate")||U.includes("429")?L="API quota exceeded. Please try again later.":U.includes("cors")||U.includes("network")?L="Network error. Please check your internet connection and try again.":L=`Sync failed: ${M.message}`}else M instanceof TypeError&&M.message.includes("fetch")&&(L="Network error. Please check your internet connection.");w(L),console.error("Sync error:",M),z||O({variant:"destructive",title:"Sync Failed",description:L})}finally{b(!1),m(!1)}},[e,n]);p.useEffect(()=>{if(!e){k(!1),m(!1);return}if(!n){m(!1);return}!S&&!y&&(k(!0),D(!0))},[e,n,S,r.length,i.length,y]),p.useEffect(()=>{sessionStorage.setItem("classroom_courses",JSON.stringify(r))},[r]),p.useEffect(()=>{sessionStorage.setItem("classroom_materials",JSON.stringify(a))},[a]),p.useEffect(()=>{sessionStorage.setItem("classroom_notes",JSON.stringify(Array.from(d.entries())))},[d]),p.useEffect(()=>{sessionStorage.setItem("classroom_assignments",JSON.stringify(i))},[i]),p.useEffect(()=>{v?sessionStorage.setItem("classroom_lastSyncedAt",v.toISOString()):sessionStorage.removeItem("classroom_lastSyncedAt")},[v]);const T=p.useCallback((z,K)=>{o(M=>M.map(L=>L.id===z?{...L,userStatus:K}:L))},[]),C=p.useCallback((z,K,M=!1)=>{const L={id:fz(),userId:(e==null?void 0:e.uid)||"",assignmentId:z,content:K,isImportant:M,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};h(U=>{const Q=new Map(U),q=Q.get(z)||[];return Q.set(z,[...q,L]),Q})},[e]),I=p.useCallback((z,K,M)=>{h(L=>{const U=new Map(L);for(const[Q,q]of Array.from(U.entries())){const re=q.findIndex(ee=>ee.id===z);if(re!==-1){const ee=[...q];ee[re]={...ee[re],content:K,isImportant:M??ee[re].isImportant,updatedAt:new Date().toISOString()},U.set(Q,ee);break}}return U})},[]),A=p.useCallback((z,K)=>{h(M=>{const L=new Map(M),U=L.get(K)||[];return L.set(K,U.filter(Q=>Q.id!==z)),L})},[]),P=p.useCallback(()=>{const z=[{id:"backlog",title:"Backlog",assignments:[]},{id:"in_progress",title:"In Progress",assignments:[]},{id:"submitted",title:"Submitted",assignments:[]},{id:"graded",title:"Graded",assignments:[]},{id:"overdue",title:"Overdue",assignments:[]}];return i.forEach(K=>{const M=K.userStatus==="in_progress"?"in_progress":K.systemStatus,L=z.find(U=>U.id===M);L&&L.assignments.push(K)}),z.forEach(K=>{K.assignments.sort((M,L)=>M.dueDate?L.dueDate?new Date(M.dueDate).getTime()-new Date(L.dueDate).getTime():-1:1)}),z},[i]),j=p.useCallback(()=>{const z=new Date,K=new Date(z);K.setDate(K.getDate()+3);const M=new Date(z);M.setDate(M.getDate()+7);const L=i.filter(W=>W.systemStatus!=="graded"&&W.systemStatus!=="submitted"),U=i.filter(W=>{if(!W.dueDate||W.systemStatus==="graded"||W.systemStatus==="submitted")return!1;const se=new Date(W.dueDate);return se>=z&&se<=K}),Q=i.filter(W=>{if(!W.dueDate||W.systemStatus==="graded"||W.systemStatus==="submitted")return!1;const se=new Date(W.dueDate);return se>=z&&se<=M}),q=i.filter(W=>W.systemStatus==="overdue"),re=[],ee=new Date,ue=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let W=0;W<7;W++){const se=new Date(ee);se.setDate(se.getDate()+W);const ye=se.toISOString().split("T")[0],ne=i.filter(pe=>pe.dueDate?pe.dueDate.split("T")[0]===ye:!1).length;re.push({day:ue[se.getDay()],count:ne,isToday:W===0})}const le=[...L].filter(W=>W.dueDate).sort((W,se)=>new Date(W.dueDate).getTime()-new Date(se.dueDate).getTime()).slice(0,5);return{totalActive:L.length,upcoming3Days:U.length,upcoming7Days:Q.length,overdue:q.length,weeklyWorkload:re,nextActions:le}},[i]),R=p.useCallback(z=>{let K=[...i];z!=null&&z.courseId&&(K=K.filter(Q=>Q.courseId===z.courseId)),z!=null&&z.status&&(K=K.filter(Q=>Q.systemStatus===z.status)),K.sort((Q,q)=>Q.dueDate?q.dueDate?new Date(Q.dueDate).getTime()-new Date(q.dueDate).getTime():-1:1);const M=new Map,L=new Date,U=new Date(L);return U.setDate(U.getDate()+1),K.forEach(Q=>{if(!Q.dueDate)return;const q=Q.dueDate.split("T")[0],re=new Date(Q.dueDate);let ee;q===L.toISOString().split("T")[0]?ee="Today":q===U.toISOString().split("T")[0]?ee="Tomorrow":ee=re.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),M.has(q)||M.set(q,{date:q,dateLabel:ee,assignments:[]}),M.get(q).assignments.push(Q)}),Array.from(M.values())},[i]),B=p.useCallback(z=>i.find(K=>K.id===z),[i]),ie=p.useCallback(z=>d.get(z)||[],[d]);return c.jsx(pA.Provider,{value:{courses:r,assignments:i,notes:d,isLoading:f,isSyncing:y,lastSyncedAt:v,error:_,syncClassroom:D,updateAssignmentStatus:T,addNote:C,updateNote:I,deleteNote:A,getPipelineColumns:P,getDashboardMetrics:j,getTimelineGroups:R,getAssignmentById:B,getNotesForAssignment:ie,materials:a},children:t})}function _o(){const t=p.useContext(pA);if(t===void 0)throw new Error("useClassroom must be used within a ClassroomProvider");return t}var rm="focusScope.autoFocusOnMount",sm="focusScope.autoFocusOnUnmount",z1={bubbles:!1,cancelable:!0},vz="FocusScope",s0=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=p.useState(null),d=fn(s),h=fn(i),f=p.useRef(null),m=Me(e,v=>l(v)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(S){if(y.paused||!a)return;const k=S.target;a.contains(k)?f.current=k:bs(f.current,{select:!0})},E=function(S){if(y.paused||!a)return;const k=S.relatedTarget;k!==null&&(a.contains(k)||bs(f.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const O of S)O.removedNodes.length>0&&bs(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const w=new MutationObserver(_);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),w.disconnect()}}},[r,a,y.paused]),p.useEffect(()=>{if(a){$1.add(y);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(rm,z1);a.addEventListener(rm,d),a.dispatchEvent(_),_.defaultPrevented||(wz(Sz(mA(a)),{select:!0}),document.activeElement===v&&bs(a))}return()=>{a.removeEventListener(rm,d),setTimeout(()=>{const _=new CustomEvent(sm,z1);a.addEventListener(sm,h),a.dispatchEvent(_),_.defaultPrevented||bs(v??document.body,{select:!0}),a.removeEventListener(sm,h),$1.remove(y)},0)}}},[a,d,h,y]);const b=p.useCallback(v=>{if(!n&&!r||y.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(E&&_){const w=v.currentTarget,[S,k]=xz(w);S&&k?!v.shiftKey&&_===k?(v.preventDefault(),n&&bs(S,{select:!0})):v.shiftKey&&_===S&&(v.preventDefault(),n&&bs(k,{select:!0})):_===w&&v.preventDefault()}},[n,r,y.paused]);return c.jsx(Ee.div,{tabIndex:-1,...o,ref:m,onKeyDown:b})});s0.displayName=vz;function wz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(bs(r,{select:e}),document.activeElement!==n)return}function xz(t){const e=mA(t),n=U1(e,t),r=U1(e.reverse(),t);return[n,r]}function mA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function U1(t,e){for(const n of t)if(!_z(n,{upTo:e}))return n}function _z(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ez(t){return t instanceof HTMLInputElement&&"select"in t}function bs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Ez(t)&&e&&t.select()}}var $1=bz();function bz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=B1(t,e),t.unshift(e)},remove(e){var n;t=B1(t,e),(n=t[0])==null||n.resume()}}}function B1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Sz(t){return t.filter(e=>e.tagName!=="A")}var im=0;function gA(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??H1()),document.body.insertAdjacentElement("beforeend",t[1]??H1()),im++,()=>{im===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),im--}},[])}function H1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var br=function(){return br=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},br.apply(this,arguments)};function yA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Tz(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Dd="right-scroll-bar-position",jd="width-before-scroll-bar",Cz="with-scroll-bars-hidden",Iz="--removed-body-scroll-bar-size";function om(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Nz(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Az=typeof window<"u"?p.useLayoutEffect:p.useEffect,W1=new WeakMap;function kz(t,e){var n=Nz(null,function(r){return t.forEach(function(s){return om(s,r)})});return Az(function(){var r=W1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||om(a,null)}),i.forEach(function(a){s.has(a)||om(a,o)})}W1.set(n,t)},[t]),n}function Rz(t){return t}function Pz(t,e){e===void 0&&(e=Rz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function Dz(t){t===void 0&&(t={});var e=Pz(null);return e.options=br({async:!0,ssr:!1},t),e}var vA=function(t){var e=t.sideCar,n=yA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,br({},n))};vA.isSideCarExport=!0;function jz(t,e){return t.useMedium(e),vA}var wA=Dz(),am=function(){},Uf=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:am,onWheelCapture:am,onTouchMoveCapture:am}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,y=t.noIsolation,b=t.inert,v=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,w=t.gapMode,S=yA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,O=kz([n,e]),D=br(br({},S),s);return p.createElement(p.Fragment,null,h&&p.createElement(k,{sideCar:wA,removeScrollBar:d,shards:f,noIsolation:y,inert:b,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:w}),o?p.cloneElement(p.Children.only(a),br(br({},D),{ref:O})):p.createElement(_,br({},D,{className:l,ref:O}),a))});Uf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uf.classNames={fullWidth:jd,zeroRight:Dd};var Oz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Mz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Oz();return e&&t.setAttribute("nonce",e),t}function Lz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Vz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Fz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Mz())&&(Lz(e,n),Vz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zz=function(){var t=Fz();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},xA=function(){var t=zz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Uz={left:0,top:0,right:0,gap:0},lm=function(t){return parseInt(t||"",10)||0},$z=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[lm(n),lm(r),lm(s)]},Bz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Uz;var e=$z(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Hz=xA(),aa="data-scroll-locked",Wz=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Cz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(aa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(jd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Dd," .").concat(Dd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(jd," .").concat(jd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(aa,`] {
    `).concat(Iz,": ").concat(a,`px;
  }
`)},q1=function(){var t=parseInt(document.body.getAttribute(aa)||"0",10);return isFinite(t)?t:0},qz=function(){p.useEffect(function(){return document.body.setAttribute(aa,(q1()+1).toString()),function(){var t=q1()-1;t<=0?document.body.removeAttribute(aa):document.body.setAttribute(aa,t.toString())}},[])},Gz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;qz();var i=p.useMemo(function(){return Bz(s)},[s]);return p.createElement(Hz,{styles:Wz(i,!e,s,n?"":"!important")})},qg=!1;if(typeof window<"u")try{var td=Object.defineProperty({},"passive",{get:function(){return qg=!0,!0}});window.addEventListener("test",td,td),window.removeEventListener("test",td,td)}catch{qg=!1}var Io=qg?{passive:!1}:!1,Kz=function(t){return t.tagName==="TEXTAREA"},_A=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Kz(t)&&n[e]==="visible")},Qz=function(t){return _A(t,"overflowY")},Yz=function(t){return _A(t,"overflowX")},G1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=EA(t,r);if(s){var i=bA(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Xz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Jz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},EA=function(t,e){return t==="v"?Qz(e):Yz(e)},bA=function(t,e){return t==="v"?Xz(e):Jz(e)},Zz=function(t,e){return t==="h"&&e==="rtl"?-1:1},eU=function(t,e,n,r,s){var i=Zz(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),d=!1,h=o>0,f=0,m=0;do{var y=bA(t,a),b=y[0],v=y[1],E=y[2],_=v-E-i*b;(b||_)&&EA(t,a)&&(f+=_,m+=b),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(d=!0),d},nd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},K1=function(t){return[t.deltaX,t.deltaY]},Q1=function(t){return t&&"current"in t?t.current:t},tU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},rU=0,No=[];function sU(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(rU++)[0],i=p.useState(xA)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=Tz([t.lockRef.current],(t.shards||[]).map(Q1),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=nd(v),w=n.current,S="deltaX"in v?v.deltaX:w[0]-_[0],k="deltaY"in v?v.deltaY:w[1]-_[1],O,D=v.target,T=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in v&&T==="h"&&D.type==="range")return!1;var C=G1(T,D);if(!C)return!0;if(C?O=T:(O=T==="v"?"h":"v",C=G1(T,D)),!C)return!1;if(!r.current&&"changedTouches"in v&&(S||k)&&(r.current=O),!O)return!0;var I=r.current||O;return eU(I,E,v,I==="h"?S:k,!0)},[]),l=p.useCallback(function(v){var E=v;if(!(!No.length||No[No.length-1]!==i)){var _="deltaY"in E?K1(E):nd(E),w=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&tU(O.delta,_)})[0];if(w&&w.should){E.cancelable&&E.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(Q1).filter(Boolean).filter(function(O){return O.contains(E.target)}),k=S.length>0?a(E,S[0]):!o.current.noIsolation;k&&E.cancelable&&E.preventDefault()}}},[]),d=p.useCallback(function(v,E,_,w){var S={name:v,delta:E,target:_,should:w,shadowParent:iU(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(k){return k!==S})},1)},[]),h=p.useCallback(function(v){n.current=nd(v),r.current=void 0},[]),f=p.useCallback(function(v){d(v.type,K1(v),v.target,a(v,t.lockRef.current))},[]),m=p.useCallback(function(v){d(v.type,nd(v),v.target,a(v,t.lockRef.current))},[]);p.useEffect(function(){return No.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Io),document.addEventListener("touchmove",l,Io),document.addEventListener("touchstart",h,Io),function(){No=No.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,Io),document.removeEventListener("touchmove",l,Io),document.removeEventListener("touchstart",h,Io)}},[]);var y=t.removeScrollBar,b=t.inert;return p.createElement(p.Fragment,null,b?p.createElement(i,{styles:nU(s)}):null,y?p.createElement(Gz,{gapMode:t.gapMode}):null)}function iU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const oU=jz(wA,sU);var i0=p.forwardRef(function(t,e){return p.createElement(Uf,br({},t,{ref:e,sideCar:oU}))});i0.classNames=Uf.classNames;var aU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ao=new WeakMap,rd=new WeakMap,sd={},cm=0,SA=function(t){return t&&(t.host||SA(t.parentNode))},lU=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=SA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},cU=function(t,e,n,r){var s=lU(e,Array.isArray(t)?t:[t]);sd[n]||(sd[n]=new WeakMap);var i=sd[n],o=[],a=new Set,l=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var y=m.getAttribute(r),b=y!==null&&y!=="false",v=(Ao.get(m)||0)+1,E=(i.get(m)||0)+1;Ao.set(m,v),i.set(m,E),o.push(m),v===1&&b&&rd.set(m,!0),E===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return h(e),a.clear(),cm++,function(){o.forEach(function(f){var m=Ao.get(f)-1,y=i.get(f)-1;Ao.set(f,m),i.set(f,y),m||(rd.has(f)||f.removeAttribute(r),rd.delete(f)),y||f.removeAttribute(n)}),cm--,cm||(Ao=new WeakMap,Ao=new WeakMap,rd=new WeakMap,sd={})}},TA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=aU(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),cU(r,s,n,"aria-hidden")):function(){return null}},o0="Dialog",[CA,IA]=as(o0),[uU,ur]=CA(o0),NA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=p.useRef(null),l=p.useRef(null),[d=!1,h]=Sc({prop:r,defaultProp:s,onChange:i});return c.jsx(uU,{scope:e,triggerRef:a,contentRef:l,contentId:ta(),titleId:ta(),descriptionId:ta(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};NA.displayName=o0;var AA="DialogTrigger",kA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(AA,n),i=Me(e,s.triggerRef);return c.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":c0(s.open),...r,ref:i,onClick:ge(t.onClick,s.onOpenToggle)})});kA.displayName=AA;var a0="DialogPortal",[dU,RA]=CA(a0,{forceMount:void 0}),PA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ur(a0,e);return c.jsx(dU,{scope:e,forceMount:n,children:p.Children.map(r,o=>c.jsx(Ha,{present:n||i.open,children:c.jsx(cf,{asChild:!0,container:s,children:o})}))})};PA.displayName=a0;var kh="DialogOverlay",DA=p.forwardRef((t,e)=>{const n=RA(kh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ur(kh,t.__scopeDialog);return i.modal?c.jsx(Ha,{present:r||i.open,children:c.jsx(fU,{...s,ref:e})}):null});DA.displayName=kh;var hU=Ia("DialogOverlay.RemoveScroll"),fU=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(kh,n);return c.jsx(i0,{as:hU,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(Ee.div,{"data-state":c0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),fo="DialogContent",jA=p.forwardRef((t,e)=>{const n=RA(fo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ur(fo,t.__scopeDialog);return c.jsx(Ha,{present:r||i.open,children:i.modal?c.jsx(pU,{...s,ref:e}):c.jsx(mU,{...s,ref:e})})});jA.displayName=fo;var pU=p.forwardRef((t,e)=>{const n=ur(fo,t.__scopeDialog),r=p.useRef(null),s=Me(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return TA(i)},[]),c.jsx(OA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ge(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ge(t.onFocusOutside,i=>i.preventDefault())})}),mU=p.forwardRef((t,e)=>{const n=ur(fo,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return c.jsx(OA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,d;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),OA=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ur(fo,n),l=p.useRef(null),d=Me(e,l);return gA(),c.jsxs(c.Fragment,{children:[c.jsx(s0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Wc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":c0(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(yU,{titleId:a.titleId}),c.jsx(wU,{contentRef:l,descriptionId:a.descriptionId})]})]})}),l0="DialogTitle",MA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(l0,n);return c.jsx(Ee.h2,{id:s.titleId,...r,ref:e})});MA.displayName=l0;var LA="DialogDescription",VA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(LA,n);return c.jsx(Ee.p,{id:s.descriptionId,...r,ref:e})});VA.displayName=LA;var FA="DialogClose",zA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(FA,n);return c.jsx(Ee.button,{type:"button",...r,ref:e,onClick:ge(t.onClick,()=>s.onOpenChange(!1))})});zA.displayName=FA;function c0(t){return t?"open":"closed"}var UA="DialogTitleWarning",[gU,$A]=Qj(UA,{contentName:fo,titleName:l0,docsSlug:"dialog"}),yU=({titleId:t})=>{const e=$A(UA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},vU="DialogDescriptionWarning",wU=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$A(vU).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},BA=NA,xU=kA,HA=PA,u0=DA,d0=jA,h0=MA,f0=VA,p0=zA,WA="AlertDialog",[_U,TB]=as(WA,[IA]),us=IA(),qA=t=>{const{__scopeAlertDialog:e,...n}=t,r=us(e);return c.jsx(BA,{...r,...n,modal:!0})};qA.displayName=WA;var EU="AlertDialogTrigger",GA=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=us(n);return c.jsx(xU,{...s,...r,ref:e})});GA.displayName=EU;var bU="AlertDialogPortal",KA=t=>{const{__scopeAlertDialog:e,...n}=t,r=us(e);return c.jsx(HA,{...r,...n})};KA.displayName=bU;var SU="AlertDialogOverlay",QA=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=us(n);return c.jsx(u0,{...s,...r,ref:e})});QA.displayName=SU;var la="AlertDialogContent",[TU,CU]=_U(la),IU=uT("AlertDialogContent"),YA=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=us(n),o=p.useRef(null),a=Me(e,o),l=p.useRef(null);return c.jsx(gU,{contentName:la,titleName:XA,docsSlug:"alert-dialog",children:c.jsx(TU,{scope:n,cancelRef:l,children:c.jsxs(d0,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ge(s.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=l.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[c.jsx(IU,{children:r}),c.jsx(AU,{contentRef:o})]})})})});YA.displayName=la;var XA="AlertDialogTitle",JA=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=us(n);return c.jsx(h0,{...s,...r,ref:e})});JA.displayName=XA;var ZA="AlertDialogDescription",ek=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=us(n);return c.jsx(f0,{...s,...r,ref:e})});ek.displayName=ZA;var NU="AlertDialogAction",tk=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=us(n);return c.jsx(p0,{...s,...r,ref:e})});tk.displayName=NU;var nk="AlertDialogCancel",rk=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=CU(nk,n),i=us(n),o=Me(e,s);return c.jsx(p0,{...i,...r,ref:o})});rk.displayName=nk;var AU=({contentRef:t})=>{const e=`\`${la}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${la}\` by passing a \`${ZA}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${la}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},kU=qA,RU=GA,PU=KA,sk=QA,ik=YA,ok=tk,ak=rk,lk=JA,ck=ek;const m0=Gc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Se=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Xj:"button";return c.jsx(o,{className:J(m0({variant:e,size:n,className:t})),ref:i,...s})});Se.displayName="Button";const uk=kU,dk=RU,DU=PU,hk=p.forwardRef(({className:t,...e},n)=>c.jsx(sk,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));hk.displayName=sk.displayName;const g0=p.forwardRef(({className:t,...e},n)=>c.jsxs(DU,{children:[c.jsx(hk,{}),c.jsx(ik,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));g0.displayName=ik.displayName;const y0=({className:t,...e})=>c.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",t),...e});y0.displayName="AlertDialogHeader";const v0=({className:t,...e})=>c.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});v0.displayName="AlertDialogFooter";const w0=p.forwardRef(({className:t,...e},n)=>c.jsx(lk,{ref:n,className:J("text-lg font-semibold",t),...e}));w0.displayName=lk.displayName;const x0=p.forwardRef(({className:t,...e},n)=>c.jsx(ck,{ref:n,className:J("text-sm text-muted-foreground",t),...e}));x0.displayName=ck.displayName;const _0=p.forwardRef(({className:t,...e},n)=>c.jsx(ok,{ref:n,className:J(m0(),t),...e}));_0.displayName=ok.displayName;const E0=p.forwardRef(({className:t,...e},n)=>c.jsx(ak,{ref:n,className:J(m0({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));E0.displayName=ak.displayName;const um=768;function b0(){const[t,e]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${um-1}px)`),r=()=>{e(window.innerWidth<um)};return n.addEventListener("change",r),e(window.innerWidth<um),()=>n.removeEventListener("change",r)},[]),!!t}var S0="Avatar",[jU,CB]=as(S0),[OU,fk]=jU(S0),pk=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=p.useState("idle");return c.jsx(OU,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:c.jsx(Ee.span,{...r,ref:e})})});pk.displayName=S0;var mk="AvatarImage",gk=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=fk(mk,n),a=MU(r,i),l=fn(d=>{s(d),o.onImageLoadingStatusChange(d)});return _t(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(Ee.img,{...i,ref:e,src:r}):null});gk.displayName=mk;var yk="AvatarFallback",vk=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=fk(yk,n),[o,a]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?c.jsx(Ee.span,{...s,ref:e}):null});vk.displayName=yk;function Y1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function MU(t,{referrerPolicy:e,crossOrigin:n}){const r=VU(),s=p.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=p.useState(()=>Y1(i,t));return _t(()=>{a(Y1(i,t))},[i,t]),_t(()=>{const l=f=>()=>{a(f)};if(!i)return;const d=l("loaded"),h=l("error");return i.addEventListener("load",d),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",h)}},[i,n,e]),o}function LU(){return()=>{}}function VU(){return p.useSyncExternalStore(LU,()=>!0,()=>!1)}var wk=pk,xk=gk,_k=vk;const T0=p.forwardRef(({className:t,...e},n)=>c.jsx(wk,{ref:n,className:J(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));T0.displayName=wk.displayName;const C0=p.forwardRef(({className:t,...e},n)=>c.jsx(xk,{ref:n,className:J("aspect-square h-full w-full",t),...e}));C0.displayName=xk.displayName;const I0=p.forwardRef(({className:t,...e},n)=>c.jsx(_k,{ref:n,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));I0.displayName=_k.displayName;const FU=[{path:"/dashboard",label:"Dashboard",icon:BO},{path:"/",label:"Pipeline",icon:UT},{path:"/timeline",label:"Timeline",icon:Ks},{path:"/notes",label:"Notes",icon:Gl}];function zU({mobileOpen:t,onMobileClose:e}){var h,f;const[n]=Zy(),r=b0(),{user:s,signOut:i}=cs(),{theme:o,toggleTheme:a}=fA(),l=((h=s==null?void 0:s.displayName)==null?void 0:h.split(" ").map(m=>m[0]).join("").toUpperCase())||((f=s==null?void 0:s.email)==null?void 0:f[0].toUpperCase())||"U",d=()=>c.jsxs("div",{className:"flex flex-col h-full bg-background",children:[c.jsxs("div",{className:"h-16 flex items-center px-6 border-b shrink-0",children:[c.jsx("img",{src:"/logo.png",alt:"Trace",className:"w-8 h-8 mr-3"}),c.jsx("span",{className:"font-bold text-lg tracking-tight",children:"Trace"}),r&&c.jsx("button",{className:"ml-auto",onClick:e,children:c.jsx(ff,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"p-4 border-b shrink-0",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs(T0,{className:"h-8 w-8",children:[c.jsx(C0,{src:(s==null?void 0:s.photoURL)||void 0,alt:(s==null?void 0:s.displayName)||"User",referrerPolicy:"no-referrer"}),c.jsx(I0,{className:"text-xs",children:l})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",children:(s==null?void 0:s.displayName)||"User"}),c.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s==null?void 0:s.email})]})]})}),c.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Views"}),FU.map(m=>{const y=n===m.path,b=m.icon;return c.jsxs(ro,{href:m.path,onClick:e,className:J("w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",y?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${m.label.toLowerCase()}`,children:[c.jsx(b,{className:"w-4 h-4 mr-3"}),m.label]},m.path)})]})}),c.jsxs("div",{className:"p-4 border-t space-y-1 shrink-0",children:[c.jsxs("button",{onClick:a,className:"w-full flex items-center px-3 py-2 text-sm font-medium text-muted-foreground rounded-md hover:bg-accent hover:text-accent-foreground transition-colors",children:[o==="dark"?c.jsx(WT,{className:"w-4 h-4 mr-3"}):c.jsx(BT,{className:"w-4 h-4 mr-3"}),o==="dark"?"Light Mode":"Dark Mode"]}),c.jsxs(ro,{href:"/settings",onClick:e,className:J("w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n==="/settings"?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[c.jsx(tM,{className:"w-4 h-4 mr-3"}),"Settings"]}),c.jsxs(uk,{children:[c.jsx(dk,{asChild:!0,children:c.jsxs("button",{className:"w-full flex items-center px-3 py-2 text-sm font-medium text-destructive rounded-md hover:bg-destructive/10 transition-colors",children:[c.jsx(mg,{className:"w-4 h-4 mr-3"}),"Sign Out"]})}),c.jsxs(g0,{children:[c.jsxs(y0,{children:[c.jsx(w0,{children:"Are you absolutely sure?"}),c.jsx(x0,{children:"This will sign you out of your account. You will need to sign in again to access your data."})]}),c.jsxs(v0,{children:[c.jsx(E0,{children:"Cancel"}),c.jsx(_0,{onClick:i,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})]})]})]});return c.jsxs(c.Fragment,{children:[c.jsx("aside",{className:J("fixed inset-y-0 left-0 z-50 w-64 border-r bg-background transform transition-transform duration-200 ease-in-out",r?t?"translate-x-0":"-translate-x-full":"relative translate-x-0"),children:c.jsx(d,{})}),r&&t&&c.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden",onClick:e})]})}const Ek=p.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:J("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ek.displayName="Input";function UU({onMobileMenuClick:t}){const{syncClassroom:e,isSyncing:n}=_o(),[r]=Zy(),[s,i]=p.useState(""),o=b0(),l={"/":"Pipeline","/timeline":"Timeline","/dashboard":"Dashboard","/notes":"Notes","/settings":"Settings"}[r]||"Pipeline";return c.jsxs("header",{className:"h-16 bg-background border-b flex items-center px-4 md:px-6 justify-between shrink-0 z-10",children:[c.jsxs("div",{className:"flex items-center flex-1",children:[o&&c.jsx(Se,{variant:"ghost",size:"icon",onClick:t,className:"mr-2",children:c.jsx(XO,{className:"h-5 w-5"})}),c.jsx("span",{className:"md:hidden font-medium text-lg",children:l}),c.jsxs("div",{className:"relative w-full max-w-md hidden md:block",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(eM,{className:"h-4 w-4 text-muted-foreground"})}),c.jsx(Ek,{type:"text",value:s,onChange:d=>i(d.target.value),className:"pl-10 bg-muted/50 border-muted focus:bg-background",placeholder:"Search assignments..."})]})]}),c.jsx("div",{className:"flex items-center ml-4",children:c.jsx(Se,{variant:"ghost",size:"icon",onClick:d=>{d.preventDefault(),e().catch(h=>{console.error("Sync failed:",h)})},disabled:n,className:J(n&&"animate-spin"),title:"Sync with Classroom",children:c.jsx(iv,{className:"w-5 h-5"})})})]})}var bk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},X1=be.createContext&&be.createContext(bk),$U=["attr","size","title"];function BU(t,e){if(t==null)return{};var n=HU(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(this,arguments)}function J1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(n),!0).forEach(function(r){WU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WU(t,e,n){return e=qU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qU(t){var e=GU(t,"string");return typeof e=="symbol"?e:e+""}function GU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sk(t){return t&&t.map((e,n)=>be.createElement(e.tag,Ph({key:n},e.attr),Sk(e.child)))}function Tk(t){return e=>be.createElement(KU,Rh({attr:Ph({},t.attr)},e),Sk(t.child))}function KU(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=BU(t,$U),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),be.createElement("svg",Rh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ph(Ph({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&be.createElement("title",null,i),t.children)};return X1!==void 0?be.createElement(X1.Consumer,null,n=>e(n)):e(bk)}function QU(t){return Tk({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(t)}function YU(t){return Tk({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.6367 1.6367C.7322 1.6367 0 2.369 0 3.2734v17.4532c0 .9045.7322 1.6367 1.6367 1.6367h20.7266c.9045 0 1.6367-.7322 1.6367-1.6367V3.2734c0-.9045-.7322-1.6367-1.6367-1.6367H1.6367zm.545 2.1817h19.6367v16.3632h-2.7266v-1.0898h-4.9102v1.0898h-12V3.8184zM12 8.1816c-.9046 0-1.6367.7322-1.6367 1.6368 0 .9045.7321 1.6367 1.6367 1.6367.9046 0 1.6367-.7322 1.6367-1.6367 0-.9046-.7321-1.6368-1.6367-1.6368zm-4.3633 1.9102c-.6773 0-1.2285.5493-1.2285 1.2266 0 .6772.5512 1.2265 1.2285 1.2265.6773 0 1.2266-.5493 1.2266-1.2265 0-.6773-.5493-1.2266-1.2266-1.2266zm8.7266 0c-.6773 0-1.2266.5493-1.2266 1.2266 0 .6772.5493 1.2265 1.2266 1.2265.6773 0 1.2285-.5493 1.2285-1.2265 0-.6773-.5512-1.2266-1.2285-1.2266zM12 12.5449c-1.179 0-2.4128.4012-3.1484 1.0059-.384-.1198-.8043-.1875-1.2149-.1875-1.3136 0-2.7285.695-2.7285 1.5586v.8965h14.1836v-.8965c0-.8637-1.4149-1.5586-2.7285-1.5586-.4106 0-.831.0677-1.2149.1875-.7356-.6047-1.9694-1.0059-3.1484-1.0059Z"},child:[]}]})(t)}const XU=[{icon:YU,title:"Classroom Sync",description:"Direct 2-way integration."},{icon:QO,title:"Kanban Board",description:"Visual assignment tracking."},{icon:$O,title:"Linear Timeline",description:"Chronological deadline view."},{icon:HO,title:"Performance Metrics",description:"Grade & workload analytics."}];function JU(){const{signInWithGoogle:t,loading:e,error:n}=cs();return c.jsxs("div",{className:"h-screen w-full bg-white text-zinc-950 flex overflow-hidden font-sans selection:bg-zinc-200",children:[c.jsxs("div",{className:"hidden lg:flex lg:w-1/2 h-full flex-col justify-between border-r border-zinc-200 bg-zinc-50/50 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#e4e4e7_1px,transparent_1px),linear-gradient(to_bottom,#e4e4e7_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_0%,#000_70%,transparent_100%)] pointer-events-none"}),c.jsx("header",{className:"px-10 py-8 z-10",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:"/logo.png",alt:"Trace Logo",className:"h-10 w-10 object-contain rounded-md"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold tracking-tight text-lg block leading-none",children:"Trace"}),c.jsx("span",{className:"text-[10px] uppercase tracking-widest text-zinc-500 font-medium",children:"by Kishor Irnak"})]})]})}),c.jsx("div",{className:"flex-1 flex flex-col justify-center px-16 z-10",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h1",{className:"text-5xl font-bold tracking-tight text-zinc-950 leading-[1.05]",children:["Google Classroom, ",c.jsx("br",{}),c.jsx("span",{className:"text-zinc-400",children:"supercharged."})]}),c.jsx("p",{className:"text-lg text-zinc-600 max-w-md leading-relaxed",children:"Trace extracts your assignment data and reorganizes it into a professional project management workflow."}),c.jsx("div",{className:"grid grid-cols-2 gap-px bg-zinc-200 border border-zinc-200 mt-6 rounded-lg overflow-hidden shadow-sm",children:XU.map(r=>c.jsxs("div",{className:"bg-white p-4 hover:bg-zinc-50 transition-colors duration-200",children:[c.jsx(r.icon,{className:"h-5 w-5 text-zinc-950 mb-2"}),c.jsx("h3",{className:"font-semibold text-sm text-zinc-950",children:r.title}),c.jsx("p",{className:"text-xs text-zinc-500 mt-0.5",children:r.description})]},r.title))})]})}),c.jsx("div",{className:"px-10 py-6 border-t border-zinc-200/50 bg-white/50 backdrop-blur-sm z-10",children:c.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-zinc-400 uppercase tracking-wider",children:[c.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-zinc-400"}),"v2.0 Stable Build"]})})]}),c.jsxs("div",{className:"w-full lg:w-1/2 h-full flex flex-col bg-white overflow-y-auto",children:[c.jsxs("div",{className:"lg:hidden p-6 border-b border-zinc-100 flex items-center gap-3 bg-white sticky top-0 z-50",children:[c.jsx("img",{src:"/logo.png",alt:"Trace Logo",className:"h-9 w-9 object-contain rounded-md"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold tracking-tight text-lg block leading-none",children:"Trace"}),c.jsx("span",{className:"text-[10px] uppercase tracking-widest text-zinc-500 font-medium",children:"by Kishor Irnak"})]})]}),c.jsx("div",{className:"flex-1 flex flex-col justify-center p-6 sm:p-12 lg:p-24",children:c.jsxs("div",{className:"w-full max-w-sm mx-auto space-y-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h2",{className:"text-2xl font-semibold tracking-tight text-zinc-900",children:"Sign in to Trace"}),c.jsx("p",{className:"text-sm text-zinc-500",children:"Connect your academic account to sync assignments."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-zinc-50 border border-zinc-200 p-4 rounded-md flex gap-3",children:[c.jsx(si,{className:"h-5 w-5 text-zinc-900 shrink-0 mt-0.5",strokeWidth:1.5}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm font-semibold text-zinc-900",children:"Important"}),c.jsxs("p",{className:"text-xs text-zinc-600 leading-relaxed",children:["You must sign in using your"," ",c.jsx("strong",{className:"text-zinc-900",children:"Google Classroom Email"}),". Personal Gmail accounts without classroom data will not work."]})]})]}),c.jsxs(Se,{onClick:t,disabled:e,className:"w-full h-12 bg-zinc-950 hover:bg-zinc-800 text-white border border-transparent rounded-md transition-all duration-200 flex items-center justify-center gap-3 shadow-sm hover:shadow-md","data-testid":"button-signin-google",children:[c.jsx(QU,{className:"h-4 w-4"}),c.jsx("span",{className:"font-medium",children:"Continue with Google"})]}),n&&c.jsxs("div",{className:"p-3 bg-red-50 border border-red-100 text-red-600 text-sm rounded-md flex gap-3 items-center",children:[c.jsx(si,{className:"h-4 w-4 shrink-0"}),c.jsx("p",{children:n})]})]}),c.jsx("div",{className:"pt-8 border-t border-zinc-100",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx(nM,{className:"h-5 w-5 text-zinc-400 shrink-0",strokeWidth:1.5}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-xs font-medium text-zinc-900",children:"Privacy First"}),c.jsx("p",{className:"text-xs text-zinc-500 leading-relaxed",children:"Trace uses the official Google Classroom API with read-only permission. We cannot edit or delete your coursework."})]})]})})]})}),c.jsx("div",{className:"p-6 sm:p-8 lg:p-12 border-t border-zinc-100",children:c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 text-xs text-zinc-400",children:[c.jsx("span",{children:" 2024 Trace Inc."}),c.jsxs("div",{className:"flex gap-6",children:[c.jsx("a",{href:"#",className:"hover:text-zinc-900 transition-colors",children:"Privacy"}),c.jsx("a",{href:"#",className:"hover:text-zinc-900 transition-colors",children:"Terms"})]})]})})]})]})}function ZU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return p.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const $f=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function nl(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function N0(t){return"nodeType"in t}function tn(t){var e,n;return t?nl(t)?t:N0(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function A0(t){const{Document:e}=tn(t);return t instanceof e}function ou(t){return nl(t)?!1:t instanceof tn(t).HTMLElement}function Ck(t){return t instanceof tn(t).SVGElement}function rl(t){return t?nl(t)?t.document:N0(t)?A0(t)?t:ou(t)||Ck(t)?t.ownerDocument:document:document:document}const lr=$f?p.useLayoutEffect:p.useEffect;function Bf(t){const e=p.useRef(t);return lr(()=>{e.current=t}),p.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function e8(){const t=p.useRef(null),e=p.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=p.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Oc(t,e){e===void 0&&(e=[t]);const n=p.useRef(t);return lr(()=>{n.current!==t&&(n.current=t)},e),n}function au(t,e){const n=p.useRef();return p.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Dh(t){const e=Bf(t),n=p.useRef(null),r=p.useCallback(s=>{s!==n.current&&(e==null||e(s,n.current)),n.current=s},[]);return[n,r]}function jh(t){const e=p.useRef();return p.useEffect(()=>{e.current=t},[t]),e.current}let dm={};function lu(t,e){return p.useMemo(()=>{if(e)return e;const n=dm[t]==null?0:dm[t]+1;return dm[t]=n,t+"-"+n},[t,e])}function Ik(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[l,d]of a){const h=i[l];h!=null&&(i[l]=h+t*d)}return i},{...e})}}const ca=Ik(1),Oh=Ik(-1);function t8(t){return"clientX"in t&&"clientY"in t}function Hf(t){if(!t)return!1;const{KeyboardEvent:e}=tn(t.target);return e&&t instanceof e}function n8(t){if(!t)return!1;const{TouchEvent:e}=tn(t.target);return e&&t instanceof e}function Mh(t){if(n8(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return t8(t)?{x:t.clientX,y:t.clientY}:null}const pi=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[pi.Translate.toString(t),pi.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),Z1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function r8(t){return t.matches(Z1)?t:t.querySelector(Z1)}const s8={display:"none"};function i8(t){let{id:e,value:n}=t;return be.createElement("div",{id:e,style:s8},n)}function o8(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return be.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function a8(){const[t,e]=p.useState("");return{announce:p.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const Nk=p.createContext(null);function l8(t){const e=p.useContext(Nk);p.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function c8(){const[t]=p.useState(()=>new Set),e=p.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[p.useCallback(r=>{let{type:s,event:i}=r;t.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[t]),e]}const u8={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},d8={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function h8(t){let{announcements:e=d8,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=u8}=t;const{announce:i,announcement:o}=a8(),a=lu("DndLiveRegion"),[l,d]=p.useState(!1);if(p.useEffect(()=>{d(!0)},[]),l8(p.useMemo(()=>({onDragStart(f){let{active:m}=f;i(e.onDragStart({active:m}))},onDragMove(f){let{active:m,over:y}=f;e.onDragMove&&i(e.onDragMove({active:m,over:y}))},onDragOver(f){let{active:m,over:y}=f;i(e.onDragOver({active:m,over:y}))},onDragEnd(f){let{active:m,over:y}=f;i(e.onDragEnd({active:m,over:y}))},onDragCancel(f){let{active:m,over:y}=f;i(e.onDragCancel({active:m,over:y}))}}),[i,e])),!l)return null;const h=be.createElement(be.Fragment,null,be.createElement(i8,{id:r,value:s.draggable}),be.createElement(o8,{id:a,announcement:o}));return n?Ln.createPortal(h,n):h}var yt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(yt||(yt={}));function Lh(){}function eE(t,e){return p.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function f8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return p.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const cr=Object.freeze({x:0,y:0});function p8(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function m8(t,e){const n=Mh(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function g8(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function y8(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function v8(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function tE(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const w8=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=tE(e,e.left,e.top),i=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const d=p8(tE(l),s);i.push({id:a,data:{droppableContainer:o,value:d}})}}return i.sort(g8)};function x8(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-r,a=i-n;if(r<s&&n<i){const l=e.width*e.height,d=t.width*t.height,h=o*a,f=h/(l+d-h);return Number(f.toFixed(4))}return 0}const _8=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const l=x8(a,e);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(y8)};function E8(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function Ak(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:cr}function b8(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const S8=b8(1);function kk(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function T8(t,e,n){const r=kk(e);if(!r)return t;const{scaleX:s,scaleY:i,x:o,y:a}=r,l=t.left-o-(1-s)*parseFloat(n),d=t.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),h=s?t.width/s:t.width,f=i?t.height/i:t.height;return{width:h,height:f,top:d,right:l+h,bottom:d+f,left:l}}const C8={ignoreTransform:!1};function sl(t,e){e===void 0&&(e=C8);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:h}=tn(t).getComputedStyle(t);d&&(n=T8(n,d,h))}const{top:r,left:s,width:i,height:o,bottom:a,right:l}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function nE(t){return sl(t,{ignoreTransform:!0})}function I8(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function N8(t,e){return e===void 0&&(e=tn(t).getComputedStyle(t)),e.position==="fixed"}function A8(t,e){e===void 0&&(e=tn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?n.test(i):!1})}function k0(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(A0(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!ou(s)||Ck(s)||n.includes(s))return n;const i=tn(t).getComputedStyle(s);return s!==t&&A8(s,i)&&n.push(s),N8(s,i)?n:r(s.parentNode)}return t?r(t):n}function Rk(t){const[e]=k0(t,1);return e??null}function hm(t){return!$f||!t?null:nl(t)?t:N0(t)?A0(t)||t===rl(t).scrollingElement?window:ou(t)?t:null:null}function Pk(t){return nl(t)?t.scrollX:t.scrollLeft}function Dk(t){return nl(t)?t.scrollY:t.scrollTop}function Gg(t){return{x:Pk(t),y:Dk(t)}}var Tt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Tt||(Tt={}));function jk(t){return!$f||!t?!1:t===document.scrollingElement}function Ok(t){const e={x:0,y:0},n=jk(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const k8={x:.2,y:.2};function R8(t,e,n,r,s){let{top:i,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),s===void 0&&(s=k8);const{isTop:d,isBottom:h,isLeft:f,isRight:m}=Ok(t),y={x:0,y:0},b={x:0,y:0},v={height:e.height*s.y,width:e.width*s.x};return!d&&i<=e.top+v.height?(y.y=Tt.Backward,b.y=r*Math.abs((e.top+v.height-i)/v.height)):!h&&l>=e.bottom-v.height&&(y.y=Tt.Forward,b.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!m&&a>=e.right-v.width?(y.x=Tt.Forward,b.x=r*Math.abs((e.right-v.width-a)/v.width)):!f&&o<=e.left+v.width&&(y.x=Tt.Backward,b.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:y,speed:b}}function P8(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function Mk(t){return t.reduce((e,n)=>ca(e,Gg(n)),cr)}function D8(t){return t.reduce((e,n)=>e+Pk(n),0)}function j8(t){return t.reduce((e,n)=>e+Dk(n),0)}function Lk(t,e){if(e===void 0&&(e=sl),!t)return;const{top:n,left:r,bottom:s,right:i}=e(t);Rk(t)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const O8=[["x",["left","right"],D8],["y",["top","bottom"],j8]];class R0{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=k0(n),s=Mk(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of O8)for(const l of o)Object.defineProperty(this,l,{get:()=>{const d=a(r),h=s[i]-d;return this.rect[l]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class nc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function M8(t){const{EventTarget:e}=tn(t);return t instanceof e?t:rl(t)}function fm(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Pn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Pn||(Pn={}));function rE(t){t.preventDefault()}function L8(t){t.stopPropagation()}var Pe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Pe||(Pe={}));const Vk={start:[Pe.Space,Pe.Enter],cancel:[Pe.Esc],end:[Pe.Space,Pe.Enter,Pe.Tab]},V8=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Pe.Right:return{...n,x:n.x+25};case Pe.Left:return{...n,x:n.x-25};case Pe.Down:return{...n,y:n.y+25};case Pe.Up:return{...n,y:n.y-25}}};class P0{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new nc(rl(n)),this.windowListeners=new nc(tn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Pn.Resize,this.handleCancel),this.windowListeners.add(Pn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Pn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&Lk(r),n(cr)}handleKeyDown(e){if(Hf(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=Vk,coordinateGetter:o=V8,scrollBehavior:a="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:d}=r.current,h=d?{x:d.left,y:d.top}:cr;this.referenceCoordinates||(this.referenceCoordinates=h);const f=o(e,{active:n,context:r.current,currentCoordinates:h});if(f){const m=Oh(f,h),y={x:0,y:0},{scrollableAncestors:b}=r.current;for(const v of b){const E=e.code,{isTop:_,isRight:w,isLeft:S,isBottom:k,maxScroll:O,minScroll:D}=Ok(v),T=P8(v),C={x:Math.min(E===Pe.Right?T.right-T.width/2:T.right,Math.max(E===Pe.Right?T.left:T.left+T.width/2,f.x)),y:Math.min(E===Pe.Down?T.bottom-T.height/2:T.bottom,Math.max(E===Pe.Down?T.top:T.top+T.height/2,f.y))},I=E===Pe.Right&&!w||E===Pe.Left&&!S,A=E===Pe.Down&&!k||E===Pe.Up&&!_;if(I&&C.x!==f.x){const P=v.scrollLeft+m.x,j=E===Pe.Right&&P<=O.x||E===Pe.Left&&P>=D.x;if(j&&!m.y){v.scrollTo({left:P,behavior:a});return}j?y.x=v.scrollLeft-P:y.x=E===Pe.Right?v.scrollLeft-O.x:v.scrollLeft-D.x,y.x&&v.scrollBy({left:-y.x,behavior:a});break}else if(A&&C.y!==f.y){const P=v.scrollTop+m.y,j=E===Pe.Down&&P<=O.y||E===Pe.Up&&P>=D.y;if(j&&!m.x){v.scrollTo({top:P,behavior:a});return}j?y.y=v.scrollTop-P:y.y=E===Pe.Down?v.scrollTop-O.y:v.scrollTop-D.y,y.y&&v.scrollBy({top:-y.y,behavior:a});break}}this.handleMove(e,ca(Oh(f,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}P0.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=Vk,onActivation:s}=e,{active:i}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function sE(t){return!!(t&&"distance"in t)}function iE(t){return!!(t&&"delay"in t)}class D0{constructor(e,n,r){var s;r===void 0&&(r=M8(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:o}=i;this.props=e,this.events=n,this.document=rl(o),this.documentListeners=new nc(this.document),this.listeners=new nc(r),this.windowListeners=new nc(tn(o)),this.initialCoordinates=(s=Mh(i))!=null?s:cr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Pn.Resize,this.handleCancel),this.windowListeners.add(Pn.DragStart,rE),this.windowListeners.add(Pn.VisibilityChange,this.handleCancel),this.windowListeners.add(Pn.ContextMenu,rE),this.documentListeners.add(Pn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(iE(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(sE(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Pn.Click,L8,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Pn.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(n=Mh(e))!=null?n:cr,d=Oh(s,l);if(!r&&a){if(sE(a)){if(a.tolerance!=null&&fm(d,a.tolerance))return this.handleCancel();if(fm(d,a.distance))return this.handleStart()}if(iE(a)&&fm(d,a.tolerance))return this.handleCancel();this.handlePending(a,d);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Pe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const F8={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class j0 extends D0{constructor(e){const{event:n}=e,r=rl(n.target);super(e,F8,r)}}j0.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const z8={move:{name:"mousemove"},end:{name:"mouseup"}};var Kg;(function(t){t[t.RightClick=2]="RightClick"})(Kg||(Kg={}));class U8 extends D0{constructor(e){super(e,z8,rl(e.event.target))}}U8.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Kg.RightClick?!1:(r==null||r({event:n}),!0)}}];const pm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $8 extends D0{constructor(e){super(e,pm)}static setup(){return window.addEventListener(pm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(pm.move.name,e)};function e(){}}}$8.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var rc;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(rc||(rc={}));var Vh;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Vh||(Vh={}));function B8(t){let{acceleration:e,activator:n=rc.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=Vh.TreeOrder,pointerCoordinates:l,scrollableAncestors:d,scrollableAncestorRects:h,delta:f,threshold:m}=t;const y=W8({delta:f,disabled:!i}),[b,v]=e8(),E=p.useRef({x:0,y:0}),_=p.useRef({x:0,y:0}),w=p.useMemo(()=>{switch(n){case rc.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case rc.DraggableRect:return s}},[n,s,l]),S=p.useRef(null),k=p.useCallback(()=>{const D=S.current;if(!D)return;const T=E.current.x*_.current.x,C=E.current.y*_.current.y;D.scrollBy(T,C)},[]),O=p.useMemo(()=>a===Vh.TreeOrder?[...d].reverse():d,[a,d]);p.useEffect(()=>{if(!i||!d.length||!w){v();return}for(const D of O){if((r==null?void 0:r(D))===!1)continue;const T=d.indexOf(D),C=h[T];if(!C)continue;const{direction:I,speed:A}=R8(D,C,w,e,m);for(const P of["x","y"])y[P][I[P]]||(A[P]=0,I[P]=0);if(A.x>0||A.y>0){v(),S.current=D,b(k,o),E.current=A,_.current=I;return}}E.current={x:0,y:0},_.current={x:0,y:0},v()},[e,k,r,v,i,o,JSON.stringify(w),JSON.stringify(y),b,d,O,h,JSON.stringify(m)])}const H8={x:{[Tt.Backward]:!1,[Tt.Forward]:!1},y:{[Tt.Backward]:!1,[Tt.Forward]:!1}};function W8(t){let{delta:e,disabled:n}=t;const r=jh(e);return au(s=>{if(n||!r||!s)return H8;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Tt.Backward]:s.x[Tt.Backward]||i.x===-1,[Tt.Forward]:s.x[Tt.Forward]||i.x===1},y:{[Tt.Backward]:s.y[Tt.Backward]||i.y===-1,[Tt.Forward]:s.y[Tt.Forward]||i.y===1}}},[n,e,r])}function q8(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return au(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function G8(t,e){return p.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...i]},[]),[t,e])}var Mc;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Mc||(Mc={}));var Qg;(function(t){t.Optimized="optimized"})(Qg||(Qg={}));const oE=new Map;function K8(t,e){let{dragging:n,dependencies:r,config:s}=e;const[i,o]=p.useState(null),{frequency:a,measure:l,strategy:d}=s,h=p.useRef(t),f=E(),m=Oc(f),y=p.useCallback(function(_){_===void 0&&(_=[]),!m.current&&o(w=>w===null?_:w.concat(_.filter(S=>!w.includes(S))))},[m]),b=p.useRef(null),v=au(_=>{if(f&&!n)return oE;if(!_||_===oE||h.current!==t||i!=null){const w=new Map;for(let S of t){if(!S)continue;if(i&&i.length>0&&!i.includes(S.id)&&S.rect.current){w.set(S.id,S.rect.current);continue}const k=S.node.current,O=k?new R0(l(k),k):null;S.rect.current=O,O&&w.set(S.id,O)}return w}return _},[t,i,n,f,l]);return p.useEffect(()=>{h.current=t},[t]),p.useEffect(()=>{f||y()},[n,f]),p.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),p.useEffect(()=>{f||typeof a!="number"||b.current!==null||(b.current=setTimeout(()=>{y(),b.current=null},a))},[a,f,y,...r]),{droppableRects:v,measureDroppableContainers:y,measuringScheduled:i!=null};function E(){switch(d){case Mc.Always:return!1;case Mc.BeforeDragging:return n;default:return!n}}}function O0(t,e){return au(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Q8(t,e){return O0(t,e)}function Y8(t){let{callback:e,disabled:n}=t;const r=Bf(e),s=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return p.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Wf(t){let{callback:e,disabled:n}=t;const r=Bf(e),s=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return p.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function X8(t){return new R0(sl(t),t)}function aE(t,e,n){e===void 0&&(e=X8);const[r,s]=p.useState(null);function i(){s(l=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=l??n)!=null?d:null}const h=e(t);return JSON.stringify(l)===JSON.stringify(h)?l:h})}const o=Y8({callback(l){if(t)for(const d of l){const{type:h,target:f}=d;if(h==="childList"&&f instanceof HTMLElement&&f.contains(t)){i();break}}}}),a=Wf({callback:i});return lr(()=>{i(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),r}function J8(t){const e=O0(t);return Ak(t,e)}const lE=[];function Z8(t){const e=p.useRef(t),n=au(r=>t?r&&r!==lE&&t&&e.current&&t.parentNode===e.current.parentNode?r:k0(t):lE,[t]);return p.useEffect(()=>{e.current=t},[t]),n}function e7(t){const[e,n]=p.useState(null),r=p.useRef(t),s=p.useCallback(i=>{const o=hm(i.target);o&&n(a=>a?(a.set(o,Gg(o)),new Map(a)):null)},[]);return p.useEffect(()=>{const i=r.current;if(t!==i){o(i);const a=t.map(l=>{const d=hm(l);return d?(d.addEventListener("scroll",s,{passive:!0}),[d,Gg(d)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(i)};function o(a){a.forEach(l=>{const d=hm(l);d==null||d.removeEventListener("scroll",s)})}},[s,t]),p.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>ca(i,o),cr):Mk(t):cr,[t,e])}function cE(t,e){e===void 0&&(e=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},e),p.useEffect(()=>{const r=t!==cr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Oh(t,n.current):cr}function t7(t){p.useEffect(()=>{if(!$f)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function n7(t,e){return p.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,e)},n},{}),[t,e])}function Fk(t){return p.useMemo(()=>t?I8(t):null,[t])}const uE=[];function r7(t,e){e===void 0&&(e=sl);const[n]=t,r=Fk(n?tn(n):null),[s,i]=p.useState(uE);function o(){i(()=>t.length?t.map(l=>jk(l)?r:new R0(e(l),l)):uE)}const a=Wf({callback:o});return lr(()=>{a==null||a.disconnect(),o(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),s}function zk(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return ou(e)?e:t}function s7(t){let{measure:e}=t;const[n,r]=p.useState(null),s=p.useCallback(d=>{for(const{target:h}of d)if(ou(h)){r(f=>{const m=e(h);return f?{...f,width:m.width,height:m.height}:m});break}},[e]),i=Wf({callback:s}),o=p.useCallback(d=>{const h=zk(d);i==null||i.disconnect(),h&&(i==null||i.observe(h)),r(h?e(h):null)},[e,i]),[a,l]=Dh(o);return p.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const i7=[{sensor:j0,options:{}},{sensor:P0,options:{}}],o7={current:{}},Od={draggable:{measure:nE},droppable:{measure:nE,strategy:Mc.WhileDragging,frequency:Qg.Optimized},dragOverlay:{measure:sl}};class sc extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const a7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new sc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Lh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Od,measureDroppableContainers:Lh,windowRect:null,measuringScheduled:!1},Uk={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Lh,draggableNodes:new Map,over:null,measureDroppableContainers:Lh},cu=p.createContext(Uk),$k=p.createContext(a7);function l7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new sc}}}function c7(t,e){switch(e.type){case yt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case yt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case yt.DragEnd:case yt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case yt.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new sc(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case yt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new sc(t.droppable.containers);return o.set(n,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case yt.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const i=new sc(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function u7(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=p.useContext(cu),i=jh(r),o=jh(n==null?void 0:n.id);return p.useEffect(()=>{if(!e&&!r&&i&&o!=null){if(!Hf(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:d}=a;if(!l.current&&!d.current)return;requestAnimationFrame(()=>{for(const h of[l.current,d.current]){if(!h)continue;const f=r8(h);if(f){f.focus();break}}})}},[r,e,s,o,i]),null}function Bk(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...r}),n):n}function d7(t){return p.useMemo(()=>({draggable:{...Od.draggable,...t==null?void 0:t.draggable},droppable:{...Od.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Od.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function h7(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const i=p.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;lr(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const h=n(d),f=Ak(h,r);if(o||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=Rk(d);m&&m.scrollBy({top:f.y,left:f.x})}},[e,o,a,r,n])}const qf=p.createContext({...cr,scaleX:1,scaleY:1});var Cs;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Cs||(Cs={}));const f7=p.memo(function(e){var n,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:d,sensors:h=i7,collisionDetection:f=_8,measuring:m,modifiers:y,...b}=e;const v=p.useReducer(c7,void 0,l7),[E,_]=v,[w,S]=c8(),[k,O]=p.useState(Cs.Uninitialized),D=k===Cs.Initialized,{draggable:{active:T,nodes:C,translate:I},droppable:{containers:A}}=E,P=T!=null?C.get(T):null,j=p.useRef({initial:null,translated:null}),R=p.useMemo(()=>{var Re;return T!=null?{id:T,data:(Re=P==null?void 0:P.data)!=null?Re:o7,rect:j}:null},[T,P]),B=p.useRef(null),[ie,z]=p.useState(null),[K,M]=p.useState(null),L=Oc(b,Object.values(b)),U=lu("DndDescribedBy",o),Q=p.useMemo(()=>A.getEnabled(),[A]),q=d7(m),{droppableRects:re,measureDroppableContainers:ee,measuringScheduled:ue}=K8(Q,{dragging:D,dependencies:[I.x,I.y],config:q.droppable}),le=q8(C,T),W=p.useMemo(()=>K?Mh(K):null,[K]),se=gu(),ye=Q8(le,q.draggable.measure);h7({activeNode:T!=null?C.get(T):null,config:se.layoutShiftCompensation,initialRect:ye,measure:q.draggable.measure});const ne=aE(le,q.draggable.measure,ye),pe=aE(le?le.parentElement:null),ve=p.useRef({activatorEvent:null,active:null,activeNode:le,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),qe=A.getNodeFor((n=ve.current.over)==null?void 0:n.id),Qe=s7({measure:q.dragOverlay.measure}),nn=(r=Qe.nodeRef.current)!=null?r:le,Ot=D?(s=Qe.rect)!=null?s:ne:null,An=!!(Qe.nodeRef.current&&Qe.rect),xi=J8(An?null:ne),ze=Fk(nn?tn(nn):null),Ge=Z8(D?qe??le:null),Mr=r7(Ge),Eo=Bk(y,{transform:{x:I.x-xi.x,y:I.y-xi.y,scaleX:1,scaleY:1},activatorEvent:K,active:R,activeNodeRect:ne,containerNodeRect:pe,draggingNodeRect:Ot,over:ve.current.over,overlayNodeRect:Qe.rect,scrollableAncestors:Ge,scrollableAncestorRects:Mr,windowRect:ze}),ol=W?ca(W,I):null,du=e7(Ge),_i=cE(du),hu=cE(du,[ne]),Lr=ca(Eo,_i),dr=Ot?S8(Ot,Eo):null,Ei=R&&dr?f({active:R,collisionRect:dr,droppableRects:re,droppableContainers:Q,pointerCoordinates:ol}):null,fu=v8(Ei,"id"),[Un,al]=p.useState(null),bi=An?Eo:ca(Eo,hu),ll=E8(bi,(i=Un==null?void 0:Un.rect)!=null?i:null,ne),Si=p.useRef(null),hr=p.useCallback((Re,Mt)=>{let{sensor:ht,options:rn}=Mt;if(B.current==null)return;const sn=C.get(B.current);if(!sn)return;const Kt=Re.nativeEvent,At=new ht({active:B.current,activeNode:sn,event:Kt,options:rn,context:ve,onAbort(ft){if(!C.get(ft))return;const{onDragAbort:mn}=L.current,kn={id:ft};mn==null||mn(kn),w({type:"onDragAbort",event:kn})},onPending(ft,pn,mn,kn){if(!C.get(ft))return;const{onDragPending:$n}=L.current,fr={id:ft,constraint:pn,initialCoordinates:mn,offset:kn};$n==null||$n(fr),w({type:"onDragPending",event:fr})},onStart(ft){const pn=B.current;if(pn==null)return;const mn=C.get(pn);if(!mn)return;const{onDragStart:kn}=L.current,Vr={activatorEvent:Kt,active:{id:pn,data:mn.data,rect:j}};Ln.unstable_batchedUpdates(()=>{kn==null||kn(Vr),O(Cs.Initializing),_({type:yt.DragStart,initialCoordinates:ft,active:pn}),w({type:"onDragStart",event:Vr}),z(Si.current),M(Kt)})},onMove(ft){_({type:yt.DragMove,coordinates:ft})},onEnd:ds(yt.DragEnd),onCancel:ds(yt.DragCancel)});Si.current=At;function ds(ft){return async function(){const{active:mn,collisions:kn,over:Vr,scrollAdjustedTranslate:$n}=ve.current;let fr=null;if(mn&&$n){const{cancelDrop:on}=L.current;fr={activatorEvent:Kt,active:mn,collisions:kn,delta:$n,over:Vr},ft===yt.DragEnd&&typeof on=="function"&&await Promise.resolve(on(fr))&&(ft=yt.DragCancel)}B.current=null,Ln.unstable_batchedUpdates(()=>{_({type:ft}),O(Cs.Uninitialized),al(null),z(null),M(null),Si.current=null;const on=ft===yt.DragEnd?"onDragEnd":"onDragCancel";if(fr){const bo=L.current[on];bo==null||bo(fr),w({type:on,event:fr})}})}}},[C]),pu=p.useCallback((Re,Mt)=>(ht,rn)=>{const sn=ht.nativeEvent,Kt=C.get(rn);if(B.current!==null||!Kt||sn.dndKit||sn.defaultPrevented)return;const At={active:Kt};Re(ht,Mt.options,At)===!0&&(sn.dndKit={capturedBy:Mt.sensor},B.current=rn,hr(ht,Mt))},[C,hr]),Ti=G8(h,pu);t7(h),lr(()=>{ne&&k===Cs.Initializing&&O(Cs.Initialized)},[ne,k]),p.useEffect(()=>{const{onDragMove:Re}=L.current,{active:Mt,activatorEvent:ht,collisions:rn,over:sn}=ve.current;if(!Mt||!ht)return;const Kt={active:Mt,activatorEvent:ht,collisions:rn,delta:{x:Lr.x,y:Lr.y},over:sn};Ln.unstable_batchedUpdates(()=>{Re==null||Re(Kt),w({type:"onDragMove",event:Kt})})},[Lr.x,Lr.y]),p.useEffect(()=>{const{active:Re,activatorEvent:Mt,collisions:ht,droppableContainers:rn,scrollAdjustedTranslate:sn}=ve.current;if(!Re||B.current==null||!Mt||!sn)return;const{onDragOver:Kt}=L.current,At=rn.get(fu),ds=At&&At.rect.current?{id:At.id,rect:At.rect.current,data:At.data,disabled:At.disabled}:null,ft={active:Re,activatorEvent:Mt,collisions:ht,delta:{x:sn.x,y:sn.y},over:ds};Ln.unstable_batchedUpdates(()=>{al(ds),Kt==null||Kt(ft),w({type:"onDragOver",event:ft})})},[fu]),lr(()=>{ve.current={activatorEvent:K,active:R,activeNode:le,collisionRect:dr,collisions:Ei,droppableRects:re,draggableNodes:C,draggingNode:nn,draggingNodeRect:Ot,droppableContainers:A,over:Un,scrollableAncestors:Ge,scrollAdjustedTranslate:Lr},j.current={initial:Ot,translated:dr}},[R,le,Ei,dr,C,nn,Ot,re,A,Un,Ge,Lr]),B8({...se,delta:I,draggingRect:dr,pointerCoordinates:ol,scrollableAncestors:Ge,scrollableAncestorRects:Mr});const mu=p.useMemo(()=>({active:R,activeNode:le,activeNodeRect:ne,activatorEvent:K,collisions:Ei,containerNodeRect:pe,dragOverlay:Qe,draggableNodes:C,droppableContainers:A,droppableRects:re,over:Un,measureDroppableContainers:ee,scrollableAncestors:Ge,scrollableAncestorRects:Mr,measuringConfiguration:q,measuringScheduled:ue,windowRect:ze}),[R,le,ne,K,Ei,pe,Qe,C,A,re,Un,ee,Ge,Mr,q,ue,ze]),Ci=p.useMemo(()=>({activatorEvent:K,activators:Ti,active:R,activeNodeRect:ne,ariaDescribedById:{draggable:U},dispatch:_,draggableNodes:C,over:Un,measureDroppableContainers:ee}),[K,Ti,R,ne,_,U,C,Un,ee]);return be.createElement(Nk.Provider,{value:S},be.createElement(cu.Provider,{value:Ci},be.createElement($k.Provider,{value:mu},be.createElement(qf.Provider,{value:ll},d)),be.createElement(u7,{disabled:(a==null?void 0:a.restoreFocus)===!1})),be.createElement(h8,{...a,hiddenTextDescribedById:U}));function gu(){const Re=(ie==null?void 0:ie.autoScrollEnabled)===!1,Mt=typeof l=="object"?l.enabled===!1:l===!1,ht=D&&!Re&&!Mt;return typeof l=="object"?{...l,enabled:ht}:{enabled:ht}}}),p7=p.createContext(null),dE="button",m7="Draggable";function g7(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const i=lu(m7),{activators:o,activatorEvent:a,active:l,activeNodeRect:d,ariaDescribedById:h,draggableNodes:f,over:m}=p.useContext(cu),{role:y=dE,roleDescription:b="draggable",tabIndex:v=0}=s??{},E=(l==null?void 0:l.id)===e,_=p.useContext(E?qf:p7),[w,S]=Dh(),[k,O]=Dh(),D=n7(o,e),T=Oc(n);lr(()=>(f.set(e,{id:e,key:i,node:w,activatorNode:k,data:T}),()=>{const I=f.get(e);I&&I.key===i&&f.delete(e)}),[f,e]);const C=p.useMemo(()=>({role:y,tabIndex:v,"aria-disabled":r,"aria-pressed":E&&y===dE?!0:void 0,"aria-roledescription":b,"aria-describedby":h.draggable}),[r,y,v,E,b,h.draggable]);return{active:l,activatorEvent:a,activeNodeRect:d,attributes:C,isDragging:E,listeners:r?void 0:D,node:w,over:m,setNodeRef:S,setActivatorNodeRef:O,transform:_}}function Hk(){return p.useContext($k)}const y7="Droppable",v7={timeout:25};function Wk(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const i=lu(y7),{active:o,dispatch:a,over:l,measureDroppableContainers:d}=p.useContext(cu),h=p.useRef({disabled:n}),f=p.useRef(!1),m=p.useRef(null),y=p.useRef(null),{disabled:b,updateMeasurementsFor:v,timeout:E}={...v7,...s},_=Oc(v??r),w=p.useCallback(()=>{if(!f.current){f.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{d(Array.isArray(_.current)?_.current:[_.current]),y.current=null},E)},[E]),S=Wf({callback:w,disabled:b||!o}),k=p.useCallback((C,I)=>{S&&(I&&(S.unobserve(I),f.current=!1),C&&S.observe(C))},[S]),[O,D]=Dh(k),T=Oc(e);return p.useEffect(()=>{!S||!O.current||(S.disconnect(),f.current=!1,S.observe(O.current))},[O,S]),p.useEffect(()=>(a({type:yt.RegisterDroppable,element:{id:r,key:i,disabled:n,node:O,rect:m,data:T}}),()=>a({type:yt.UnregisterDroppable,key:i,id:r})),[r]),p.useEffect(()=>{n!==h.current.disabled&&(a({type:yt.SetDroppableDisabled,id:r,key:i,disabled:n}),h.current.disabled=n)},[r,i,n,a]),{active:o,rect:m,isOver:(l==null?void 0:l.id)===r,node:O,over:l,setNodeRef:D}}function w7(t){let{animation:e,children:n}=t;const[r,s]=p.useState(null),[i,o]=p.useState(null),a=jh(n);return!n&&!r&&a&&s(a),lr(()=>{if(!i)return;const l=r==null?void 0:r.key,d=r==null?void 0:r.props.id;if(l==null||d==null){s(null);return}Promise.resolve(e(d,i)).then(()=>{s(null)})},[e,r,i]),be.createElement(be.Fragment,null,n,r?p.cloneElement(r,{ref:o}):null)}const x7={x:0,y:0,scaleX:1,scaleY:1};function _7(t){let{children:e}=t;return be.createElement(cu.Provider,{value:Uk},be.createElement(qf.Provider,{value:x7},e))}const E7={position:"fixed",touchAction:"none"},b7=t=>Hf(t)?"transform 250ms ease":void 0,S7=p.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:s,children:i,className:o,rect:a,style:l,transform:d,transition:h=b7}=t;if(!a)return null;const f=s?d:{...d,scaleX:1,scaleY:1},m={...E7,width:a.width,height:a.height,top:a.top,left:a.left,transform:pi.Transform.toString(f),transformOrigin:s&&r?m8(r,a):void 0,transition:typeof h=="function"?h(r):h,...l};return be.createElement(n,{className:o,style:m,ref:e},i)}),T7=t=>e=>{let{active:n,dragOverlay:r}=e;const s={},{styles:i,className:o}=t;if(i!=null&&i.active)for(const[a,l]of Object.entries(i.active))l!==void 0&&(s[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(i!=null&&i.dragOverlay)for(const[a,l]of Object.entries(i.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[l,d]of Object.entries(s))n.node.style.setProperty(l,d);o!=null&&o.active&&n.node.classList.remove(o.active)}},C7=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:pi.Transform.toString(e)},{transform:pi.Transform.toString(n)}]},I7={duration:250,easing:"ease",keyframes:C7,sideEffects:T7({styles:{active:{opacity:"0"}}})};function N7(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=t;return Bf((i,o)=>{if(e===null)return;const a=n.get(i);if(!a)return;const l=a.node.current;if(!l)return;const d=zk(o);if(!d)return;const{transform:h}=tn(o).getComputedStyle(o),f=kk(h);if(!f)return;const m=typeof e=="function"?e:A7(e);return Lk(l,s.draggable.measure),m({active:{id:i,data:a.data,node:l,rect:s.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:o,rect:s.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:s,transform:f})})}function A7(t){const{duration:e,easing:n,sideEffects:r,keyframes:s}={...I7,...t};return i=>{let{active:o,dragOverlay:a,transform:l,...d}=i;if(!e)return;const h={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},f={scaleX:l.scaleX!==1?o.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?o.rect.height*l.scaleY/a.rect.height:1},m={x:l.x-h.x,y:l.y-h.y,...f},y=s({...d,active:o,dragOverlay:a,transform:{initial:l,final:m}}),[b]=y,v=y[y.length-1];if(JSON.stringify(b)===JSON.stringify(v))return;const E=r==null?void 0:r({active:o,dragOverlay:a,...d}),_=a.node.animate(y,{duration:e,easing:n,fill:"forwards"});return new Promise(w=>{_.onfinish=()=>{E==null||E(),w()}})}}let hE=0;function k7(t){return p.useMemo(()=>{if(t!=null)return hE++,hE},[t])}const R7=be.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:s,transition:i,modifiers:o,wrapperElement:a="div",className:l,zIndex:d=999}=t;const{activatorEvent:h,active:f,activeNodeRect:m,containerNodeRect:y,draggableNodes:b,droppableContainers:v,dragOverlay:E,over:_,measuringConfiguration:w,scrollableAncestors:S,scrollableAncestorRects:k,windowRect:O}=Hk(),D=p.useContext(qf),T=k7(f==null?void 0:f.id),C=Bk(o,{activatorEvent:h,active:f,activeNodeRect:m,containerNodeRect:y,draggingNodeRect:E.rect,over:_,overlayNodeRect:E.rect,scrollableAncestors:S,scrollableAncestorRects:k,transform:D,windowRect:O}),I=O0(m),A=N7({config:r,draggableNodes:b,droppableContainers:v,measuringConfiguration:w}),P=I?E.setRef:void 0;return be.createElement(_7,null,be.createElement(w7,{animation:A},f&&T?be.createElement(S7,{key:T,id:f.id,ref:P,as:a,activatorEvent:h,adjustScale:e,className:l,transition:i,rect:I,style:{zIndex:d,...s},transform:C},n):null))});function qk(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function P7(t,e){return t.reduce((n,r,s)=>{const i=e.get(r);return i&&(n[s]=i),n},Array(t.length))}function id(t){return t!==null&&t>=0}function D7(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function j7(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Gk=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const i=qk(e,r,n),o=e[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},od={scaleX:1,scaleY:1},O7=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:i,overIndex:o}=t;const a=(e=i[n])!=null?e:r;if(!a)return null;if(s===n){const d=i[o];return d?{x:0,y:n<o?d.top+d.height-(a.top+a.height):d.top-a.top,...od}:null}const l=M7(i,s,n);return s>n&&s<=o?{x:0,y:-a.height-l,...od}:s<n&&s>=o?{x:0,y:a.height+l,...od}:{x:0,y:0,...od}};function M7(t,e,n){const r=t[e],s=t[e-1],i=t[e+1];return r?n<e?s?r.top-(s.top+s.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const Kk="Sortable",Qk=be.createContext({activeIndex:-1,containerId:Kk,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Gk,disabled:{draggable:!1,droppable:!1}});function L7(t){let{children:e,id:n,items:r,strategy:s=Gk,disabled:i=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:d,measureDroppableContainers:h}=Hk(),f=lu(Kk,n),m=a.rect!==null,y=p.useMemo(()=>r.map(D=>typeof D=="object"&&"id"in D?D.id:D),[r]),b=o!=null,v=o?y.indexOf(o.id):-1,E=d?y.indexOf(d.id):-1,_=p.useRef(y),w=!D7(y,_.current),S=E!==-1&&v===-1||w,k=j7(i);lr(()=>{w&&b&&h(y)},[w,y,b,h]),p.useEffect(()=>{_.current=y},[y]);const O=p.useMemo(()=>({activeIndex:v,containerId:f,disabled:k,disableTransforms:S,items:y,overIndex:E,useDragOverlay:m,sortedRects:P7(y,l),strategy:s}),[v,f,k.draggable,k.droppable,S,y,E,l,m,s]);return be.createElement(Qk.Provider,{value:O},e)}const V7=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return qk(n,r,s).indexOf(e)},F7=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:l,transition:d}=t;return!d||!r||a!==i&&s===o?!1:n?!0:o!==s&&e===l},z7={duration:200,easing:"ease"},Yk="transform",U7=pi.Transition.toString({property:Yk,duration:0,easing:"linear"}),$7={roleDescription:"sortable"};function B7(t){let{disabled:e,index:n,node:r,rect:s}=t;const[i,o]=p.useState(null),a=p.useRef(n);return lr(()=>{if(!e&&n!==a.current&&r.current){const l=s.current;if(l){const d=sl(r.current,{ignoreTransform:!0}),h={x:l.left-d.left,y:l.top-d.top,scaleX:l.width/d.width,scaleY:l.height/d.height};(h.x||h.y)&&o(h)}}n!==a.current&&(a.current=n)},[e,n,r,s]),p.useEffect(()=>{i&&o(null)},[i]),i}function H7(t){let{animateLayoutChanges:e=F7,attributes:n,disabled:r,data:s,getNewIndex:i=V7,id:o,strategy:a,resizeObserverConfig:l,transition:d=z7}=t;const{items:h,containerId:f,activeIndex:m,disabled:y,disableTransforms:b,sortedRects:v,overIndex:E,useDragOverlay:_,strategy:w}=p.useContext(Qk),S=W7(r,y),k=h.indexOf(o),O=p.useMemo(()=>({sortable:{containerId:f,index:k,items:h},...s}),[f,s,k,h]),D=p.useMemo(()=>h.slice(h.indexOf(o)),[h,o]),{rect:T,node:C,isOver:I,setNodeRef:A}=Wk({id:o,data:O,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...l}}),{active:P,activatorEvent:j,activeNodeRect:R,attributes:B,setNodeRef:ie,listeners:z,isDragging:K,over:M,setActivatorNodeRef:L,transform:U}=g7({id:o,data:O,attributes:{...$7,...n},disabled:S.draggable}),Q=ZU(A,ie),q=!!P,re=q&&!b&&id(m)&&id(E),ee=!_&&K,ue=ee&&re?U:null,W=re?ue??(a??w)({rects:v,activeNodeRect:R,activeIndex:m,overIndex:E,index:k}):null,se=id(m)&&id(E)?i({id:o,items:h,activeIndex:m,overIndex:E}):k,ye=P==null?void 0:P.id,ne=p.useRef({activeId:ye,items:h,newIndex:se,containerId:f}),pe=h!==ne.current.items,ve=e({active:P,containerId:f,isDragging:K,isSorting:q,id:o,index:k,items:h,newIndex:ne.current.newIndex,previousItems:ne.current.items,previousContainerId:ne.current.containerId,transition:d,wasDragging:ne.current.activeId!=null}),qe=B7({disabled:!ve,index:k,node:C,rect:T});return p.useEffect(()=>{q&&ne.current.newIndex!==se&&(ne.current.newIndex=se),f!==ne.current.containerId&&(ne.current.containerId=f),h!==ne.current.items&&(ne.current.items=h)},[q,se,f,h]),p.useEffect(()=>{if(ye===ne.current.activeId)return;if(ye!=null&&ne.current.activeId==null){ne.current.activeId=ye;return}const nn=setTimeout(()=>{ne.current.activeId=ye},50);return()=>clearTimeout(nn)},[ye]),{active:P,activeIndex:m,attributes:B,data:O,rect:T,index:k,newIndex:se,items:h,isOver:I,isSorting:q,isDragging:K,listeners:z,node:C,overIndex:E,over:M,setNodeRef:Q,setActivatorNodeRef:L,setDroppableNodeRef:A,setDraggableNodeRef:ie,transform:qe??W,transition:Qe()};function Qe(){if(qe||pe&&ne.current.newIndex===k)return U7;if(!(ee&&!Hf(j)||!d)&&(q||ve))return pi.Transition.toString({...d,property:Yk})}}function W7(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}Pe.Down,Pe.Right,Pe.Up,Pe.Left;const q7=Gc("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Yi({className:t,variant:e,...n}){return c.jsx("div",{className:J(q7({variant:e}),t),...n})}function He({className:t,...e}){return c.jsx("div",{className:J("animate-pulse rounded-md bg-muted",t),...e})}const it=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:J("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));it.displayName="Card";const gt=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:J("flex flex-col space-y-1.5 p-6",t),...e}));gt.displayName="CardHeader";const Bt=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:J("text-2xl font-semibold leading-none tracking-tight",t),...e}));Bt.displayName="CardTitle";const Gn=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:J("text-sm text-muted-foreground",t),...e}));Gn.displayName="CardDescription";const lt=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:J("p-6 pt-0",t),...e}));lt.displayName="CardContent";const Xk=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:J("flex items-center p-6 pt-0",t),...e}));Xk.displayName="CardFooter";function Jk(t){if(!t)return"No due date";const e=new Date(t),n=new Date,r=new Date(n);r.setDate(r.getDate()+1);const s=e.toISOString().split("T")[0],i=n.toISOString().split("T")[0],o=r.toISOString().split("T")[0];return s===i?"Today":s===o?"Tomorrow":e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function Zk(t){if(!t)return null;const e=new Date(t),n=new Date;return Math.ceil((e.getTime()-n.getTime())/(1e3*60*60*24))}function eR({assignment:t,onClick:e,hasNotes:n,isDragging:r}){const{attributes:s,listeners:i,setNodeRef:o,transform:a,transition:l,isDragging:d}=H7({id:t.id}),h={transform:pi.Transform.toString(a),transition:l},f=Zk(t.dueDate),m=f!==null&&f<=1&&f>=0,y=t.systemStatus==="overdue"||f!==null&&f<0;return c.jsx(it,{ref:o,style:h,className:J("p-4 cursor-pointer transition-all duration-200 hover-elevate group",(r||d)&&"opacity-50 rotate-1 shadow-lg",y&&"border-destructive/30"),onClick:e,"data-testid":`card-assignment-${t.id}`,children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsx(Yi,{variant:"secondary",className:"text-[11px] px-2 py-0.5 rounded-full font-normal truncate max-w-[180px]",children:t.courseName}),c.jsx("div",{...s,...i,className:"opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing",onClick:b=>b.stopPropagation(),children:c.jsx(KO,{className:"h-4 w-4 text-muted-foreground"})})]}),c.jsx("h3",{className:"text-sm font-medium leading-snug line-clamp-2",children:t.title}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsx(Ks,{className:"h-3.5 w-3.5"}),c.jsx("span",{className:J(y&&"text-destructive",m&&!y&&"text-foreground font-medium"),children:Jk(t.dueDate)}),y&&c.jsx(si,{className:"h-3.5 w-3.5 text-destructive"}),m&&!y&&c.jsx(zT,{className:"h-3.5 w-3.5 text-foreground"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[t.systemStatus==="graded"&&t.grade!==null&&c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[c.jsx(Na,{className:"h-3.5 w-3.5 text-muted-foreground"}),c.jsxs("span",{className:"font-mono",children:[t.grade,"/",t.maxPoints]})]}),t.systemStatus==="submitted"&&c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[c.jsx(Na,{className:"h-3.5 w-3.5"}),c.jsx("span",{children:"Submitted"})]})]}),c.jsx("div",{className:"flex items-center gap-1",children:n&&c.jsx(Gl,{className:"h-3.5 w-3.5 text-muted-foreground"})})]})]})})}function G7({assignment:t,onClick:e}){const n=Zk(t.dueDate),r=t.systemStatus==="overdue"||n!==null&&n<0,s=n!==null&&n<=1&&n>=0;return c.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-md border hover-elevate cursor-pointer",onClick:e,"data-testid":`card-assignment-compact-${t.id}`,children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",children:t.title}),c.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.courseName})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs shrink-0",children:[c.jsx("span",{className:J("text-muted-foreground",r&&"text-destructive",s&&!r&&"font-medium text-foreground"),children:Jk(t.dueDate)}),r&&c.jsx(si,{className:"h-3.5 w-3.5 text-destructive"})]})]})}const M0=p.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));M0.displayName="Textarea";var K7="Separator",fE="horizontal",Q7=["horizontal","vertical"],tR=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=fE,...s}=t,i=Y7(r)?r:fE,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(Ee.div,{"data-orientation":i,...a,...s,ref:e})});tR.displayName=K7;function Y7(t){return Q7.includes(t)}var nR=tR;const Sr=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>c.jsx(nR,{ref:s,decorative:n,orientation:e,className:J("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Sr.displayName=nR.displayName;const X7=BA,J7=HA,rR=p.forwardRef(({className:t,...e},n)=>c.jsx(u0,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));rR.displayName=u0.displayName;const Z7=Gc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),sR=p.forwardRef(({side:t="right",className:e,children:n,...r},s)=>c.jsxs(J7,{children:[c.jsx(rR,{}),c.jsxs(d0,{ref:s,className:J(Z7({side:t}),e),...r,children:[n,c.jsxs(p0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(ff,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sR.displayName=d0.displayName;const iR=({className:t,...e})=>c.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",t),...e});iR.displayName="SheetHeader";const oR=p.forwardRef(({className:t,...e},n)=>c.jsx(h0,{ref:n,className:J("text-lg font-semibold text-foreground",t),...e}));oR.displayName=h0.displayName;const e$=p.forwardRef(({className:t,...e},n)=>c.jsx(f0,{ref:n,className:J("text-sm text-muted-foreground",t),...e}));e$.displayName=f0.displayName;function t$(t){return t?new Date(t).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}):"Not set"}function n$(t){return t?` at ${t}`:""}function r$({assignment:t}){const e=[{id:"created",label:"Created",completed:!0,date:t.createdAt},{id:"submitted",label:"Submitted",completed:!!t.submittedAt,date:t.submittedAt},{id:"graded",label:"Graded",completed:!!t.gradedAt,date:t.gradedAt}];return c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-sm font-medium",children:"Status Timeline"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute left-[7px] top-3 bottom-3 w-px bg-border"}),c.jsx("div",{className:"space-y-4",children:e.map((n,r)=>c.jsxs("div",{className:"flex items-start gap-3 relative",children:[c.jsx("div",{className:J("h-4 w-4 rounded-full border-2 shrink-0 mt-0.5",n.completed?"bg-foreground border-foreground":"bg-background border-muted-foreground"),children:n.completed&&c.jsx(Na,{className:"h-3 w-3 text-background absolute top-0.5 left-0.5"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:J("text-sm",n.completed?"font-medium":"text-muted-foreground"),children:n.label}),n.date&&n.completed&&c.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(n.date).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]})]},n.id))})]})]})}function s$({note:t,onUpdate:e,onDelete:n}){const[r,s]=p.useState(!1),[i,o]=p.useState(t.content),a=()=>{e(i,t.isImportant),s(!1)};return c.jsxs("div",{className:"p-3 rounded-md border space-y-2",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[t.isImportant&&c.jsx(e_,{className:"h-3.5 w-3.5 fill-current text-foreground"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(t.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Se,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>e(t.content,!t.isImportant),"data-testid":`button-toggle-important-${t.id}`,children:c.jsx(e_,{className:J("h-3.5 w-3.5",t.isImportant&&"fill-current")})}),c.jsx(Se,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>s(!r),"data-testid":`button-edit-note-${t.id}`,children:c.jsx(JO,{className:"h-3.5 w-3.5"})}),c.jsx(Se,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive",onClick:n,"data-testid":`button-delete-note-${t.id}`,children:c.jsx(sM,{className:"h-3.5 w-3.5"})})]})]}),r?c.jsxs("div",{className:"space-y-2",children:[c.jsx(M0,{value:i,onChange:l=>o(l.target.value),className:"min-h-[80px] text-sm","data-testid":`textarea-edit-note-${t.id}`}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>s(!1),children:"Cancel"}),c.jsxs(Se,{size:"sm",onClick:a,"data-testid":`button-save-note-${t.id}`,children:[c.jsx(HT,{className:"h-3.5 w-3.5 mr-1"}),"Save"]})]})]}):c.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.content})]})}function L0({assignment:t,isOpen:e,onClose:n}){const{getNotesForAssignment:r,addNote:s,updateNote:i,deleteNote:o}=_o(),[a,l]=p.useState(""),[d,h]=p.useState(!1);if(!t)return null;const f=r(t.id),m=t.systemStatus==="overdue",y=()=>{a.trim()&&(s(t.id,a.trim()),l(""),h(!1))};return c.jsx(X7,{open:e,onOpenChange:n,children:c.jsxs(sR,{className:"w-full sm:max-w-[400px] overflow-y-auto",children:[c.jsx(iR,{className:"space-y-4",children:c.jsx("div",{className:"flex items-start justify-between gap-4",children:c.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[c.jsx(Yi,{variant:"secondary",className:"text-xs mb-2",children:t.courseName}),c.jsx(oR,{className:"text-lg font-semibold leading-tight",children:t.title})]})})}),c.jsxs("div",{className:"mt-6 space-y-6",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(Ks,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("span",{className:J(m&&"text-destructive"),children:[t$(t.dueDate),n$(t.dueTime)]}),m&&c.jsx(si,{className:"h-4 w-4 text-destructive"})]}),t.maxPoints&&c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Points:"}),t.grade!==null?c.jsxs("span",{className:"font-mono font-medium",children:[t.grade," / ",t.maxPoints]}):c.jsx("span",{className:"font-mono",children:t.maxPoints})]})]}),c.jsx(Sr,{}),t.description&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"text-sm font-medium",children:"Description"}),c.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:t.description})]}),c.jsx(Sr,{})]}),c.jsx(r$,{assignment:t}),c.jsx(Sr,{}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"text-sm font-medium",children:"Notes"}),!d&&c.jsxs(Se,{variant:"ghost",size:"sm",onClick:()=>h(!0),"data-testid":"button-add-note",children:[c.jsx(ZO,{className:"h-3.5 w-3.5 mr-1"}),"Add Note"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Notes are private and only visible to you."}),d&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(M0,{value:a,onChange:b=>l(b.target.value),placeholder:"Add a note...",className:"min-h-[100px] text-sm","data-testid":"textarea-new-note"}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{h(!1),l("")},children:"Cancel"}),c.jsxs(Se,{size:"sm",onClick:y,disabled:!a.trim(),"data-testid":"button-save-new-note",children:[c.jsx(HT,{className:"h-3.5 w-3.5 mr-1"}),"Save"]})]})]}),f.length>0?c.jsx("div",{className:"space-y-2",children:f.map(b=>c.jsx(s$,{note:b,onUpdate:(v,E)=>i(b.id,v,E),onDelete:()=>o(b.id,t.id)},b.id))}):!d&&c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No notes yet"})]}),t.alternateLink&&c.jsxs(c.Fragment,{children:[c.jsx(Sr,{}),c.jsxs(Se,{variant:"outline",className:"w-full",onClick:()=>window.open(t.alternateLink,"_blank"),"data-testid":"button-open-classroom",children:[c.jsx(pg,{className:"h-4 w-4 mr-2"}),"Open in Google Classroom"]})]})]})]})})}const pE=["Drag and drop assignments between columns to update their status.","Trace automatically syncs changes with your Google Classroom.","Click on any assignment card to view details and add private notes.","Use the Timeline view to visualize deadlines chronologically.","Keep your 'In Progress' column manageable for better focus.","Assignments marked as 'Done' in Classroom appear in the Completed column."];function i$({id:t,title:e,assignments:n,onCardClick:r,notes:s}){const{isOver:i,setNodeRef:o}=Wk({id:t});return c.jsxs("div",{ref:o,className:J("flex flex-col min-w-[280px] w-[280px] h-full",i&&"bg-muted/50"),children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 sticky top-0 bg-background z-10 border-b",children:[c.jsx("h3",{className:"text-sm font-medium",children:e}),c.jsx(Yi,{variant:"secondary",className:"text-xs font-mono",children:n.length})]}),c.jsx("div",{className:"flex-1 p-3 space-y-3 overflow-y-auto",children:c.jsx(L7,{items:n.map(a=>a.id),strategy:O7,children:n.length>0?n.map(a=>{var l;return c.jsx(eR,{assignment:a,onClick:()=>r(a),hasNotes:(((l=s.get(a.id))==null?void 0:l.length)||0)>0},a.id)}):c.jsx("div",{className:"flex items-center justify-center h-24 text-sm text-muted-foreground border border-dashed rounded-md",children:"No assignments"})})})]})}function o$(){return c.jsx("div",{className:"flex gap-4 h-full overflow-x-auto p-6 opacity-40 pointer-events-none select-none filter grayscale",children:[1,2,3,4,5].map(t=>c.jsxs("div",{className:"flex flex-col min-w-[280px] w-[280px]",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[c.jsx(He,{className:"h-5 w-24"}),c.jsx(He,{className:"h-5 w-8"})]}),c.jsx("div",{className:"p-3 space-y-3",children:[1,2,3].map(e=>c.jsx(He,{className:"h-32 w-full"},e))})]},t))})}function a$(){const[t,e]=p.useState(10),[n,r]=p.useState(0);return p.useEffect(()=>{const s=setInterval(()=>{e(o=>{if(o===100)return 100;const a=Math.random()*10;return Math.min(o+a,90)})},500),i=setInterval(()=>{r(o=>(o+1)%pE.length)},2500);return()=>{clearInterval(s),clearInterval(i)}},[]),c.jsxs("div",{className:"relative h-full w-full bg-background overflow-hidden",children:[c.jsx(o$,{}),c.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-background/60 backdrop-blur-[2px]",children:c.jsxs("div",{className:"w-full max-w-md p-6 space-y-6",children:[c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx("div",{className:"h-10 w-10 bg-zinc-950 rounded flex items-center justify-center text-white",children:c.jsx(so,{className:"h-5 w-5 animate-spin"})}),c.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Syncing Workspace"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-1 w-full bg-zinc-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-zinc-950 transition-all duration-500 ease-out",style:{width:`${t}%`}})}),c.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-400 font-mono uppercase tracking-wider",children:[c.jsx("span",{children:"Retrieving Assignments"}),c.jsxs("span",{children:[Math.round(t),"%"]})]})]}),c.jsxs("div",{className:"flex gap-3 items-start bg-white border border-zinc-200 p-4 rounded-md shadow-sm max-w-sm mx-auto animate-in fade-in slide-in-from-bottom-2 duration-700",children:[c.jsx(hf,{className:"h-4 w-4 text-zinc-900 shrink-0 mt-0.5"}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("span",{className:"text-xs font-bold text-zinc-900 uppercase tracking-wide",children:"Did you know?"}),c.jsx("p",{className:"text-xs text-zinc-500 leading-relaxed min-h-[40px]",children:pE[n]})]})]})]})})]})}function l$(){var E;const{getPipelineColumns:t,updateAssignmentStatus:e,isLoading:n,isSyncing:r,notes:s,assignments:i,syncClassroom:o}=_o(),[a,l]=p.useState(null),[d,h]=p.useState(null),f=f8(eE(j0,{activationConstraint:{distance:8}}),eE(P0)),m=t(),y=d?i.find(_=>_.id===d):null,b=_=>{h(_.active.id)},v=_=>{const{active:w,over:S}=_;if(h(null),!S)return;const k=w.id,O=S.id;if(["backlog","in_progress","submitted","graded","overdue"].includes(O)){const D=i.find(T=>T.id===k);D&&D.systemStatus!==O&&(O==="in_progress"?e(k,"in_progress"):e(k,"backlog"))}};return n||r?c.jsx(a$,{}):i.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 p-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h2",{className:"text-lg font-medium",children:"No assignments yet"}),c.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Sync your Google Classroom to see your assignments organized in a Kanban-style board."})]}),c.jsx("button",{onClick:_=>{_.preventDefault(),o().catch(w=>{console.error("Sync failed:",w)})},className:"px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover-elevate","data-testid":"button-sync-empty",children:"Sync Google Classroom"})]}):c.jsxs(c.Fragment,{children:[c.jsxs(f7,{sensors:f,collisionDetection:w8,onDragStart:b,onDragEnd:v,children:[c.jsx("div",{className:"flex gap-4 h-full overflow-x-auto p-6",children:m.map(_=>c.jsx(i$,{id:_.id,title:_.title,assignments:_.assignments,onCardClick:l,notes:s},_.id))}),c.jsx(R7,{children:y&&c.jsx(eR,{assignment:y,isDragging:!0,hasNotes:(((E=s.get(y.id))==null?void 0:E.length)||0)>0})})]}),c.jsx(L0,{assignment:a,isOpen:!!a,onClose:()=>l(null)})]})}function mE(t,[e,n]){return Math.min(n,Math.max(e,t))}var c$=p.createContext(void 0);function u$(t){const e=p.useContext(c$);return t||e||"ltr"}function aR(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var d$=[" ","Enter","ArrowUp","ArrowDown"],h$=[" ","Enter"],uu="Select",[Gf,Kf,f$]=dT(uu),[il,IB]=as(uu,[f$,yf]),Qf=yf(),[p$,vi]=il(uu),[m$,g$]=il(uu),lR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:d,name:h,autoComplete:f,disabled:m,required:y,form:b}=t,v=Qf(e),[E,_]=p.useState(null),[w,S]=p.useState(null),[k,O]=p.useState(!1),D=u$(d),[T=!1,C]=Sc({prop:r,defaultProp:s,onChange:i}),[I,A]=Sc({prop:o,defaultProp:a,onChange:l}),P=p.useRef(null),j=E?b||!!E.closest("form"):!0,[R,B]=p.useState(new Set),ie=Array.from(R).map(z=>z.props.value).join(";");return c.jsx(QL,{...v,children:c.jsxs(p$,{required:y,scope:e,trigger:E,onTriggerChange:_,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:O,contentId:ta(),value:I,onValueChange:A,open:T,onOpenChange:C,dir:D,triggerPointerDownPosRef:P,disabled:m,children:[c.jsx(Gf.Provider,{scope:e,children:c.jsx(m$,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(z=>{B(K=>new Set(K).add(z))},[]),onNativeOptionRemove:p.useCallback(z=>{B(K=>{const M=new Set(K);return M.delete(z),M})},[]),children:n})}),j?c.jsxs(DR,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:I,onChange:z=>A(z.target.value),disabled:m,form:b,children:[I===void 0?c.jsx("option",{value:""}):null,Array.from(R)]},ie):null]})})};lR.displayName=uu;var cR="SelectTrigger",uR=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Qf(n),o=vi(cR,n),a=o.disabled||r,l=Me(e,o.onTriggerChange),d=Kf(n),h=p.useRef("touch"),[f,m,y]=jR(v=>{const E=d().filter(S=>!S.disabled),_=E.find(S=>S.value===o.value),w=OR(E,v,_);w!==void 0&&o.onValueChange(w.value)}),b=v=>{a||(o.onOpenChange(!0),y()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return c.jsx(SC,{asChild:!0,...i,children:c.jsx(Ee.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":PR(o.value)?"":void 0,...s,ref:l,onClick:ge(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&b(v)}),onPointerDown:ge(s.onPointerDown,v=>{h.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:ge(s.onKeyDown,v=>{const E=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(E&&v.key===" ")&&d$.includes(v.key)&&(b(),v.preventDefault())})})})});uR.displayName=cR;var dR="SelectValue",hR=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=vi(dR,n),{onValueNodeHasChildrenChange:d}=l,h=i!==void 0,f=Me(e,l.onValueNodeChange);return _t(()=>{d(h)},[d,h]),c.jsx(Ee.span,{...a,ref:f,style:{pointerEvents:"none"},children:PR(l.value)?c.jsx(c.Fragment,{children:o}):i})});hR.displayName=dR;var y$="SelectIcon",fR=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(Ee.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});fR.displayName=y$;var v$="SelectPortal",pR=t=>c.jsx(cf,{asChild:!0,...t});pR.displayName=v$;var po="SelectContent",mR=p.forwardRef((t,e)=>{const n=vi(po,t.__scopeSelect),[r,s]=p.useState();if(_t(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ln.createPortal(c.jsx(gR,{scope:t.__scopeSelect,children:c.jsx(Gf.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(yR,{...t,ref:e})});mR.displayName=po;var Hn=10,[gR,wi]=il(po),w$="SelectContentImpl",x$=Ia("SelectContent.RemoveScroll"),yR=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:b,hideWhenDetached:v,avoidCollisions:E,..._}=t,w=vi(po,n),[S,k]=p.useState(null),[O,D]=p.useState(null),T=Me(e,W=>k(W)),[C,I]=p.useState(null),[A,P]=p.useState(null),j=Kf(n),[R,B]=p.useState(!1),ie=p.useRef(!1);p.useEffect(()=>{if(S)return TA(S)},[S]),gA();const z=p.useCallback(W=>{const[se,...ye]=j().map(ve=>ve.ref.current),[ne]=ye.slice(-1),pe=document.activeElement;for(const ve of W)if(ve===pe||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===se&&O&&(O.scrollTop=0),ve===ne&&O&&(O.scrollTop=O.scrollHeight),ve==null||ve.focus(),document.activeElement!==pe))return},[j,O]),K=p.useCallback(()=>z([C,S]),[z,C,S]);p.useEffect(()=>{R&&K()},[R,K]);const{onOpenChange:M,triggerPointerDownPosRef:L}=w;p.useEffect(()=>{if(S){let W={x:0,y:0};const se=ne=>{var pe,ve;W={x:Math.abs(Math.round(ne.pageX)-(((pe=L.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((ve=L.current)==null?void 0:ve.y)??0))}},ye=ne=>{W.x<=10&&W.y<=10?ne.preventDefault():S.contains(ne.target)||M(!1),document.removeEventListener("pointermove",se),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",ye,{capture:!0})}}},[S,M,L]),p.useEffect(()=>{const W=()=>M(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[M]);const[U,Q]=jR(W=>{const se=j().filter(pe=>!pe.disabled),ye=se.find(pe=>pe.ref.current===document.activeElement),ne=OR(se,W,ye);ne&&setTimeout(()=>ne.ref.current.focus())}),q=p.useCallback((W,se,ye)=>{const ne=!ie.current&&!ye;(w.value!==void 0&&w.value===se||ne)&&(I(W),ne&&(ie.current=!0))},[w.value]),re=p.useCallback(()=>S==null?void 0:S.focus(),[S]),ee=p.useCallback((W,se,ye)=>{const ne=!ie.current&&!ye;(w.value!==void 0&&w.value===se||ne)&&P(W)},[w.value]),ue=r==="popper"?Yg:vR,le=ue===Yg?{side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:b,hideWhenDetached:v,avoidCollisions:E}:{};return c.jsx(gR,{scope:n,content:S,viewport:O,onViewportChange:D,itemRefCallback:q,selectedItem:C,onItemLeave:re,itemTextRefCallback:ee,focusSelectedItem:K,selectedItemText:A,position:r,isPositioned:R,searchRef:U,children:c.jsx(i0,{as:x$,allowPinchZoom:!0,children:c.jsx(s0,{asChild:!0,trapped:w.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:ge(s,W=>{var se;(se=w.trigger)==null||se.focus({preventScroll:!0}),W.preventDefault()}),children:c.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:c.jsx(ue,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:W=>W.preventDefault(),..._,...le,onPlaced:()=>B(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ge(_.onKeyDown,W=>{const se=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!se&&W.key.length===1&&Q(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let ne=j().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(W.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const pe=W.target,ve=ne.indexOf(pe);ne=ne.slice(ve+1)}setTimeout(()=>z(ne)),W.preventDefault()}})})})})})})});yR.displayName=w$;var _$="SelectItemAlignedPosition",vR=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=vi(po,n),o=wi(po,n),[a,l]=p.useState(null),[d,h]=p.useState(null),f=Me(e,T=>h(T)),m=Kf(n),y=p.useRef(!1),b=p.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:_,focusSelectedItem:w}=o,S=p.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&v&&E&&_){const T=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),A=_.getBoundingClientRect();if(i.dir!=="rtl"){const pe=A.left-C.left,ve=I.left-pe,qe=T.left-ve,Qe=T.width+qe,nn=Math.max(Qe,C.width),Ot=window.innerWidth-Hn,An=mE(ve,[Hn,Math.max(Hn,Ot-nn)]);a.style.minWidth=Qe+"px",a.style.left=An+"px"}else{const pe=C.right-A.right,ve=window.innerWidth-I.right-pe,qe=window.innerWidth-T.right-ve,Qe=T.width+qe,nn=Math.max(Qe,C.width),Ot=window.innerWidth-Hn,An=mE(ve,[Hn,Math.max(Hn,Ot-nn)]);a.style.minWidth=Qe+"px",a.style.right=An+"px"}const P=m(),j=window.innerHeight-Hn*2,R=v.scrollHeight,B=window.getComputedStyle(d),ie=parseInt(B.borderTopWidth,10),z=parseInt(B.paddingTop,10),K=parseInt(B.borderBottomWidth,10),M=parseInt(B.paddingBottom,10),L=ie+z+R+M+K,U=Math.min(E.offsetHeight*5,L),Q=window.getComputedStyle(v),q=parseInt(Q.paddingTop,10),re=parseInt(Q.paddingBottom,10),ee=T.top+T.height/2-Hn,ue=j-ee,le=E.offsetHeight/2,W=E.offsetTop+le,se=ie+z+W,ye=L-se;if(se<=ee){const pe=P.length>0&&E===P[P.length-1].ref.current;a.style.bottom="0px";const ve=d.clientHeight-v.offsetTop-v.offsetHeight,qe=Math.max(ue,le+(pe?re:0)+ve+K),Qe=se+qe;a.style.height=Qe+"px"}else{const pe=P.length>0&&E===P[0].ref.current;a.style.top="0px";const qe=Math.max(ee,ie+v.offsetTop+(pe?q:0)+le)+ye;a.style.height=qe+"px",v.scrollTop=se-ee+v.offsetTop}a.style.margin=`${Hn}px 0`,a.style.minHeight=U+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,a,d,v,E,_,i.dir,r]);_t(()=>S(),[S]);const[k,O]=p.useState();_t(()=>{d&&O(window.getComputedStyle(d).zIndex)},[d]);const D=p.useCallback(T=>{T&&b.current===!0&&(S(),w==null||w(),b.current=!1)},[S,w]);return c.jsx(b$,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:D,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:c.jsx(Ee.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});vR.displayName=_$;var E$="SelectPopperPosition",Yg=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Hn,...i}=t,o=Qf(n);return c.jsx(TC,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yg.displayName=E$;var[b$,V0]=il(po,{}),Xg="SelectViewport",wR=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=wi(Xg,n),o=V0(Xg,n),a=Me(e,i.onViewportChange),l=p.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Gf.Slot,{scope:n,children:c.jsx(Ee.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ge(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const y=Math.abs(l.current-h.scrollTop);if(y>0){const b=window.innerHeight-Hn*2,v=parseFloat(f.style.minHeight),E=parseFloat(f.style.height),_=Math.max(v,E);if(_<b){const w=_+y,S=Math.min(b,w),k=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});wR.displayName=Xg;var xR="SelectGroup",[S$,T$]=il(xR),C$=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ta();return c.jsx(S$,{scope:n,id:s,children:c.jsx(Ee.div,{role:"group","aria-labelledby":s,...r,ref:e})})});C$.displayName=xR;var _R="SelectLabel",ER=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=T$(_R,n);return c.jsx(Ee.div,{id:s.id,...r,ref:e})});ER.displayName=_R;var Fh="SelectItem",[I$,bR]=il(Fh),SR=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=vi(Fh,n),l=wi(Fh,n),d=a.value===r,[h,f]=p.useState(i??""),[m,y]=p.useState(!1),b=Me(e,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,s)}),v=ta(),E=p.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(I$,{scope:n,value:r,disabled:s,textId:v,isSelected:d,onItemTextChange:p.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:c.jsx(Gf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:c.jsx(Ee.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:ge(o.onFocus,()=>y(!0)),onBlur:ge(o.onBlur,()=>y(!1)),onClick:ge(o.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:ge(o.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:ge(o.onPointerDown,w=>{E.current=w.pointerType}),onPointerMove:ge(o.onPointerMove,w=>{var S;E.current=w.pointerType,s?(S=l.onItemLeave)==null||S.call(l):E.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:ge(o.onKeyDown,w=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&w.key===" "||(h$.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})})})})});SR.displayName=Fh;var Ml="SelectItemText",TR=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=vi(Ml,n),a=wi(Ml,n),l=bR(Ml,n),d=g$(Ml,n),[h,f]=p.useState(null),m=Me(e,_=>f(_),l.onItemTextChange,_=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,_,l.value,l.disabled)}),y=h==null?void 0:h.textContent,b=p.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:y},l.value),[l.disabled,l.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=d;return _t(()=>(v(b),()=>E(b)),[v,E,b]),c.jsxs(c.Fragment,{children:[c.jsx(Ee.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ln.createPortal(i.children,o.valueNode):null]})});TR.displayName=Ml;var CR="SelectItemIndicator",IR=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return bR(CR,n).isSelected?c.jsx(Ee.span,{"aria-hidden":!0,...r,ref:e}):null});IR.displayName=CR;var Jg="SelectScrollUpButton",NR=p.forwardRef((t,e)=>{const n=wi(Jg,t.__scopeSelect),r=V0(Jg,t.__scopeSelect),[s,i]=p.useState(!1),o=Me(e,r.onScrollButtonChange);return _t(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(kR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});NR.displayName=Jg;var Zg="SelectScrollDownButton",AR=p.forwardRef((t,e)=>{const n=wi(Zg,t.__scopeSelect),r=V0(Zg,t.__scopeSelect),[s,i]=p.useState(!1),o=Me(e,r.onScrollButtonChange);return _t(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<d;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(kR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});AR.displayName=Zg;var kR=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=wi("SelectScrollButton",n),o=p.useRef(null),a=Kf(n),l=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),_t(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),c.jsx(Ee.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ge(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ge(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ge(s.onPointerLeave,()=>{l()})})}),N$="SelectSeparator",RR=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(Ee.div,{"aria-hidden":!0,...r,ref:e})});RR.displayName=N$;var ey="SelectArrow",A$=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Qf(n),i=vi(ey,n),o=wi(ey,n);return i.open&&o.position==="popper"?c.jsx(CC,{...s,...r,ref:e}):null});A$.displayName=ey;function PR(t){return t===""||t===void 0}var DR=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=p.useRef(null),i=Me(e,s),o=aR(n);return p.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(f)}},[o,n]),c.jsx(qc,{asChild:!0,children:c.jsx("select",{...r,ref:i,defaultValue:n})})});DR.displayName="BubbleSelect";function jR(t){const e=fn(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const a=n.current+o;e(a),function l(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function OR(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=k$(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const l=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function k$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var R$=lR,MR=uR,P$=hR,D$=fR,j$=pR,LR=mR,O$=wR,VR=ER,FR=SR,M$=TR,L$=IR,zR=NR,UR=AR,$R=RR;const ty=R$,ny=P$,zh=p.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(MR,{ref:r,className:J("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(D$,{asChild:!0,children:c.jsx(FT,{className:"h-4 w-4 opacity-50"})})]}));zh.displayName=MR.displayName;const BR=p.forwardRef(({className:t,...e},n)=>c.jsx(zR,{ref:n,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(GO,{className:"h-4 w-4"})}));BR.displayName=zR.displayName;const HR=p.forwardRef(({className:t,...e},n)=>c.jsx(UR,{ref:n,className:J("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(FT,{className:"h-4 w-4"})}));HR.displayName=UR.displayName;const Uh=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(j$,{children:c.jsxs(LR,{ref:s,className:J("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(BR,{}),c.jsx(O$,{className:J("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(HR,{})]})}));Uh.displayName=LR.displayName;const V$=p.forwardRef(({className:t,...e},n)=>c.jsx(VR,{ref:n,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));V$.displayName=VR.displayName;const Pt=p.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(FR,{ref:r,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(L$,{children:c.jsx(fg,{className:"h-4 w-4"})})}),c.jsx(M$,{children:e})]}));Pt.displayName=FR.displayName;const F$=p.forwardRef(({className:t,...e},n)=>c.jsx($R,{ref:n,className:J("-mx-1 my-1 h-px bg-muted",t),...e}));F$.displayName=$R.displayName;const gE=["Hold 'Right Click' and drag to navigate the timeline quickly.","Switch to Calendar view to see the full monthly schedule.","Use the filters at the top to focus on specific courses.","The 'Today' button in Calendar view jumps you to the current date.","Timeline bars are color-coded based on assignment status.","Hover over an assignment card to see more details."];function z$(){return c.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(He,{className:"h-10 w-40"}),c.jsx(He,{className:"h-10 w-40"})]}),[1,2,3].map(t=>c.jsxs("div",{className:"space-y-3",children:[c.jsx(He,{className:"h-6 w-32"}),c.jsx("div",{className:"space-y-2",children:[1,2].map(e=>c.jsx(He,{className:"h-16 w-full"},e))})]},t))]})}function U$(){const[t,e]=p.useState(10),[n,r]=p.useState(0);return p.useEffect(()=>{const s=setInterval(()=>{e(o=>{if(o===100)return 100;const a=Math.random()*10;return Math.min(o+a,90)})},500),i=setInterval(()=>{r(o=>(o+1)%gE.length)},2500);return()=>{clearInterval(s),clearInterval(i)}},[]),c.jsxs("div",{className:"relative h-full w-full bg-background overflow-hidden",children:[c.jsx("div",{className:"h-full w-full p-6 opacity-40 pointer-events-none select-none filter grayscale",children:c.jsx(z$,{})}),c.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-background/60 backdrop-blur-[2px]",children:c.jsxs("div",{className:"w-full max-w-md p-6 space-y-6",children:[c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx("div",{className:"h-10 w-10 bg-zinc-950 rounded flex items-center justify-center text-white",children:c.jsx(so,{className:"h-5 w-5 animate-spin"})}),c.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Building Timeline"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-1 w-full bg-zinc-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-zinc-950 transition-all duration-500 ease-out",style:{width:`${t}%`}})}),c.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-400 font-mono uppercase tracking-wider",children:[c.jsx("span",{children:"Mapping Schedule"}),c.jsxs("span",{children:[Math.round(t),"%"]})]})]}),c.jsxs("div",{className:"flex gap-3 items-start bg-white border border-zinc-200 p-4 rounded-md shadow-sm max-w-sm mx-auto animate-in fade-in slide-in-from-bottom-2 duration-700",children:[c.jsx(hf,{className:"h-4 w-4 text-zinc-900 shrink-0 mt-0.5"}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("span",{className:"text-xs font-bold text-zinc-900 uppercase tracking-wide",children:"Navigation Tip"}),c.jsx("p",{className:"text-xs text-zinc-500 leading-relaxed min-h-[40px]",children:gE[n]})]})]})]})})]})}const ad={backlog:{label:"Backlog",color:"bg-slate-100",border:"border-slate-200",timelineStyle:"bg-slate-100 border-slate-300 text-slate-700"},in_progress:{label:"In Progress",color:"bg-blue-50 text-blue-700",border:"border-blue-100",timelineStyle:"bg-blue-100 border-blue-300 text-blue-800"},submitted:{label:"Submitted",color:"bg-purple-50 text-purple-700",border:"border-purple-100",timelineStyle:"bg-purple-100 border-purple-300 text-purple-800"},graded:{label:"Graded",color:"bg-emerald-50 text-emerald-700",border:"border-emerald-100",timelineStyle:"bg-emerald-100 border-emerald-300 text-emerald-800"},overdue:{label:"Overdue",color:"bg-red-50 text-red-700",border:"border-red-100",timelineStyle:"bg-red-100 border-red-300 text-red-800"}},$$=(t,e)=>{const n=[],r=new Date(t);for(;r<=e;)n.push(new Date(r)),r.setDate(r.getDate()+1);return n},B$=(t,e)=>{const n=[],r=new Date(t);r.setDate(1),r.setHours(0,0,0,0);const s=new Date(e);for(s.setDate(1),s.setHours(0,0,0,0);r<=s;)n.push(new Date(r)),r.setMonth(r.getMonth()+1);return n},mm=t=>`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`,yE=t=>{const e=new Date;return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()};function H$(){const{getTimelineGroups:t,courses:e,isLoading:n,isSyncing:r,assignments:s,syncClassroom:i}=_o(),{user:o}=cs(),[a,l]=p.useState(null),[d,h]=p.useState(null),[f,m]=p.useState(null),[y,b]=p.useState("timeline"),[v,E]=p.useState([]);p.useEffect(()=>{if(o)try{const D=`trace_email_events_${o.uid}`,C=JSON.parse(localStorage.getItem(D)||"[]").map(I=>({id:I.id,uniqueId:I.id,userId:o.uid,courseId:"system",courseName:"System",classroomId:"system",title:I.title,description:I.body,dueDate:I.timestamp,dueTime:null,maxPoints:null,systemStatus:"submitted",userStatus:null,submissionId:null,submittedAt:null,gradedAt:null,grade:null,alternateLink:null,createdAt:I.timestamp,lastSyncedAt:I.timestamp}));E(C)}catch{}},[o]);const _=p.useMemo(()=>{let D=[...s,...v];return a&&(D=D.filter(T=>T.courseId===a)),d&&(D=D.filter(T=>T.systemStatus===d)),D},[s,v,a,d]),w=()=>{l(null),h(null)},S=a||d;if(n||r)return c.jsx(U$,{});if(s.length===0)return c.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 p-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx(Ks,{className:"h-12 w-12 mx-auto text-muted-foreground"}),c.jsx("h2",{className:"text-lg font-medium",children:"No assignments yet"}),c.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Sync your Google Classroom to see your assignments organized by date."})]}),c.jsx("button",{onClick:D=>{D.preventDefault(),i().catch(T=>{console.error("Sync failed:",T)})},className:"px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover-elevate","data-testid":"button-sync-empty-timeline",children:"Sync Google Classroom"})]});const k=()=>{const D=p.useRef(null),[T,C]=p.useState(!1),I=p.useRef({x:0,left:0}),A=60,{earliestDate:P,latestDate:j,initialScrollPosition:R}=p.useMemo(()=>{const L=new Date;L.setHours(0,0,0,0);let U=new Date,Q=new Date;if(_.length>0){const le=_.filter(W=>W.dueDate).map(W=>new Date(W.dueDate));le.length>0&&(U=new Date(Math.min(...le.map(W=>W.getTime()))),Q=new Date(Math.max(...le.map(W=>W.getTime()))))}const q=new Date(U);q.setDate(q.getDate()-30);const re=new Date(Q);re.setDate(re.getDate()+30);const ue=Math.ceil((L.getTime()-q.getTime())/(1e3*3600*24))*A+A/2-window.innerWidth/2;return{earliestDate:q,latestDate:re,initialScrollPosition:Math.max(0,ue)}},[_]),B=p.useMemo(()=>$$(P,j),[P,j]);p.useEffect(()=>{D.current&&(D.current.scrollLeft=R)},[R]);const ie=L=>{L.button===2&&D.current&&(L.preventDefault(),C(!0),I.current={x:L.pageX,left:D.current.scrollLeft})},z=p.useCallback(L=>{if(!T||!D.current)return;L.preventDefault();const Q=(L.pageX-I.current.x)*1.5;D.current.scrollLeft=I.current.left-Q},[T]),K=p.useCallback(()=>{C(!1)},[]);p.useEffect(()=>(T?(window.addEventListener("mousemove",z),window.addEventListener("mouseup",K)):(window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",K)),()=>{window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",K)}),[T,z,K]);const M=L=>{if(!L)return{left:"0px",width:"0px"};const U=new Date(L);return U.setHours(0,0,0,0),{left:`${(U.getTime()-P.getTime())/(1e3*3600*24)*A}px`,width:`${A}px`}};return c.jsxs("div",{className:"flex-1 overflow-hidden relative flex flex-col h-full bg-background",children:[c.jsx("div",{ref:D,className:J("flex-1 overflow-auto relative select-none",T?"cursor-grabbing":"cursor-default"),onMouseDown:ie,onContextMenu:L=>L.preventDefault(),children:c.jsxs("div",{className:"min-w-max pb-20 relative",style:{width:`${B.length*A}px`},children:[c.jsx("div",{className:"flex sticky top-0 bg-background/95 backdrop-blur-sm z-40 border-b shadow-sm h-16",children:B.map((L,U)=>{const Q=yE(L);return c.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center justify-end pb-3 relative",style:{width:A},children:[c.jsx("span",{className:J("text-[10px] uppercase font-bold tracking-wider mb-1",Q?"text-blue-600":"text-muted-foreground"),children:L.toLocaleDateString("en-US",{weekday:"narrow"})}),c.jsx("span",{className:J("text-sm font-bold w-8 h-8 flex items-center justify-center rounded-full transition-all",Q?"bg-blue-600 text-white shadow-md z-10 scale-110":"text-foreground"),children:L.getDate()}),c.jsx("div",{className:"absolute right-0 top-2 bottom-2 w-[1px] bg-border/50"})]},U)})}),c.jsxs("div",{className:"relative pt-6 min-h-[500px]",children:[c.jsx("div",{className:"absolute inset-0 flex pointer-events-none h-full z-0",children:B.map((L,U)=>{const Q=yE(L);return c.jsx("div",{className:J("flex-shrink-0 h-full border-r border-border/40 relative",Q?"bg-blue-50/10":""),style:{width:A},children:Q&&c.jsx("div",{className:"absolute top-0 bottom-0 left-1/2 w-[2px] bg-blue-600 -translate-x-1/2 z-20 shadow-[0_0_10px_rgba(37,99,235,0.2)]"})},U)})}),c.jsx("div",{className:"space-y-3 px-0 relative z-10 mt-2",children:_.filter(L=>L.dueDate).map(L=>{const U=M(L.dueDate),Q=ad[L.systemStatus]||ad.backlog;return c.jsx("div",{className:"relative h-14 group",children:c.jsxs("div",{onClick:()=>m(L),className:J("absolute top-0 h-12 rounded-lg border shadow-sm transition-all cursor-pointer flex flex-col justify-center px-3 overflow-hidden group hover:scale-[1.01] z-10 hover:z-30 hover:shadow-md",Q.timelineStyle),style:{left:U.left,width:U.width,minWidth:"140px"},children:[c.jsx("div",{className:"flex items-center justify-between gap-2 mb-0.5",children:c.jsxs("span",{className:"truncate text-xs font-bold leading-none flex items-center gap-1",children:[L.courseId==="system"&&c.jsx($T,{className:"h-3 w-3 inline-block"}),L.title]})}),c.jsx("div",{className:"flex items-center justify-between opacity-80",children:c.jsx("span",{className:"text-[10px] font-semibold truncate max-w-[80px]",children:L.courseName})})]})},L.id)})})]})]})}),c.jsxs("div",{className:"flex-none p-2 border-t bg-background/70 backdrop-blur-sm flex items-center justify-center text-xs text-muted-foreground font-medium z-30 relative",children:[c.jsx(Zx,{size:14,className:"mr-2"}),"Tip: Hold"," ",c.jsx("kbd",{className:"mx-1 px-1 py-0.5 rounded-md bg-muted border text-foreground font-bold text-[10px]",children:"Right Click"})," ","to drag timeline"]})]})},O=()=>{const D=p.useRef(null),[T,C]=p.useState(!1),I=p.useRef({y:0,top:0}),A=p.useRef({}),[P,j]=p.useState(!1),{startMonth:R,endMonth:B}=p.useMemo(()=>{let q=new Date,re=new Date;if(_.length>0){const le=_.filter(W=>W.dueDate).map(W=>new Date(W.dueDate));le.length>0&&(q=new Date(Math.min(...le.map(W=>W.getTime()))),re=new Date(Math.max(...le.map(W=>W.getTime()))))}const ee=new Date(q);ee.setMonth(ee.getMonth()-2),ee.setDate(1);const ue=new Date(re);return ue.setMonth(ue.getMonth()+4),ue.setDate(1),{startMonth:ee,endMonth:ue}},[_]),ie=p.useMemo(()=>B$(R,B),[R,B]),z=p.useCallback(()=>{var le;const q=mm(new Date),re=A.current[q];if(!re){j(!0);return}const ee=re.getBoundingClientRect(),ue=(le=D.current)==null?void 0:le.getBoundingClientRect();ue&&j(ee.bottom<ue.top||ee.top>ue.bottom)},[ie]);p.useEffect(()=>{const q=D.current;return q&&(q.addEventListener("scroll",z),z()),()=>q==null?void 0:q.removeEventListener("scroll",z)},[z]),p.useEffect(()=>{setTimeout(()=>K(),100)},[]);const K=()=>{const q=mm(new Date),re=A.current[q];re&&re.scrollIntoView({behavior:"smooth",block:"center"})},M=q=>{q.button===2&&D.current&&(q.preventDefault(),C(!0),I.current={y:q.pageY,top:D.current.scrollTop})},L=p.useCallback(q=>{if(!T||!D.current)return;q.preventDefault();const ee=(q.pageY-I.current.y)*1.5;D.current.scrollTop=I.current.top-ee},[T]),U=p.useCallback(()=>{C(!1)},[]);p.useEffect(()=>(T?(window.addEventListener("mousemove",L),window.addEventListener("mouseup",U)):(window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",U)),()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",U)}),[T,L,U]);const Q=q=>{const re=q.getFullYear(),ee=q.getMonth(),ue=new Date(re,ee,1),le=new Date(re,ee+1,0),W=[];for(let se=0;se<ue.getDay();se++)W.push({date:new Date(re,ee,-ue.getDay()+1+se),isCurrentMonth:!1});for(let se=1;se<=le.getDate();se++)W.push({date:new Date(re,ee,se),isCurrentMonth:!0});for(;W.length%7!==0;){const se=W.length-(ue.getDay()+le.getDate())+1,ye=new Date(re,ee+1,se);W.push({date:ye,isCurrentMonth:!1})}return W};return c.jsxs("div",{className:"flex flex-col h-full bg-background relative",children:[P&&c.jsx("div",{className:"absolute top-4 right-6 z-20 animate-in fade-in zoom-in duration-300",children:c.jsxs("button",{onClick:K,className:"flex items-center gap-2 text-xs font-bold px-4 py-2 bg-primary text-primary-foreground rounded-full shadow-lg hover:opacity-90 transition-all hover:scale-105",children:[c.jsx(zO,{size:14})," Jump to Today"]})}),c.jsx("div",{ref:D,className:J("flex-1 overflow-y-auto",T?"cursor-grabbing":"cursor-default"),onMouseDown:M,onContextMenu:q=>q.preventDefault(),children:c.jsx("div",{className:"flex flex-col gap-8 p-6 pb-20 max-w-6xl mx-auto",children:ie.map(q=>{const re=Q(q),ee=mm(q);return c.jsxs("div",{ref:ue=>A.current[ee]=ue,className:"bg-card rounded-xl shadow-sm border overflow-hidden scroll-mt-6",children:[c.jsx("div",{className:"px-6 py-4 border-b bg-muted/50 flex justify-between items-center",children:c.jsx("h3",{className:"text-lg font-bold",children:q.toLocaleDateString("en-US",{month:"long",year:"numeric"})})}),c.jsx("div",{className:"grid grid-cols-7 border-b bg-muted/30",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(ue=>c.jsx("div",{className:"py-2 text-center text-[10px] font-bold text-muted-foreground uppercase tracking-wide",children:ue},ue))}),c.jsx("div",{className:"grid grid-cols-7 auto-rows-fr",children:re.map((ue,le)=>{const W=_.filter(ye=>{if(!ye.dueDate)return!1;const ne=new Date(ye.dueDate);ne.setHours(0,0,0,0);const pe=new Date(ue.date);return pe.setHours(0,0,0,0),pe.toDateString()===ne.toDateString()}),se=ue.date.toDateString()===new Date().toDateString();return c.jsxs("div",{className:J("min-h-[100px] border-b border-r p-1.5 flex flex-col gap-1 transition-colors",ue.isCurrentMonth?"bg-card":"bg-muted/30 text-muted-foreground"),children:[c.jsx("span",{className:J("text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full mb-1",se?"bg-primary text-primary-foreground shadow-sm":"text-foreground"),children:ue.date.getDate()}),c.jsx("div",{className:"flex-1 flex flex-col gap-1.5",children:W.map(ye=>{const ne=ad[ye.systemStatus]||ad.backlog;return c.jsx("div",{onClick:pe=>{pe.stopPropagation(),m(ye)},className:J("text-[10px] px-2 py-1 rounded-md border cursor-pointer truncate shadow-sm hover:scale-[1.02] transition-transform font-medium",ne.color,ne.border),title:ye.title,children:ye.title},ye.id)})})]},le)})})]},ee)})})}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-background/90 backdrop-blur-md border-t flex items-center justify-center text-xs text-muted-foreground font-medium z-10",children:[c.jsx(Zx,{size:14,className:"mr-2"}),"Tip: Hold"," ",c.jsx("kbd",{className:"mx-1 px-1 py-0.5 rounded-md bg-muted border text-foreground font-bold text-[10px]",children:"Right Click"})," ","to drag vertically"]})]})};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] overflow-hidden",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-3 sticky top-0 bg-background py-3 z-10 border-b px-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Se,{variant:y==="timeline"?"default":"ghost",size:"sm",onClick:()=>b("timeline"),className:"gap-2",children:[c.jsx(Ks,{size:14}),"Timeline"]}),c.jsxs(Se,{variant:y==="calendar"?"default":"ghost",size:"sm",onClick:()=>b("calendar"),className:"gap-2",children:[c.jsx(UO,{size:14}),"Calendar"]})]}),c.jsxs(ty,{value:a||"all",onValueChange:D=>l(D==="all"?null:D),children:[c.jsx(zh,{className:"w-[180px]","data-testid":"select-course-filter",children:c.jsx(ny,{placeholder:"All Courses"})}),c.jsxs(Uh,{children:[c.jsx(Pt,{value:"all",children:"All Courses"}),e.map(D=>c.jsx(Pt,{value:D.id,children:D.name},D.id))]})]}),c.jsxs(ty,{value:d||"all",onValueChange:D=>h(D==="all"?null:D),children:[c.jsx(zh,{className:"w-[140px]","data-testid":"select-status-filter",children:c.jsx(ny,{placeholder:"All Status"})}),c.jsxs(Uh,{children:[c.jsx(Pt,{value:"all",children:"All Status"}),c.jsx(Pt,{value:"backlog",children:"Backlog"}),c.jsx(Pt,{value:"in_progress",children:"In Progress"}),c.jsx(Pt,{value:"submitted",children:"Submitted"}),c.jsx(Pt,{value:"graded",children:"Graded"}),c.jsx(Pt,{value:"overdue",children:"Overdue"})]})]}),S&&c.jsxs(Se,{variant:"ghost",size:"sm",onClick:w,className:"text-muted-foreground","data-testid":"button-clear-filters",children:[c.jsx(ff,{className:"h-3.5 w-3.5 mr-1"}),"Clear filters"]}),c.jsx("div",{className:"ml-auto",children:c.jsx(ro,{href:"/settings/integrations",children:c.jsxs(Se,{variant:"outline",size:"sm",className:"gap-2 text-blue-600 border-blue-200 hover:bg-blue-50 dark:text-blue-400 dark:border-blue-900 dark:hover:bg-blue-950/50",children:[c.jsx(Ks,{className:"h-3.5 w-3.5"}),"Sync"]})})})]}),c.jsx("div",{className:"flex-1 overflow-hidden",children:y==="timeline"?c.jsx(k,{}):c.jsx(O,{})})]}),c.jsx(L0,{assignment:f,isOpen:!!f,onClose:()=>m(null)})]})}const vE=["Check the 'Weekly Workload' graph to balance your study schedule.","Assignments due in less than 3 days appear in the warning card.","The 'Next Actions' list prioritizes your most urgent tasks.","Syncing automatically refreshes assignment status from Google Classroom.","Click on any assignment in the list to view full details.","Overdue items are highlighted in red to grab your attention."];function ld({title:t,value:e,icon:n,variant:r="default"}){return c.jsxs(it,{"data-testid":`card-metric-${t.toLowerCase().replace(/\s+/g,"-")}`,children:[c.jsxs(gt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[c.jsx(Bt,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:t}),c.jsx(n,{className:J("h-5 w-5",r==="default"&&"text-muted-foreground",r==="warning"&&"text-foreground",r==="danger"&&"text-destructive")})]}),c.jsx(lt,{children:c.jsx("div",{className:J("text-3xl font-semibold font-mono tracking-tight",r==="danger"&&"text-destructive"),children:e})})]})}function W$({data:t}){const e=Math.max(...t.map(n=>n.count),1);return c.jsxs(it,{children:[c.jsx(gt,{className:"pb-2",children:c.jsx(Bt,{className:"text-sm font-medium",children:"Weekly Workload"})}),c.jsx(lt,{children:c.jsx("div",{className:"flex items-end justify-between gap-2 h-32",children:t.map((n,r)=>c.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[c.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:n.count>0?n.count:""}),c.jsx("div",{className:J("w-full rounded-t-sm transition-all",n.isToday?"bg-foreground":"bg-muted",n.count===0&&"min-h-[4px]"),style:{height:n.count>0?`${n.count/e*80}px`:"4px"}}),c.jsx("span",{className:J("text-xs",n.isToday?"font-medium":"text-muted-foreground"),children:n.day})]},r))})})]})}function q$({courses:t}){const{user:e,accessToken:n}=cs(),[r,s]=p.useState(null),[i,o]=p.useState(!1),[a,l]=p.useState(null);return p.useEffect(()=>{async function d(){if(!e||!n||t.length===0){t.length===0&&l("No courses found");return}const h=t[0].classroomId,f=`activity_rank_v2_${h}_${e.uid}`;try{const m=localStorage.getItem(f);if(m){const y=JSON.parse(m);if(Date.now()-y.timestamp<1e3*60*60){s(y.data);return}}}catch{}o(!0),l(null);try{const m=`https://classroom.googleapis.com/v1/courses/${h}/students`,y=await Qi(n,m,D=>D.students||[],D=>D.nextPageToken),b=`https://classroom.googleapis.com/v1/courses/${h}/courseWork?courseWorkStates=PUBLISHED`,v=await Qi(n,b,D=>D.courseWork||[],D=>D.nextPageToken),E=new Map;y.forEach(D=>E.set(D.userId,0));for(const D of v)try{const T=`https://classroom.googleapis.com/v1/courses/${h}/courseWork/${D.id}/studentSubmissions`;(await Qi(n,T,I=>I.studentSubmissions||[],I=>I.nextPageToken)).forEach(I=>{if(I.state==="TURNED_IN"||I.state==="RETURNED"){const A=E.get(I.userId)||0;E.set(I.userId,A+1)}})}catch{}const _=E.get(e.uid)||0;let w=1,S=0;E.forEach(D=>{S++,D>_&&w++});const k=Math.round((S-w+1)/S*100),O={rank:w,total:S,percentile:k};s(O),localStorage.setItem(f,JSON.stringify({timestamp:Date.now(),data:O}))}catch{l("Not enough activity yet")}finally{o(!1)}}d()},[t,e,n]),a?c.jsxs(it,{children:[c.jsxs(gt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[c.jsx(Bt,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Class Rank"}),c.jsx(t_,{className:"h-5 w-5 text-muted-foreground"})]}),c.jsx(lt,{children:c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-3xl font-semibold font-mono tracking-tight text-muted-foreground",children:"-"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Data unavailable"})]})})]}):c.jsxs(it,{"data-testid":"card-class-rank",children:[c.jsxs(gt,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[c.jsx(Bt,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Class Ranking"}),c.jsx(t_,{className:"h-5 w-5 text-amber-500"})]}),c.jsx(lt,{children:i?c.jsxs("div",{className:"space-y-2",children:[c.jsx(He,{className:"h-8 w-16"}),c.jsx(He,{className:"h-3 w-24"})]}):r?c.jsxs("div",{children:[c.jsxs("div",{className:"text-3xl font-semibold font-mono tracking-tight flex items-baseline gap-2",children:["#",r.rank,c.jsxs("span",{className:"text-base text-muted-foreground font-normal",children:["/ ",r.total]})]}),c.jsxs("div",{className:"mt-1 flex flex-col gap-0.5",children:[c.jsxs("p",{className:"text-xs font-medium bg-gradient-to-r from-amber-500 to-orange-500 bg-clip-text text-transparent",children:["Top ",r.percentile,"% of class"]}),c.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Based on ",r.total===1?"your ":"","submissions"]})]})]}):c.jsx("div",{className:"flex flex-col gap-1",children:c.jsx("span",{className:"text-sm text-muted-foreground",children:"Calculating..."})})})]})}function G$(){return c.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(t=>c.jsxs(it,{children:[c.jsx(gt,{className:"pb-2",children:c.jsx(He,{className:"h-4 w-20"})}),c.jsx(lt,{children:c.jsx(He,{className:"h-9 w-12"})})]},t))}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsx(He,{className:"h-48"}),c.jsx(He,{className:"h-48"})]})]})}function K$(){const[t,e]=p.useState(10),[n,r]=p.useState(0);return p.useEffect(()=>{const s=setInterval(()=>{e(o=>{if(o===100)return 100;const a=Math.random()*10;return Math.min(o+a,90)})},500),i=setInterval(()=>{r(o=>(o+1)%vE.length)},2500);return()=>{clearInterval(s),clearInterval(i)}},[]),c.jsxs("div",{className:"relative min-h-[calc(100vh-4rem)] w-full bg-background",children:[c.jsx("div",{className:"opacity-40 pointer-events-none select-none filter grayscale",children:c.jsx(G$,{})}),c.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-background/60 backdrop-blur-[2px]",children:c.jsxs("div",{className:"w-full max-w-md p-6 space-y-6",children:[c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx("div",{className:"h-10 w-10 bg-zinc-950 rounded flex items-center justify-center text-white",children:c.jsx(so,{className:"h-5 w-5 animate-spin"})}),c.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Analyzing Metrics"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-1 w-full bg-zinc-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-zinc-950 transition-all duration-500 ease-out",style:{width:`${t}%`}})}),c.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-400 font-mono uppercase tracking-wider",children:[c.jsx("span",{children:"Calculating Stats"}),c.jsxs("span",{children:[Math.round(t),"%"]})]})]}),c.jsxs("div",{className:"flex gap-3 items-start bg-white border border-zinc-200 p-4 rounded-md shadow-sm max-w-sm mx-auto animate-in fade-in slide-in-from-bottom-2 duration-700",children:[c.jsx(hf,{className:"h-4 w-4 text-zinc-900 shrink-0 mt-0.5"}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("span",{className:"text-xs font-bold text-zinc-900 uppercase tracking-wide",children:"Pro Tip"}),c.jsx("p",{className:"text-xs text-zinc-500 leading-relaxed min-h-[40px]",children:vE[n]})]})]})]})})]})}function Q$(){const{getDashboardMetrics:t,isLoading:e,isSyncing:n,assignments:r,syncClassroom:s,courses:i}=_o(),[o,a]=p.useState(null),l=t();return e||n?c.jsx(K$,{}):r.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 p-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx(iM,{className:"h-12 w-12 mx-auto text-muted-foreground"}),c.jsx("h2",{className:"text-lg font-medium",children:"No data yet"}),c.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Sync your Google Classroom to see your dashboard with metrics and insights."})]}),c.jsx("button",{onClick:d=>{d.preventDefault(),s().catch(h=>{console.error("Sync failed:",h)})},className:"px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover-elevate","data-testid":"button-sync-empty-dashboard",children:"Sync Google Classroom"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[l.upcoming7Days>0&&c.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-lg animate-in slide-in-from-top-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/40 rounded-md text-blue-700 dark:text-blue-300",children:c.jsx(si,{className:"h-4 w-4"})}),c.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-medium",children:[" ",l.upcoming7Days," assignment",l.upcoming7Days!==1?"s":""," due this week"]})]}),c.jsx(ro,{href:"/settings/notifications",children:c.jsx(Se,{variant:"ghost",size:"sm",className:"text-blue-700 dark:text-blue-300 hover:text-blue-800 hover:bg-blue-100/50 h-8",children:"Enable email reminders"})})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(ld,{title:"Due in 3 Days",value:l.upcoming3Days,icon:zT,variant:l.upcoming3Days>3?"warning":"default"}),c.jsx(ld,{title:"Due in 7 Days",value:l.upcoming7Days,icon:Ks}),c.jsx(ld,{title:"Overdue",value:l.overdue,icon:si,variant:l.overdue>0?"danger":"default"}),c.jsx(ld,{title:"Total Active",value:l.totalActive,icon:Na}),c.jsx(q$,{courses:i})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsx(W$,{data:l.weeklyWorkload}),c.jsxs(it,{children:[c.jsx(gt,{className:"pb-2",children:c.jsx(Bt,{className:"text-sm font-medium",children:"Next Actions"})}),c.jsx(lt,{className:"space-y-2",children:l.nextActions.length>0?l.nextActions.map(d=>c.jsx(G7,{assignment:d,onClick:()=>a(d)},d.id)):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[c.jsx(Na,{className:"h-8 w-8 mb-2"}),c.jsx("p",{className:"text-sm",children:"All caught up!"})]})})]})]})]}),c.jsx(L0,{assignment:o,isOpen:!!o,onClose:()=>a(null)})]})}function Y$(){const{courses:t,materials:e,isLoading:n,isSyncing:r,syncClassroom:s}=_o(),[i,o]=p.useState(null),[a,l]=p.useState("grid"),d=b0(),h=t.find(y=>y.id===i),m=e.filter(y=>y.courseId===i).flatMap(y=>y.materials?y.materials.flatMap(b=>{let v=[];return b.driveFile&&v.push({id:b.driveFile.driveFile.id,title:b.driveFile.driveFile.title,link:b.driveFile.driveFile.alternateLink,thumbnail:b.driveFile.driveFile.thumbnailUrl,type:"driveFile"}),v}):[]).filter(y=>y.title&&y.title.toLowerCase().endsWith(".pdf"));return n&&t.length===0?c.jsx(X$,{}):c.jsxs("div",{className:"flex h-full overflow-hidden bg-background",children:[c.jsxs("div",{className:J("w-full md:w-80 border-r bg-muted/20 flex flex-col h-full shrink-0",d&&i?"hidden":"flex"),children:[c.jsx("div",{className:"p-4 border-b flex items-center justify-between bg-white dark:bg-zinc-950",children:c.jsx("h2",{className:"font-semibold text-sm uppercase tracking-wider text-zinc-500",children:"Your Courses"})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:t.map(y=>c.jsxs("button",{onClick:()=>o(y.id),className:J("w-full text-left px-3 py-3 rounded-md transition-all group flex items-center gap-3",i===y.id?"bg-zinc-900 text-white shadow-md dark:bg-white dark:text-zinc-900":"hover:bg-zinc-100 dark:hover:bg-zinc-900 text-muted-foreground hover:text-foreground"),children:[c.jsx("div",{className:J("h-8 w-8 rounded-full flex items-center justify-center shrink-0",i===y.id?"bg-white/20":"bg-zinc-100 dark:bg-zinc-800"),children:c.jsx(Jx,{className:J("h-4 w-4",i===y.id?"text-white dark:text-zinc-900":"text-zinc-500")})}),c.jsxs("div",{className:"truncate flex-1",children:[c.jsx("p",{className:"text-sm font-semibold leading-none mb-1 truncate",children:y.name}),c.jsx("p",{className:J("text-[10px] uppercase tracking-wider font-medium",i===y.id?"text-white/70 shadow-sm":"text-zinc-400"),children:y.section||"No Section"})]}),c.jsx(qO,{className:J("h-4 w-4 transition-transform",i===y.id?"translate-x-0":"-translate-x-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-0")})]},y.id))})]}),c.jsxs("div",{className:J("flex-1 overflow-y-auto bg-white dark:bg-zinc-950",d&&!i?"hidden":"flex flex-col"),children:[d&&i&&c.jsx("div",{className:"flex items-center p-4 border-b bg-white dark:bg-zinc-950 sticky top-0 z-10",children:c.jsxs(Se,{variant:"ghost",size:"sm",onClick:()=>o(null),className:"gap-2 pl-2",children:[c.jsx(VT,{className:"h-4 w-4"}),"Back to Courses"]})}),i?c.jsxs("div",{className:"p-4 md:p-8 space-y-6 md:space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between border-b pb-6 border-zinc-100 dark:border-zinc-800 gap-4",children:[c.jsxs("div",{className:"space-y-1 max-w-full",children:[c.jsx(Yi,{variant:"outline",className:"text-[10px] font-mono tracking-[0.2em] font-bold uppercase py-0 px-2 rounded-sm border-zinc-200",children:"Course Resources"}),c.jsx("h1",{className:"text-lg md:text-xl font-black tracking-tighter uppercase italic break-words leading-tight",children:h==null?void 0:h.name}),c.jsx("p",{className:"text-xs md:text-sm font-medium text-zinc-500 dark:text-zinc-400 line-clamp-2",children:(h==null?void 0:h.descriptionHeading)||"Curated academic materials and notes."})]}),c.jsxs("div",{className:"flex gap-2 shrink-0",children:[c.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900 px-3 py-1.5 rounded-md border border-zinc-100 dark:border-zinc-800 flex items-center gap-2",children:[c.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-red-500 animate-pulse shrink-0"}),c.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-widest whitespace-nowrap",children:[m.length," PDF Assets"]})]}),c.jsxs("div",{className:"flex bg-muted rounded-md p-1 border",children:[c.jsx(Se,{variant:"ghost",size:"icon",className:J("h-6 w-6 rounded-sm",a==="grid"&&"bg-background shadow-sm"),onClick:()=>l("grid"),children:c.jsx(UT,{className:"h-4 w-4"})}),c.jsx(Se,{variant:"ghost",size:"icon",className:J("h-6 w-6 rounded-sm",a==="list"&&"bg-background shadow-sm"),onClick:()=>l("list"),children:c.jsx(YO,{className:"h-4 w-4"})})]})]})]}),m.length>0?a==="grid"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 pb-20",children:m.map((y,b)=>c.jsxs(it,{className:"group relative overflow-hidden transition-all hover:shadow-2xl hover:-translate-y-1 border-zinc-200 dark:border-zinc-800 rounded-xl bg-white dark:bg-zinc-900 shadow-sm",children:[c.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:c.jsx(Se,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full shadow-lg",asChild:!0,children:c.jsx("a",{href:y.link,target:"_blank",rel:"noopener noreferrer",children:c.jsx(pg,{className:"h-4 w-4"})})})}),c.jsx(gt,{className:"p-0 border-b border-zinc-100 dark:border-zinc-800",children:c.jsxs("div",{className:"aspect-[4/3] bg-zinc-50 dark:bg-zinc-950 flex items-center justify-center overflow-hidden relative group-hover:bg-zinc-100 transition-colors",children:[c.jsx(Gl,{className:"h-16 w-16 text-zinc-200 dark:text-zinc-800 transition-transform group-hover:scale-110 duration-500"}),c.jsxs("div",{className:"absolute bottom-3 left-3 flex gap-1",children:[c.jsx(Yi,{className:"bg-red-500 hover:bg-red-600 text-[9px] font-black italic rounded-sm",children:"PDF"}),c.jsx(Yi,{variant:"outline",className:"bg-white/80 dark:bg-black/80 backdrop-blur text-[9px] font-black rounded-sm border-zinc-200 dark:border-zinc-700",children:"READONLY"})]})]})}),c.jsxs(lt,{className:"p-5 space-y-4",children:[c.jsx("h4",{className:"font-bold text-sm tracking-tight leading-snug line-clamp-2 min-h-[2.5rem] group-hover:text-primary transition-colors",children:y.title}),c.jsxs("div",{className:"pt-4 flex items-center justify-between border-t border-zinc-5 dark:border-zinc-800/50",children:[c.jsx("span",{className:"text-[10px] font-mono font-bold text-zinc-400 dark:text-zinc-600 uppercase tracking-widest",children:"Secured Asset"}),c.jsx(Se,{size:"sm",variant:"ghost",asChild:!0,className:"h-8 text-[11px] font-black uppercase tracking-tighter hover:bg-zinc-900 hover:text-white dark:hover:bg-white dark:hover:text-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-md",children:c.jsx("a",{href:y.link,target:"_blank",rel:"noopener noreferrer",children:"Open Material"})})]})]})]},`${y.id}-${b}`))}):c.jsx("div",{className:"space-y-2 pb-20",children:m.map((y,b)=>c.jsxs("div",{className:"group flex items-center gap-4 p-4 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[c.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-md bg-zinc-100 dark:bg-zinc-800 text-red-500 shrink-0",children:c.jsx(Gl,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-medium text-sm truncate group-hover:text-primary transition-colors",children:y.title}),c.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"PDF Document  Read Only"})]}),c.jsx(Se,{variant:"ghost",size:"sm",asChild:!0,className:"shrink-0",children:c.jsxs("a",{href:y.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[c.jsx("span",{className:"hidden sm:inline text-xs font-medium",children:"Open"}),c.jsx(pg,{className:"h-4 w-4"})]})})]},`${y.id}-${b}`))}):c.jsxs("div",{className:"h-96 flex flex-col items-center justify-center text-center border-4 border-dotted rounded-3xl bg-zinc-50 dark:bg-zinc-900/50 border-zinc-200 dark:border-zinc-800 max-w-2xl mx-auto space-y-4",children:[c.jsx("div",{className:"h-20 w-20 bg-white dark:bg-zinc-900 rounded-full flex items-center justify-center shadow-inner border border-zinc-100 dark:border-zinc-800",children:c.jsx(Jx,{className:"h-8 w-8 text-zinc-200 dark:text-zinc-700"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-bold",children:"No PDF Documents Found"}),c.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-2 max-w-xs mx-auto font-medium",children:"This course has no PDF files uploaded to Classroom yet. Make sure your materials are in .pdf format."})]})]})]}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 space-y-6 max-w-md mx-auto",children:[c.jsx("div",{className:"h-24 w-24 bg-zinc-50 dark:bg-zinc-900 rounded-2xl flex items-center justify-center border border-zinc-100 dark:border-zinc-800 shadow-sm",children:c.jsx(Gl,{className:"h-10 w-10 text-zinc-300 dark:text-zinc-700"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-xl font-bold tracking-tight",children:"Select a curriculum"}),c.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed font-medium mt-2",children:"Choose a course from the listing to accessibility your synchronized PDF lecture records and study guides."})]})]})]})]})}function X$(){return c.jsxs("div",{className:"flex h-full overflow-hidden",children:[c.jsxs("div",{className:"w-80 border-r bg-muted/20 p-6 space-y-6",children:[c.jsx(He,{className:"h-6 w-32"}),[1,2,3,4,5].map(t=>c.jsx(He,{className:"h-16 w-full rounded-xl"},t))]}),c.jsxs("div",{className:"flex-1 p-10 space-y-10",children:[c.jsxs("div",{className:"flex justify-between items-end border-b pb-8",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx(He,{className:"h-4 w-20"}),c.jsx(He,{className:"h-10 w-80"}),c.jsx(He,{className:"h-4 w-64"})]}),c.jsx(He,{className:"h-10 w-32 rounded-lg"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3,4,5,6].map(t=>c.jsx(He,{className:"h-64 w-full rounded-2xl"},t))})]})]})}var F0="Switch",[J$,NB]=as(F0),[Z$,eB]=J$(F0),WR=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:d,form:h,...f}=t,[m,y]=p.useState(null),b=Me(e,S=>y(S)),v=p.useRef(!1),E=m?h||!!m.closest("form"):!0,[_=!1,w]=Sc({prop:s,defaultProp:i,onChange:d});return c.jsxs(Z$,{scope:n,checked:_,disabled:a,children:[c.jsx(Ee.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":KR(_),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:b,onClick:ge(t.onClick,S=>{w(k=>!k),E&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),E&&c.jsx(tB,{control:m,bubbles:!v.current,name:r,value:l,checked:_,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});WR.displayName=F0;var qR="SwitchThumb",GR=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=eB(qR,n);return c.jsx(Ee.span,{"data-state":KR(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});GR.displayName=qR;var tB=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=p.useRef(null),o=aR(n),a=pC(e);return p.useEffect(()=>{const l=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const m=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(m)}},[o,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function KR(t){return t?"checked":"unchecked"}var QR=WR,nB=GR;const ti=p.forwardRef(({className:t,...e},n)=>c.jsx(QR,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:c.jsx(nB,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ti.displayName=QR.displayName;var rB="Label",YR=p.forwardRef((t,e)=>c.jsx(Ee.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));YR.displayName=rB;var XR=YR;const sB=Gc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xi=p.forwardRef(({className:t,...e},n)=>c.jsx(XR,{ref:n,className:J(sB(),t),...e}));Xi.displayName=XR.displayName;function iB(){const[t,e]=p.useState(null),[n,r]=p.useState(!1),[s,i]=p.useState(!1);return p.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}const a=d=>{d.preventDefault(),e(d),r(!0)},l=()=>{i(!0),r(!1),e(null)};return window.addEventListener("beforeinstallprompt",a),window.addEventListener("appinstalled",l),()=>{window.removeEventListener("beforeinstallprompt",a),window.removeEventListener("appinstalled",l)}},[]),{isInstallable:n,isInstalled:s,promptInstall:async()=>{if(!t)return!1;try{await t.prompt();const{outcome:a}=await t.userChoice;return a==="accepted"?(i(!0),r(!1),e(null),!0):!1}catch(a){return console.error("Error showing install prompt:",a),!1}}}}function oB(){return c.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[c.jsxs("div",{children:[c.jsx(He,{className:"h-8 w-32"}),c.jsx(He,{className:"h-4 w-64 mt-2"})]}),[1,2,3,4].map(t=>c.jsxs(it,{children:[c.jsxs(gt,{children:[c.jsx(He,{className:"h-5 w-32"}),c.jsx(He,{className:"h-4 w-48 mt-1"})]}),c.jsx(lt,{children:c.jsx(He,{className:"h-20 w-full"})})]},t))]})}const wE=["Customizing your profile makes the experience more personal.","Enable background sync to keep your assignments always up to date.","Dark mode is easier on the eyes during late-night study sessions.","Installing the app gives you valid offline access to your data."];function aB(){const[t,e]=p.useState(10),[n,r]=p.useState(0);return p.useEffect(()=>{const s=setInterval(()=>{e(o=>{if(o===100)return 100;const a=Math.random()*10;return Math.min(o+a,90)})},500),i=setInterval(()=>{r(o=>(o+1)%wE.length)},2500);return()=>{clearInterval(s),clearInterval(i)}},[]),c.jsxs("div",{className:"relative min-h-[calc(100vh-4rem)] w-full bg-background",children:[c.jsx("div",{className:"opacity-40 pointer-events-none select-none filter grayscale",children:c.jsx(oB,{})}),c.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-background/60 backdrop-blur-[2px]",children:c.jsxs("div",{className:"w-full max-w-md p-6 space-y-6",children:[c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx("div",{className:"h-10 w-10 bg-zinc-950 rounded flex items-center justify-center text-white",children:c.jsx(so,{className:"h-5 w-5 animate-spin"})}),c.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Syncing Settings"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-1 w-full bg-zinc-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-zinc-950 transition-all duration-500 ease-out",style:{width:`${t}%`}})}),c.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-400 font-mono uppercase tracking-wider",children:[c.jsx("span",{children:"Updating Preferences"}),c.jsxs("span",{children:[Math.round(t),"%"]})]})]}),c.jsxs("div",{className:"flex gap-3 items-start bg-white border border-zinc-200 p-4 rounded-md shadow-sm max-w-sm mx-auto animate-in fade-in slide-in-from-bottom-2 duration-700",children:[c.jsx(hf,{className:"h-4 w-4 text-zinc-900 shrink-0 mt-0.5"}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("span",{className:"text-xs font-bold text-zinc-900 uppercase tracking-wide",children:"Quick Tip"}),c.jsx("p",{className:"text-xs text-zinc-500 leading-relaxed min-h-[40px]",children:wE[n]})]})]})]})})]})}function lB(){var k,O;const{user:t,signOut:e}=cs(),{lastSyncedAt:n,isSyncing:r,syncClassroom:s,isLoading:i}=_o(),{isInstallable:o,isInstalled:a,promptInstall:l}=iB(),{theme:d,setTheme:h}=fA(),[f,m]=p.useState(!0),[y,b]=p.useState("auto"),[v,E]=p.useState(!1);if(i||r)return c.jsx(aB,{});const _=((k=t==null?void 0:t.displayName)==null?void 0:k.split(" ").map(D=>D[0]).join("").toUpperCase())||((O=t==null?void 0:t.email)==null?void 0:O[0].toUpperCase())||"U",w=()=>n?n.toLocaleString():"Never",S=async()=>{E(!0);try{await l()}catch(D){console.error("Install failed:",D)}finally{E(!1)}};return c.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Settings"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your account and preferences"})]}),c.jsxs(it,{children:[c.jsxs(gt,{children:[c.jsx(Bt,{className:"text-base",children:"Connected Account"}),c.jsx(Gn,{children:"Your Google account linked to this app"})]}),c.jsxs(lt,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(T0,{className:"h-12 w-12",children:[c.jsx(C0,{src:(t==null?void 0:t.photoURL)||void 0,alt:(t==null?void 0:t.displayName)||"User",referrerPolicy:"no-referrer"}),c.jsx(I0,{children:_})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium truncate",children:t==null?void 0:t.displayName}),c.jsx("p",{className:"text-sm text-muted-foreground truncate",children:t==null?void 0:t.email})]}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[c.jsx(fg,{className:"h-3.5 w-3.5"}),"Connected"]})]}),c.jsx(Sr,{}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Google Classroom"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last synced: ",w()]})]}),c.jsxs(Se,{variant:"outline",size:"sm",onClick:D=>{D.preventDefault(),s().catch(T=>{console.error("Sync failed:",T)})},disabled:r,"data-testid":"button-sync-settings",children:[c.jsx(iv,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),r?"Syncing...":"Sync Now"]})]})]})]}),c.jsxs(it,{children:[c.jsxs(gt,{children:[c.jsx(Bt,{className:"text-base",children:"Notifications"}),c.jsx(Gn,{children:"Manage email alerts and reminders"})]}),c.jsx(lt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm font-medium",children:"Academic Alerts"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about due assignments and missed deadlines"})]}),c.jsx(ro,{href:"/settings/notifications",children:c.jsx(Se,{variant:"secondary",size:"sm",children:"Configure"})})]})})]}),c.jsxs(it,{children:[c.jsxs(gt,{children:[c.jsx(Bt,{className:"text-base",children:"Integrations"}),c.jsx(Gn,{children:"Manage connections with external tools like Google Calendar"})]}),c.jsx(lt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm font-medium",children:"Google Calendar"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Sync your schedule and deadlines"})]}),c.jsx(ro,{href:"/settings/integrations",children:c.jsx(Se,{variant:"outline",size:"sm",children:"Configure"})})]})})]}),c.jsxs(it,{children:[c.jsxs(gt,{children:[c.jsx(Bt,{className:"text-base",children:"Sync Settings"}),c.jsx(Gn,{children:"Configure how your data syncs with Google Classroom"})]}),c.jsx(lt,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(Xi,{htmlFor:"background-sync",className:"text-sm font-medium",children:"Background Sync"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically refresh assignment data periodically"})]}),c.jsx(ti,{id:"background-sync",checked:f,onCheckedChange:m,"data-testid":"switch-background-sync"})]})})]}),c.jsxs(it,{children:[c.jsxs(gt,{children:[c.jsx(Bt,{className:"text-base",children:"Theme"}),c.jsx(Gn,{children:"Choose your preferred color theme"})]}),c.jsx(lt,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(Xi,{htmlFor:"theme",className:"text-sm font-medium",children:"Appearance"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Select light or dark mode"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Se,{variant:d==="light"?"default":"outline",size:"sm",onClick:()=>h("light"),className:"flex items-center gap-2",children:[c.jsx(WT,{className:"h-4 w-4"}),"Light"]}),c.jsxs(Se,{variant:d==="dark"?"default":"outline",size:"sm",onClick:()=>h("dark"),className:"flex items-center gap-2",children:[c.jsx(BT,{className:"h-4 w-4"}),"Dark"]})]})]})})]}),c.jsxs(it,{className:"border-primary/20",children:[c.jsxs(gt,{children:[c.jsxs(Bt,{className:"text-base flex items-center gap-2",children:[c.jsx(Xx,{className:"h-4 w-4"}),"Install App"]}),c.jsx(Gn,{children:"Install this app on your device for quick access - works on phones and desktops"})]}),c.jsx(lt,{className:"space-y-4",children:a?c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-emerald-50 dark:bg-emerald-950/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:[c.jsx(fg,{className:"h-5 w-5 text-emerald-600"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-emerald-900 dark:text-emerald-100",children:"App Installed"}),c.jsx("p",{className:"text-xs text-emerald-700 dark:text-emerald-300",children:"This app is installed on your device. You can access it from your home screen."})]})]}):o?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 rounded-lg border border-primary/20",children:[c.jsx(rM,{className:"h-5 w-5 text-primary"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium",children:"Install Available"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Click the button below to install this app on your device for a better experience."})]})]}),c.jsxs(Se,{onClick:S,disabled:v,className:"w-full",size:"lg","data-testid":"button-install-app",children:[c.jsx(Xx,{className:"h-4 w-4 mr-2"}),v?"Installing...":"Install App"]}),c.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"After installation, you can access the app from your home screen or app drawer"})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[c.jsx(qT,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium",children:"Install Not Available"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:typeof window<"u"&&window.matchMedia("(display-mode: standalone)").matches?"This app is already installed.":"Installation prompt will appear when the app meets PWA requirements. Make sure you're using Chrome, Edge, or Safari on a supported device."})]})]}),c.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[c.jsx("p",{className:"text-xs font-medium mb-2",children:"Manual Installation:"}),c.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1 list-disc list-inside",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Chrome/Edge:"})," Click the install icon in the address bar"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"iOS Safari:"})," Tap Share  Add to Home Screen"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Android Chrome:"})," Tap Menu  Install App"]})]})]})]})})]}),c.jsxs(it,{children:[c.jsxs(gt,{children:[c.jsx(Bt,{className:"text-base",children:"Preferences"}),c.jsx(Gn,{children:"Customize your experience"})]}),c.jsx(lt,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(Xi,{htmlFor:"timezone",className:"text-sm font-medium",children:"Time Zone"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for displaying due dates and deadlines"})]}),c.jsxs(ty,{value:y,onValueChange:b,children:[c.jsx(zh,{className:"w-[180px]","data-testid":"select-timezone",children:c.jsx(ny,{})}),c.jsxs(Uh,{children:[c.jsx(Pt,{value:"auto",children:"Auto-detect"}),c.jsx(Pt,{value:"America/New_York",children:"Eastern Time"}),c.jsx(Pt,{value:"America/Chicago",children:"Central Time"}),c.jsx(Pt,{value:"America/Denver",children:"Mountain Time"}),c.jsx(Pt,{value:"America/Los_Angeles",children:"Pacific Time"}),c.jsx(Pt,{value:"Europe/London",children:"London"}),c.jsx(Pt,{value:"Europe/Paris",children:"Paris"}),c.jsx(Pt,{value:"Asia/Tokyo",children:"Tokyo"})]})]})]})})]}),c.jsxs(it,{children:[c.jsxs(gt,{children:[c.jsxs(Bt,{className:"text-base flex items-center gap-2",children:[c.jsx(mg,{className:"h-4 w-4"}),"Account Actions"]}),c.jsx(Gn,{children:"Manage your session"})]}),c.jsx(lt,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("p",{className:"text-sm font-medium",children:"Sign Out"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Sign out of your account on this device"})]}),c.jsxs(uk,{children:[c.jsx(dk,{asChild:!0,children:c.jsxs(Se,{variant:"outline",size:"sm","data-testid":"button-signout",children:[c.jsx(mg,{className:"h-4 w-4 mr-2"}),"Sign Out"]})}),c.jsxs(g0,{children:[c.jsxs(y0,{children:[c.jsx(w0,{children:"Are you absolutely sure?"}),c.jsx(x0,{children:"This will sign you out of your account. You will need to sign in again to access your data."})]}),c.jsxs(v0,{children:[c.jsx(E0,{children:"Cancel"}),c.jsx(_0,{onClick:e,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})]})]})})]})]})}function cB(){const{user:t,requestGmailPermissions:e,accessToken:n}=cs(),{toast:r}=lf(),[s,i]=p.useState(!1),[o,a]=p.useState({dueReminder:!0,missedSubmission:!0,workloadWarning:!1}),[l,d]=p.useState(!1),[h,f]=p.useState(!0);p.useEffect(()=>{async function b(){if(t)try{const v=Fi(zi,"users",t.uid,"settings","notifications"),E=await oA(v);if(E.exists()){const _=E.data();i(_.enabled??!1),a(_.config||{dueReminder:!0,missedSubmission:!0,workloadWarning:!1})}}catch(v){console.error("Failed to load settings from Firestore",v)}finally{f(!1)}}b()},[t]),p.useEffect(()=>{async function b(){if(!(!t||h))try{const E=Fi(zi,"users",t.uid,"settings","notifications");await tc(E,{enabled:s,config:o,updatedAt:new Date().toISOString()},{merge:!0})}catch(E){console.error("Failed to save settings",E)}}const v=setTimeout(b,1e3);return()=>clearTimeout(v)},[s,o,t,h]);const m=async()=>{d(!0);try{if(await e()){if(i(!0),r({title:"Email alerts enabled",description:"Trace can now send you academic reminders."}),t!=null&&t.uid){const v={id:`email-${Date.now()}`,title:"Assignment due reminder email sent",body:"This is a test alert to confirm your notifications are working.",timestamp:new Date().toISOString(),type:"email"},E=`trace_email_events_${t.uid}`,_=JSON.parse(localStorage.getItem(E)||"[]");localStorage.setItem(E,JSON.stringify([..._,v]))}}else r({title:"Connection failed",description:"Could not connect to Gmail. Please try again.",variant:"destructive"})}catch(b){console.error(b),r({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{d(!1)}},y=b=>{a(v=>({...v,[b]:!v[b]}))};return c.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(ro,{href:"/settings",children:c.jsx(Se,{variant:"ghost",size:"icon",className:"rounded-full",children:c.jsx(VT,{className:"h-5 w-5"})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Notifications"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage how Trace notifies you about academic activity"})]})]}),c.jsxs(it,{className:"border-border/60 shadow-sm",children:[c.jsxs(gt,{className:"pb-4",children:[c.jsxs(Bt,{className:"flex items-center gap-2 text-lg",children:[c.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-md",children:c.jsx($T,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"Academic Email Alerts"]}),c.jsxs(Gn,{className:"max-w-lg mt-2 leading-relaxed",children:["Trace can send you helpful academic reminders directly to your connected Gmail account (",t==null?void 0:t.email,")."]})]}),c.jsx(Sr,{}),c.jsxs(lt,{className:"pt-6 space-y-6",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(Xi,{className:"text-base font-medium",children:"Assignment due reminder"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Get an email 24 hours before an assignment is due"})]}),c.jsx(ti,{checked:o.dueReminder,onCheckedChange:()=>y("dueReminder"),disabled:!s,className:"data-[state=checked]:bg-blue-600"})]}),c.jsx(Sr,{className:"opacity-50"}),c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(Xi,{className:"text-base font-medium",children:"Missed submission alert"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive a notification immediately when a deadline is missed"})]}),c.jsx(ti,{checked:o.missedSubmission,onCheckedChange:()=>y("missedSubmission"),disabled:!s,className:"data-[state=checked]:bg-blue-600"})]}),c.jsx(Sr,{className:"opacity-50"}),c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(Xi,{className:"text-base font-medium",children:"Heavy workload warning"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Be notified when you have more than 3 assignments due in a week"})]}),c.jsx(ti,{checked:o.workloadWarning,onCheckedChange:()=>y("workloadWarning"),disabled:!s,className:"data-[state=checked]:bg-blue-600"})]})]}),c.jsxs(Xk,{className:"flex flex-col items-start gap-4 pt-2 pb-6 bg-muted/20 border-t",children:[s?c.jsxs("div",{className:"w-full space-y-4",children:[c.jsxs("div",{className:"flex gap-3 p-3 text-sm text-emerald-600 dark:text-emerald-500 bg-emerald-50 dark:bg-emerald-900/10 rounded border border-emerald-200 dark:border-emerald-800/30 items-center",children:[c.jsx(Na,{className:"h-4 w-4 shrink-0"}),c.jsx("p",{children:"Academic alerts are active."})]}),c.jsx(Se,{variant:"outline",onClick:()=>i(!1),className:"text-muted-foreground hover:text-foreground",children:"Disable Alerts"})]}):c.jsxs("div",{className:"w-full space-y-4",children:[c.jsxs("div",{className:"flex gap-3 p-3 text-sm text-amber-600 dark:text-amber-500 bg-amber-50 dark:bg-amber-900/10 rounded border border-amber-200 dark:border-amber-800/30 items-start",children:[c.jsx(qT,{className:"h-4 w-4 shrink-0 mt-0.5"}),c.jsx("p",{children:"Alerts are currently disabled. You need to grant Trace permission to send emails on your behalf."})]}),c.jsxs(Se,{onClick:m,disabled:l,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white",children:[l&&c.jsx(so,{className:"mr-2 h-4 w-4 animate-spin"}),"Connect Gmail & Enable Alerts"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Emails are sent only after your consent and can be disabled anytime. We do not read your inbox."})]})]})]})}function uB(){const[t,e]=Zy(),{user:n,requestCalendarPermissions:r}=cs(),{toast:s}=lf(),[i,o]=p.useState(!0),[a,l]=p.useState(!1),[d,h]=p.useState({enabled:!1,syncAssignments:!0,syncExams:!0,syncPersonal:!1});p.useEffect(()=>{if(!n)return;const b=lA(Fi(zi,"users",n.uid,"settings","calendar"),v=>{v.exists()&&h(v.data()),o(!1)});return()=>b()},[n]);const f=async()=>{l(!0);try{await r()?(await tc(Fi(zi,"users",n.uid,"settings","calendar"),{...d,enabled:!0,connectedAt:new Date},{merge:!0}),s({title:"Connected to Google Calendar",description:"Your deadlines will now sync automatically."})):s({title:"Connection Failed",description:"Could not authorize Google Calendar access.",variant:"destructive"})}catch(b){console.error(b),s({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{l(!1)}},m=async()=>{try{await tc(Fi(zi,"users",n.uid,"settings","calendar"),{enabled:!1},{merge:!0}),s({title:"Disconnected",description:"Calendar sync has been disabled."})}catch(b){console.error(b)}},y=async(b,v)=>{h(E=>({...E,[b]:v}));try{await tc(Fi(zi,"users",n.uid,"settings","calendar"),{[b]:v},{merge:!0})}catch(E){console.error(E)}};return i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx(so,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):c.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>e("/settings"),children:c.jsx(WO,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Integrations"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage external tools and connections"})]})]}),c.jsx("div",{className:"grid gap-6",children:c.jsxs(it,{className:`border-l-4 ${d.enabled?"border-l-blue-500":"border-l-zinc-200 dark:border-l-zinc-800"}`,children:[c.jsxs(gt,{className:"flex flex-row items-start justify-between pb-2",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-50 dark:bg-blue-950/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:c.jsx(Ks,{className:"h-6 w-6"})}),c.jsx(Bt,{className:"text-xl",children:"Google Calendar"}),d.enabled&&c.jsx(Yi,{variant:"secondary",className:"bg-blue-50 text-blue-700 hover:bg-blue-50 dark:bg-blue-950 dark:text-blue-300 border-blue-200 dark:border-blue-800",children:"Active"})]}),c.jsx(Gn,{className:"max-w-md text-base mt-2 leading-relaxed",children:"Automatically sync Google Classroom deadlines and tasks from Trace to your Google Calendar."})]}),d.enabled?c.jsx(Se,{variant:"outline",size:"sm",onClick:m,className:"text-muted-foreground hover:text-destructive",children:"Disconnect"}):c.jsx(Se,{onClick:f,disabled:a,className:"bg-blue-600 hover:bg-blue-700 text-white shadow-sm transition-all",children:a?c.jsx(so,{className:"h-4 w-4 mr-2 animate-spin"}):"Connect Google Calendar"})]}),d.enabled&&c.jsxs(lt,{className:"pt-6 animate-in slide-in-from-top-4 duration-300 fading-in",children:[c.jsx(Sr,{className:"mb-6"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid gap-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card/50 hover:bg-accent/5 transition-colors",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Assignment Deadlines"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Sync due dates from Google Classroom"})]}),c.jsx(ti,{checked:d.syncAssignments,onCheckedChange:b=>y("syncAssignments",b)})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card/50 hover:bg-accent/5 transition-colors",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Exams & Major Assessments"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Highlight important dates"})]}),c.jsx(ti,{checked:d.syncExams,onCheckedChange:b=>y("syncExams",b)})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card/50 hover:bg-accent/5 transition-colors opacity-80",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Personal Tasks"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Sync tasks created manually in Trace"})]}),c.jsx(ti,{checked:d.syncPersonal,onCheckedChange:b=>y("syncPersonal",b)})]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-muted/30 p-2 rounded w-fit",children:[c.jsx(iv,{className:"h-3 w-3"}),c.jsxs("span",{children:["Last synced: ",d.lastSyncedAt?new Date(d.lastSyncedAt.seconds*1e3).toLocaleString():"Pending..."]})]})]})]})]})})]})}function dB(){return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:c.jsx(it,{className:"w-full max-w-md mx-4",children:c.jsxs(lt,{className:"pt-6",children:[c.jsxs("div",{className:"flex mb-4 gap-2",children:[c.jsx(si,{className:"h-8 w-8 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const hB=()=>{const t="/trace-classroom-crm/";return t.endsWith("/")?t.slice(0,-1):t};function fB(){const[t,e]=p.useState(!1),n=hB();return c.jsx(yz,{children:c.jsx(ZS,{base:n,children:c.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[c.jsx(zU,{mobileOpen:t,onMobileClose:()=>e(!1)}),c.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[c.jsx(UU,{onMobileMenuClick:()=>e(!0)}),c.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden relative scroll-smooth",children:c.jsxs(gj,{children:[c.jsx(vs,{path:"/",component:l$}),c.jsx(vs,{path:"/timeline",component:H$}),c.jsx(vs,{path:"/dashboard",component:Q$}),c.jsx(vs,{path:"/notes",component:Y$}),c.jsx(vs,{path:"/settings",component:lB}),c.jsx(vs,{path:"/settings/notifications",component:cB}),c.jsx(vs,{path:"/settings/integrations",component:uB}),c.jsx(vs,{component:dB})]})})]})]})})})}function pB(){const{user:t,loading:e}=cs();return e?c.jsx("div",{className:"h-screen flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsx("div",{className:"h-8 w-8 border-2 border-foreground border-t-transparent rounded-full animate-spin"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})}):t?c.jsx(fB,{}):c.jsx(JU,{})}function mB(){return c.jsx(zj,{client:Bj,children:c.jsx(hz,{children:c.jsx(dz,{children:c.jsxs(f4,{children:[c.jsx(UM,{}),c.jsx(pB,{})]})})})})}$S(document.getElementById("root")).render(c.jsx(mB,{}));
